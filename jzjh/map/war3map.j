globals
//globals from FrameLibrary:
constant boolean LIBRARY_FrameLibrary=true
//endglobals from FrameLibrary
//globals from MaxSpeed:
constant boolean LIBRARY_MaxSpeed=true
constant boolean MaxSpeed__USE_TABLE= true
constant boolean MaxSpeed__NEW_TABLE= true
         // Vexorian's Table or Bribe's (NEW)
constant boolean MaxSpeed__TEST_MODE= false
constant real MaxSpeed__PERIOD= 0.03125
        //  private constant real MAX_SPEED = 2088.0
constant real MaxSpeed__MAX_SPEED= 1400.0
         // æœ€å¤§é€Ÿåº¦é™å®šï¼Œè¶…å‡ºè§†ä¸ºä¼ é€ã€‚
constant real MaxSpeed__MIN_SPEED= 500.0
         // åˆ¤å®šçš„æœ€å°è·ç¦»ï¼Œæ­¤é¡¹è¿‡å°æˆ–é€Ÿåº¦è¿‡å¤§ä¼šä½¿åŸåœ°æ‰“è½¬å‡ ç‡å¢åŠ ï¼Œè¶…å‡ºåˆ™æ²¡æœ‰åŠ é€Ÿæ•ˆæœã€‚
        // æµ‹è¯•æœ€å¤§ä¸º500åˆšå‡ºå¤´ï¼Œä¸522è¿˜æœ‰äº›å·®è·
//endglobals from MaxSpeed
//globals from UniMissileSystem3D:
constant boolean LIBRARY_UniMissileSystem3D=true
real array UniMissileSystem3D__SP
real array UniMissileSystem3D__RA
real array UniMissileSystem3D__DM
real array UniMissileSystem3D__DI
real array UniMissileSystem3D__AN
real array UniMissileSystem3D__ANZ
real array UniMissileSystem3D__HE
real array UniMissileSystem3D__HEMax
real array UniMissileSystem3D__SH
real array UniMissileSystem3D__US
real array UniMissileSystem3D__MX
real array UniMissileSystem3D__MY
real array UniMissileSystem3D__MZ
real array UniMissileSystem3D__ARC
real array UniMissileSystem3D__HP
real array UniMissileSystem3D__OF
real array UniMissileSystem3D__OS
real array UniMissileSystem3D__TIM
real array UniMissileSystem3D__LT
real array UniMissileSystem3D__SZ
real array UniMissileSystem3D__RI
real array UniMissileSystem3D__R01
real array UniMissileSystem3D__R02
real array UniMissileSystem3D__MGra
real array UniMissileSystem3D__LOC
real array UniMissileSystem3D__OH
real UniMissileSystem3D__Gravity=0.40
unit array UniMissileSystem3D__MU
unit array UniMissileSystem3D__MT
unit UniMissileSystem3D__DamageUnit
string array UniMissileSystem3D__EF
effect array UniMissileSystem3D__EFL
real array UniMissileSystem3D__ACC
real array UniMissileSystem3D__MaxS
real array UniMissileSystem3D__SPX
real array UniMissileSystem3D__SPY
real array UniMissileSystem3D__LastX
real array UniMissileSystem3D__LastY
real array UniMissileSystem3D__MKs
integer array UniMissileSystem3D__IN
integer UniMissileSystem3D__Top=- 1
real UniMissileSystem3D__TIMOut=0.03
group UniMissileSystem3D__DamageGroup
timer UniMissileSystem3D__TIMr
location UniMissileSystem3D__HeroLoc
location array UniMissileSystem3D__MLoc
player array UniMissileSystem3D__LastOwner
boolean MissileTimerPause=false
real UniMissileSystem3D__map_max_X
real UniMissileSystem3D__map_max_Y
real UniMissileSystem3D__map_min_X
real UniMissileSystem3D__map_min_Y
//endglobals from UniMissileSystem3D
//globals from YDTriggerSaveLoadSystem:
constant boolean LIBRARY_YDTriggerSaveLoadSystem=true
hashtable YDHT
hashtable YDLOC
//endglobals from YDTriggerSaveLoadSystem
//globals from YDWEAbilityState:
constant boolean LIBRARY_YDWEAbilityState=true
constant integer YDWEAbilityState___ABILITY_STATE_COOLDOWN= 1
constant integer YDWEAbilityState___ABILITY_DATA_TARGS= 100
constant integer YDWEAbilityState___ABILITY_DATA_CAST= 101
constant integer YDWEAbilityState___ABILITY_DATA_DUR= 102
constant integer YDWEAbilityState___ABILITY_DATA_HERODUR= 103
constant integer YDWEAbilityState___ABILITY_DATA_COST= 104
constant integer YDWEAbilityState___ABILITY_DATA_COOL= 105
constant integer YDWEAbilityState___ABILITY_DATA_AREA= 106
constant integer YDWEAbilityState___ABILITY_DATA_RNG= 107
constant integer YDWEAbilityState___ABILITY_DATA_DATA_A= 108
constant integer YDWEAbilityState___ABILITY_DATA_DATA_B= 109
constant integer YDWEAbilityState___ABILITY_DATA_DATA_C= 110
constant integer YDWEAbilityState___ABILITY_DATA_DATA_D= 111
constant integer YDWEAbilityState___ABILITY_DATA_DATA_E= 112
constant integer YDWEAbilityState___ABILITY_DATA_DATA_F= 113
constant integer YDWEAbilityState___ABILITY_DATA_DATA_G= 114
constant integer YDWEAbilityState___ABILITY_DATA_DATA_H= 115
constant integer YDWEAbilityState___ABILITY_DATA_DATA_I= 116
constant integer YDWEAbilityState___ABILITY_DATA_UNITID= 117

constant integer YDWEAbilityState___ABILITY_DATA_HOTKET= 200
constant integer YDWEAbilityState___ABILITY_DATA_UNHOTKET= 201
constant integer YDWEAbilityState___ABILITY_DATA_RESEARCH_HOTKEY= 202
constant integer YDWEAbilityState___ABILITY_DATA_NAME= 203
constant integer YDWEAbilityState___ABILITY_DATA_ART= 204
constant integer YDWEAbilityState___ABILITY_DATA_TARGET_ART= 205
constant integer YDWEAbilityState___ABILITY_DATA_CASTER_ART= 206
constant integer YDWEAbilityState___ABILITY_DATA_EFFECT_ART= 207
constant integer YDWEAbilityState___ABILITY_DATA_AREAEFFECT_ART= 208
constant integer YDWEAbilityState___ABILITY_DATA_MISSILE_ART= 209
constant integer YDWEAbilityState___ABILITY_DATA_SPECIAL_ART= 210
constant integer YDWEAbilityState___ABILITY_DATA_LIGHTNING_EFFECT= 211
constant integer YDWEAbilityState___ABILITY_DATA_BUFF_TIP= 212
constant integer YDWEAbilityState___ABILITY_DATA_BUFF_UBERTIP= 213
constant integer YDWEAbilityState___ABILITY_DATA_RESEARCH_TIP= 214
constant integer YDWEAbilityState___ABILITY_DATA_TIP= 215
constant integer YDWEAbilityState___ABILITY_DATA_UNTIP= 216
constant integer YDWEAbilityState___ABILITY_DATA_RESEARCH_UBERTIP= 217
constant integer YDWEAbilityState___ABILITY_DATA_UBERTIP= 218
constant integer YDWEAbilityState___ABILITY_DATA_UNUBERTIP= 219
constant integer YDWEAbilityState___ABILITY_DATA_UNART= 220
//endglobals from YDWEAbilityState
//globals from YDWEBase:
constant boolean LIBRARY_YDWEBase=true
//È«ï¿½Ö¹ï¿½Ï£ï¿½ï¿½ 
string bj_AllString=".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................"
//å…¨å±€ç³»ç»Ÿå˜é‡
unit bj_lastAbilityCastingUnit=null
unit bj_lastAbilityTargetUnit=null
unit bj_lastPoolAbstractedUnit=null
unitpool bj_lastCreatedUnitPool=null
item bj_lastPoolAbstractedItem=null
itempool bj_lastCreatedItemPool=null
attacktype bj_lastSetAttackType= ATTACK_TYPE_NORMAL
damagetype bj_lastSetDamageType= DAMAGE_TYPE_NORMAL
weapontype bj_lastSetWeaponType= WEAPON_TYPE_WHOKNOWS
real yd_MapMaxX= 0
real yd_MapMinX= 0
real yd_MapMaxY= 0
real yd_MapMinY= 0
string array YDWEBase__yd_PlayerColor
trigger array YDWEBase__AbilityCastingOverEventQueue
integer array YDWEBase__AbilityCastingOverEventType
integer YDWEBase__AbilityCastingOverEventNumber= 0
//endglobals from YDWEBase
//globals from YDWEBitwise:
constant boolean LIBRARY_YDWEBitwise=true
integer array YDWEBitwise__C2
constant string YDWEBitwise__hexstr= "0123456789ABCDEF"
//endglobals from YDWEBitwise
//globals from YDWEGeneralBounsSystem:
constant boolean LIBRARY_YDWEGeneralBounsSystem=true
integer array YDWEGeneralBounsSystem___ABILITY_COUNT
integer array YDWEGeneralBounsSystem___ABILITY_NUM
integer array YDWEGeneralBounsSystem___BonusAbilitys
integer array YDWEGeneralBounsSystem___PowersOf2
integer YDWEGeneralBounsSystem___PRELOAD_DUMMY_UNIT= 'hpea'
integer array YDWEGeneralBounsSystem___YDWEBONUS_MyChar
boolean YDWEGeneralBounsSystem___PRELOAD_ABILITYS= true
constant integer YDWEGeneralBounsSystem___BONUS_TYPES= 4
integer array YDWEGeneralBounsSystem___MaxBonus
integer array YDWEGeneralBounsSystem___MinBonus
unit array YDWEGeneralBounsSystem___Units
integer YDWEGeneralBounsSystem___UnitCount= 0
//endglobals from YDWEGeneralBounsSystem
//globals from YDWEGetUnitsInRangeOfLocMatchingNull:
constant boolean LIBRARY_YDWEGetUnitsInRangeOfLocMatchingNull=true
group yd_NullTempGroup
//endglobals from YDWEGetUnitsInRangeOfLocMatchingNull
//globals from YDWELogarithm:
constant boolean LIBRARY_YDWELogarithm=true
real array YDWELogarithm___base
//endglobals from YDWELogarithm
//globals from YDWEPolledWaitNull:
constant boolean LIBRARY_YDWEPolledWaitNull=true
//endglobals from YDWEPolledWaitNull
//globals from YDWEStringHash:
constant boolean LIBRARY_YDWEStringHash=true
//endglobals from YDWEStringHash
//globals from YDWESync:
constant boolean LIBRARY_YDWESync=true
gamecache YDWESync___m_gc
boolean YDWESync___m_mutex_state= false
//endglobals from YDWESync
//globals from YDWETriggerEvent:
constant boolean LIBRARY_YDWETriggerEvent=true
trigger yd_DamageEventTrigger= null
trigger array YDWETriggerEvent___DamageEventQueue
integer YDWETriggerEvent___DamageEventNumber= 0
	
item bj_lastMovedItemInItemSlot= null
	
trigger YDWETriggerEvent___MoveItemEventTrigger= null
trigger array YDWETriggerEvent___MoveItemEventQueue
integer YDWETriggerEvent___MoveItemEventNumber= 0
//endglobals from YDWETriggerEvent
//globals from YDWETriggerRegisterLeaveRectSimpleNull:
constant boolean LIBRARY_YDWETriggerRegisterLeaveRectSimpleNull=true
region yd_NullTempRegion
//endglobals from YDWETriggerRegisterLeaveRectSimpleNull
//globals from YDWEUnitHasItemOfTypeBJNull:
constant boolean LIBRARY_YDWEUnitHasItemOfTypeBJNull=true
//endglobals from YDWEUnitHasItemOfTypeBJNull
//globals from Deputy:
constant boolean LIBRARY_Deputy=true
//endglobals from Deputy
//globals from YDWECreateEwsp:
constant boolean LIBRARY_YDWECreateEwsp=true
//endglobals from YDWECreateEwsp
//globals from YDWEJumpTimer:
constant boolean LIBRARY_YDWEJumpTimer=true
//ÌøÔ¾ÏµÍ³ÓÅÏÈ¼¶
integer MoveMoreLevel_JumpTimer=3
//endglobals from YDWEJumpTimer
//globals from YDWELocalVariable:
constant boolean LIBRARY_YDWELocalVariable=true
//endglobals from YDWELocalVariable
//globals from YDWEPreloadSL:
constant boolean LIBRARY_YDWEPreloadSL=true
    ///
    /// Ã¿¸öÍæ¼ÒÕ¼ÓÃµÄ¿Õ¼ä[500*id, 500*(id-1))
    /// ÏÂ±êÔ½½çÃ»ÓĞ½øĞĞ¼ì²é£¬ËÆºõÃ»Õâ¸ö±ØÒª£¬Ë­ÒªÊÇÓÃ³¬¹ı500...¾ÍÈ¥ËÀ°É- -
    /// 
integer array YDWEPreloadSL___Code
integer array YDWEPreloadSL___CodeHI
integer array YDWEPreloadSL___CodeLO
boolean bj_lastLoadPreloadSLResult
string array udg_YDWE_PreloadSL_List
string udg_YDWE_PreloadSL_CurrentDir= ""
//endglobals from YDWEPreloadSL
//globals from YDWEStringFormula:
constant boolean LIBRARY_YDWEStringFormula=true
item bj_lastCombinedItem=null
trigger array YDWEStringFormula___ItemCombineEventQueue
integer YDWEStringFormula___ItemCombineEventNumber= 0
constant integer YDWEStringFormula___MAX_INSTANCES= 8100
constant integer YDWEStringFormula___SEGMENT_LENGTH= 4
integer YDWEStringFormula___FormulaData= 0
//endglobals from YDWEStringFormula
//globals from YDWETimerPattern:
constant boolean LIBRARY_YDWETimerPattern=true
boolexpr YDWETimerPattern___Bexpr= null
rect YDWETimerPattern___Area= null
integer YDWETimerPattern___tmp_data
location YDWETimerPattern___yd_loc= Location(0.0, 0.0)
//endglobals from YDWETimerPattern
//globals from YDWETimerSystem:
constant boolean LIBRARY_YDWETimerSystem=true
integer YDWETimerSystem___CurrentTime
integer YDWETimerSystem___CurrentIndex
integer YDWETimerSystem___TaskListHead
integer YDWETimerSystem___TaskListIdleHead
integer YDWETimerSystem___TaskListIdleMax
integer array YDWETimerSystem___TaskListIdle
integer array YDWETimerSystem___TaskListNext
integer array YDWETimerSystem___TaskListTime
trigger array YDWETimerSystem___TaskListProc
trigger YDWETimerSystem___fnRemoveUnit
trigger YDWETimerSystem___fnDestroyTimer
trigger YDWETimerSystem___fnRemoveItem
trigger YDWETimerSystem___fnDestroyEffect
trigger YDWETimerSystem___fnDestroyLightning
trigger YDWETimerSystem___fnRunTrigger
timer YDWETimerSystem___Timer
integer YDWETimerSystem___TimerHandle
integer YDWETimerSystem___TimerSystem_RunIndex= 0
//endglobals from YDWETimerSystem
//globals from WuQiQiHeSystem:
constant boolean LIBRARY_WuQiQiHeSystem=true
//endglobals from WuQiQiHeSystem
    // User-defined
group udg_UG_ResidualImage= null
unit udg_A_Unit= null
unit udg_A_Unit2= null
unit array udg_A_PlayerHero
unit array udg_Player_Hero
unit array udg_Unit_B
group udg_A_UG= null
location udg_A_Piont= null
location udg_A_Piont2= null
real udg_A_Angle= 0
real udg_A_Ang= 0
real udg_A_Ang_2= 0
real udg_A_hurt= 0
real udg_A_num= 0
real udg_x= 0
real udg_y= 0
player array udg_Player
integer udg_A_Int= 0
integer udg_Number_player= 0
integer array udg_MeiJuJiFen
integer array udg_kurongsharen
boolean array udg_HuanZhuangCD
    // Generated
trigger gg_trg_japi______u= null
trigger gg_trg_firstOccur= null
trigger gg_trg____________________007= null
trigger gg_trg____________________001= null
trigger gg_trg____________________004= null
trigger gg_trg____________________006= null
trigger gg_trg____________________005= null
trigger gg_trg____________________002= null
trigger gg_trg____________________003= null
trigger gg_trg___________________u= null
trigger gg_trg_____________u= null
trigger gg_trg_ChangeClothes= null
trigger gg_trg_QinLongKongHe= null
trigger gg_trg_YaoWangShenPian= null
trigger gg_trg_KuRongShenGong= null
trigger gg_trg_KuRongShenGong_2= null
trigger gg_trg_KuRongShenGong_3= null
trigger gg_trg_ShuiShangPiao= null
trigger gg_trg_SH= null
trigger gg_trg_AM_1= null
trigger gg_trg_AM_2= null
unit gg_unit_N008_0054= null
unit gg_unit_N007_0055= null
unit gg_unit_n00M_0131= null
unit gg_unit_N00U_0092= null
unit gg_unit_o00K_0126= null
unit gg_unit_o02D_0069= null
unit gg_unit_nvl2_0005= null
unit gg_unit_N00I_0116= null
unit gg_unit_N00B_0086= null
unit gg_unit_n00E_0066= null
unit gg_unit_n00N_0132= null
unit gg_unit_N00F_0085= null
unit gg_unit_N00P_0084= null
unit gg_unit_N012_0095= null
constant integer FRAME_ID= - 29734415
integer GUI
	
constant integer MAX_WU_GONG_NUM= 56
constant integer MAX_BAN_LV_NUM= 14
constant integer LIAN_DAN= 1
constant integer DUAN_ZAO= 2
constant integer BING_QI= 3
constant integer JIAN_DING= 4
constant integer LIAN_QI= 5
constant integer XUN_BAO= 6
constant integer YA_HUAN= 7
constant integer JING_WU= 8
constant integer MAX_DEPUTY= 8

	
constant integer QIAN_ZHU_SHOU= 'A0BL'
constant integer WU_DU_ZHOU= 'A0DU'
constant integer YU_SHE_SHU= 'A0DT'
constant integer BU_TIAN_JING= 'A0DS'
constant integer WAN_CHU_SHI_XIN= 'A0DR'

constant integer LUO_YING_ZHANG= 'A0EE'
constant integer LUO_YING_JIAN= 'A0EG'
constant integer XUAN_FENG_TUI= 'A0EI'
constant integer BI_BO_XIN_JING= 'A0EK'
constant integer QI_MEN_SHU_SHU= 'A0EL'

constant integer SHUANG_SHOU= 'A07U'
constant integer KUI_HUA= 'A07T'
constant integer HUA_GU= 'A06L'
constant integer XI_XING= 'A07R'
constant integer HUA_GONG= 'A07R'
constant integer TAN_ZHI= 'A06H'
constant integer BI_HAI= 'A018'
constant integer JIU_YIN= 'A07S'
constant integer JIU_ZHAO= 'A07N'

constant integer DA_GOU= 'A07L'

constant integer LONG_XIANG= 'S002'
constant integer XIAO_WU_XIANG= 'A083'

constant integer POISONED_BUFF= 'BEsh'
constant integer DEEP_POISONED_BUFF= 'B01J'

constant integer ITEM_SHE_ZHANG= 'I09B'
constant integer ITEM_YU_XIAO= 'I09D'
constant integer ITEM_HAN_SHA= 'I0AE'

	
string priKey
integer array tiezhang_flag
integer array tangmen_flag
integer array talent_flag
integer array wudu_flag
integer array taohua_flag
integer array mall_addition
integer array level_award
integer array wukong_flag
integer array panda_flag
// A æ°¸ä¹…æ€§é“å…· B è®¡æ—¶æ€§é“å…·
string PROPERTY_TALENT= "AR98FE7J3P"
string PROPERTY_TIEZHANG= "A198FYU9ME"
string PROPERTY_TANGMEN= "AR87S95C34"
string PROPERTY_WUDU= "AWUDU12345"
string PROPERTY_TAOHUA= "ATAOHUA123"
string PROPERTY_WUKONG= "ARWUKONG59"
string PROPERTY_PANDA= "ARPANDA072"

string PROPERTY_DOUBLE_POINT= "BC98FNY5L9"
string PROPERTY_LEVEL_AWARD= "BYOUARES13"
constant integer DENOMINATION_NUMBER= 22
	
boolean firstTime= true
boolean moshiFlag= false
integer nanduFlag= 0
boolean tiaoZhanFlag= false
integer tiaoZhanIndex= 0
boolean is_victory= false
timer shiWanTimer= null
timerdialog shiWanTimerDialog= null
dialog wuhun=DialogCreate()
dialog chuansong=DialogCreate()
button array wuhun1
button array chuansong1
integer array duanZao_level
effect array udg_JTX
boolean ceshi= false
real ceshizongshanghai
real curMaxDamage= 0
integer damage_jf= 0
timer jiuyangTimer1= null
timer jiuyangTimer2= null
timer jiuyangTimer3= null
timerdialog jiuyangTimerDialog1= null
timerdialog jiuyangTimerDialog2= null
timerdialog jiuyangTimerDialog3= null
quest defeatStealer= null
quest defeatSeeker= null
integer array xunwu
integer array yangshou
integer array udg_yangshou
integer array bigTalent
integer array yitianflag
integer array quanZhenFlag
integer array muRongOnlyFlag
integer array hengShanOnlyFlag
integer array huaShanOnlyFlag
integer array hengshan2OnlyFlag
integer array taiShanOnlyFlag
integer array shenLongOnlyFlag
boolean array readyToClear
integer array udg_talent
constant integer MAX_TALENT_NUM= 7
boolean array showHint
integer passed_time= 0
integer next_endless_time= 3600
integer endless_count= 0
timer endless_timer
unit pickingUnit= null
integer array zwidget
integer array zbutton
integer bibo_image
integer bibo_text
	
integer qimen_widget
integer qimen_button
integer qimen_text
string array attrStr
	// UIè®¾ç½®å¯¹é½é”šç‚¹çš„å¸¸é‡ DzFrameSetPoint achorå®šä¹‰ï¼Œä»0å¼€å§‹
constant integer TOPLEFT= 0
constant integer TOP= 1
constant integer TOPRIGHT= 2
constant integer LEFT= 3
constant integer CENTER= 4
constant integer RIGHT= 5
constant integer BOTTOMLEFT= 6
constant integer BOTTOM= 7
constant integer BOTTOMRIGHT= 8
	
	//DzFrameSetScript  æ³¨å†Œuiäº‹ä»¶çš„äº‹ä»¶ID
constant integer NONE= 0
constant integer FRAME_EVENT_PRESSED= 1
constant integer FRAME_MOUSE_ENTER= 2
constant integer FRAME_MOUSE_LEAVE= 3
constant integer FRAME_MOUSE_UP= 4
constant integer FRAME_MOUSE_DOWN= 5
constant integer FRAME_MOUSE_WHEEL= 6
constant integer FRAME_FOCUS_ENTER= FRAME_MOUSE_ENTER
constant integer FRAME_FOCUS_LEAVE= FRAME_MOUSE_LEAVE
constant integer FRAME_CHECKBOX_CHECKED= 7
constant integer FRAME_CHECKBOX_UNCHECKED= 8
constant integer FRAME_EDITBOX_TEXT_CHANGED= 9
constant integer FRAME_POPUPMENU_ITEM_CHANGE_START= 10
constant integer FRAME_POPUPMENU_ITEM_CHANGED= 11
constant integer FRAME_MOUSE_DOUBLECLICK= 12
constant integer FRAME_SPRITE_ANIM_UPDATE= 13
integer NormalSeconds= 31536000
integer LeapSeconds= 31622400

integer BJTIME= 28800
integer BASE2015_SEC= 1451606400
integer BASE2015_WEEKDAY= 4

integer array NORMALMON
integer activityPointAddition= 0

boolean udg_bIsInit= false
integer udg_ServerTime= 0
string array WEEKSTR
integer udg_Year= 0
integer udg_Mon= 0
integer udg_Day= 0
integer udg_Hour= 0
integer udg_Min= 0
integer udg_Sec= 0
integer udg_Week= 0
//===============najitest===============
integer unitnumber_lh=0
integer createdunitnumber_lh=0
string StringList_naji
string array Sdummy_naji
trigger array Ttest_naji
player Ptest_naji
integer Ihandle_naji
integer Ibm_naji
integer Itrigger_naji
integer Iquest_naji
integer Iweather_naji
boolean Bfog_naji
boolean Bpause_naji
boolean Bxy_naji
boolean Bid_naji
boolean Bir_naji
boolean array Bcamera_naji
boolean Bpn_naji
boolean Bddm_naji
dialog array Dnaji_naji
button array Button_naji
real Rhandle_naji
real Rdummy_naji
real array Rcamera_naji
region Rworld_naji
group array Gcd_naji
group Guw_naji
group Gms_naji
quest array Q_naji
timer Tcamera_naji
texttag array Tbm_naji
weathereffect array Weather_naji
	//===============najitest===============
integer array tiebucishu
boolean array isproducing
trigger gg_trg_Number14_0= null
trigger gg_trg_Number14_1= null
effect udg_zhemeieff= null
integer array beiMingShaGuai
unit shenghuoling_1
unit shenghuoling_2
unit shenghuoling_3
boolean ling1zhuan
boolean ling2zhuan
boolean ling3zhuan
unit udg_xiantiandanwei
real array biYuAddition
integer array liuHeFlag
integer array selected_attr
constant integer BI_BO_POINT= $FEDC

integer array bibo_kill
boolean array tide_rising
integer array tiaozhanduixiang
integer array menpaiwuqi
boolean array udg_tiaoxuedao
boolean array udg_tiaodugu
boolean array udg_tiaodamo
boolean array udg_tiaozhangsanfeng
dialog tiaozhanwho=DialogCreate()
button b_dugu=null
button b_xuedaozu=null
button b_ronglianlaozu=null
button b_zhucong=null
button b_damozushi=null
button b_sanfeng=null
button b_cancel=null
unit udg_tiaozhanguai=null
integer array zizhiwugong
string array lh_texiao
integer array wuxuedian
integer array dapei
boolean array zizhibool
boolean array jiawuxue
real array udg_shenxingpoyin
unit array udg_shenxingfuzhu
unit array udg_miaoshoufuzhu
real array guixihuixie
integer array shopweapon
	
unit array vipbanlv
item yd_NullTempItem
unit w=null
unit z=null
unit A=null
unitpool B=null
item C=null
itempool D=null
real H=0
real I=0
real l=0
real J=0
unit udg_sixiangdanwei=null
unit udg_xuezhandanwei=null
unit udg_fanweidanwei=null
unit udg_fomiedanwei=null
unit udg_yechadanwei=null
unit udg_miejuedanwei=null
integer array wugongshu
integer array udg_zhemei
integer array chief
integer array title0
integer array title1
integer array deputy
integer array master
integer array qimen_status

	// å¤šé€šé€Ÿ17é—¨æ´¾æ•°ç»„ï¼Œæ¯ä½ç©å®¶çš„é€šå…³é—¨æ´¾
string array manySuccess
	// å•é€šé€Ÿ17é—¨æ´¾æ•°ç»„ï¼Œæ¯ä½ç©å®¶çš„é€šå…³é—¨æ´¾
string array singleSuccess
string initMpSaveStr= "000000000000000000"
string fullMpSaveStr= "111111111111111111"
	// æ˜¯å¦ç¬¬ä¸€æ¬¡éš¾åº¦ä¸ºæœ€é«˜
boolean topDegreeFlag= false
	// å¤šé€šéš¾7å¥–åŠ±é¢å¤–åŒå€ç§¯åˆ†ï¼Œå’Œå•†åŸçš„å åŠ 
integer array extraDoubleJf
	// å¤šé€šå¥–åŠ±ç§»é€Ÿ100
integer array extraSpeed
integer array jfQiWu
integer array jfQiWuLimit

	// æˆ˜æ–—åŠ›æ•°ç»„ï¼Œæ¯ä½ç©å®¶çš„æˆ˜æ–—åŠ›
integer array udg_zdl
	// ç§¯åˆ†æ•°ç»„
integer array udg_jf
	// æ¯å±€å¯ç”¨ç§¯åˆ†80åˆ†
integer jf_max= 80
	// æ¯å±€å·²ç”¨ç§¯åˆ†
integer array jf_useMax
	// é€šå…³æ¬¡æ•°æ•°ç»„
integer array udg_success
	// å½“å‰å±€è·å–åˆ°çš„æˆ˜æ–—åŠ›
integer get_zdl= 0
	// å­˜æ¡£æ˜¯å¦å·²ä¿å­˜
boolean array saveFlag
	// åœ¨çº¿ç©å®¶æ•°é‡
integer udg_wanjiashu= 0
	// æ˜¯å¦æ˜¯æµ‹è¯•ç‰ˆ
boolean testVersion= false
	// å¥–åŠ±çš„æ­¦åŠŸä¼¤å®³
real array bonus_wugong
	// å¥–åŠ±çš„çˆ†ä¼¤
real array bonus_baoshang
	// æœ€é«˜ä¼¤å®³ï¼Œæ‰“æµ‹è¯•æ¡©
real array max_damage
	// å–æŠ€èƒ½ä¹¦çš„å°‘æ—é«˜åƒ§
unit array udg_sellSkillBook
integer udg_tiebushancengshu=0
integer udg_nandu=0
boolean udg_shifoufomie=false
boolean udg_teshushijian= false
boolean udg_yanglao= false
boolean udg_yunyangxianshen= false
boolean udg_sutong= false
boolean taohuakai=false
dialog udg_index=null
button udg_index0=null
button udg_index1=null
button udg_index2=null
button udg_index3=null
button udg_index4=null
dialog udg_nan=null
button udg_nan0=null
button udg_nan1=null
button udg_nan2=null
button udg_nan3=null
button udg_nan4=null
button udg_nan5=null
button udg_nan7=null
	// æŒ‘æˆ˜æ¨¡å¼dialog
dialog udg_tiaoZhan= null
button udg_tiaoZhan0= null
button udg_tiaoZhan1= null
button udg_tiaoZhan2= null

integer udg_gudongA=0
integer udg_gudongB=0
integer udg_gudongC=0
integer udg_gudongD=0
integer array udg_xinggeA
integer array udg_xinggeB
integer array udg_vip
integer array udg_changevip
integer array udg_elevenvip
	// æ˜¯å¦æ˜¯æµ‹è¯•äººå‘˜
boolean array udg_isTest
	// æ˜¯å¦å¼€å¯æµ‹è¯•ç å¼€å…³ï¼Œå…¨å±€å­˜æ¡£ï¼Œåå°å¯ä»¥æ§åˆ¶
string admin= "0"
// é€šçŸ¥å†…å®¹ï¼Œåå°æ§åˆ¶å¼€å±€å¯¹ç”¨æˆ·è¾“å‡ºå†…å®¹
string info= ""
	// ç§¯åˆ†å€æ•°ï¼Œå…¨å±€å­˜æ¡£
string jfBeishu= "1"
integer array udg_jianghu
integer array udg_juexue
integer array udg_juenei
integer array udg_canzhang
integer array udg_diershi
integer array udg_qiwu
integer array aidacishu
integer array udg_wuqishu
integer array udg_yifushu
trigger array K
integer array L
integer M=0
integer O=16
integer array P
integer array Q
integer array S
integer array T
integer U=1752196449
integer array V
boolean W=true
integer array X
integer array Y
integer array udg_shuxing
force Z
item d4
group e4
group udg_shanghaidanweizu=null
trigger f4=null
trigger array g4
integer h4=0
item i4=null
trigger array k4
integer m4=0
region nn4
constant timer o4=CreateTimer()
integer p4
integer q4
integer r4
integer s4
integer t4
integer array u4
integer array v4
integer array w4
trigger array x4
integer array qiuhun
integer array xidujuexue
integer array zhaoyangguo
integer array linganran
integer array touxiao
integer array bihai
trigger y4
trigger z4
trigger A4
trigger a4
trigger B4
trigger b4
timer C4
integer c4
integer D4=0
integer array juexuelingwu
real array udg_baojishanghai
real array udg_baojilv
real array shanghaihuifu
real array shaguaihufui
real array shengminghuifu
real array falihuifu
real array udg_lilianxishu
location udg_loc1=null
unit array K4
unit array L4
boolean array udg_hashero
boolean array udg_baoji
boolean array udg_yiwang
unit array udg_hero
integer O4=0
unit array P4
location Q4=null
dialog array R4
button array S4
button array T4
button array U4
button array V4
button array W4
button array X4
integer array Y4
integer array wuxing
integer array jingmai
integer array gengu
integer array fuyuan
integer array danpo
integer array yishu
integer array special_attack
group i7=null
integer array udg_runamen
integer k7=0
location array m7
integer nn7=0
integer o7=0
integer udg_counter1=0
integer array q7
unit array r7
integer s7=0
integer udg_boshu=0
integer array u7
location array v7
group w7=null
integer x7= 0
integer array y7
timerdialog array z7
timer array A7
boolean ShiFouShuaGuai=false
integer B7=0
unit array b7
unit array C7
integer c7=0
real array D7
effect array E7
integer array F7
integer array G7
integer H7=0
integer array I7
button array l7
button array J7
button array J78
button array J79
button array J710
button array J711
dialog array K7
dialog udg_menpaineigong
integer array L7
integer MM7=0
integer N7=0
integer array O7
integer array P7
integer array wolfSkinCount
integer array wolfSkinFlag
timer array udg_revivetimer
timerdialog array R7
integer array S7
real T7=0
real U7=0
real array udg_MaxDamage
string array udg_menpainame
integer array X7
integer array Y7
integer array Z7
integer array d8
integer array e8
integer array shengwang
integer array g8
integer array h8
integer array i8
integer array j8
unit array k8
unit array udg_boss
boolean array m8
boolean array o8
unit array p8
integer array q8
unit array r8
player s8=null
boolean t8=false
integer array yongdanshu
dialog array v8
button array w8
button array x8
button array y8
button array z8
button array A8
button array a8
button array B8
boolean array b8
boolean array C8
boolean array c8
dialog array D8
integer E8=0
boolean array F8
boolean array XNKL
boolean array daxia
boolean array G8
boolean array H8
boolean array I8
boolean array l8
integer array J8
integer array K8
integer array xiuxing
integer array MM8
integer array N8
integer array O8
integer array P8
integer array Q8
integer array R8
integer array S8
integer array udg_blgg
integer array udg_blwx
integer array udg_bljm
integer array udg_blfy
integer array udg_bldp
integer array udg_blys
integer array udg_jdds
integer array udg_ldds
integer array udg_xbds
integer array udg_bqds
integer array udg_dzds
integer array udg_jwjs
boolean array Z8
boolean array d9
boolean array e9
timer array f9
timerdialog array g9
boolean array h9
integer array i9
group j9=null
group k9=null
real m9=0
real n9=0
location array o9
integer p9=0
unit array q9
group r9=null
group s9=null
location array t9
integer u9=0
boolean array v9
boolean array w9
boolean array x9
boolean array y9
integer array z9
integer array A9
item array a9
location array B9
unit array b9
unit C9=null
location c9=null
unit D9=null
lightning array E9
integer F9=0
integer array G9
integer array H9
integer array I9
integer array l9
integer array udg_baolv
unit array J9
unit array qiankun2hao
unit array qiankun3hao
real array udg_shanghaijiacheng
real array udg_shanghaixishou
integer array MM9
real array udg_jueneishxs
real array udg_jueneishjc
integer array udg_jueneiminjie
integer array udg_jueneijxlw
real array udg_jueneibaojilv
integer S9=0
boolean array T9
integer array LLguaiA
integer array LLguaiE
integer array LLguaiB
integer array LLguaiC
integer array LLguaiD
integer array LLguaiF
integer array LLguaiG
timer array Z9
timerdialog array dd
boolean array ed
timer array fd
timerdialog array gd
boolean hd=false
integer array jd
integer array kd
integer array gudong
integer array nd
integer array od
integer array pd
integer array qd
integer array rd
integer array ud
effect array vd
integer array wugongxiuwei
integer array xd
integer array yd
integer zd=0
boolean array Ad
integer ad=0
boolean array Bd
unit array bd
integer array Cd
boolean array cd
integer array Dd
integer array Ed
group array Fd
real array Gd
timer array Hd
integer array Id
integer array ld
integer array Jd
integer array JYd
integer array Kd
integer array Ld
integer array Md
integer array Nd
integer array Od
integer array Pd
integer array Qd
boolean array Rd
integer array Sd
integer array Td
integer array Ud
integer array Vd
integer array Wd
integer array jiuazi
integer Xd=0
integer Yd=0
integer Zd=0
boolean de=false
texttag array ee
integer array shoujiajf
boolean array ge
boolean array he
integer ie=0
dialog array je
button array ke
button array me
button array ne
button array oe
button array pe
button array qe
button array re
button array rre
button array re9
button array re10
button array re11
button array se
integer array te
integer ue=5
integer array ve
integer array xe
integer array ye
integer array ze
integer array Ae
integer ae=0
integer array YaoCao
integer array ShiPin
integer array ZhuangBei
integer array mapLevelReward
integer array ce
boolean array De
boolean array Ee
group Fe=null
rect udg_jail=null
rect udg_yizhan=null
rect udg_xuanmenpai=null
rect udg_tiaozhanqu=null
rect Ge=null
rect He=null
rect Ie=null
rect le=null
rect Je=null
rect Ke=null
rect Le=null
rect Me=null
rect Ne=null
rect Oe=null
rect Pe=null
rect botong=null
rect Qe=null
rect Re=null
rect Se=null
rect Te=null
rect Ue=null
rect Ve=null
rect We=null
rect Xe=null
rect Ye=null
rect Ze=null
rect df=null
rect lh_r=null
rect ef=null
rect ff=null
rect gf=null
rect hf=null
rect jf=null
rect kf=null
rect mf=null
rect nf=null
rect of=null
rect pf=null
rect qf=null
rect rf=null
rect sf=null
rect tf=null
rect uf=null
rect vf=null
rect wf=null
rect xf=null
rect yf=null
rect zf=null
rect Af=null
rect af=null
rect Bf=null
rect bf=null
rect Cf=null
rect cf=null
rect Df=null
rect Ef=null
rect Ff=null
rect Gf=null
rect Hf=null
rect If=null
rect lf=null
rect Jf=null
rect Kf=null
rect Lf=null
rect Mf=null
rect Nf=null
rect Of=null
rect Pf=null
rect Qf=null
rect Rf=null
rect Sf=null
rect Tf=null
rect Uf=null
rect Vf=null
rect Wf=null
rect Xf=null
rect Yf=null
rect Zf=null
rect dg=null
rect eg=null
rect fg=null
rect gg=null
rect hg=null
rect ig=null
rect jg=null
rect kg=null
rect mg=null
rect ng=null
rect og=null
rect pg=null
rect qg=null
rect rg=null
rect sg=null
rect tg=null
rect ug=null
rect vg=null
rect wg=null
rect xg=null
rect yg=null
rect zg=null
rect Ag=null
rect ag=null
rect Bg=null
rect bg=null
rect Cg=null
rect cg=null
rect Dg=null
rect Eg=null
rect Fg=null
rect Gg=null
rect Hg=null
rect Ig=null
rect lg=null
rect Jg=null
rect Kg=null
rect Lg=null
rect Mg=null
rect Ng=null
rect Og=null
rect Pg=null
rect Qg=null
rect Rg=null
rect Sg=null
rect Ug=null
rect Vg=null
rect Wg=null
rect Xg=null
rect Yg=null
rect Zg=null
rect dh=null
rect eh=null
rect fh=null
rect gh=null
rect hh=null
rect udg_liuqiu=null
rect jh=null
rect kh=null
rect mh=null
rect nh=null
rect oh=null
rect ph=null
rect qh=null
rect rh=null
rect sh=null
rect th=null
rect uh=null
rect vh=null
sound wh=null
string xh="war3mapImported\\yanmenguanqian4.mp3"
string yh="war3mapImported\\wulindahui3.mp3"
string zh="Sound\\Music\\mp3Music\\War2IntroMusic.mp3"
sound Ah=null
sound ah=null
sound Bh=null
sound bh=null
sound Ch=null
sound Dh=null
sound Eh=null
sound Fh=null
sound Gh=null
sound Hh=null
sound Ih=null
trigger lh=null
trigger Jh=null
trigger Kh=null
trigger Mh=null
trigger Nh=null
trigger Oh=null
trigger Ph=null
trigger Qh=null
trigger Rh=null
trigger Sh=null
trigger Th=null
trigger Uh=null
trigger Vh=null
trigger Wh=null
trigger Xh=null
trigger Yh=null
trigger Zh=null
trigger di=null
trigger ei=null
trigger fi=null
trigger gi=null
trigger hi=null
trigger ii=null
trigger ji=null
trigger ki=null
trigger mi=null
trigger ni=null
trigger oi=null
trigger pi=null
trigger ri=null
trigger si=null
trigger ti=null
trigger ui=null
trigger vi=null
trigger wi=null
trigger xi=null
trigger yi=null
trigger zi=null
trigger Ai=null
trigger ai=null
trigger Bi=null
trigger bi=null
trigger Ci=null
trigger ci=null
trigger Di=null
trigger Ei=null
trigger Fi=null
trigger Gi=null
trigger Hi=null
trigger Ii=null
trigger li=null
trigger Ji=null
trigger Ki=null
trigger Li=null
trigger Mi=null
trigger Ni=null
trigger Oi=null
trigger Pi=null
trigger Qi=null
trigger Ri=null
trigger Si=null
trigger Ti=null
trigger Ui=null
trigger Vi=null
trigger Wi=null
trigger Xi=null
trigger Yi=null
trigger Zi=null
trigger dj=null
trigger ej=null
trigger fj=null
trigger gj=null
trigger hj=null
trigger ij=null
trigger jj=null
trigger kj=null
trigger mj=null
trigger nj=null
trigger oj=null
trigger pj=null
trigger qj=null
trigger rj=null
trigger sj=null
trigger tj=null
trigger uj=null
trigger vj=null
trigger wj=null
trigger xj=null
trigger yj=null
trigger zj=null
trigger Aj=null
trigger aj=null
trigger Bj=null
trigger bj=null
trigger Cj=null
trigger cj=null
trigger Dj=null
trigger Ej=null
trigger Fj=null
trigger Gj=null
trigger Hj=null
trigger Ij=null
trigger lj=null
trigger Jj=null
trigger Kj=null
trigger Lj=null
trigger Mj=null
trigger Nj=null
trigger Oj=null
trigger Pj=null
trigger Qj=null
trigger Rj=null
trigger Sj=null
trigger Tj=null
trigger Uj=null
trigger Vj=null
trigger Wj=null
trigger Xj=null
trigger Yj=null
trigger Zj=null
trigger dk=null
trigger ek=null
trigger fk=null
trigger gk=null
trigger hk=null
trigger ik=null
trigger jk=null
trigger kk=null
trigger mk=null
trigger nk=null
trigger ok=null
trigger pk=null
trigger qk=null
trigger rk=null
trigger sk=null
trigger tk=null
trigger uk=null
trigger vk=null
trigger wk=null
trigger xk=null
trigger yk=null
trigger zk=null
trigger Ak=null
trigger ak=null
trigger Bk=null
trigger bk=null
trigger Ck=null
trigger ck=null
trigger Dk=null
trigger Ek=null
trigger Fk=null
trigger Gk=null
trigger Hk=null
trigger Ik=null
trigger lk=null
trigger Jk=null
trigger Kk=null
trigger Lk=null
trigger Mk=null
trigger Nk=null
trigger Ok=null
trigger Pk=null
trigger Qk=null
trigger Rk=null
trigger Sk=null
trigger Tk=null
trigger Uk=null
trigger Vk=null
trigger Wk=null
trigger Xk=null
trigger Yk=null
trigger Zk=null
trigger dm=null
trigger em=null
trigger fm=null
trigger gm=null
trigger hm=null
trigger im=null
trigger jm=null
trigger km=null
trigger mm=null
trigger nm=null
trigger om=null
trigger pm=null
trigger qm=null
trigger rm=null
trigger sm=null
trigger um=null
trigger vm=null
trigger wm=null
trigger xm=null
trigger ym=null
trigger zm=null
trigger Am=null
trigger am=null
trigger Bm=null
trigger bm=null
trigger Cm=null
trigger cm=null
trigger Dm=null
trigger Em=null
trigger Fm=null
trigger Gm=null
trigger Hm=null
trigger Im=null
trigger lm=null
trigger Jm=null
trigger Km=null
trigger Lm=null
trigger Mm=null
trigger Nm=null
trigger Om=null
trigger Pm=null
trigger Qm=null
trigger Rm=null
trigger Sm=null
trigger Tm=null
trigger Um=null
trigger Vm=null
trigger Wm=null
trigger Xm=null
trigger Ym=null
trigger Zm=null
trigger dn=null
trigger en=null
trigger fn=null
trigger gn=null
trigger hn=null
trigger in=null
trigger jn=null
trigger kn=null
trigger mn=null
trigger nn=null
trigger on=null
trigger pn=null
trigger qn=null
trigger sn=null
trigger tn=null
trigger un=null
trigger vn=null
trigger wn=null
trigger xn=null
trigger yn=null
trigger zn=null
trigger An=null
trigger an=null
trigger Bn=null
trigger bn=null
trigger Cn=null
trigger cn=null
trigger Dn=null
trigger En=null
trigger Fn=null
trigger Gn=null
trigger Hn=null
trigger In=null
trigger Jn=null
trigger Kn=null
trigger Ln=null
trigger Mn=null
trigger Nn=null
trigger On=null
trigger Pn=null
trigger Qn=null
trigger Rn=null
trigger Sn=null
trigger Tn=null
trigger Un=null
trigger Vn=null
trigger Wn=null
trigger Xn=null
trigger Yn=null
trigger Zn=null
trigger do=null
trigger eo=null
trigger fo=null
trigger go=null
trigger ho=null
trigger io=null
trigger jo=null
trigger ko=null
trigger mo=null
trigger no=null
trigger oo=null
trigger po=null
trigger qo=null
trigger ro=null
trigger so=null
trigger to=null
trigger uo=null
trigger vo=null
trigger wo=null
trigger xo=null
trigger yo=null
trigger zo=null
trigger Ao=null
trigger ao=null
trigger Bo=null
trigger bo=null
trigger Co=null
trigger co=null
trigger Do=null
trigger Eo=null
trigger Fo=null
trigger Go=null
trigger Ho=null
trigger Io=null
trigger lo=null
trigger Jo=null
trigger Ko=null
trigger Lo=null
trigger Mo=null
trigger No=null
trigger Oo=null
trigger Po=null
trigger Qo=null
trigger Ro=null
trigger So=null
trigger To=null
trigger Uo=null
trigger Vo=null
trigger Wo=null
trigger Yo=null
trigger Zo=null
trigger dp=null
trigger ep=null
trigger fp=null
trigger gp=null
trigger hp=null
trigger jp=null
trigger kp=null
trigger mp=null
trigger np=null
trigger op=null
trigger pp=null
trigger qp=null
trigger sp=null
trigger tp=null
trigger vp=null
trigger wp=null
trigger xp=null
trigger yp=null
trigger zp=null
trigger Ap=null
trigger ap=null
trigger Bp=null
trigger bp=null
trigger Cp=null
trigger cp=null
trigger Dp=null
trigger Ep=null
trigger Fp=null
trigger Gp=null
trigger Hp=null
trigger Ip=null
trigger lp=null
trigger Jp=null
trigger Kp=null
trigger Lp=null
trigger Mp=null
trigger Np=null
trigger Op=null
trigger Pp=null
trigger Qp=null
trigger Rp=null
trigger Sp=null
trigger Tp=null
trigger Up=null
trigger Vp=null
trigger Wp=null
trigger Xp=null
trigger Yp=null
trigger Zp=null
trigger dq=null
trigger eq=null
trigger fq=null
trigger gq=null
trigger hq=null
trigger iq=null
trigger jq=null
trigger kq=null
trigger mq=null
trigger nq=null
trigger oq=null
trigger pq=null
trigger qq=null
trigger rq=null
trigger sq=null
trigger tq=null
trigger uq=null
trigger vq=null
trigger xq=null
trigger Cq=null
trigger cq=null
trigger Dq=null
trigger Eq=null
trigger Fq=null
trigger Gq=null
trigger Hq=null
trigger Iq=null
trigger lq=null
trigger Jq=null
trigger Kq=null
trigger Lq=null
trigger Mq=null
trigger Nq=null
trigger Oq=null
trigger Pq=null
trigger Qq=null
trigger Rq=null
trigger Sq=null
trigger Tq=null
trigger Uq=null
trigger Wq=null
trigger Xq=null
trigger Yq=null
trigger Zq=null
trigger dr=null
trigger er=null
trigger fr=null
trigger gr=null
trigger hr=null
trigger ir=null
trigger jr=null
trigger kr=null
trigger mr=null
trigger nr=null
trigger pr=null
trigger qr=null
trigger rr=null
trigger sr=null
trigger tr=null
trigger ur=null
trigger vr=null
trigger wr=null
trigger xr=null
trigger yr=null
trigger zr=null
trigger Ar=null
trigger ar=null
trigger Br=null
trigger br=null
trigger Cr=null
trigger cr=null
trigger Dr=null
trigger Er=null
trigger Fr=null
trigger Gr=null
trigger Hr=null
trigger Ir=null
trigger lr=null
trigger Jr=null
trigger Kr=null
trigger Lr=null
trigger Mr=null
trigger Nr=null
trigger Pr=null
trigger Qr=null
trigger Rr=null
trigger Sr=null
trigger Tr=null
trigger Ur=null
trigger Vr=null
trigger Wr=null
trigger Xr=null
trigger Yr=null
trigger Zr=null
trigger ds=null
trigger es=null
trigger fs=null
trigger gs=null
trigger hs=null
trigger is=null
trigger js=null
trigger ks=null
trigger ms=null
trigger ns=null
trigger os=null
trigger ps=null
trigger qs=null
trigger rs=null
trigger ss=null
trigger ts=null
trigger us=null
trigger vs=null
trigger ws=null
trigger xs=null
trigger ys=null
trigger zs=null
trigger As=null
trigger as=null
trigger Bs=null
trigger Cs=null
trigger cs=null
trigger Ds=null
trigger Es=null
trigger Fs=null
trigger Gs=null
trigger Hs=null
trigger Is=null
trigger ls=null
trigger Js=null
trigger Ks=null
unit Ls=null
unit udg_ZhengPaiWL=null
unit GU_DONG_SHANG_REN=null
unit BAO_SHI_SHANG_REN=null
unit PING_YI_ZHI=null
unit SHI_PO_TIAN=null
unit Ns=null
unit Os=null
unit Ps=null
unit Qs=null
unit Rs=null
unit LanXin= null
unit XuanJin= null
unit Ss=null
unit Ts=null
unit Us=null
unit Vs=null
unit Ws=null
unit Xs=null
unit Ys=null
unit Zs=null
unit ft=null
unit gt=null
unit ht=null
unit jt=null
unit kt=null
unit nt=null
unit ot=null
unit ut=null
unit vt=null
unit xt=null
unit yt=null
unit zt=null
unit At=null
unit Bt=null
unit Ct=null
unit ct=null
unit Dt=null
unit Et=null
unit Ft=null
destructable Gt=null
trigger Ht=null
trigger It=null
trigger Jt=null
integer Kt=0
integer Lt=0
integer array Mt
integer array Nt
integer Ot=0
unit array Pt
unit array Qt
real array Rt
real array St
real array Tt
real array Ut
real array Vt
real array Wt
real array Xt
real array Yt
real array Zt
real fu=.0
real gu=.0
boolexpr ju=null

trigger l__library_init

//JASSHelper struct globals:
constant integer si__Frame=1
integer si__Frame_F=0
integer si__Frame_I=0
integer array si__Frame_V
hashtable s__Frame_HT= InitHashtable()
integer s__Frame_num= 0
integer array s__Frame_id
boolean array s__Frame_isShow
boolean array s__Frame_isEnable
boolean array s__Frame_hover
constant integer si__ModSpeed=2
timer s__ModSpeed_tm= CreateTimer()
integer s__ModSpeed_instanceMaxCount= 0
integer array s__ModSpeed_prev
integer array s__ModSpeed_next
unit array s__ModSpeed_u
real array s__ModSpeed_lastX
real array s__ModSpeed_lastY
real array s__ModSpeed_speed
boolean array s__ModSpeed_lead
real s__ModSpeed_x
real s__ModSpeed_y
real s__ModSpeed_dx
real s__ModSpeed_dy
real s__ModSpeed_dist
real s__ModSpeed_rate
constant integer si__YDWEStringFormula___Inventory=3
integer si__YDWEStringFormula___Inventory_F=0
integer si__YDWEStringFormula___Inventory_I=0
integer array si__YDWEStringFormula___Inventory_V
constant integer si__YDWEStringFormula___StringTable=4
constant integer si__YDWEStringFormula___ItemIdMatrix=5
integer s__YDWEStringFormula___ItemIdMatrix_Data
integer s__YDWEStringFormula___ItemIdMatrix_Total= 1
integer array s__YDWEStringFormula___ItemIdMatrix_itemId
string array s__YDWEStringFormula___ItemIdMatrix_keyStr
integer array s__YDWEStringFormula___ItemIdMatrix_keyLen
constant integer si__YDWEStringFormula___FormulaMatrix=6
integer s__YDWEStringFormula___FormulaMatrix_Data
integer s__YDWEStringFormula___FormulaMatrix_Total= 1
string array s__YDWEStringFormula___FormulaMatrix_formula
integer array s__YDWEStringFormula___FormulaMatrix_segmLen
string array s__YDWEStringFormula___FormulaMatrix_model
string array s__YDWEStringFormula___FormulaMatrix_message
integer array s__YDWEStringFormula___FormulaMatrix_chance
boolean array s__YDWEStringFormula___FormulaMatrix_delete
constant integer si__YDWEStringFormula___Sorting=7
integer si__YDWEStringFormula___Sorting_F=0
integer si__YDWEStringFormula___Sorting_I=0
integer array si__YDWEStringFormula___Sorting_V
integer array s___YDWEStringFormula___Sorting_stack
constant integer s___YDWEStringFormula___Sorting_stack_size=8
integer array s__YDWEStringFormula___Sorting_stack
integer array s___YDWEStringFormula___Sorting_count
constant integer s___YDWEStringFormula___Sorting_count_size=8
integer array s__YDWEStringFormula___Sorting_count
integer array s__YDWEStringFormula___Sorting_total
string array s__YDWEStringFormula___Sorting_char
constant integer si__YDWETimerPattern___YDVector3=10
integer si__YDWETimerPattern___YDVector3_F=0
integer si__YDWETimerPattern___YDVector3_I=0
integer array si__YDWETimerPattern___YDVector3_V
real array s__YDWETimerPattern___YDVector3_x
real array s__YDWETimerPattern___YDVector3_y
real array s__YDWETimerPattern___YDVector3_z
constant integer si__YDWETimerPattern___Thread=11
integer si__YDWETimerPattern___Thread_F=0
integer si__YDWETimerPattern___Thread_I=0
integer array si__YDWETimerPattern___Thread_V
integer array s__YDWETimerPattern___Thread_des
integer array s__YDWETimerPattern___Thread_pos
integer array s__YDWETimerPattern___Thread_vel
unit array s__YDWETimerPattern___Thread_caster
unit array s__YDWETimerPattern___Thread_source
unit array s__YDWETimerPattern___Thread_target
unit array s__YDWETimerPattern___Thread_obj
real array s__YDWETimerPattern___Thread_ac
real array s__YDWETimerPattern___Thread_bc
real array s__YDWETimerPattern___Thread_dist
real array s__YDWETimerPattern___Thread_step
real array s__YDWETimerPattern___Thread_amount
integer array s__YDWETimerPattern___Thread_switch
integer array s__YDWETimerPattern___Thread_follow
integer array s__YDWETimerPattern___Thread_unitid
integer array s__YDWETimerPattern___Thread_skills
integer array s__YDWETimerPattern___Thread_order
integer array s__YDWETimerPattern___Thread_level
string array s__YDWETimerPattern___Thread_dsfx
string array s__YDWETimerPattern___Thread_gsfx
string array s__YDWETimerPattern___Thread_wsfx
string array s__YDWETimerPattern___Thread_part
boolean array s__YDWETimerPattern___Thread_recycle
boolean array s__YDWETimerPattern___Thread_killdest
boolean array s__YDWETimerPattern___Thread_volume
group array s__YDWETimerPattern___Thread_g
timer array s__YDWETimerPattern___Thread_t
constant integer si__YDWETimerPattern___Parabola=12
constant integer si__YDWETimerPattern___Linear=13
constant integer si__YDWETimerPattern___Deceleration=14
constant integer si__DaPei=15
integer si__DaPei_F=0
integer si__DaPei_I=0
integer array si__DaPei_V
integer array s__DaPei_wugongid
integer array s__DaPei_dapeixiaoguo
real array s__DaPei_shxishu
real array s__DaPei_r
constant integer si__ZiZhiWuGong=16
integer si__ZiZhiWuGong_F=0
integer si__ZiZhiWuGong_I=0
integer array si__ZiZhiWuGong_V
integer array s__ZiZhiWuGong_xishu
integer array s__ZiZhiWuGong_range
integer array s__ZiZhiWuGong_texiao
integer array s__ZiZhiWuGong_dapeishu
integer array s__ZiZhiWuGong_scrate
string array s__ZiZhiWuGong_name
constant integer si__ShopWeapon=17
integer si__ShopWeapon_F=0
integer si__ShopWeapon_I=0
integer array si__ShopWeapon_V
integer array s__ShopWeapon_min_xiuxing
integer array s__ShopWeapon_id
boolean array s__ShopWeapon_zhuanshu
integer array si__YDWEStringFormula___Inventory_type
trigger array st__YDWEStringFormula___Inventory_onDestroy
integer array si__YDWETimerPattern___Thread_type
trigger array st__YDWETimerPattern___Thread_onDestroy
trigger st__Frame_onDestroy
trigger st__YDWEStringFormula___Sorting_onDestroy
trigger st__DaPei_onDestroy
trigger st__DaPei_XiaoGuoShuoMing
trigger st__ZiZhiWuGong_create
trigger st__ZiZhiWuGong_onDestroy
trigger st__ShopWeapon_onDestroy
trigger st__ShopWeapon_PickUpWeapon
trigger array st___prototype4
integer f__arg_integer1
integer f__arg_integer2
integer f__arg_integer3
integer f__arg_integer4
integer f__arg_integer5
unit f__arg_unit1
item f__arg_item1
real f__arg_real1
integer f__arg_this
string f__result_string
integer f__result_integer

endglobals
	native EXGetUnitAbility takes unit u, integer abilcode returns ability
	native EXGetUnitAbilityByIndex takes unit u, integer index returns ability
	native EXGetAbilityId takes ability abil returns integer
	native EXGetAbilityState takes ability abil, integer state_type returns real
	native EXSetAbilityState takes ability abil, integer state_type, real value returns boolean
	native EXGetAbilityDataReal takes ability abil, integer level, integer data_type returns real
	native EXSetAbilityDataReal takes ability abil, integer level, integer data_type, real value returns boolean
	native EXGetAbilityDataInteger takes ability abil, integer level, integer data_type returns integer
	native EXSetAbilityDataInteger takes ability abil, integer level, integer data_type, integer value returns boolean
	native EXGetAbilityDataString takes ability abil, integer level, integer data_type returns string
	native EXSetAbilityDataString takes ability abil, integer level, integer data_type, string value returns boolean
	native EXSetAbilityAEmeDataA takes ability abil, integer unitid returns boolean
	native EXGetItemDataString takes integer itemcode, integer data_type returns string
	native EXSetItemDataString takes integer itemcode, integer data_type, string value returns boolean
native DzGetMouseTerrainX takes nothing returns real
native DzGetMouseTerrainY takes nothing returns real
native DzGetMouseTerrainZ takes nothing returns real
native DzIsMouseOverUI takes nothing returns boolean
native DzGetMouseX takes nothing returns integer
native DzGetMouseY takes nothing returns integer
native DzGetMouseXRelative takes nothing returns integer
native DzGetMouseYRelative takes nothing returns integer
native DzSetMousePos takes integer x, integer y returns nothing
native DzTriggerRegisterMouseEvent takes trigger trig, integer btn, integer status, boolean sync, string func returns nothing
native DzTriggerRegisterMouseEventByCode takes trigger trig, integer btn, integer status, boolean sync, code funcHandle returns nothing
native DzTriggerRegisterKeyEvent takes trigger trig, integer key, integer status, boolean sync, string func returns nothing
native DzTriggerRegisterKeyEventByCode takes trigger trig, integer key, integer status, boolean sync, code funcHandle returns nothing
native DzTriggerRegisterMouseWheelEvent takes trigger trig, boolean sync, string func returns nothing
native DzTriggerRegisterMouseWheelEventByCode takes trigger trig, boolean sync, code funcHandle returns nothing
native DzTriggerRegisterMouseMoveEvent takes trigger trig, boolean sync, string func returns nothing
native DzTriggerRegisterMouseMoveEventByCode takes trigger trig, boolean sync, code funcHandle returns nothing
native DzGetTriggerKey takes nothing returns integer
native DzGetWheelDelta takes nothing returns integer
native DzIsKeyDown takes integer iKey returns boolean
native DzGetTriggerKeyPlayer takes nothing returns player
native DzGetWindowWidth takes nothing returns integer
native DzGetWindowHeight takes nothing returns integer
native DzGetWindowX takes nothing returns integer
native DzGetWindowY takes nothing returns integer
native DzTriggerRegisterWindowResizeEvent takes trigger trig, boolean sync, string func returns nothing
native DzTriggerRegisterWindowResizeEventByCode takes trigger trig, boolean sync, code funcHandle returns nothing
native DzIsWindowActive takes nothing returns boolean
native DzDestructablePosition takes destructable d, real x, real y returns nothing
native DzSetUnitPosition takes unit whichUnit, real x, real y returns nothing
native DzExecuteFunc takes string funcName returns nothing
native DzGetUnitUnderMouse takes nothing returns unit
native DzSetUnitTexture takes unit whichUnit, string path, integer texId returns nothing
native DzSetMemory takes integer address, real value returns nothing
native DzSetUnitID takes unit whichUnit, integer id returns nothing
native DzSetUnitModel takes unit whichUnit, string path returns nothing
native DzSetWar3MapMap takes string map returns nothing
native DzTriggerRegisterSyncData takes trigger trig, string prefix, boolean server returns nothing
native DzSyncData takes string prefix, string data returns nothing
native DzGetTriggerSyncData takes nothing returns string
native DzGetTriggerSyncPlayer takes nothing returns player
native DzFrameHideInterface takes nothing returns nothing
native DzFrameEditBlackBorders takes real upperHeight, real bottomHeight returns nothing
native DzFrameGetPortrait takes nothing returns integer
native DzFrameGetMinimap takes nothing returns integer
native DzFrameGetCommandBarButton takes integer row, integer column returns integer
native DzFrameGetHeroBarButton takes integer buttonId returns integer
native DzFrameGetHeroHPBar takes integer buttonId returns integer
native DzFrameGetHeroManaBar takes integer buttonId returns integer
native DzFrameGetItemBarButton takes integer buttonId returns integer
native DzFrameGetMinimapButton takes integer buttonId returns integer
native DzFrameGetUpperButtonBarButton takes integer buttonId returns integer
native DzFrameGetTooltip takes nothing returns integer 
native DzFrameGetChatMessage takes nothing returns integer 
native DzFrameGetUnitMessage takes nothing returns integer 
native DzFrameGetTopMessage takes nothing returns integer 
native DzGetColor takes integer r, integer g, integer b, integer a returns integer
native DzFrameSetUpdateCallback takes string func returns nothing
native DzFrameSetUpdateCallbackByCode takes code funcHandle returns nothing
native DzFrameShow takes integer frame, boolean enable returns nothing
native DzCreateFrame takes string frame, integer parent, integer id returns integer
native DzCreateSimpleFrame takes string frame, integer parent, integer id returns integer
native DzDestroyFrame takes integer frame returns nothing
native DzLoadToc takes string fileName returns nothing
native DzFrameSetPoint takes integer frame, integer point, integer relativeFrame, integer relativePoint, real x, real y returns nothing
native DzFrameSetAbsolutePoint takes integer frame, integer point, real x, real y returns nothing
native DzFrameClearAllPoints takes integer frame returns nothing
native DzFrameSetEnable takes integer name, boolean enable returns nothing
native DzFrameSetScript takes integer frame, integer eventId, string func, boolean sync returns nothing
native DzFrameSetScriptByCode takes integer frame, integer eventId, code funcHandle, boolean sync returns nothing
native DzGetTriggerUIEventPlayer takes nothing returns player
native DzGetTriggerUIEventFrame takes nothing returns integer
native DzFrameFindByName takes string name, integer id returns integer
native DzSimpleFrameFindByName takes string name, integer id returns integer
native DzSimpleFontStringFindByName takes string name, integer id returns integer
native DzSimpleTextureFindByName takes string name, integer id returns integer
native DzGetGameUI takes nothing returns integer
native DzClickFrame takes integer frame returns nothing
native DzSetCustomFovFix takes real value returns nothing
native DzEnableWideScreen takes boolean enable returns nothing
native DzFrameSetText takes integer frame, string text returns nothing
native DzFrameGetText takes integer frame returns string
native DzFrameSetTextSizeLimit takes integer frame, integer size returns nothing
native DzFrameGetTextSizeLimit takes integer frame returns integer
native DzFrameSetTextColor takes integer frame, integer color returns nothing
native DzGetMouseFocus takes nothing returns integer
native DzFrameSetAllPoints takes integer frame, integer relativeFrame returns boolean
native DzFrameSetFocus takes integer frame, boolean enable returns boolean
native DzFrameSetModel takes integer frame, string modelFile, integer modelType, integer flag returns nothing
native DzFrameGetEnable takes integer frame returns boolean
native DzFrameSetAlpha takes integer frame, integer alpha returns nothing
native DzFrameGetAlpha takes integer frame returns integer
native DzFrameSetAnimate takes integer frame, integer animId, boolean autocast returns nothing
native DzFrameSetAnimateOffset takes integer frame, real offset returns nothing
native DzFrameSetTexture takes integer frame, string texture, integer flag returns nothing
native DzFrameSetScale takes integer frame, real scale returns nothing
native DzFrameSetTooltip takes integer frame, integer tooltip returns nothing
native DzFrameCageMouse takes integer frame, boolean enable returns nothing
native DzFrameGetValue takes integer frame returns real
native DzFrameSetMinMaxValue takes integer frame, real minValue, real maxValue returns nothing
native DzFrameSetStepValue takes integer frame, real step returns nothing
native DzFrameSetValue takes integer frame, real value returns nothing
native DzFrameSetSize takes integer frame, real w, real h returns nothing
native DzCreateFrameByTagName takes string frameType, string name, integer parent, string template, integer id returns integer
native DzFrameSetVertexColor takes integer frame, integer color returns nothing
native EXGetEventDamageData takes integer edd_type returns integer
native EXSetEventDamage takes real amount returns boolean
native DzAPI_Map_SaveServerValue takes player whichPlayer, string key, string value returns boolean
native DzAPI_Map_GetServerValue takes player whichPlayer, string key returns string
native DzAPI_Map_Ladder_SetStat takes player whichPlayer, string key, string value returns nothing
native DzAPI_Map_IsRPGLadder takes nothing returns boolean
native DzAPI_Map_GetGameStartTime takes nothing returns integer
native DzAPI_Map_Stat_SetStat takes player whichPlayer, string key, string value returns nothing
native DzAPI_Map_GetMatchType takes nothing returns integer
native DzAPI_Map_Ladder_SetPlayerStat takes player whichPlayer, string key, string value returns nothing
native DzAPI_Map_GetServerValueErrorCode takes player whichPlayer returns integer
native DzAPI_Map_GetLadderLevel takes player whichPlayer returns integer
native DzAPI_Map_IsRedVIP takes player whichPlayer returns boolean
native DzAPI_Map_IsBlueVIP takes player whichPlayer returns boolean
native DzAPI_Map_GetLadderRank takes player whichPlayer returns integer
native DzAPI_Map_GetMapLevelRank takes player whichPlayer returns integer
native DzAPI_Map_GetGuildName takes player whichPlayer returns string
native DzAPI_Map_GetGuildRole takes player whichPlayer returns integer
native DzAPI_Map_IsRPGLobby takes nothing returns boolean
native DzAPI_Map_GetMapLevel takes player whichPlayer returns integer
native DzAPI_Map_MissionComplete takes player whichPlayer, string key, string value returns nothing
native DzAPI_Map_GetActivityData takes nothing returns string
native DzAPI_Map_GetMapConfig takes string key returns string
native DzAPI_Map_HasMallItem takes player whichPlayer, string key returns boolean


//Generated method caller for Frame.onDestroy
function sc__Frame_onDestroy takes integer this returns nothing
            if s__Frame_id[this] != 0 then
                call DzDestroyFrame(s__Frame_id[this])
            endif
            set s__Frame_id[this]=0
endfunction

//Generated allocator of Frame
function s__Frame__allocate takes nothing returns integer
 local integer this=si__Frame_F
    if (this!=0) then
        set si__Frame_F=si__Frame_V[this]
    else
        set si__Frame_I=si__Frame_I+1
        set this=si__Frame_I
    endif
    if (this>8190) then
        return 0
    endif

   set s__Frame_id[this]= 0
   set s__Frame_isShow[this]= true
   set s__Frame_isEnable[this]= true
   set s__Frame_hover[this]= false
    set si__Frame_V[this]=-1
 return this
endfunction

//Generated destructor of Frame
function sc__Frame_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Frame_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__Frame_onDestroy)
    set si__Frame_V[this]=si__Frame_F
    set si__Frame_F=this
endfunction

//Generated method caller for ShopWeapon.onDestroy
function sc__ShopWeapon_onDestroy takes integer this returns nothing
		set s__ShopWeapon_min_xiuxing[this]=0
		set s__ShopWeapon_id[this]=0
endfunction

//Generated method caller for ShopWeapon.PickUpWeapon
function sc__ShopWeapon_PickUpWeapon takes integer this,unit u,item it returns nothing
    set f__arg_this=this
    set f__arg_unit1=u
    set f__arg_item1=it
    call TriggerEvaluate(st__ShopWeapon_PickUpWeapon)
endfunction

//Generated allocator of ShopWeapon
function s__ShopWeapon__allocate takes nothing returns integer
 local integer this=si__ShopWeapon_F
    if (this!=0) then
        set si__ShopWeapon_F=si__ShopWeapon_V[this]
    else
        set si__ShopWeapon_I=si__ShopWeapon_I+1
        set this=si__ShopWeapon_I
    endif
    if (this>8190) then
        return 0
    endif

   set s__ShopWeapon_zhuanshu[this]= false
    set si__ShopWeapon_V[this]=-1
 return this
endfunction

//Generated destructor of ShopWeapon
function sc__ShopWeapon_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ShopWeapon_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__ShopWeapon_onDestroy)
    set si__ShopWeapon_V[this]=si__ShopWeapon_F
    set si__ShopWeapon_F=this
endfunction

//Generated method caller for ZiZhiWuGong.create
function sc__ZiZhiWuGong_create takes integer xishu,integer range,integer texiao,integer dapeishu,integer scrate returns integer
    set f__arg_integer1=xishu
    set f__arg_integer2=range
    set f__arg_integer3=texiao
    set f__arg_integer4=dapeishu
    set f__arg_integer5=scrate
    call TriggerEvaluate(st__ZiZhiWuGong_create)
 return f__result_integer
endfunction

//Generated method caller for ZiZhiWuGong.onDestroy
function sc__ZiZhiWuGong_onDestroy takes integer this returns nothing
		set s__ZiZhiWuGong_xishu[this]=0
		set s__ZiZhiWuGong_range[this]=0
		set s__ZiZhiWuGong_texiao[this]=0
		set s__ZiZhiWuGong_dapeishu[this]=0
		set s__ZiZhiWuGong_scrate[this]=0
endfunction

//Generated allocator of ZiZhiWuGong
function s__ZiZhiWuGong__allocate takes nothing returns integer
 local integer this=si__ZiZhiWuGong_F
    if (this!=0) then
        set si__ZiZhiWuGong_F=si__ZiZhiWuGong_V[this]
    else
        set si__ZiZhiWuGong_I=si__ZiZhiWuGong_I+1
        set this=si__ZiZhiWuGong_I
    endif
    if (this>8190) then
        return 0
    endif

   set s__ZiZhiWuGong_name[this]= "è‡ªåˆ›æ­¦åŠŸ"
    set si__ZiZhiWuGong_V[this]=-1
 return this
endfunction

//Generated destructor of ZiZhiWuGong
function sc__ZiZhiWuGong_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ZiZhiWuGong_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__ZiZhiWuGong_onDestroy)
    set si__ZiZhiWuGong_V[this]=si__ZiZhiWuGong_F
    set si__ZiZhiWuGong_F=this
endfunction

//Generated method caller for DaPei.onDestroy
function sc__DaPei_onDestroy takes integer this returns nothing
		set s__DaPei_wugongid[this]=0
		set s__DaPei_dapeixiaoguo[this]=0
		set s__DaPei_shxishu[this]=0
endfunction

//Generated method caller for DaPei.XiaoGuoShuoMing
function sc__DaPei_XiaoGuoShuoMing takes integer this returns string
  local string s= ""
		set s=s + "+" + GetAbilityName(s__DaPei_wugongid[this]) + "ï¼š"
		if s__DaPei_dapeixiaoguo[this] != 2 then
			set s=s + "ä¼¤å®³+" + I2S(R2I(s__DaPei_r[this] * 100)) + "%"
		else
			if R2I(s__DaPei_r[this]) == 1 then
				set s=s + "å‡ ç‡é€ æˆå†…ä¼¤"
			elseif R2I(s__DaPei_r[this]) == 2 then
				set s=s + "å‡ ç‡é€ æˆèµ°ç«å…¥é­”"
			elseif R2I(s__DaPei_r[this]) == 3 then
				set s=s + "å‡ ç‡é€ æˆæµè¡€"
			elseif R2I(s__DaPei_r[this]) == 4 then
				set s=s + "å‡ ç‡é€ æˆæ··ä¹±"
			elseif R2I(s__DaPei_r[this]) == 5 then
				set s=s + "å‡ ç‡é€ æˆæ˜è¿·"
			elseif R2I(s__DaPei_r[this]) == 6 then
				set s=s + "å‡ ç‡é€ æˆé‡ä¼¤"
			elseif R2I(s__DaPei_r[this]) == 7 then
				set s=s + "å‡ ç‡é€ æˆè¡€æµä¸æ­¢"
			elseif R2I(s__DaPei_r[this]) == 8 then
				set s=s + "å‡ ç‡é€ æˆéº»ç—¹"
			elseif R2I(s__DaPei_r[this]) == 9 then
				set s=s + "å‡ ç‡é€ æˆç ´é˜²"
			elseif R2I(s__DaPei_r[this]) == 10 then
				set s=s + "å‡ ç‡é€ æˆç¥ç»é”™ä¹±"
			elseif R2I(s__DaPei_r[this]) == 11 then
				set s=s + "å‡ ç‡é€ æˆå°ç©´"
			elseif R2I(s__DaPei_r[this]) == 12 then
				set s=s + "å‡ ç‡é€ æˆç©´ä½å…¨å°"
			elseif R2I(s__DaPei_r[this]) == 13 then
				set s=s + "å‡ ç‡é€ æˆä¸­æ¯’"
			endif
		endif
		return s
endfunction

//Generated allocator of DaPei
function s__DaPei__allocate takes nothing returns integer
 local integer this=si__DaPei_F
    if (this!=0) then
        set si__DaPei_F=si__DaPei_V[this]
    else
        set si__DaPei_I=si__DaPei_I+1
        set this=si__DaPei_I
    endif
    if (this>8190) then
        return 0
    endif

   set s__DaPei_shxishu[this]= 0.
    set si__DaPei_V[this]=-1
 return this
endfunction

//Generated destructor of DaPei
function sc__DaPei_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DaPei_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__DaPei_onDestroy)
    set si__DaPei_V[this]=si__DaPei_F
    set si__DaPei_F=this
endfunction

//Generated method caller for YDWEStringFormula___Inventory.onDestroy
function sc__YDWEStringFormula___Inventory_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__YDWEStringFormula___Inventory_onDestroy[3])
endfunction

//Generated allocator of YDWEStringFormula___Inventory
function s__YDWEStringFormula___Inventory__allocate takes nothing returns integer
 local integer this=si__YDWEStringFormula___Inventory_F
    if (this!=0) then
        set si__YDWEStringFormula___Inventory_F=si__YDWEStringFormula___Inventory_V[this]
    else
        set si__YDWEStringFormula___Inventory_I=si__YDWEStringFormula___Inventory_I+1
        set this=si__YDWEStringFormula___Inventory_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__YDWEStringFormula___Inventory_type[this]=3
    set si__YDWEStringFormula___Inventory_V[this]=-1
 return this
endfunction

//Generated destructor of YDWEStringFormula___Inventory
function sc__YDWEStringFormula___Inventory_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__YDWEStringFormula___Inventory_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__YDWEStringFormula___Inventory_onDestroy[si__YDWEStringFormula___Inventory_type[this]])
    set si__YDWEStringFormula___Inventory_V[this]=si__YDWEStringFormula___Inventory_F
    set si__YDWEStringFormula___Inventory_F=this
endfunction

//Generated allocator of YDWEStringFormula___StringTable
function s__YDWEStringFormula___StringTable__allocate takes nothing returns integer
 local integer this=s__YDWEStringFormula___Inventory__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWEStringFormula___Inventory_type[this]=4
    set kthis=this

 return this
endfunction


//Generated method caller for YDWETimerPattern___Thread.onDestroy
function sc__YDWETimerPattern___Thread_onDestroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__YDWETimerPattern___Thread_onDestroy[11])
endfunction

//Generated allocator of YDWETimerPattern___Thread
function s__YDWETimerPattern___Thread__allocate takes nothing returns integer
 local integer this=si__YDWETimerPattern___Thread_F
    if (this!=0) then
        set si__YDWETimerPattern___Thread_F=si__YDWETimerPattern___Thread_V[this]
    else
        set si__YDWETimerPattern___Thread_I=si__YDWETimerPattern___Thread_I+1
        set this=si__YDWETimerPattern___Thread_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__YDWETimerPattern___Thread_type[this]=11
    set si__YDWETimerPattern___Thread_V[this]=-1
 return this
endfunction

//Generated destructor of YDWETimerPattern___Thread
function sc__YDWETimerPattern___Thread_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__YDWETimerPattern___Thread_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__YDWETimerPattern___Thread_onDestroy[si__YDWETimerPattern___Thread_type[this]])
    set si__YDWETimerPattern___Thread_V[this]=si__YDWETimerPattern___Thread_F
    set si__YDWETimerPattern___Thread_F=this
endfunction

//Generated allocator of YDWETimerPattern___YDVector3
function s__YDWETimerPattern___YDVector3__allocate takes nothing returns integer
 local integer this=si__YDWETimerPattern___YDVector3_F
    if (this!=0) then
        set si__YDWETimerPattern___YDVector3_F=si__YDWETimerPattern___YDVector3_V[this]
    else
        set si__YDWETimerPattern___YDVector3_I=si__YDWETimerPattern___YDVector3_I+1
        set this=si__YDWETimerPattern___YDVector3_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__YDWETimerPattern___YDVector3_V[this]=-1
 return this
endfunction

//Generated destructor of YDWETimerPattern___YDVector3
function s__YDWETimerPattern___YDVector3_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__YDWETimerPattern___YDVector3_V[this]!=-1) then
        return
    endif
    set si__YDWETimerPattern___YDVector3_V[this]=si__YDWETimerPattern___YDVector3_F
    set si__YDWETimerPattern___YDVector3_F=this
endfunction

//Generated method caller for YDWEStringFormula___Sorting.onDestroy
function sc__YDWEStringFormula___Sorting_onDestroy takes integer this returns nothing
            local integer i= 0
            loop
                exitwhen i == s___YDWEStringFormula___Sorting_stack_size
                set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]=0
                set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]=0
                set i=i + 1
            endloop
            set s__YDWEStringFormula___Sorting_char[this]=""
endfunction

//Generated allocator of YDWEStringFormula___Sorting
function s__YDWEStringFormula___Sorting__allocate takes nothing returns integer
 local integer this=si__YDWEStringFormula___Sorting_F
    if (this!=0) then
        set si__YDWEStringFormula___Sorting_F=si__YDWEStringFormula___Sorting_V[this]
    else
        set si__YDWEStringFormula___Sorting_I=si__YDWEStringFormula___Sorting_I+1
        set this=si__YDWEStringFormula___Sorting_I
    endif
    if (this>1022) then
        return 0
    endif
    set s__YDWEStringFormula___Sorting_stack[this]=(this-1)*8
    set s__YDWEStringFormula___Sorting_count[this]=(this-1)*8
   set s__YDWEStringFormula___Sorting_total[this]= 7
    set si__YDWEStringFormula___Sorting_V[this]=-1
 return this
endfunction

//Generated destructor of YDWEStringFormula___Sorting
function sc__YDWEStringFormula___Sorting_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__YDWEStringFormula___Sorting_V[this]!=-1) then
        return
    endif
    set f__arg_this=this
    call TriggerEvaluate(st__YDWEStringFormula___Sorting_onDestroy)
    set si__YDWEStringFormula___Sorting_V[this]=si__YDWEStringFormula___Sorting_F
    set si__YDWEStringFormula___Sorting_F=this
endfunction

//Generated allocator of YDWETimerPattern___Deceleration
function s__YDWETimerPattern___Deceleration__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=14
    set kthis=this

 return this
endfunction


//Generated allocator of YDWETimerPattern___Parabola
function s__YDWETimerPattern___Parabola__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=12
    set kthis=this

 return this
endfunction


//Generated allocator of YDWETimerPattern___Linear
function s__YDWETimerPattern___Linear__allocate takes nothing returns integer
 local integer this=s__YDWETimerPattern___Thread__allocate()
 local integer kthis
    if(this==0) then
        return 0
    endif
    set si__YDWETimerPattern___Thread_type[this]=13
    set kthis=this

 return this
endfunction

function sc___prototype4_execute takes integer i,unit a1,real a2 returns nothing
    set f__arg_unit1=a1
    set f__arg_real1=a2

    call TriggerExecute(st___prototype4[i])
endfunction
function sc___prototype4_evaluate takes integer i,unit a1,real a2 returns nothing
    set f__arg_unit1=a1
    set f__arg_real1=a2

    call TriggerEvaluate(st___prototype4[i])

endfunction
function h__SetUnitMoveSpeed takes unit a0, real a1 returns nothing
    //hook: SetUnitMoveSpeedEx
    call sc___prototype4_evaluate(1,a0,a1)
call SetUnitMoveSpeed(a0,a1)
endfunction

//library FrameLibrary:
        function s__Frame_numadd takes integer this returns nothing
            set s__Frame_num=s__Frame_num + 1
        endfunction
        function s__Frame_getFrame takes integer id returns integer
            local integer f= LoadInteger(s__Frame_HT, FRAME_ID, id)
            if f == 0 then
                set f=s__Frame__allocate()
                set s__Frame_id[f]=id
                call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            endif
            return f
        endfunction
        function s__Frame_new takes string name,integer parent returns integer
            local integer f= s__Frame__allocate()
            set s__Frame_id[f]=DzCreateFrame(name, s__Frame_id[parent], 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_newImage0 takes integer parent returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BACKDROP", "Frame_Image" + I2S(s__Frame_num), s__Frame_id[parent], "ImageTemplate", 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
function s__Frame_newImage1 takes integer parent,string path,real l__w,real h returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BACKDROP", "Frame_Image" + I2S(s__Frame_num), s__Frame_id[parent], "ImageTemplate", 0)
            if path != null then
                call DzFrameSetTexture(s__Frame_id[f], path, 0)
            endif
            call DzFrameSetSize(s__Frame_id[f], l__w, h)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_newSprite takes integer parent,string path returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("SPRITE", "Frame_Sprite" + I2S(s__Frame_num), s__Frame_id[parent], "sprite", 0)
            call DzFrameSetModel(s__Frame_id[f], path, 0, 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
function s__Frame_newTips takes integer parent,string path,real l__w,real h returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BACKDROP", "Frame_Image" + I2S(s__Frame_num), s__Frame_id[parent], path, 0)
            call DzFrameSetSize(s__Frame_id[f], l__w, h)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
function s__Frame_newText0 takes integer parent,string l__ff returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("TEXT", "Frame_Text" + I2S(s__Frame_num), s__Frame_id[parent], l__ff, 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
function s__Frame_newText1 takes integer parent,string str,string l__ff returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("TEXT", "Frame_Text" + I2S(s__Frame_num), s__Frame_id[parent], l__ff, 0)
            call DzFrameSetText(s__Frame_id[f], str)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_newTextButton takes integer parent returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("GLUETEXTBUTTON", "Frame_Button" + I2S(s__Frame_num), s__Frame_id[parent], "template", 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_newButton0 takes integer parent returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BUTTON", "Frame_Button" + I2S(s__Frame_num), s__Frame_id[parent], "ButtonTemplate", 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
function s__Frame_newButton1 takes integer parent,real l__w,real h returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BUTTON", "Frame_Button" + I2S(s__Frame_num), s__Frame_id[parent], "ButtonTemplate", 0)
            call DzFrameSetSize(s__Frame_id[f], l__w, h)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_newButtonEmpty0 takes integer parent returns integer
             local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BUTTON", "Frame_ButtonEmpty" + I2S(s__Frame_num), s__Frame_id[parent], "ButtonTemplateEmpty", 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
function s__Frame_newButtonEmpty1 takes integer parent,real l__w,real h returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BUTTON", "Frame_ButtonEmpty" + I2S(s__Frame_num), s__Frame_id[parent], "ButtonTemplateEmpty", 0)
            call DzFrameSetSize(s__Frame_id[f], l__w, h)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_newCloseButton takes integer parent returns integer
            local integer f= s__Frame__allocate()
            call s__Frame_numadd(f)
            set s__Frame_id[f]=DzCreateFrameByTagName("BUTTON", "Frame_ButtonEmpty" + I2S(s__Frame_num), s__Frame_id[parent], "icon1", 0)
            call SaveInteger(s__Frame_HT, FRAME_ID, s__Frame_id[f], f)
            return f
        endfunction
        function s__Frame_setScale takes integer this,real r returns nothing
            call DzFrameSetScale(s__Frame_id[this], r)
        endfunction
        function s__Frame_setColor takes integer this,integer c returns nothing
            call DzFrameSetTextColor(s__Frame_id[this], c)
        endfunction
function s__Frame_setSize takes integer this,real l__w,real h returns nothing
            call DzFrameSetSize(s__Frame_id[this], l__w, h)
        endfunction
        function s__Frame_setTexture takes integer this,string path returns nothing
            call DzFrameSetTexture(s__Frame_id[this], path, 0)
        endfunction
        function s__Frame_setText takes integer this,string str returns nothing
            call DzFrameSetText(s__Frame_id[this], str)
        endfunction
        function s__Frame_setPoint takes integer this,integer a,integer tar,integer b,real x,real y returns nothing
            call DzFrameSetPoint(s__Frame_id[this], a, s__Frame_id[tar], b, x, y)
        endfunction
        function s__Frame_setColor255 takes integer this,integer r,integer g,integer b returns nothing
            call DzFrameSetTextColor(s__Frame_id[this], DzGetColor(255, r, g, b))
        endfunction
        function s__Frame_setAllPoints takes integer this,integer tar returns nothing
            call DzFrameSetAllPoints(s__Frame_id[this], s__Frame_id[tar])
        endfunction
        function s__Frame_clearAllPoints takes integer this returns nothing
            call DzFrameClearAllPoints(s__Frame_id[this])
        endfunction
        function s__Frame_regEvent takes integer this,integer i,code func returns nothing
            call DzFrameSetScriptByCode(s__Frame_id[this], i, func, false)
        endfunction
        function s__Frame_regWheelEvent takes integer this,code func returns nothing
            call DzFrameSetScriptByCode(s__Frame_id[this], 6, func, false)
        endfunction
        function s__Frame_regClickEvent takes integer this,code func returns nothing
            call DzFrameSetScriptByCode(s__Frame_id[this], 1, func, false)
        endfunction
        function s__Frame_hide takes integer this returns nothing
            call DzFrameShow(s__Frame_id[this], false)
            set s__Frame_isShow[this]=false
        endfunction
        function s__Frame_show takes integer this returns nothing
            call DzFrameShow(s__Frame_id[this], true)
            set s__Frame_isShow[this]=true
        endfunction
        function s__Frame_toggle takes integer this returns nothing
            if s__Frame_isShow[this] then
                call DzFrameShow(s__Frame_id[this], false)
                set s__Frame_isShow[this]=false
            else
                call DzFrameShow(s__Frame_id[this], true)
                set s__Frame_isShow[this]=true
            endif
        endfunction
        function s__Frame_toggerHover takes integer this,string path0,string path1 returns nothing
            if s__Frame_hover[this] then
                set s__Frame_hover[this]=false
                call DzFrameSetTexture(s__Frame_id[this], path0, 0)
            else
                set s__Frame_hover[this]=true
                call DzFrameSetTexture(s__Frame_id[this], path1, 0)
            endif
        endfunction
        function s__Frame_enable takes integer this returns nothing
            call DzFrameSetEnable(s__Frame_id[this], true)
            set s__Frame_isEnable[this]=true
        endfunction
        function s__Frame_disable takes integer this returns nothing
            call DzFrameSetEnable(s__Frame_id[this], false)
            set s__Frame_isEnable[this]=false
        endfunction
        function s__Frame_setAlpha takes integer this,integer a returns nothing
            call DzFrameSetAlpha(s__Frame_id[this], a)
        endfunction
        function s__Frame_onDestroy takes integer this returns nothing
            if s__Frame_id[this] != 0 then
                call DzDestroyFrame(s__Frame_id[this])
            endif
            set s__Frame_id[this]=0
        endfunction

//Generated destructor of Frame
function s__Frame_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Frame_V[this]!=-1) then
        return
    endif
    call s__Frame_onDestroy(this)
    set si__Frame_V[this]=si__Frame_F
    set si__Frame_F=this
endfunction
    function FrameLibrary__init takes nothing returns nothing
        local integer f= DzFrameGetTooltip()
        local real size= 0.75
        set GUI=s__Frame_getFrame(DzGetGameUI())
        //call openBoardButton.setText("ä»»åŠ¡")
        //call DzFrameClearAllPoints(f)
        //call DzFrameSetPoint(f, 7, DzGetGameUI(), 7, 0, .14)
    endfunction

//library FrameLibrary ends
//library MaxSpeed:
         //private:
         //temp variables







//Implemented from module Init:





         function s__ModSpeed_destroy takes integer this returns nothing
             set s__ModSpeed_speed[this]=0.
             if ( s__ModSpeed_next[this] != 0 ) then
                 set s__ModSpeed_prev[s__ModSpeed_next[this]]=s__ModSpeed_prev[this]
             endif
             set s__ModSpeed_next[s__ModSpeed_prev[this]]=s__ModSpeed_next[this]
             set s__ModSpeed_prev[this]=s__ModSpeed_prev[(0)]
             set s__ModSpeed_prev[(0)]=this
             if ( s__ModSpeed_next[(0)] == 0 ) then
                 call PauseTimer(s__ModSpeed_tm)



             endif







         endfunction
        function s__ModSpeed__get_moveFilter takes integer this returns boolean
             return GetUnitAbilityLevel(s__ModSpeed_u[this], 'BSTN') < 1 and GetUnitAbilityLevel(s__ModSpeed_u[this], 'BPSE') < 1 and GetUnitMoveSpeed(s__ModSpeed_u[this]) > 521.0 and not IsUnitPaused(s__ModSpeed_u[this]) and not s__ModSpeed_lead[this]
         endfunction
         function s__ModSpeed_move takes integer this returns nothing
             if ( not s__ModSpeed__get_moveFilter(this) ) then
                 return
             endif
             set s__ModSpeed_x=GetUnitX(s__ModSpeed_u[this])
             set s__ModSpeed_y=GetUnitY(s__ModSpeed_u[this])
             set s__ModSpeed_dx=s__ModSpeed_x - s__ModSpeed_lastX[this]
             set s__ModSpeed_dy=s__ModSpeed_y - s__ModSpeed_lastY[this]
             set s__ModSpeed_lastX[this]=s__ModSpeed_x
             set s__ModSpeed_lastY[this]=s__ModSpeed_y
             set s__ModSpeed_dist=SquareRoot(s__ModSpeed_dx * s__ModSpeed_dx + s__ModSpeed_dy * s__ModSpeed_dy) / MaxSpeed__PERIOD
             if ( s__ModSpeed_dist >= MaxSpeed__MIN_SPEED and s__ModSpeed_dist <= MaxSpeed__MAX_SPEED ) then
                 set s__ModSpeed_rate=( s__ModSpeed_speed[this] - 522. ) / s__ModSpeed_dist
                 set s__ModSpeed_lastX[this]=s__ModSpeed_x + s__ModSpeed_dx * s__ModSpeed_rate
                 set s__ModSpeed_lastY[this]=s__ModSpeed_y + s__ModSpeed_dy * s__ModSpeed_rate
                 call SetUnitX(s__ModSpeed_u[this], s__ModSpeed_lastX[this])
                 call SetUnitY(s__ModSpeed_u[this], s__ModSpeed_lastY[this])



             endif
         endfunction
         function s__ModSpeed_iterate takes nothing returns nothing
             local integer this= (0)
             loop
                 set this=s__ModSpeed_next[this]
                 exitwhen ( this == 0 )
                 if ( GetWidgetLife(s__ModSpeed_u[this]) < 0.405 ) then
                     call s__ModSpeed_destroy(this)
                 else
                     call s__ModSpeed_move(this)
                 endif
             endloop
         endfunction
         //public:
         function s__ModSpeed_getInstance takes unit u returns integer
             local integer this= (0)











                 loop
                     set this=s__ModSpeed_next[this]
                     exitwhen this == 0
                     if s__ModSpeed_u[this] == u then
                         return this
                     endif
                 endloop

             return (0)
         endfunction
         function s__ModSpeed_setUnitLed takes unit u,boolean b returns nothing
             local integer this= s__ModSpeed_getInstance(u)
             if ( this > 0 ) then
                 set s__ModSpeed_lead[this]=b
             endif
         endfunction
         function s__ModSpeed_getSpeed takes unit u returns real
             local integer this= s__ModSpeed_getInstance(u)
             if ( this > 0 and GetUnitMoveSpeed(u) > 521.0 ) then
                 return s__ModSpeed_speed[this]
             endif
             return GetUnitMoveSpeed(u)
         endfunction
         function s__ModSpeed_setSpeed takes unit u,real amount returns nothing
             local integer this
             if ( u == null or GetWidgetLife(u) < 0.405 ) then
                 return
             endif
             set this=s__ModSpeed_getInstance(u)
             if ( amount < 523. ) then
                 if ( this > 0 ) then
                     call s__ModSpeed_destroy(this)
                 endif
                 return
             elseif ( this == 0 ) then
                 if ( s__ModSpeed_prev[(0)] == 0 ) then
                     set s__ModSpeed_instanceMaxCount=s__ModSpeed_instanceMaxCount + 1
                     set this=s__ModSpeed_instanceMaxCount
                 else
                     set this=s__ModSpeed_prev[(0)]
                     set s__ModSpeed_prev[(0)]=s__ModSpeed_prev[s__ModSpeed_prev[(0)]]
                 endif
                 if ( s__ModSpeed_next[(0)] == 0 ) then
                     call TimerStart(s__ModSpeed_tm, MaxSpeed__PERIOD, true, function s__ModSpeed_iterate)



                 else
                     set s__ModSpeed_prev[s__ModSpeed_next[(0)]]=this
                 endif
                 set s__ModSpeed_next[this]=s__ModSpeed_next[(0)]
                 set s__ModSpeed_next[(0)]=this
                 set s__ModSpeed_prev[this]=(0)
                 set s__ModSpeed_u[this]=u







             endif
             set amount=RMinBJ(amount, MaxSpeed__MAX_SPEED)
             set s__ModSpeed_lastX[this]=GetUnitX(u)
             set s__ModSpeed_lastY[this]=GetUnitY(u)
             set s__ModSpeed_speed[this]=amount
         endfunction
     //interface:
     function SetUnitLed takes unit u,boolean b returns nothing
         call s__ModSpeed_setUnitLed(u , b)
     endfunction
     function GetUnitMoveSpeedEx takes unit u returns real
         return s__ModSpeed_getSpeed(u)
     endfunction
     function SetUnitMoveSpeedEx takes unit u,real speed returns nothing
         call s__ModSpeed_setSpeed(u , speed)
     endfunction
//processed hook:      hook SetUnitMoveSpeed SetUnitMoveSpeedEx

//library MaxSpeed ends
//library UniMissileSystem3D:
// è®¡ç®—ä¸¤ç‚¹é—´çš„è·ç¦»
function UniMissileSystem3D__DistanceBetweenXY takes real x1,real x2,real y1,real y2 returns real
    return SquareRoot(( x1 - x2 ) * ( x1 - x2 ) + ( y1 - y2 ) * ( y1 - y2 ))
endfunction
// è®¡ç®—ä¸¤ç‚¹é—´çš„è§’åº¦ï¼ˆè§’åº¦åˆ¶ï¼‰
function UniMissileSystem3D__AngleBetweenXY takes real x1,real x2,real y1,real y2 returns real
    return bj_RADTODEG * Atan2(y2 - y1, x2 - x1)
endfunction
// è®¡ç®—ä¸¤ä¸ªå•ä½é—´çš„è§’åº¦
function UniMissileSystem3D__GetAngleBetweenUnits takes unit l__A,unit l__B returns real
    return Atan2(GetUnitY(l__B) - GetUnitY(l__A), GetUnitX(l__B) - GetUnitX(l__A))
endfunction
// è®¡ç®—ä¸¤ä¸ªå•ä½é—´çš„è·ç¦»
function UniMissileSystem3D__DistanceBetweenUnits takes unit l__A,unit l__B returns real
    local real x1=GetUnitX(l__A)
    local real x2=GetUnitX(l__B)
    local real y1=GetUnitY(l__A)
    local real y2=GetUnitY(l__B)
    return SquareRoot(( x1 - x2 ) * ( x1 - x2 ) + ( y1 - y2 ) * ( y1 - y2 ))
endfunction
// è®¡ç®—åŠ é€Ÿçš„æ—¶é—´
// s = v0 * t + 1/2 * a * t * t
// a * t * t  + 2 * v0 * t - 2 * s = 0
// time1 = (- 2 * v0 + SquareRoot ( 4 * v0 *v0 + 8 * a * s)) / (2 * a)
function UniMissileSystem3D__GetAcceleratedTime takes real dis,real originspeed,real accel returns real
    local real time1=0.0
    local real time2=0.0
    set time1=( - 1 * originspeed + SquareRoot(Pow(originspeed, 2.0) + 2 * accel * dis) ) / accel
    set time2=( - 1 * originspeed - SquareRoot(Pow(originspeed, 2.0) + 2 * accel * dis) ) / accel
    if time1 == 0. then
       set time1=0.01
    endif
    if time2 == 0. then
       set time2=0.01
    endif
    if time1 > time2 then
       return time1
    endif
    return time2
endfunction
// ç™»è®°å¼¹å¹•
function UniMissileSystem3D__MRegister takes unit missile returns nothing
    call UnitAddAbility(missile, 'Arav') // é£æš´ä¹‹é¸¦
call UnitRemoveAbility(missile, 'Arav')
    call SetUnitPosition(missile, GetUnitX(missile), GetUnitY(missile))
    call SetUnitAnimationByIndex(missile, 90)
endfunction
// å°†iä»æ ˆä¸­ç§»é™¤ï¼Œä½¿ç”¨æ ˆé¡¶å…ƒç´ è¡¥å……i
function UniMissileSystem3D__MPop takes integer i returns nothing
     if GetUnitState(UniMissileSystem3D__MU[i], UNIT_STATE_LIFE) > 0.4 then
        call KillUnit(UniMissileSystem3D__MU[i])
     endif
     call DestroyEffect(UniMissileSystem3D__EFL[i])
     set UniMissileSystem3D__MU[i]=UniMissileSystem3D__MU[UniMissileSystem3D__Top]
     set UniMissileSystem3D__SP[i]=UniMissileSystem3D__SP[UniMissileSystem3D__Top]
     set UniMissileSystem3D__RA[i]=UniMissileSystem3D__RA[UniMissileSystem3D__Top]
     set UniMissileSystem3D__DM[i]=UniMissileSystem3D__DM[UniMissileSystem3D__Top]
     set UniMissileSystem3D__DI[i]=UniMissileSystem3D__DI[UniMissileSystem3D__Top]
     set UniMissileSystem3D__AN[i]=UniMissileSystem3D__AN[UniMissileSystem3D__Top]
     set UniMissileSystem3D__HE[i]=UniMissileSystem3D__HE[UniMissileSystem3D__Top]
     set UniMissileSystem3D__HEMax[i]=UniMissileSystem3D__HEMax[UniMissileSystem3D__Top]
     set UniMissileSystem3D__US[i]=UniMissileSystem3D__US[UniMissileSystem3D__Top]
     set UniMissileSystem3D__ARC[i]=UniMissileSystem3D__ARC[UniMissileSystem3D__Top]
     set UniMissileSystem3D__HP[i]=UniMissileSystem3D__HP[UniMissileSystem3D__Top]
     set UniMissileSystem3D__EF[i]=UniMissileSystem3D__EF[UniMissileSystem3D__Top]
     set UniMissileSystem3D__EFL[i]=UniMissileSystem3D__EFL[UniMissileSystem3D__Top]
     set UniMissileSystem3D__SH[i]=UniMissileSystem3D__SH[UniMissileSystem3D__Top]
     set UniMissileSystem3D__MGra[i]=UniMissileSystem3D__MGra[UniMissileSystem3D__Top]
     set UniMissileSystem3D__LOC[i]=UniMissileSystem3D__LOC[UniMissileSystem3D__Top]
     set UniMissileSystem3D__TIM[i]=UniMissileSystem3D__TIM[UniMissileSystem3D__Top]
     set UniMissileSystem3D__LT[i]=UniMissileSystem3D__LT[UniMissileSystem3D__Top]
     set UniMissileSystem3D__SZ[i]=UniMissileSystem3D__SZ[UniMissileSystem3D__Top]
     set UniMissileSystem3D__RI[i]=UniMissileSystem3D__RI[UniMissileSystem3D__Top]
     set UniMissileSystem3D__R01[i]=UniMissileSystem3D__R01[UniMissileSystem3D__Top]
     set UniMissileSystem3D__R02[i]=UniMissileSystem3D__R02[UniMissileSystem3D__Top]
     set UniMissileSystem3D__MT[i]=UniMissileSystem3D__MT[UniMissileSystem3D__Top]
     set UniMissileSystem3D__OH[i]=UniMissileSystem3D__OH[UniMissileSystem3D__Top]
     set UniMissileSystem3D__OS[i]=UniMissileSystem3D__OS[UniMissileSystem3D__Top]
     set UniMissileSystem3D__OF[i]=UniMissileSystem3D__OF[UniMissileSystem3D__Top]
     set UniMissileSystem3D__ACC[i]=UniMissileSystem3D__ACC[UniMissileSystem3D__Top]
     set UniMissileSystem3D__MaxS[i]=UniMissileSystem3D__MaxS[UniMissileSystem3D__Top]
     set UniMissileSystem3D__MKs[i]=UniMissileSystem3D__MKs[UniMissileSystem3D__Top]
     set UniMissileSystem3D__SPX[i]=UniMissileSystem3D__SPX[UniMissileSystem3D__Top]
     set UniMissileSystem3D__SPY[i]=UniMissileSystem3D__SPY[UniMissileSystem3D__Top]
     set UniMissileSystem3D__LastX[i]=UniMissileSystem3D__LastX[UniMissileSystem3D__Top]
     set UniMissileSystem3D__LastY[i]=UniMissileSystem3D__LastY[UniMissileSystem3D__Top]
     set UniMissileSystem3D__IN[i]=UniMissileSystem3D__IN[UniMissileSystem3D__Top]
     set UniMissileSystem3D__LastOwner[i]=UniMissileSystem3D__LastOwner[UniMissileSystem3D__Top]
     set UniMissileSystem3D__MU[UniMissileSystem3D__Top]=null
     set UniMissileSystem3D__MT[UniMissileSystem3D__Top]=null
     set UniMissileSystem3D__Top=UniMissileSystem3D__Top - 1
endfunction
// åˆ¤æ–­æ˜¯å¦è¶Šç•Œ
function UniMissileSystem3D__MLimit takes real x,real y returns boolean
     if x > UniMissileSystem3D__map_max_X or x < UniMissileSystem3D__map_min_X or y > UniMissileSystem3D__map_max_Y or y < UniMissileSystem3D__map_min_Y then //è¾¹ç•Œåˆ¤å®š
        return true
     else
        return false
     endif
endfunction
// å¼¹å¹•å¾ªç¯
function UniMissileSystem3D__MLoop takes nothing returns nothing
     local integer i=UniMissileSystem3D__Top
     local real array x
     local real array y
     local real array zLoc
     local real h=0.00
     local real h2=0.0
     local real time=0.0
     local real ttime=0.0
     local real ang=0.0
     local real height=0.0
     local real lastheight=0.0
     local real addxy=0.0
     local real addz=0.0
     local real anglez=0.0
     local real tanZ=0.0
     local real addh=0.0
     local real udis=0.0
     local real targetheight=0.0
     local integer aniI=0
     if MissileTimerPause == true then
        return
     endif
     loop
         exitwhen i < 0
         set addh=0.0
         set udis=0.0
         set x[1]=GetUnitX(UniMissileSystem3D__MU[i])
         set y[1]=GetUnitY(UniMissileSystem3D__MU[i])
         set height=GetUnitFlyHeight(UniMissileSystem3D__MU[i])
         if UniMissileSystem3D__DI[i] <= 0.0 or GetUnitState(UniMissileSystem3D__MU[i], UNIT_STATE_LIFE) < 0.4 or height <= 0.1 or UniMissileSystem3D__HP[i] <= 0.0 or UniMissileSystem3D__MLimit(x[1] , y[1]) == true or height >= 9999.1 then
             call UniMissileSystem3D__MPop(i)
         else
             if UniMissileSystem3D__MT[i] != null then
                set UniMissileSystem3D__AN[i]=UniMissileSystem3D__AngleBetweenXY(x[1] , GetUnitX(UniMissileSystem3D__MT[i]) , y[1] , GetUnitY(UniMissileSystem3D__MT[i]))
                set ang=UniMissileSystem3D__AN[i] * bj_DEGTORAD
                if UniMissileSystem3D__IN[i] == 0 then
                   set UniMissileSystem3D__SPX[i]=UniMissileSystem3D__SP[i] * Cos(ang)
                   set UniMissileSystem3D__SPY[i]=UniMissileSystem3D__SP[i] * Sin(ang)
                else
                   set ang=ang + UniMissileSystem3D__OF[i]
                   set UniMissileSystem3D__SPX[i]=UniMissileSystem3D__SPX[i] * UniMissileSystem3D__MKs[i] + UniMissileSystem3D__ACC[i] * Cos(ang)
                   set UniMissileSystem3D__SPY[i]=UniMissileSystem3D__SPY[i] * UniMissileSystem3D__MKs[i] + UniMissileSystem3D__ACC[i] * Sin(ang)
                endif
                if IsUnitType(UniMissileSystem3D__MT[i], UNIT_TYPE_DEAD) == true then
                   set UniMissileSystem3D__MT[i]=null
                endif
                set udis=UniMissileSystem3D__DistanceBetweenUnits(UniMissileSystem3D__MT[i] , UniMissileSystem3D__MU[i]) / 100.
                if udis == 0. then
                   set udis=0.01
                endif
                set targetheight=GetUnitFlyHeight(UniMissileSystem3D__MT[i])
                if RAbsBJ(height - targetheight) > UniMissileSystem3D__RA[i] then
                   if targetheight > height then
                      set addh=RAbsBJ(UniMissileSystem3D__SP[i]) / udis
                      if addh + height > targetheight then
                         set addh=addh / 10.
                         call SetUnitFlyHeight(UniMissileSystem3D__MU[i], targetheight, 0.0)
                         set height=targetheight
                      endif
                   elseif targetheight < height then
                          set addh=RAbsBJ(UniMissileSystem3D__SP[i]) * ( - 1. ) / udis
                          if addh + height < targetheight then
                             call SetUnitFlyHeight(UniMissileSystem3D__MU[i], targetheight, 0.0)
                             set height=targetheight
                          endif
                   endif
                endif
             else
                set ang=UniMissileSystem3D__AN[i] * bj_DEGTORAD
                set UniMissileSystem3D__SPX[i]=UniMissileSystem3D__SP[i] * Cos(ang)
                set UniMissileSystem3D__SPY[i]=UniMissileSystem3D__SP[i] * Sin(ang)
                if UniMissileSystem3D__LOC[i] == 0.0 then
                   set UniMissileSystem3D__SP[i]=UniMissileSystem3D__SP[i] + UniMissileSystem3D__ACC[i]
                else
                   if UniMissileSystem3D__SP[i] <= UniMissileSystem3D__MaxS[i] then
                     set UniMissileSystem3D__SP[i]=UniMissileSystem3D__SP[i] + UniMissileSystem3D__ACC[i]
                   else
                     set UniMissileSystem3D__SP[i]=UniMissileSystem3D__MaxS[i]
                   endif
                endif
             endif
             set x[2]=x[1] + UniMissileSystem3D__SPX[i]
             set y[2]=y[1] + UniMissileSystem3D__SPY[i]
             set UniMissileSystem3D__MLoc[1]=Location(x[1], y[1])
             set UniMissileSystem3D__MLoc[2]=Location(x[2], y[2])
             set zLoc[1]=GetLocationZ(UniMissileSystem3D__MLoc[1])
             set zLoc[2]=GetLocationZ(UniMissileSystem3D__MLoc[2])
             call SetUnitX(UniMissileSystem3D__MU[i], x[2])
             call SetUnitY(UniMissileSystem3D__MU[i], y[2])
             set UniMissileSystem3D__LastX[i]=x[2]
             set UniMissileSystem3D__LastY[i]=y[2]
             set addxy=UniMissileSystem3D__DistanceBetweenXY(x[2] , x[1] , y[2] , y[1])
             call SetUnitFacing(UniMissileSystem3D__MU[i], UniMissileSystem3D__AN[i])
             call GroupEnumUnitsInRange(UniMissileSystem3D__DamageGroup, x[2], y[2], UniMissileSystem3D__RA[i], null)
             loop
                 set UniMissileSystem3D__DamageUnit=FirstOfGroup(UniMissileSystem3D__DamageGroup)
                 if GetUnitState(UniMissileSystem3D__DamageUnit, UNIT_STATE_LIFE) > 0.4 and ( UniMissileSystem3D__MT[i] == UniMissileSystem3D__DamageUnit or IsUnitEnemy(UniMissileSystem3D__DamageUnit, GetOwningPlayer(UniMissileSystem3D__MU[i])) ) then
                     if RAbsBJ(height - GetUnitFlyHeight(UniMissileSystem3D__DamageUnit)) <= UniMissileSystem3D__RA[i] then
                        call UnitDamageTarget(UniMissileSystem3D__MU[i], UniMissileSystem3D__DamageUnit, UniMissileSystem3D__DM[i], true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
                        set UniMissileSystem3D__HP[i]=UniMissileSystem3D__HP[i] - 1.
                        set UniMissileSystem3D__DM[i]=UniMissileSystem3D__DM[i] * 0.5
                     endif
                 endif
                 call GroupRemoveUnit(UniMissileSystem3D__DamageGroup, UniMissileSystem3D__DamageUnit)
                 exitwhen UniMissileSystem3D__DamageUnit == null
             endloop
             call GroupClear(UniMissileSystem3D__DamageGroup)
             set UniMissileSystem3D__TIM[i]=UniMissileSystem3D__TIM[i] + UniMissileSystem3D__TIMOut
            if UniMissileSystem3D__MGra[i] == 0.0 then
            set h=0.11 + UniMissileSystem3D__SZ[i] - zLoc[2]
            endif
            if UniMissileSystem3D__LOC[i] == 0.0 then
             if UniMissileSystem3D__MGra[i] == 0.0 then
             else
             set h=UniMissileSystem3D__HEMax[i] - UniMissileSystem3D__R01[i] * ( UniMissileSystem3D__TIM[i] - UniMissileSystem3D__LT[i] / 2 ) * ( UniMissileSystem3D__TIM[i] - UniMissileSystem3D__LT[i] / 2 ) + UniMissileSystem3D__TIM[i] * UniMissileSystem3D__R02[i] + UniMissileSystem3D__SZ[i] - zLoc[2]
             endif
            else
             set UniMissileSystem3D__US[i]=UniMissileSystem3D__US[i] - UniMissileSystem3D__MGra[i]
            endif
             set lastheight=height
             set UniMissileSystem3D__HE[i]=UniMissileSystem3D__HE[i] * UniMissileSystem3D__LOC[i] + UniMissileSystem3D__SH[i] + UniMissileSystem3D__US[i] * UniMissileSystem3D__LOC[i] + h * ( 1 - UniMissileSystem3D__LOC[i] ) + addh
             set height=UniMissileSystem3D__HE[i] - zLoc[2] * UniMissileSystem3D__LOC[i]
             call SetUnitFlyHeight(UniMissileSystem3D__MU[i], height, 0.0)
             set addz=height - lastheight
             if addxy == 0. then
                set addxy=1.
             endif
             set tanZ=addz / addxy
             set anglez=AtanBJ(tanZ)
             set anglez=anglez * ( 1. ) + 90.
             set aniI=R2I(anglez)
             if aniI < 0 then
                set aniI=0
             elseif aniI > 181 then
                set aniI=181
             endif
             call SetUnitAnimationByIndex(UniMissileSystem3D__MU[i], aniI)
             set UniMissileSystem3D__DI[i]=UniMissileSystem3D__DI[i] - UniMissileSystem3D__SP[i] * UniMissileSystem3D__LOC[i]
             set UniMissileSystem3D__US[i]=UniMissileSystem3D__US[i] - UniMissileSystem3D__MGra[i]
             call RemoveLocation(UniMissileSystem3D__MLoc[1])
             call RemoveLocation(UniMissileSystem3D__MLoc[2])
         endif
         set i=i - 1
     endloop
endfunction
// å¼¹å¹•å‘å°„
function MissileCast takes unit caster,unit missile,real originspeed,real maxspeed,real accel,real angle,real distance,real arc,real range,real damage,location loc,unit target,real height,real l__hp,string Effect,boolean gravity returns nothing
     local integer i=0
     local integer n=0
     local real tanA=0.01
     local real speed=600
     local real dis=0.01
     local real ang=0.01
     local real x=0.01
     local real y=0.01
     local boolean inertia=true
     if loc == null then
        return
     endif
     set UniMissileSystem3D__Top=UniMissileSystem3D__Top + 1
     set i=UniMissileSystem3D__Top
     set UniMissileSystem3D__HeroLoc=GetUnitLoc(caster)
     if speed == 0. then
        set speed=0.01
     endif
     if originspeed == 0. then
        set originspeed=0.01
     endif
     if maxspeed == 0. then
        set maxspeed=0.01
     endif
     if distance == 0. then
        set distance=0.01
     endif
     if height == 0. then
        set height=0.1
     endif
     if GetLocationX(loc) != GetLocationX(UniMissileSystem3D__HeroLoc) or GetLocationY(loc) != GetLocationY(UniMissileSystem3D__HeroLoc) then
        set x=GetLocationX(loc)
        set y=GetLocationY(loc)
        set ang=UniMissileSystem3D__AngleBetweenXY(GetUnitX(caster) , x , GetUnitY(caster) , y)
        set dis=UniMissileSystem3D__DistanceBetweenXY(x , GetUnitX(caster) , y , GetUnitY(caster))
        set UniMissileSystem3D__LOC[i]=0.0
     else
        set ang=angle
        set dis=distance
        set UniMissileSystem3D__LOC[i]=1.0
     endif
     if gravity == true then
        set UniMissileSystem3D__MGra[i]=UniMissileSystem3D__Gravity
     else
        set UniMissileSystem3D__MGra[i]=0.0
     endif
     set UniMissileSystem3D__MU[i]=missile
     call UniMissileSystem3D__MRegister(UniMissileSystem3D__MU[i])
     set UniMissileSystem3D__OH[i]=GetUnitFlyHeight(caster) + height
     set UniMissileSystem3D__SZ[i]=GetLocationZ(UniMissileSystem3D__HeroLoc) + UniMissileSystem3D__OH[i]
     if originspeed == maxspeed then
        set speed=originspeed
        set accel=0.0
        set inertia=false
        set UniMissileSystem3D__LT[i]=dis / speed
     else
        set inertia=true
        set UniMissileSystem3D__LT[i]=UniMissileSystem3D__GetAcceleratedTime(dis , originspeed , accel)
     endif
     set UniMissileSystem3D__SP[i]=originspeed * UniMissileSystem3D__TIMOut
     set UniMissileSystem3D__MaxS[i]=maxspeed
     set UniMissileSystem3D__RI[i]=( GetLocationZ(loc) - UniMissileSystem3D__SZ[i] ) / dis
     set UniMissileSystem3D__TIM[i]=0
     set UniMissileSystem3D__IN[i]=0
     if target != null then
        if GetUnitState(target, UNIT_STATE_LIFE) > 0.4 then
        set UniMissileSystem3D__MT[i]=target
        if inertia == true then
           set UniMissileSystem3D__OS[i]=originspeed * UniMissileSystem3D__TIMOut
           set UniMissileSystem3D__OF[i]=Deg2Rad(50)
           set UniMissileSystem3D__SPX[i]=UniMissileSystem3D__OS[i] * Cos(ang)
           set UniMissileSystem3D__SPY[i]=UniMissileSystem3D__OS[i] * Sin(ang)
           set UniMissileSystem3D__MKs[i]=1 - accel * UniMissileSystem3D__TIMOut / maxspeed
        endif
        endif
     endif
     set UniMissileSystem3D__ACC[i]=accel * UniMissileSystem3D__TIMOut * UniMissileSystem3D__TIMOut
     if inertia == true then
        set UniMissileSystem3D__IN[i]=1
     endif
     set UniMissileSystem3D__RA[i]=range
     set UniMissileSystem3D__DM[i]=damage
     set UniMissileSystem3D__AN[i]=ang
     set UniMissileSystem3D__ARC[i]=arc
     set UniMissileSystem3D__MaxS[i]=maxspeed * UniMissileSystem3D__TIMOut
     if arc != 0.0 then
        set UniMissileSystem3D__HEMax[i]=dis * UniMissileSystem3D__ARC[i]
     else
        set UniMissileSystem3D__HEMax[i]=height
     endif
     if GetLocationX(loc) == GetLocationX(UniMissileSystem3D__HeroLoc) and GetLocationY(loc) == GetLocationY(UniMissileSystem3D__HeroLoc) then
        set UniMissileSystem3D__ANZ[i]=AtanBJ(arc)
        set UniMissileSystem3D__US[i]=arc * UniMissileSystem3D__SP[i]
        set UniMissileSystem3D__DI[i]=distance
     else
        set UniMissileSystem3D__US[i]=0
        set UniMissileSystem3D__DI[i]=dis
     endif
     call SetUnitX(UniMissileSystem3D__MU[i], GetLocationX(UniMissileSystem3D__HeroLoc))
     call SetUnitY(UniMissileSystem3D__MU[i], GetLocationY(UniMissileSystem3D__HeroLoc))
     call SetUnitOwner(UniMissileSystem3D__MU[i], GetOwningPlayer(caster), true)
     call SetUnitFacing(UniMissileSystem3D__MU[i], UniMissileSystem3D__AN[i])
     set UniMissileSystem3D__HE[i]=UniMissileSystem3D__OH[i] + GetLocationZ(UniMissileSystem3D__HeroLoc) + 0.11
     set UniMissileSystem3D__SH[i]=0 * speed
     set UniMissileSystem3D__LastX[i]=0.0
     set UniMissileSystem3D__LastY[i]=0.0
     set UniMissileSystem3D__R01[i]=UniMissileSystem3D__HEMax[i] / UniMissileSystem3D__LT[i] / UniMissileSystem3D__LT[i] * 4
     set UniMissileSystem3D__R02[i]=UniMissileSystem3D__SP[i] * UniMissileSystem3D__RI[i] / UniMissileSystem3D__TIMOut
     set UniMissileSystem3D__HP[i]=l__hp
     set UniMissileSystem3D__DM[i]=damage
     set UniMissileSystem3D__EF[i]=Effect
     call SetUnitFlyHeight(UniMissileSystem3D__MU[i], UniMissileSystem3D__HE[i] - GetLocationZ(UniMissileSystem3D__HeroLoc), 0.0)
     set UniMissileSystem3D__EFL[i]=AddSpecialEffectTarget(UniMissileSystem3D__EF[i], UniMissileSystem3D__MU[i], "chest")
     set UniMissileSystem3D__LastOwner[i]=GetOwningPlayer(caster)
     call RemoveLocation(UniMissileSystem3D__HeroLoc)
     set UniMissileSystem3D__HeroLoc=null
endfunction
function UniMissileSystem3D__Init takes nothing returns nothing
     set UniMissileSystem3D__map_max_X=GetRectMaxX(bj_mapInitialPlayableArea)
     set UniMissileSystem3D__map_max_Y=GetRectMaxY(bj_mapInitialPlayableArea)
     set UniMissileSystem3D__map_min_X=GetRectMinX(bj_mapInitialPlayableArea)
     set UniMissileSystem3D__map_min_Y=GetRectMinY(bj_mapInitialPlayableArea)
     set UniMissileSystem3D__DamageGroup=CreateGroup()
     set UniMissileSystem3D__TIMr=CreateTimer()
     call TimerStart(UniMissileSystem3D__TIMr, UniMissileSystem3D__TIMOut, true, function UniMissileSystem3D__MLoop)
endfunction

//library UniMissileSystem3D ends
//library YDTriggerSaveLoadSystem:
    function YDTriggerSaveLoadSystem__Init takes nothing returns nothing
            set YDHT=InitHashtable()
        set YDLOC=InitHashtable()
    endfunction

//library YDTriggerSaveLoadSystem ends
//library YDWEAbilityState:











 function YDWEGetUnitAbilityState takes unit u,integer abilcode,integer state_type returns real
		return EXGetAbilityState(EXGetUnitAbility(u, abilcode), state_type)
	endfunction
 function YDWEGetUnitAbilityDataInteger takes unit u,integer abilcode,integer level,integer data_type returns integer
		return EXGetAbilityDataInteger(EXGetUnitAbility(u, abilcode), level, data_type)
	endfunction
 function YDWEGetUnitAbilityDataReal takes unit u,integer abilcode,integer level,integer data_type returns real
		return EXGetAbilityDataReal(EXGetUnitAbility(u, abilcode), level, data_type)
	endfunction
 function YDWEGetUnitAbilityDataString takes unit u,integer abilcode,integer level,integer data_type returns string
		return EXGetAbilityDataString(EXGetUnitAbility(u, abilcode), level, data_type)
	endfunction
 function YDWESetUnitAbilityState takes unit u,integer abilcode,integer state_type,real value returns boolean
		return EXSetAbilityState(EXGetUnitAbility(u, abilcode), state_type, value)
	endfunction
 function YDWESetUnitAbilityDataInteger takes unit u,integer abilcode,integer level,integer data_type,integer value returns boolean
		return EXSetAbilityDataInteger(EXGetUnitAbility(u, abilcode), level, data_type, value)
	endfunction
 function YDWESetUnitAbilityDataReal takes unit u,integer abilcode,integer level,integer data_type,real value returns boolean
		return EXSetAbilityDataReal(EXGetUnitAbility(u, abilcode), level, data_type, value)
	endfunction
 function YDWESetUnitAbilityDataString takes unit u,integer abilcode,integer level,integer data_type,string value returns boolean
		return EXSetAbilityDataString(EXGetUnitAbility(u, abilcode), level, data_type, value)
	endfunction

 function YDWEUnitTransform takes unit u,integer abilcode,integer targetid returns nothing
		call UnitAddAbility(u, abilcode)
		call EXSetAbilityDataInteger(EXGetUnitAbility(u, abilcode), 1, YDWEAbilityState___ABILITY_DATA_UNITID, GetUnitTypeId(u))
		call EXSetAbilityAEmeDataA(EXGetUnitAbility(u, abilcode), GetUnitTypeId(u))
		call UnitRemoveAbility(u, abilcode)
		call UnitAddAbility(u, abilcode)
		call EXSetAbilityAEmeDataA(EXGetUnitAbility(u, abilcode), targetid)
		call UnitRemoveAbility(u, abilcode)
	endfunction


 function YDWEGetItemDataString takes integer itemcode,integer data_type returns string
		return EXGetItemDataString(itemcode, data_type)
	endfunction
 function YDWESetItemDataString takes integer itemcode,integer data_type,string value returns boolean
		return EXSetItemDataString(itemcode, data_type, value)
	endfunction

//library YDWEAbilityState ends
//library YDWEBase:
//===========================================================================
//HashTable
//===========================================================================
//===========================================================================
//Return bug
//===========================================================================
function YDWEH2I takes handle h returns integer
    return GetHandleId(h)
endfunction
//ï¿½ï¿½ï¿½ï¿½
function YDWEFlushAllData takes nothing returns nothing
    call FlushParentHashtable(YDHT)
endfunction
function YDWEFlushMissionByInteger takes integer i returns nothing
    call FlushChildHashtable(YDHT, i)
endfunction
function YDWEFlushMissionByString takes string s returns nothing
    call FlushChildHashtable(YDHT, StringHash(s))
endfunction
function YDWEFlushStoredIntegerByInteger takes integer i,integer j returns nothing
    call RemoveSavedInteger(YDHT, i, j)
endfunction
function YDWEFlushStoredIntegerByString takes string s1,string s2 returns nothing
    call RemoveSavedInteger(YDHT, StringHash(s1), StringHash(s2))
endfunction
function YDWEHaveSavedIntegerByInteger takes integer i,integer j returns boolean
    return HaveSavedInteger(YDHT, i, j)
endfunction
function YDWEHaveSavedIntegerByString takes string s1,string s2 returns boolean
    return HaveSavedInteger(YDHT, StringHash(s1), StringHash(s2))
endfunction
//store and get integer
function YDWESaveIntegerByInteger takes integer pTable,integer pKey,integer i returns nothing
    call SaveInteger(YDHT, pTable, pKey, i)
endfunction
function YDWESaveIntegerByString takes string pTable,string pKey,integer i returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), i)
endfunction
function YDWEGetIntegerByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetIntegerByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//store and get real
function YDWESaveRealByInteger takes integer pTable,integer pKey,real r returns nothing
    call SaveReal(YDHT, pTable, pKey, r)
endfunction
function YDWESaveRealByString takes string pTable,string pKey,real r returns nothing
    call SaveReal(YDHT, StringHash(pTable), StringHash(pKey), r)
endfunction
function YDWEGetRealByInteger takes integer pTable,integer pKey returns real
    return LoadReal(YDHT, pTable, pKey)
endfunction
function YDWEGetRealByString takes string pTable,string pKey returns real
    return LoadReal(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//store and get string
function YDWESaveStringByInteger takes integer pTable,integer pKey,string s returns nothing
    call SaveStr(YDHT, pTable, pKey, s)
endfunction
function YDWESaveStringByString takes string pTable,string pKey,string s returns nothing
    call SaveStr(YDHT, StringHash(pTable), StringHash(pKey), s)
endfunction
function YDWEGetStringByInteger takes integer pTable,integer pKey returns string
    return LoadStr(YDHT, pTable, pKey)
endfunction
function YDWEGetStringByString takes string pTable,string pKey returns string
    return LoadStr(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//store and get boolean
function YDWESaveBooleanByInteger takes integer pTable,integer pKey,boolean b returns nothing
    call SaveBoolean(YDHT, pTable, pKey, b)
endfunction
function YDWESaveBooleanByString takes string pTable,string pKey,boolean b returns nothing
    call SaveBoolean(YDHT, StringHash(pTable), StringHash(pKey), b)
endfunction
function YDWEGetBooleanByInteger takes integer pTable,integer pKey returns boolean
    return LoadBoolean(YDHT, pTable, pKey)
endfunction
function YDWEGetBooleanByString takes string pTable,string pKey returns boolean
    return LoadBoolean(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Unit
function YDWESaveUnitByInteger takes integer pTable,integer pKey,unit u returns nothing
    call SaveUnitHandle(YDHT, pTable, pKey, u)
endfunction
function YDWESaveUnitByString takes string pTable,string pKey,unit u returns nothing
    call SaveUnitHandle(YDHT, StringHash(pTable), StringHash(pKey), u)
endfunction
function YDWEGetUnitByInteger takes integer pTable,integer pKey returns unit
    return LoadUnitHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetUnitByString takes string pTable,string pKey returns unit
    return LoadUnitHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert UnitID
function YDWESaveUnitIDByInteger takes integer pTable,integer pKey,integer uid returns nothing
    call SaveInteger(YDHT, pTable, pKey, uid)
endfunction
function YDWESaveUnitIDByString takes string pTable,string pKey,integer uid returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), uid)
endfunction
function YDWEGetUnitIDByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetUnitIDByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert AbilityID
function YDWESaveAbilityIDByInteger takes integer pTable,integer pKey,integer abid returns nothing
    call SaveInteger(YDHT, pTable, pKey, abid)
endfunction
function YDWESaveAbilityIDByString takes string pTable,string pKey,integer abid returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), abid)
endfunction
function YDWEGetAbilityIDByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetAbilityIDByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Player
function YDWESavePlayerByInteger takes integer pTable,integer pKey,player p returns nothing
    call SavePlayerHandle(YDHT, pTable, pKey, p)
endfunction
function YDWESavePlayerByString takes string pTable,string pKey,player p returns nothing
    call SavePlayerHandle(YDHT, StringHash(pTable), StringHash(pKey), p)
endfunction
function YDWEGetPlayerByInteger takes integer pTable,integer pKey returns player
    return LoadPlayerHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetPlayerByString takes string pTable,string pKey returns player
    return LoadPlayerHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Item
function YDWESaveItemByInteger takes integer pTable,integer pKey,item it returns nothing
    call SaveItemHandle(YDHT, pTable, pKey, it)
endfunction
function YDWESaveItemByString takes string pTable,string pKey,item it returns nothing
    call SaveItemHandle(YDHT, StringHash(pTable), StringHash(pKey), it)
endfunction
function YDWEGetItemByInteger takes integer pTable,integer pKey returns item
    return LoadItemHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetItemByString takes string pTable,string pKey returns item
    return LoadItemHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert ItemID
function YDWESaveItemIDByInteger takes integer pTable,integer pKey,integer itid returns nothing
    call SaveInteger(YDHT, pTable, pKey, itid)
endfunction
function YDWESaveItemIDByString takes string pTable,string pKey,integer itid returns nothing
    call SaveInteger(YDHT, StringHash(pTable), StringHash(pKey), itid)
endfunction
function YDWEGetItemIDByInteger takes integer pTable,integer pKey returns integer
    return LoadInteger(YDHT, pTable, pKey)
endfunction
function YDWEGetItemIDByString takes string pTable,string pKey returns integer
    return LoadInteger(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Timer
function YDWESaveTimerByInteger takes integer pTable,integer pKey,timer t returns nothing
    call SaveTimerHandle(YDHT, pTable, pKey, t)
endfunction
function YDWESaveTimerByString takes string pTable,string pKey,timer t returns nothing
    call SaveTimerHandle(YDHT, StringHash(pTable), StringHash(pKey), t)
endfunction
function YDWEGetTimerByInteger takes integer pTable,integer pKey returns timer
    return LoadTimerHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTimerByString takes string pTable,string pKey returns timer
    return LoadTimerHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Trigger
function YDWESaveTriggerByInteger takes integer pTable,integer pKey,trigger trg returns nothing
    call SaveTriggerHandle(YDHT, pTable, pKey, trg)
endfunction
function YDWESaveTriggerByString takes string pTable,string pKey,trigger trg returns nothing
    call SaveTriggerHandle(YDHT, StringHash(pTable), StringHash(pKey), trg)
endfunction
function YDWEGetTriggerByInteger takes integer pTable,integer pKey returns trigger
    return LoadTriggerHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerByString takes string pTable,string pKey returns trigger
    return LoadTriggerHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Location
function YDWESaveLocationByInteger takes integer pTable,integer pKey,location pt returns nothing
    call SaveLocationHandle(YDHT, pTable, pKey, pt)
endfunction
function YDWESaveLocationByString takes string pTable,string pKey,location pt returns nothing
    call SaveLocationHandle(YDHT, StringHash(pTable), StringHash(pKey), pt)
endfunction
function YDWEGetLocationByInteger takes integer pTable,integer pKey returns location
    return LoadLocationHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetLocationByString takes string pTable,string pKey returns location
    return LoadLocationHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Group
function YDWESaveGroupByInteger takes integer pTable,integer pKey,group g returns nothing
    call SaveGroupHandle(YDHT, pTable, pKey, g)
endfunction
function YDWESaveGroupByString takes string pTable,string pKey,group g returns nothing
    call SaveGroupHandle(YDHT, StringHash(pTable), StringHash(pKey), g)
endfunction
function YDWEGetGroupByInteger takes integer pTable,integer pKey returns group
    return LoadGroupHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetGroupByString takes string pTable,string pKey returns group
    return LoadGroupHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Multiboard
function YDWESaveMultiboardByInteger takes integer pTable,integer pKey,multiboard m returns nothing
    call SaveMultiboardHandle(YDHT, pTable, pKey, m)
endfunction
function YDWESaveMultiboardByString takes string pTable,string pKey,multiboard m returns nothing
    call SaveMultiboardHandle(YDHT, StringHash(pTable), StringHash(pKey), m)
endfunction
function YDWEGetMultiboardByInteger takes integer pTable,integer pKey returns multiboard
    return LoadMultiboardHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetMultiboardByString takes string pTable,string pKey returns multiboard
    return LoadMultiboardHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert MultiboardItem
function YDWESaveMultiboardItemByInteger takes integer pTable,integer pKey,multiboarditem mt returns nothing
    call SaveMultiboardItemHandle(YDHT, pTable, pKey, mt)
endfunction
function YDWESaveMultiboardItemByString takes string pTable,string pKey,multiboarditem mt returns nothing
    call SaveMultiboardItemHandle(YDHT, StringHash(pTable), StringHash(pKey), mt)
endfunction
function YDWEGetMultiboardItemByInteger takes integer pTable,integer pKey returns multiboarditem
    return LoadMultiboardItemHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetMultiboardItemByString takes string pTable,string pKey returns multiboarditem
    return LoadMultiboardItemHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert TextTag
function YDWESaveTextTagByInteger takes integer pTable,integer pKey,texttag tt returns nothing
    call SaveTextTagHandle(YDHT, pTable, pKey, tt)
endfunction
function YDWESaveTextTagByString takes string pTable,string pKey,texttag tt returns nothing
    call SaveTextTagHandle(YDHT, StringHash(pTable), StringHash(pKey), tt)
endfunction
function YDWEGetTextTagByInteger takes integer pTable,integer pKey returns texttag
    return LoadTextTagHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTextTagByString takes string pTable,string pKey returns texttag
    return LoadTextTagHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Lightning
function YDWESaveLightningByInteger takes integer pTable,integer pKey,lightning ln returns nothing
    call SaveLightningHandle(YDHT, pTable, pKey, ln)
endfunction
function YDWESaveLightningByString takes string pTable,string pKey,lightning ln returns nothing
    call SaveLightningHandle(YDHT, StringHash(pTable), StringHash(pKey), ln)
endfunction
function YDWEGetLightningByInteger takes integer pTable,integer pKey returns lightning
    return LoadLightningHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetLightningByString takes string pTable,string pKey returns lightning
    return LoadLightningHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Region
function YDWESaveRegionByInteger takes integer pTable,integer pKey,region rn returns nothing
    call SaveRegionHandle(YDHT, pTable, pKey, rn)
endfunction
function YDWESaveRegionByString takes string pTable,string pKey,region rt returns nothing
    call SaveRegionHandle(YDHT, StringHash(pTable), StringHash(pKey), rt)
endfunction
function YDWEGetRegionByInteger takes integer pTable,integer pKey returns region
    return LoadRegionHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetRegionByString takes string pTable,string pKey returns region
    return LoadRegionHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Rect
function YDWESaveRectByInteger takes integer pTable,integer pKey,rect rn returns nothing
    call SaveRectHandle(YDHT, pTable, pKey, rn)
endfunction
function YDWESaveRectByString takes string pTable,string pKey,rect rt returns nothing
    call SaveRectHandle(YDHT, StringHash(pTable), StringHash(pKey), rt)
endfunction
function YDWEGetRectByInteger takes integer pTable,integer pKey returns rect
    return LoadRectHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetRectByString takes string pTable,string pKey returns rect
    return LoadRectHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Leaderboard
function YDWESaveLeaderboardByInteger takes integer pTable,integer pKey,leaderboard lb returns nothing
    call SaveLeaderboardHandle(YDHT, pTable, pKey, lb)
endfunction
function YDWESaveLeaderboardByString takes string pTable,string pKey,leaderboard lb returns nothing
    call SaveLeaderboardHandle(YDHT, StringHash(pTable), StringHash(pKey), lb)
endfunction
function YDWEGetLeaderboardByInteger takes integer pTable,integer pKey returns leaderboard
    return LoadLeaderboardHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetLeaderboardByString takes string pTable,string pKey returns leaderboard
    return LoadLeaderboardHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Effect
function YDWESaveEffectByInteger takes integer pTable,integer pKey,effect e returns nothing
    call SaveEffectHandle(YDHT, pTable, pKey, e)
endfunction
function YDWESaveEffectByString takes string pTable,string pKey,effect e returns nothing
    call SaveEffectHandle(YDHT, StringHash(pTable), StringHash(pKey), e)
endfunction
function YDWEGetEffectByInteger takes integer pTable,integer pKey returns effect
    return LoadEffectHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetEffectByString takes string pTable,string pKey returns effect
    return LoadEffectHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert Destructable
function YDWESaveDestructableByInteger takes integer pTable,integer pKey,destructable da returns nothing
    call SaveDestructableHandle(YDHT, pTable, pKey, da)
endfunction
function YDWESaveDestructableByString takes string pTable,string pKey,destructable da returns nothing
    call SaveDestructableHandle(YDHT, StringHash(pTable), StringHash(pKey), da)
endfunction
function YDWEGetDestructableByInteger takes integer pTable,integer pKey returns destructable
    return LoadDestructableHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetDestructableByString takes string pTable,string pKey returns destructable
    return LoadDestructableHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert triggercondition
function YDWESaveTriggerConditionByInteger takes integer pTable,integer pKey,triggercondition tc returns nothing
    call SaveTriggerConditionHandle(YDHT, pTable, pKey, tc)
endfunction
function YDWESaveTriggerConditionByString takes string pTable,string pKey,triggercondition tc returns nothing
    call SaveTriggerConditionHandle(YDHT, StringHash(pTable), StringHash(pKey), tc)
endfunction
function YDWEGetTriggerConditionByInteger takes integer pTable,integer pKey returns triggercondition
    return LoadTriggerConditionHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerConditionByString takes string pTable,string pKey returns triggercondition
    return LoadTriggerConditionHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert triggeraction
function YDWESaveTriggerActionByInteger takes integer pTable,integer pKey,triggeraction ta returns nothing
    call SaveTriggerActionHandle(YDHT, pTable, pKey, ta)
endfunction
function YDWESaveTriggerActionByString takes string pTable,string pKey,triggeraction ta returns nothing
    call SaveTriggerActionHandle(YDHT, StringHash(pTable), StringHash(pKey), ta)
endfunction
function YDWEGetTriggerActionByInteger takes integer pTable,integer pKey returns triggeraction
    return LoadTriggerActionHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerActionByString takes string pTable,string pKey returns triggeraction
    return LoadTriggerActionHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert event
function YDWESaveTriggerEventByInteger takes integer pTable,integer pKey,event et returns nothing
    call SaveTriggerEventHandle(YDHT, pTable, pKey, et)
endfunction
function YDWESaveTriggerEventByString takes string pTable,string pKey,event et returns nothing
    call SaveTriggerEventHandle(YDHT, StringHash(pTable), StringHash(pKey), et)
endfunction
function YDWEGetTriggerEventByInteger takes integer pTable,integer pKey returns event
    return LoadTriggerEventHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTriggerEventByString takes string pTable,string pKey returns event
    return LoadTriggerEventHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert force
function YDWESaveForceByInteger takes integer pTable,integer pKey,force fc returns nothing
    call SaveForceHandle(YDHT, pTable, pKey, fc)
endfunction
function YDWESaveForceByString takes string pTable,string pKey,force fc returns nothing
    call SaveForceHandle(YDHT, StringHash(pTable), StringHash(pKey), fc)
endfunction
function YDWEGetForceByInteger takes integer pTable,integer pKey returns force
    return LoadForceHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetForceByString takes string pTable,string pKey returns force
    return LoadForceHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert boolexpr
function YDWESaveBoolexprByInteger takes integer pTable,integer pKey,boolexpr be returns nothing
    call SaveBooleanExprHandle(YDHT, pTable, pKey, be)
endfunction
function YDWESaveBoolexprByString takes string pTable,string pKey,boolexpr be returns nothing
    call SaveBooleanExprHandle(YDHT, StringHash(pTable), StringHash(pKey), be)
endfunction
function YDWEGetBoolexprByInteger takes integer pTable,integer pKey returns boolexpr
    return LoadBooleanExprHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetBoolexprByString takes string pTable,string pKey returns boolexpr
    return LoadBooleanExprHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert sound
function YDWESaveSoundByInteger takes integer pTable,integer pKey,sound sd returns nothing
    call SaveSoundHandle(YDHT, pTable, pKey, sd)
endfunction
function YDWESaveSoundByString takes string pTable,string pKey,sound sd returns nothing
    call SaveSoundHandle(YDHT, StringHash(pTable), StringHash(pKey), sd)
endfunction
function YDWEGetSoundByInteger takes integer pTable,integer pKey returns sound
    return LoadSoundHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetSoundByString takes string pTable,string pKey returns sound
    return LoadSoundHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert timerdialog
function YDWESaveTimerDialogByInteger takes integer pTable,integer pKey,timerdialog td returns nothing
    call SaveTimerDialogHandle(YDHT, pTable, pKey, td)
endfunction
function YDWESaveTimerDialogByString takes string pTable,string pKey,timerdialog td returns nothing
    call SaveTimerDialogHandle(YDHT, StringHash(pTable), StringHash(pKey), td)
endfunction
function YDWEGetTimerDialogByInteger takes integer pTable,integer pKey returns timerdialog
    return LoadTimerDialogHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTimerDialogByString takes string pTable,string pKey returns timerdialog
    return LoadTimerDialogHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert trackable
function YDWESaveTrackableByInteger takes integer pTable,integer pKey,trackable ta returns nothing
    call SaveTrackableHandle(YDHT, pTable, pKey, ta)
endfunction
function YDWESaveTrackableByString takes string pTable,string pKey,trackable ta returns nothing
    call SaveTrackableHandle(YDHT, StringHash(pTable), StringHash(pKey), ta)
endfunction
function YDWEGetTrackableByInteger takes integer pTable,integer pKey returns trackable
    return LoadTrackableHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetTrackableByString takes string pTable,string pKey returns trackable
    return LoadTrackableHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert dialog
function YDWESaveDialogByInteger takes integer pTable,integer pKey,dialog d returns nothing
    call SaveDialogHandle(YDHT, pTable, pKey, d)
endfunction
function YDWESaveDialogByString takes string pTable,string pKey,dialog d returns nothing
    call SaveDialogHandle(YDHT, StringHash(pTable), StringHash(pKey), d)
endfunction
function YDWEGetDialogByInteger takes integer pTable,integer pKey returns dialog
    return LoadDialogHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetDialogByString takes string pTable,string pKey returns dialog
    return LoadDialogHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert button
function YDWESaveButtonByInteger takes integer pTable,integer pKey,button bt returns nothing
    call SaveButtonHandle(YDHT, pTable, pKey, bt)
endfunction
function YDWESaveButtonByString takes string pTable,string pKey,button bt returns nothing
    call SaveButtonHandle(YDHT, StringHash(pTable), StringHash(pKey), bt)
endfunction
function YDWEGetButtonByInteger takes integer pTable,integer pKey returns button
    return LoadButtonHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetButtonByString takes string pTable,string pKey returns button
    return LoadButtonHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert quest
function YDWESaveQuestByInteger takes integer pTable,integer pKey,quest qt returns nothing
    call SaveQuestHandle(YDHT, pTable, pKey, qt)
endfunction
function YDWESaveQuestByString takes string pTable,string pKey,quest qt returns nothing
    call SaveQuestHandle(YDHT, StringHash(pTable), StringHash(pKey), qt)
endfunction
function YDWEGetQuestByInteger takes integer pTable,integer pKey returns quest
    return LoadQuestHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetQuestByString takes string pTable,string pKey returns quest
    return LoadQuestHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
//Covert questitem
function YDWESaveQuestItemByInteger takes integer pTable,integer pKey,questitem qi returns nothing
    call SaveQuestItemHandle(YDHT, pTable, pKey, qi)
endfunction
function YDWESaveQuestItemByString takes string pTable,string pKey,questitem qi returns nothing
    call SaveQuestItemHandle(YDHT, StringHash(pTable), StringHash(pKey), qi)
endfunction
function YDWEGetQuestItemByInteger takes integer pTable,integer pKey returns questitem
    return LoadQuestItemHandle(YDHT, pTable, pKey)
endfunction
function YDWEGetQuestItemByString takes string pTable,string pKey returns questitem
    return LoadQuestItemHandle(YDHT, StringHash(pTable), StringHash(pKey))
endfunction
function YDWES2I takes string s returns integer
    return StringHash(s)
endfunction
function YDWESaveAbilityHandleBJ takes integer AbilityID,integer key,integer missionKey,hashtable table returns nothing
    call SaveInteger(table, missionKey, key, AbilityID)
endfunction
function YDWESaveAbilityHandle takes hashtable table,integer parentKey,integer childKey,integer AbilityID returns nothing
    call SaveInteger(table, parentKey, childKey, AbilityID)
endfunction
function YDWELoadAbilityHandleBJ takes integer key,integer missionKey,hashtable table returns integer
    return LoadInteger(table, missionKey, key)
endfunction
function YDWELoadAbilityHandle takes hashtable table,integer parentKey,integer childKey returns integer
    return LoadInteger(table, parentKey, childKey)
endfunction
//===========================================================================
//è¿”å›å‚æ•°
//===========================================================================
//åœ°å›¾è¾¹ç•Œåˆ¤æ–­
function YDWECoordinateX takes real x returns real
    return RMinBJ(RMaxBJ(x, yd_MapMinX), yd_MapMaxX)
endfunction
function YDWECoordinateY takes real y returns real
    return RMinBJ(RMaxBJ(y, yd_MapMinY), yd_MapMaxY)
endfunction
//ä¸¤ä¸ªå•ä½ä¹‹é—´çš„è·ç¦»
function YDWEDistanceBetweenUnits takes unit a,unit b returns real
    return SquareRoot(( GetUnitX(a) - GetUnitX(b) ) * ( GetUnitX(a) - GetUnitX(b) ) + ( GetUnitY(a) - GetUnitY(b) ) * ( GetUnitY(a) - GetUnitY(b) ))
endfunction
//ä¸¤ä¸ªå•ä½ä¹‹é—´çš„è§’åº¦
function YDWEAngleBetweenUnits takes unit fromUnit,unit toUnit returns real
    return bj_RADTODEG * Atan2(GetUnitY(toUnit) - GetUnitY(fromUnit), GetUnitX(toUnit) - GetUnitX(fromUnit))
endfunction
//ç”ŸæˆåŒºåŸŸ
function YDWEGetRect takes real x,real y,real width,real height returns rect
    return Rect(x - width * 0.5, y - height * 0.5, x + width * 0.5, y + height * 0.5)
endfunction
//===========================================================================
//è®¾ç½®å•ä½å¯ä»¥é£è¡Œ
//===========================================================================
function YDWEFlyEnable takes unit u returns nothing
    call UnitAddAbility(u, 'Amrf')
    call UnitRemoveAbility(u, 'Amrf')
endfunction
//===========================================================================
//å­—ç¬¦çªœä¸IDè½¬æ¢
//===========================================================================
function YDWEId2S takes integer value returns string
    local string charMap=bj_AllString
    local string result= ""
    local integer remainingValue= value
    local integer charValue
    local integer byteno
    set byteno=0
    loop
        set charValue=ModuloInteger(remainingValue, 256)
        set remainingValue=remainingValue / 256
        set result=SubString(charMap, charValue, charValue + 1) + result
        set byteno=byteno + 1
        exitwhen byteno == 4
    endloop
    return result
endfunction
function YDWES2Id takes string targetstr returns integer
    local string originstr=bj_AllString
    local integer strlength=StringLength(targetstr)
    local integer a=0
local integer b=0
local integer numx=1
local integer result=0
    loop
    exitwhen b > strlength - 1
        set numx=R2I(Pow(256, strlength - 1 - b))
        set a=1
        loop
            exitwhen a > 255
            if SubString(targetstr, b, b + 1) == SubString(originstr, a, a + 1) then
                set result=result + a * numx
                set a=256
            endif
            set a=a + 1
        endloop
        set b=b + 1
    endloop
    return result
endfunction
function YDWES2UnitId takes string targetstr returns integer
    return YDWES2Id(targetstr)
endfunction
function YDWES2ItemId takes string targetstr returns integer
    return YDWES2Id(targetstr)
endfunction
function GetLastAbilityCastingUnit takes nothing returns unit
    return bj_lastAbilityCastingUnit
endfunction
function GetLastAbilityTargetUnit takes nothing returns unit
    return bj_lastAbilityTargetUnit
endfunction
function YDWESetMapLimitCoordinate takes real MinX,real MaxX,real MinY,real MaxY returns nothing
    set yd_MapMaxX=MaxX
    set yd_MapMinX=MinX
    set yd_MapMaxY=MaxY
    set yd_MapMinY=MinY
endfunction
//===========================================================================
//===========================================================================
//åœ°å›¾åˆå§‹åŒ–
//===========================================================================
//YDWEç‰¹æ®ŠæŠ€èƒ½ç»“æŸäº‹ä»¶ 
function YDWESyStemAbilityCastingOverTriggerAction takes unit hero,integer index returns nothing
 local integer i= 0
    loop
        exitwhen i >= YDWEBase__AbilityCastingOverEventNumber
        if YDWEBase__AbilityCastingOverEventType[i] == index then
            set bj_lastAbilityCastingUnit=hero
			if YDWEBase__AbilityCastingOverEventQueue[i] != null and TriggerEvaluate(YDWEBase__AbilityCastingOverEventQueue[i]) and IsTriggerEnabled(YDWEBase__AbilityCastingOverEventQueue[i]) then
				call TriggerExecute(YDWEBase__AbilityCastingOverEventQueue[i])
			endif
		endif
        set i=i + 1
    endloop
endfunction
//===========================================================================  
//YDWEæŠ€èƒ½æ•æ‰äº‹ä»¶ 
//===========================================================================  
function YDWESyStemAbilityCastingOverRegistTrigger takes trigger trg,integer index returns nothing
	set YDWEBase__AbilityCastingOverEventQueue[YDWEBase__AbilityCastingOverEventNumber]=trg
	set YDWEBase__AbilityCastingOverEventType[YDWEBase__AbilityCastingOverEventNumber]=index
	set YDWEBase__AbilityCastingOverEventNumber=YDWEBase__AbilityCastingOverEventNumber + 1
endfunction 
//===========================================================================
//ç³»ç»Ÿå‡½æ•°å®Œå–„
//===========================================================================
function YDWECreateUnitPool takes nothing returns nothing
    set bj_lastCreatedUnitPool=CreateUnitPool()
endfunction
function YDWEPlaceRandomUnit takes unitpool up,player p,real x,real y,real face returns nothing
set bj_lastPoolAbstractedUnit=PlaceRandomUnit(up, p, x, y, face)
endfunction
function YDWEGetLastUnitPool takes nothing returns unitpool
    return bj_lastCreatedUnitPool
endfunction
function YDWEGetLastPoolAbstractedUnit takes nothing returns unit
    return bj_lastPoolAbstractedUnit
endfunction
function YDWECreateItemPool takes nothing returns nothing
    set bj_lastCreatedItemPool=CreateItemPool()
endfunction
function YDWEPlaceRandomItem takes itempool ip,real x,real y returns nothing
set bj_lastPoolAbstractedItem=PlaceRandomItem(ip, x, y)
endfunction
function YDWEGetLastItemPool takes nothing returns itempool
    return bj_lastCreatedItemPool
endfunction
function YDWEGetLastPoolAbstractedItem takes nothing returns item
    return bj_lastPoolAbstractedItem
endfunction
function YDWESetAttackDamageWeaponType takes attacktype at,damagetype dt,weapontype wt returns nothing
    set bj_lastSetAttackType=at
    set bj_lastSetDamageType=dt
    set bj_lastSetWeaponType=wt
endfunction
//unitpool bj_lastCreatedPool=null
//unit bj_lastPoolAbstractedUnit=null
function YDWEGetPlayerColorString takes player p,string s returns string
    return YDWEBase__yd_PlayerColor[GetHandleId(GetPlayerColor(p))] + s + "|r"
endfunction
//===========================================================================
//===========================================================================
//ç³»ç»Ÿå‡½æ•°è¡¥å……
//===========================================================================
//===========================================================================
function YDWEGetUnitItemSoftId takes unit hero,item it returns integer
    local integer i= 0
    loop
         exitwhen i > 5
         if UnitItemInSlot(hero, i) == it then
            return i + 1
         endif
         set i=i + 1
    endloop
    return 0
endfunction
//===========================================================================
//===========================================================================
//åœ°å›¾åˆå§‹åŒ–
//===========================================================================
//===========================================================================
//æ˜¾ç¤ºç‰ˆæœ¬
function YDWEVersion_Display takes nothing returns boolean
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 30, "|cFF1E90FFå½“å‰ç¼–è¾‘å™¨ç‰ˆæœ¬ä¸ºï¼š |r|cFF00FF00YDWE 1.31.8.1850")
    return false
endfunction
function YDWEVersion_Init takes nothing returns nothing
    local trigger t= CreateTrigger()
    local integer i= 0
    loop
        exitwhen i == 12
        call TriggerRegisterPlayerChatEvent(t, Player(i), "YDWE Version", true)
        set i=i + 1
    endloop
    call TriggerAddCondition(t, Condition(function YDWEVersion_Display))
    set t=null
endfunction
function InitializeYD takes nothing returns nothing
     set YDHT=InitHashtable()
	//=================è®¾ç½®å˜é‡=====================
	set yd_MapMinX=GetCameraBoundMinX() - GetCameraMargin(CAMERA_MARGIN_LEFT)
	set yd_MapMinY=GetCameraBoundMinY() - GetCameraMargin(CAMERA_MARGIN_BOTTOM)
	set yd_MapMaxX=GetCameraBoundMaxX() + GetCameraMargin(CAMERA_MARGIN_RIGHT)
	set yd_MapMaxY=GetCameraBoundMaxY() + GetCameraMargin(CAMERA_MARGIN_TOP)
	
    set YDWEBase__yd_PlayerColor[0]="|cFFFF0303"
    set YDWEBase__yd_PlayerColor[1]="|cFF0042FF"
    set YDWEBase__yd_PlayerColor[2]="|cFF1CE6B9"
    set YDWEBase__yd_PlayerColor[3]="|cFF540081"
    set YDWEBase__yd_PlayerColor[4]="|cFFFFFC01"
    set YDWEBase__yd_PlayerColor[5]="|cFFFE8A0E"
    set YDWEBase__yd_PlayerColor[6]="|cFF20C000"
    set YDWEBase__yd_PlayerColor[7]="|cFFE55BB0"
    set YDWEBase__yd_PlayerColor[8]="|cFF959697"
    set YDWEBase__yd_PlayerColor[9]="|cFF7EBFF1"
    set YDWEBase__yd_PlayerColor[10]="|cFF106246"
    set YDWEBase__yd_PlayerColor[11]="|cFF4E2A04"
    set YDWEBase__yd_PlayerColor[12]="|cFF282828"
    set YDWEBase__yd_PlayerColor[13]="|cFF282828"
    set YDWEBase__yd_PlayerColor[14]="|cFF282828"
    set YDWEBase__yd_PlayerColor[15]="|cFF282828"
    //=================æ˜¾ç¤ºç‰ˆæœ¬=====================
    call YDWEVersion_Init()
endfunction

//library YDWEBase ends
//library YDWEBitwise:
    
    function YDWEBitwise__Bit takes integer x returns boolean
        return ( x - x / 2 * 2 ) != 0
    endfunction 
    
 function YDWEBitwise__NOT_P takes integer x returns integer
  local integer l__z= 0
  local integer i= 0
	
		loop
			exitwhen ( i == 31 )
			if not YDWEBitwise__Bit(x) then
				set l__z=l__z + YDWEBitwise__C2[i]
			endif
			set x=x / 2
			set i=i + 1
		endloop
	
		return l__z
	endfunction
 function YDWEBitwise_NOT takes integer x returns integer
		if x >= 0 then
            return YDWEBitwise__NOT_P(x) + YDWEBitwise__C2[31]
        else
            return - x - 1
        endif
	endfunction
    
    function YDWEBitwise__AND_P takes integer x,integer y returns integer
  local integer l__z= 0
  local integer i= 0
	
		loop
			exitwhen ( i == 31 )
			if YDWEBitwise__Bit(x) and YDWEBitwise__Bit(y) then
				set l__z=l__z + YDWEBitwise__C2[i]
			endif
			set x=x / 2
			set y=y / 2
			set i=i + 1
		endloop
	
		return l__z
    endfunction 
    function YDWEBitwise_AND takes integer x,integer y returns integer
		if x >= 0 then
            if y >= 0 then
                return YDWEBitwise__AND_P(x , y)
            else
                return YDWEBitwise__AND_P(x , YDWEBitwise__NOT_P(- y - 1))
            endif
        else
            if y >= 0 then
                return YDWEBitwise__AND_P(YDWEBitwise__NOT_P(- x - 1) , y)
            else
                return YDWEBitwise__AND_P(YDWEBitwise__NOT_P(- x - 1) , YDWEBitwise__NOT_P(- y - 1)) + YDWEBitwise__C2[31]
            endif
        endif
    endfunction
    
    function YDWEBitwise__OR_P takes integer x,integer y returns integer
  local integer l__z= 0
  local integer i= 0
	
		loop
			exitwhen ( i == 31 )
			if YDWEBitwise__Bit(x) or YDWEBitwise__Bit(y) then
				set l__z=l__z + YDWEBitwise__C2[i]
			endif
			set x=x / 2
			set y=y / 2
			set i=i + 1
		endloop
	
		return l__z
    endfunction 
    function YDWEBitwise_OR takes integer x,integer y returns integer
		if x >= 0 then
            if y >= 0 then
                return YDWEBitwise__OR_P(x , y)
            else
                return YDWEBitwise__OR_P(x , YDWEBitwise__NOT_P(- y - 1)) + YDWEBitwise__C2[31]
            endif
        else
            if y >= 0 then
                return YDWEBitwise__OR_P(YDWEBitwise__NOT_P(- x - 1) , y) + YDWEBitwise__C2[31]
            else
                return YDWEBitwise__OR_P(YDWEBitwise__NOT_P(- x - 1) , YDWEBitwise__NOT_P(- y - 1)) + YDWEBitwise__C2[31]
            endif
        endif
    endfunction
    function YDWEBitwise__XOR_P takes integer x,integer y returns integer
  local integer l__z= 0
  local integer i= 0
	
		loop
			exitwhen ( i == 31 )
			if YDWEBitwise__Bit(x) != YDWEBitwise__Bit(y) then
				set l__z=l__z + YDWEBitwise__C2[i]
			endif
			set x=x / 2
			set y=y / 2
			set i=i + 1
		endloop
	
		return l__z
    endfunction 
    function YDWEBitwise_XOR takes integer x,integer y returns integer
		if x >= 0 then
            if y >= 0 then
                return YDWEBitwise__XOR_P(x , y)
            else
                return YDWEBitwise__XOR_P(x , YDWEBitwise__NOT_P(- y - 1)) + YDWEBitwise__C2[31]
            endif
        else
            if y >= 0 then
                return YDWEBitwise__XOR_P(YDWEBitwise__NOT_P(- x - 1) , y) + YDWEBitwise__C2[31]
            else
                return YDWEBitwise__XOR_P(YDWEBitwise__NOT_P(- x - 1) , YDWEBitwise__NOT_P(- y - 1))
            endif
        endif
    endfunction
    
    function YDWEBitwise__LShift_P takes integer x,integer n returns integer
        return x * YDWEBitwise__C2[n]
    endfunction
    function YDWEBitwise_LShift takes integer x,integer n returns integer
        return x * YDWEBitwise__C2[n]
    endfunction
    
    function YDWEBitwise__RShift_P takes integer x,integer n returns integer
        return x / YDWEBitwise__C2[n]
    endfunction
    function YDWEBitwise_RShift takes integer x,integer n returns integer
		if x >= 0 then
            return ((x ) / YDWEBitwise__C2[( n)]) // INLINED!!
        else
            return ((YDWEBitwise__NOT_P(- x - 1) ) / YDWEBitwise__C2[( n)]) + YDWEBitwise__C2[31 - n] // INLINED!!
        endif
    endfunction
    
    function YDWEBitwise__ToHexChar takes integer x returns string
        return SubString(YDWEBitwise__hexstr, x, x + 1)
    endfunction 
    function YDWEBitwise__ToHexChar7 takes integer x returns string
        local string s= ""
        set s=YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
        set x=x / $10
        set s=YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
        set x=x / $10
        set s=YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
        set x=x / $10
        set s=YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
        set x=x / $10
        set s=YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
        set x=x / $10
        set s=YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
        set x=x / $10
        return YDWEBitwise__ToHexChar(x - x / $10 * $10) + s
    endfunction
    function YDWEBitwise_ToHexString takes integer x returns string
		if x >= 0 then
            return YDWEBitwise__ToHexChar(x / $10000000) + YDWEBitwise__ToHexChar7(x)
        else
            set x=YDWEBitwise__NOT_P(- x - 1)
            return YDWEBitwise__ToHexChar($8 + x / $10000000) + YDWEBitwise__ToHexChar7(x)
        endif
    endfunction

 function YDWEBitwise__onInit takes nothing returns nothing
  local integer i= 1
		set YDWEBitwise__C2[0]=1
		loop
			exitwhen ( i == 32 )
			set YDWEBitwise__C2[i]=YDWEBitwise__C2[i - 1] * 2
			set i=i + 1
		endloop

	endfunction 

//library YDWEBitwise ends
//library YDWEGeneralBounsSystem:

//ä»¥ä¸‹å‡½æ•°ä»…ä»…æ˜¯è®©æŠ€èƒ½IDå‡ºç°åœ¨ä»£ç é‡Œï¼Œä¸ç„¶SLKä¼˜åŒ–å™¨ä¼šåˆ é™¤è¿™äº›æŠ€èƒ½
function YDWEGeneralBounsSystem___DisplayAllAbilityId takes nothing returns nothing
    local integer aid=0
    set aid='YDl0'
    set aid='YDl1'
    set aid='YDl2'
    set aid='YDl3'
    set aid='YDl4'
    set aid='YDl5'
    set aid='YDl6'
    set aid='YDl7'
    set aid='YDl8'
    set aid='YDl9'
    set aid='YDla'
    set aid='YDlb'
    set aid='YDlc'
    set aid='YDld'
    set aid='YDle'
    set aid='YDlf'
    set aid='YDm0'
    set aid='YDm1'
    set aid='YDm2'
    set aid='YDm3'
    set aid='YDm4'
    set aid='YDm5'
    set aid='YDm6'
    set aid='YDm7'
    set aid='YDm8'
    set aid='YDm9'
    set aid='YDma'
    set aid='YDmb'
    set aid='YDmc'
    set aid='YDmd'
    set aid='YDme'
    set aid='YDmf'
    set aid='YDc0'
    set aid='YDc1'
    set aid='YDc2'
    set aid='YDc3'
    set aid='YDc4'
    set aid='YDc5'
    set aid='YDc6'
    set aid='YDc7'
    set aid='YDc8'
    set aid='YDc9'
    set aid='YDca'
    set aid='YDcb'
    set aid='YDcc'
    set aid='YDb0'
    set aid='YDb1'
    set aid='YDb2'
    set aid='YDb3'
    set aid='YDb4'
    set aid='YDb5'
    set aid='YDb6'
    set aid='YDb7'
    set aid='YDb8'
    set aid='YDb9'
    set aid='YDba'
    set aid='YDbb'
    set aid='YDbc'
    set aid='YDbd'
    set aid='YDbe'
    set aid='YDbf'
    set aid='YDbg'
    set aid='YDbh'
    set aid='YDbi'
    set aid='YDbj'
    set aid='YDbk'
    set aid='YDbl'
    set aid='YDbm'
    set aid='YDbn'
endfunction
    function YDWEGeneralBounsSystem___UnitClearBonus takes unit u,integer bonusType returns nothing
        local integer i=YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType + 1] - 1
        loop
            exitwhen i < YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType]
            call UnitRemoveAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[i])
            set i=i - 1
        endloop
        call SaveInteger(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusType" + I2S(bonusType) )), ( 0)) // INLINED!!
    endfunction
    function YDWEGeneralBounsSystem___SetUnitMaxState takes unit u,integer bonusType,real value returns boolean
        local integer v=R2I(value)
        local integer s=0
        local integer o=0
        local unitstate state
        local integer i=YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType + 1] - 2
        local integer a=YDWEGeneralBounsSystem___ABILITY_NUM[bonusType]
        if value > 65535 or value <= 0 then
            return false
        endif
        if bonusType == 0 then
            set state=UNIT_STATE_MAX_LIFE
          elseif bonusType == 1 then
            set state=UNIT_STATE_MAX_MANA
          else
            return false
        endif
        set v=v - R2I(GetUnitState(u, state))
        call SaveInteger(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusType" + I2S(bonusType) )), ( v)) // INLINED!!
        if v > 0 then
            set o=3
          elseif v < 0 then
            set o=2
            set v=- v
          else
            return false
        endif
        loop
            exitwhen i < YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType]
            if v >= YDWEGeneralBounsSystem___PowersOf2[i] then
                call UnitAddAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[i])
                call SetUnitAbilityLevel(u, YDWEGeneralBounsSystem___BonusAbilitys[i], o)
                call UnitRemoveAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[i])
                set v=v - YDWEGeneralBounsSystem___PowersOf2[i]
            endif
            set i=i - 1
        endloop
        return true
    endfunction
function YDWEGeneralBounsSystem___UnitSetBonus takes unit u,integer bonusType,integer ammount returns boolean
    local integer i
    //è®¾ç½®å±æ€§ä¸º0ä¸è¿›è¡ŒLoop
    if ammount == 0 then
        call YDWEGeneralBounsSystem___UnitClearBonus(u , bonusType)
        return false
    endif
    if ammount < YDWEGeneralBounsSystem___MinBonus[bonusType] or ammount > YDWEGeneralBounsSystem___MaxBonus[bonusType] then
        return false
    elseif bonusType < 0 or bonusType >= YDWEGeneralBounsSystem___BONUS_TYPES then
        return false
    endif
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusType" + I2S(bonusType) )), ( ammount)) // INLINED!!
    if ammount < 0 then
        set ammount=YDWEGeneralBounsSystem___MaxBonus[bonusType] + ammount + 1
        call UnitAddAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType + 1] - 1])
        call UnitMakeAbilityPermanent(u, true, YDWEGeneralBounsSystem___BonusAbilitys[YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType + 1] - 1])
      else
        call UnitRemoveAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType + 1] - 1])
    endif
    set i=YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType + 1] - 2
    loop
        exitwhen i < YDWEGeneralBounsSystem___ABILITY_COUNT[bonusType]
        if ammount >= YDWEGeneralBounsSystem___PowersOf2[i] then
            call UnitAddAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[i])
            call UnitMakeAbilityPermanent(u, true, YDWEGeneralBounsSystem___BonusAbilitys[i])
            set ammount=ammount - YDWEGeneralBounsSystem___PowersOf2[i]
        else
            call UnitRemoveAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[i])
        endif
        set i=i - 1
    endloop
    if not (LoadBoolean(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusMark")))) then // INLINED!!
        call SaveBoolean(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusMark" )), ( true)) // INLINED!!
        set YDWEGeneralBounsSystem___UnitCount=YDWEGeneralBounsSystem___UnitCount + 1
        set YDWEGeneralBounsSystem___Units[YDWEGeneralBounsSystem___UnitCount]=u
    endif
    return true
endfunction
function YDWEGeneralBounsSystem___UnitGetBonus takes unit u,integer bonusType returns integer
    return (LoadInteger(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusType" + I2S(bonusType))))) // INLINED!!
endfunction
function YDWEGeneralBounsSystem___AddUnitMaxState takes unit u,integer bonusType,real value returns boolean
    local unitstate state
    if bonusType == 0 then
        set state=UNIT_STATE_MAX_LIFE
      elseif bonusType == 1 then
        set state=UNIT_STATE_MAX_MANA
      else
        return false
    endif
    return YDWEGeneralBounsSystem___SetUnitMaxState(u , bonusType , value + GetUnitState(u, state))
endfunction
function YDWEGeneralBounsSystem___UnitAddBonus takes unit u,integer bonusType,integer ammount returns boolean
    return YDWEGeneralBounsSystem___UnitSetBonus(u , bonusType , (LoadInteger(YDHT, StringHash((I2S((GetHandleId(((u ))))) )), StringHash(( "bonusType" + I2S(( bonusType)))))) + ammount) // INLINED!!
endfunction
function YDWEGeneralBounsSystem___FlushUnits takes nothing returns nothing
    local integer i= YDWEGeneralBounsSystem___UnitCount
    local string h
    loop
        exitwhen i < 1
        if GetUnitTypeId(YDWEGeneralBounsSystem___Units[i]) == 0 then
            set h=I2S((GetHandleId((YDWEGeneralBounsSystem___Units[i])))) // INLINED!!
            call SaveInteger(YDHT, StringHash((h )), StringHash(( "bonusType0" )), ( 0)) // INLINED!!
            call SaveInteger(YDHT, StringHash((h )), StringHash(( "bonusType1" )), ( 0)) // INLINED!!
            call SaveInteger(YDHT, StringHash((h )), StringHash(( "bonusType2" )), ( 0)) // INLINED!!
            call SaveInteger(YDHT, StringHash((h )), StringHash(( "bonusType3" )), ( 0)) // INLINED!!
            call SaveBoolean(YDHT, StringHash((h )), StringHash(( "bonusMark" )), ( false)) // INLINED!!
            set YDWEGeneralBounsSystem___Units[i]=YDWEGeneralBounsSystem___Units[YDWEGeneralBounsSystem___UnitCount]
            set YDWEGeneralBounsSystem___Units[YDWEGeneralBounsSystem___UnitCount]=null
            set YDWEGeneralBounsSystem___UnitCount=YDWEGeneralBounsSystem___UnitCount - 1
        endif
        set i=i - 1
    endloop
endfunction
function YDWEUnitSetBonus takes unit u,integer bonusType,integer ammount returns nothing
    if bonusType == 0 or bonusType == 1 then
        call YDWEGeneralBounsSystem___SetUnitMaxState(u , bonusType , ammount)
      else
        call YDWEGeneralBounsSystem___UnitSetBonus(u , bonusType , ammount)
    endif
endfunction
function YDWEUnitAddBonus takes unit u,integer bonusType,integer ammount returns nothing
    if bonusType == 0 or bonusType == 1 then
        call YDWEGeneralBounsSystem___AddUnitMaxState(u , bonusType , ammount)
      else
        call YDWEGeneralBounsSystem___UnitAddBonus(u , bonusType , ammount)
    endif
endfunction
function YDWEGeneralBounsSystemUnitSetBonus takes unit u,integer bonusType,integer mod,integer ammount returns nothing
    if mod == 0 then
        call YDWEUnitAddBonus(u , bonusType , ammount)
      elseif mod == 1 then
        call YDWEUnitAddBonus(u , bonusType , 0 - ammount)
      else
        call YDWEUnitSetBonus(u , bonusType , ammount)
    endif
endfunction
function YDWEGeneralBounsSystemUnitGetBonus takes unit u,integer bonusType returns integer
    return (LoadInteger(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "bonusType" + I2S(bonusType))))) // INLINED!!
endfunction
//private keyword BonusAbilitys
function YDWEGeneralBounsSystem___InitializeAbilitys takes nothing returns nothing
    local integer i=0
    local integer m=0
    set YDWEGeneralBounsSystem___ABILITY_COUNT[0]=0 //life max
set YDWEGeneralBounsSystem___ABILITY_COUNT[1]=15 //mana max
set YDWEGeneralBounsSystem___ABILITY_COUNT[2]=30 //armor
set YDWEGeneralBounsSystem___ABILITY_COUNT[3]=43 //attack
set YDWEGeneralBounsSystem___ABILITY_COUNT[4]=67
    set YDWEGeneralBounsSystem___ABILITY_NUM[0]=15
    set YDWEGeneralBounsSystem___ABILITY_NUM[1]=15
    set YDWEGeneralBounsSystem___ABILITY_NUM[2]=13
    set YDWEGeneralBounsSystem___ABILITY_NUM[3]=24
    // Bonus Mod - armor abilitys
    loop
        exitwhen i > 9
        set YDWEGeneralBounsSystem___YDWEBONUS_MyChar[i]='0' + m
        set m=m + 1
        set i=i + 1
    endloop
    set m=0
    loop
        exitwhen i > 26
        set YDWEGeneralBounsSystem___YDWEBONUS_MyChar[i]='a' + m
        set m=m + 1
        set i=i + 1
    endloop
    set i=0
    set m=0
    loop
        exitwhen m > ( YDWEGeneralBounsSystem___ABILITY_NUM[0] - 1 )
        set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDl0' - '0' + YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m] // +1
        set i=i + 1
        set m=m + 1
    endloop
    // Bonus Mod - Damage abilitys
    set m=0
    loop
        exitwhen m > ( YDWEGeneralBounsSystem___ABILITY_NUM[1] - 1 )
        set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDm0' - '0' + YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m] // +1
        set i=i + 1
        set m=m + 1
    endloop
    // Bonus Mod - Life MaxState abilitys
    set m=0
    loop
        exitwhen m > ( YDWEGeneralBounsSystem___ABILITY_NUM[2] - 1 )
        set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDc0' - '0' + YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m] // +1
        set i=i + 1
        set m=m + 1
    endloop
    // Bonus Mod - Mana MaxState abilitys
    set m=0
    loop
        exitwhen m > ( YDWEGeneralBounsSystem___ABILITY_NUM[3] - 1 )
        set YDWEGeneralBounsSystem___BonusAbilitys[i]='YDb0' - '0' + YDWEGeneralBounsSystem___YDWEBONUS_MyChar[m] // +1
        set i=i + 1
        set m=m + 1
    endloop
endfunction
function YDWEGeneralBounsSystem___Initialize takes nothing returns nothing
    local integer i= 1
    local unit u
    local integer n=0
    local integer add=0
    call YDWEGeneralBounsSystem___InitializeAbilitys()
    loop
        set i=1
        set YDWEGeneralBounsSystem___PowersOf2[add]=1
            loop
                set YDWEGeneralBounsSystem___PowersOf2[add + 1]=YDWEGeneralBounsSystem___PowersOf2[add] * 2
                set add=add + 1
                set i=i + 1
                exitwhen i == YDWEGeneralBounsSystem___ABILITY_NUM[n]
            endloop
        set YDWEGeneralBounsSystem___MaxBonus[n]=YDWEGeneralBounsSystem___PowersOf2[add] - 1
        set YDWEGeneralBounsSystem___MinBonus[n]=- YDWEGeneralBounsSystem___PowersOf2[add]
        set add=add + 1
        set n=n + 1
        exitwhen n >= 4
    endloop
    //é¢„è¯»æŠ€èƒ½
    if YDWEGeneralBounsSystem___PRELOAD_ABILITYS then
        set u=CreateUnit(Player(15), YDWEGeneralBounsSystem___PRELOAD_DUMMY_UNIT, 0, 0, 0)
        set i=0
        loop
            exitwhen i == YDWEGeneralBounsSystem___ABILITY_COUNT[5]
            call UnitAddAbility(u, YDWEGeneralBounsSystem___BonusAbilitys[i])
            set i=i + 1
        endloop
        call RemoveUnit(u)
        set u=null
    endif
    //å›æ”¶æ•°æ®
    call TimerStart(CreateTimer(), 10, true, function YDWEGeneralBounsSystem___FlushUnits)
endfunction
function YDWELifeChange takes unit u,integer mod,integer ch,integer id returns nothing
    local integer a
    local integer b
    local integer c
    local integer d
    local integer aid= id
    if mod == 1 then
        set ch=- ch
      elseif mod == 2 then
        set ch=ch - R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE))
    endif
    //set YDWEADDBONUS_LIFE=YDWEADDBONUS_LIFE+ch
    if ch > 99999 then
        set ch=99999
    endif
    if ch < - 99999 then
        set ch=- 99999
    endif
    if ch < 0 then
        set a=2
        set ch=- ch
    else
        set a=7
    endif
    set b=0
    loop
        exitwhen b == 5
        set c=ch - ch / 10 * 10
        set d=0
        loop
            exitwhen d == c
            call UnitAddAbility(u, aid)
            call SetUnitAbilityLevel(u, aid, a)
            call UnitRemoveAbility(u, aid)
            set d=d + 1
        endloop
        set ch=ch / 10
        set a=a + 1
        set b=b + 1
    endloop
endfunction
//===========================================================================
//ä¿®æ”¹é­”æ³•
//===========================================================================
function YDWEManaChange takes unit u,integer mod,integer ch,integer id returns nothing
    local integer a
    local integer b
    local integer c
    local integer d
    local integer aid= id
    if mod == 1 then
        set ch=- ch
      elseif mod == 2 then
        set ch=ch - R2I(GetUnitState(u, UNIT_STATE_MAX_MANA))
    endif
    //set YDWEADDBONUS_MANA=YDWEADDBONUS_MANA+ch
    if ch > 99999 then
        set ch=99999
    endif
    if ch < - 99999 then
        set ch=- 99999
    endif
    if ch < 0 then
        set a=2
        set ch=- ch
    else
        set a=7
    endif
    set b=0
    loop
        exitwhen b == 5
        set c=ch - ch / 10 * 10
        set d=0
        loop
            exitwhen d == c
            call UnitAddAbility(u, aid)
            call SetUnitAbilityLevel(u, aid, a)
            call UnitRemoveAbility(u, aid)
            set d=d + 1
        endloop
        set ch=ch / 10
        set a=a + 1
        set b=b + 1
    endloop
endfunction

//library YDWEGeneralBounsSystem ends
//library YDWEGetUnitsInRangeOfLocMatchingNull:
function YDWEGetUnitsInRangeOfLocMatchingNull takes real radius,location whichLocation,boolexpr filter returns group
    local group g= CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g, whichLocation, radius, filter)
    call DestroyBoolExpr(filter)
    set yd_NullTempGroup=g
    set g=null
    return yd_NullTempGroup
endfunction

//library YDWEGetUnitsInRangeOfLocMatchingNull ends
//library YDWELogarithm:
// Author : zyl910
// Modified by : c kuhn
// [private]ç”¨çº§æ•°è®¡ç®—ä»¥eä¸ºåº•çš„å¯¹æ•°
// Returns 0 if x <= 0
function YDWELogarithm___ln_taylor takes real x returns real
    // ln( (1+x) / (1-x) ) = ln(1+x) - ln(1-x) = 2 * ( x + x^3 / 3 + x^5 / 5 + ... )
    // x = (y-1) / (y+1)
    // (0 < y < +âˆ, -1 < x < 1)
    local real fRet= 0.
    local real x2
local real fCur
    local real fDiv= 1.
    
    if x > 0 then
        set x=( x - 1. ) / ( x + 1. )
        set x2=x * x
        loop
            set fCur=fRet + x * 2. / fDiv
            exitwhen fRet >= fCur and fRet <= fCur
            set fRet=fCur
            set x=x * x2
            set fDiv=fDiv + 2.
        endloop
    endif
    
    return fRet
endfunction
// Author : c kuhn
// é€šè¿‡æ»¡äºŒå‰æ ‘ç‰¹æ€§å¿«é€Ÿæ‰¾åˆ°å¤§çš„éƒ¨åˆ†
function YDWELogarithm___Log2 takes real x returns real
    local real res= 0.
    local real sign=1.
    local real i= 64.
    local real level= 32.
    local real mid
    local real temp
    local real fac= 0.
    local integer count= 6
    if x > 0 and ( x < 1 or x > 1 ) then
        if x < 1 then
            set sign=- 1.
            set x=1. / x
        endif
        if x >= 2. then
            set mid=YDWELogarithm___base[7]
            loop
                set temp=x / mid
                exitwhen temp >= 1. and temp < 2.
                if x < mid then
                    set i=i - level
                    set mid=mid / YDWELogarithm___base[count]
                else
                    set i=i + level
                    set mid=mid * YDWELogarithm___base[count]
                endif
                set level=level / 2.
                set count=count - 1
            endloop
            set fac=i
            set x=temp
        endif
        //æ ¹å·2
        if x > 1.4142135 then
            set x=x / 1.4142135
            set fac=fac + .5
        endif
        set res=sign * ( fac + YDWELogarithm___ln_taylor(x) * 1.442695 )
    endif
    
    return res
endfunction
// ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°
// Returns 0 if x <= 0
function YDWELogarithmLg takes real x returns real
    return YDWELogarithm___Log2(x) * 0.3010300 // 1/log2(10) = 0.30102999566398119521373889472449
endfunction
// ä»¥ e ä¸ºåº•çš„å¯¹æ•°
// Returns 0 if x <= 0
function YDWELogarithmLn takes real x returns real
    return YDWELogarithm___Log2(x) * 0.6931472 // 1/log2(e) = 0.69314718055994530941723212145818
endfunction
// ä»¥ ä»»æ„æ•° ä¸ºåº•çš„å¯¹æ•° 
function YDWELogarithmLog takes real a,real x returns real
    if a <= 0 or ( a <= 1 and a >= 1 ) then
        return 0.
    endif
    return YDWELogarithm___Log2(x) / YDWELogarithm___Log2(a)
endfunction
function YDWELogarithm___onInit takes nothing returns nothing
    set YDWELogarithm___base[1]=2.
    set YDWELogarithm___base[2]=4.
    set YDWELogarithm___base[3]=16.
    set YDWELogarithm___base[4]=256.
    set YDWELogarithm___base[5]=65536.
    //è¿‡å¤§çš„æ•°å¿…é¡»ç”¨ä¹˜æ³•
    set YDWELogarithm___base[6]=65536. * 65536. //2^32
set YDWELogarithm___base[7]=YDWELogarithm___base[6] * YDWELogarithm___base[6] //2^64
endfunction

//library YDWELogarithm ends
//library YDWEPolledWaitNull:
function YDWEPolledWaitNull takes real duration returns nothing
    local timer t
    local real timeRemaining
    if ( duration > 0 ) then
        set t=CreateTimer()
        call TimerStart(t, duration, false, null)
        loop
            set timeRemaining=TimerGetRemaining(t)
            exitwhen timeRemaining <= 0
            // If we have a bit of time left, skip past 10% of the remaining
            // duration instead of checking every interval, to minimize the
            // polling on long waits.
            if ( timeRemaining > bj_POLLED_WAIT_SKIP_THRESHOLD ) then
                call TriggerSleepAction(0.1 * timeRemaining)
            else
                call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
            endif
        endloop
        call DestroyTimer(t)
    endif
    set t=null
endfunction

//library YDWEPolledWaitNull ends
//library YDWEStringHash:

//library YDWEStringHash ends
//library YDWESync:
 function YDWESync___IsLivingPlayer takes player p returns boolean
		return ( GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING ) and ( GetPlayerController(p) == MAP_CONTROL_USER )
	endfunction
 function YDWESync___GetLivingfPlayer takes nothing returns player
  local integer i= 0
		loop
			exitwhen YDWESync___IsLivingPlayer(Player(i)) or i >= 11
			set i=i + 1
		endloop
		return Player(i)
	endfunction
    
    function YDWESync_Lock takes nothing returns nothing
        loop
            if not YDWESync___m_mutex_state then
                set YDWESync___m_mutex_state=true
                return
            endif
            call TriggerSleepAction(0.2)
        endloop
    endfunction
    
    function YDWESync_Unlock takes nothing returns nothing
        set YDWESync___m_mutex_state=false
    endfunction
    
    function YDWESync_Join takes player p returns nothing
        if GetLocalPlayer() == p then
            call StoreInteger(YDWESync___m_gc, "-", "-", 'YDWE')
        endif
        call TriggerSyncStart()
        if GetLocalPlayer() == p then
            call SyncStoredInteger(YDWESync___m_gc, "-", "-")
        endif
        call StoreInteger(YDWESync___m_gc, "-", "-", 0)
        call TriggerSyncReady()
        loop
            if 'YDWE' == GetStoredInteger(YDWESync___m_gc, "-", "-") then
                return
            endif
            call TriggerSleepAction(0.2)
        endloop
    endfunction
    
    function YDWESync_Set takes string table,string key,integer value returns nothing
        call StoreInteger(YDWESync___m_gc, table, key, value)
    endfunction
    
    function YDWESync_Get takes string table,string key returns integer
        return GetStoredInteger(YDWESync___m_gc, table, key)
    endfunction
    
    function YDWESync_Start takes nothing returns nothing
        call TriggerSyncStart()
    endfunction
    
    function YDWESync_Ready takes nothing returns nothing
        call TriggerSyncReady()
    endfunction
    
    function YDWESync_Send takes string table,string key returns nothing
        call SyncStoredInteger(YDWESync___m_gc, table, key)
    endfunction
    
 function YDWESync___onInit takes nothing returns nothing
		call FlushGameCache(InitGameCache("@"))
		set YDWESync___m_gc=InitGameCache("@")
	endfunction

//library YDWESync ends
//library YDWETriggerEvent:
	
//===========================================================================  
//ÈÎÒâµ¥Î»ÉËº¦ÊÂ¼ş 
//===========================================================================
function YDWEAnyUnitDamagedTriggerAction takes nothing returns nothing
    local integer i= 0
    
    loop
        exitwhen i >= YDWETriggerEvent___DamageEventNumber
        if YDWETriggerEvent___DamageEventQueue[i] != null and IsTriggerEnabled(YDWETriggerEvent___DamageEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent___DamageEventQueue[i]) then
            call TriggerExecute(YDWETriggerEvent___DamageEventQueue[i])
        endif
        set i=i + 1
    endloop
endfunction
function YDWEAnyUnitDamagedFilter takes nothing returns boolean
    if GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') <= 0 then
        call TriggerRegisterUnitEvent(yd_DamageEventTrigger, GetFilterUnit(), EVENT_UNIT_DAMAGED)
    endif
    return false
endfunction
function YDWEAnyUnitDamagedEnumUnit takes nothing returns nothing
    local trigger t= CreateTrigger()
    local region r= CreateRegion()
    local group g= CreateGroup()
    call RegionAddRect(r, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, r, Condition(function YDWEAnyUnitDamagedFilter))
    call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function YDWEAnyUnitDamagedFilter))
    call DestroyGroup(g)
    set r=null
    set t=null
    set g=null
endfunction
	
function YDWESyStemAnyUnitDamagedRegistTrigger takes trigger trg returns nothing
    if trg == null then
        return
    endif
        
    if YDWETriggerEvent___DamageEventNumber == 0 then
        set yd_DamageEventTrigger=CreateTrigger()
        call TriggerAddAction(yd_DamageEventTrigger, function YDWEAnyUnitDamagedTriggerAction)
        call YDWEAnyUnitDamagedEnumUnit()
    endif
    
    set YDWETriggerEvent___DamageEventQueue[YDWETriggerEvent___DamageEventNumber]=trg
    set YDWETriggerEvent___DamageEventNumber=YDWETriggerEvent___DamageEventNumber + 1
endfunction
//===========================================================================  
//ÒÆ¶¯ÎïÆ·ÊÂ¼ş 
//===========================================================================  
function YDWESyStemItemUnmovableTriggerAction takes nothing returns nothing
    local integer i= 0
    
    if GetIssuedOrderId() >= 852002 and GetIssuedOrderId() <= 852007 then
		set bj_lastMovedItemInItemSlot=GetOrderTargetItem()
    	loop
        	exitwhen i >= YDWETriggerEvent___MoveItemEventNumber
        	if YDWETriggerEvent___MoveItemEventQueue[i] != null and IsTriggerEnabled(YDWETriggerEvent___MoveItemEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent___MoveItemEventQueue[i]) then
        	    call TriggerExecute(YDWETriggerEvent___MoveItemEventQueue[i])
        	endif
        	set i=i + 1
    	endloop
	endif
endfunction
function YDWESyStemItemUnmovableRegistTrigger takes trigger trg returns nothing
    if trg == null then
        return
    endif
        
    if YDWETriggerEvent___MoveItemEventNumber == 0 then
        set YDWETriggerEvent___MoveItemEventTrigger=CreateTrigger()
        call TriggerAddAction(YDWETriggerEvent___MoveItemEventTrigger, function YDWESyStemItemUnmovableTriggerAction)
        call TriggerRegisterAnyUnitEventBJ(YDWETriggerEvent___MoveItemEventTrigger, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    endif
    
    set YDWETriggerEvent___MoveItemEventQueue[YDWETriggerEvent___MoveItemEventNumber]=trg
    set YDWETriggerEvent___MoveItemEventNumber=YDWETriggerEvent___MoveItemEventNumber + 1
endfunction
function GetLastMovedItemInItemSlot takes nothing returns item
    return bj_lastMovedItemInItemSlot
endfunction

//library YDWETriggerEvent ends
//library YDWETriggerRegisterLeaveRectSimpleNull:
function YDWETriggerRegisterLeaveRectSimpleNull takes trigger trig,rect r returns event
    local region rectRegion= CreateRegion()
    call RegionAddRect(rectRegion, r)
    set yd_NullTempRegion=rectRegion
    set rectRegion=null
    return TriggerRegisterLeaveRegion(trig, yd_NullTempRegion, null)
endfunction

//library YDWETriggerRegisterLeaveRectSimpleNull ends
//library YDWEUnitHasItemOfTypeBJNull:
function YDWEUnitHasItemOfTypeBJNull takes unit whichUnit,integer itemId returns boolean
    local integer index= 0
	if itemId != 0 then
		loop
			if GetItemTypeId(UnitItemInSlot(whichUnit, index)) == itemId then
				return true
			endif
			set index=index + 1
			exitwhen index >= bj_MAX_INVENTORY
		endloop
	endif
    return false
endfunction

//library YDWEUnitHasItemOfTypeBJNull ends
//library Deputy:
	// åˆ¤æ–­æ˜¯å¦å…·å¤‡æŸå‰¯èŒ
 function Deputy_isDeputy takes integer i,integer whichDeputy returns boolean
		return YDWEBitwise_AND(deputy[i] , ((1 ) * YDWEBitwise__C2[( whichDeputy - 1)])) != 0 // INLINED!!
	endfunction
	
	// è®¾ç½®å‰¯èŒ
 function Deputy_setDeputy takes integer i,integer whichDeputy returns nothing
		set deputy[i]=YDWEBitwise_OR(deputy[i] , ((1 ) * YDWEBitwise__C2[( whichDeputy - 1)])) // INLINED!!
	endfunction
	
	// åˆ¤æ–­æ˜¯å¦å…·å¤‡æŸå‰¯èŒçš„å¤§å¸ˆ
 function Deputy_isMaster takes integer i,integer whichMaster returns boolean
		return YDWEBitwise_AND(master[i] , ((1 ) * YDWEBitwise__C2[( whichMaster - 1)])) != 0 // INLINED!!
	endfunction
	
	// è®¾ç½®å‰¯èŒå¤§å¸ˆ
 function Deputy_setMaster takes integer i,integer whichMaster returns nothing
		set master[i]=YDWEBitwise_OR(master[i] , ((1 ) * YDWEBitwise__C2[( whichMaster - 1)])) // INLINED!!
	endfunction

//library Deputy ends
//library YDWECreateEwsp:
//===========================================================================
//»·ÈÆ¼¼ÄÜÄ£°å 
//===========================================================================
function YDWECreateEwsp___Loop takes nothing returns nothing
    local timer t= GetExpiredTimer()
 local string h= I2S((GetHandleId((t)))) // INLINED!!
    local unit tempUnit
    local real angle
    local integer i
    local unit orderUnit=(LoadUnitHandle(YDHT, StringHash((h )), StringHash(( "orderUnit")))) // INLINED!!
    local real UnitLocX= GetUnitX(orderUnit)
    local real UnitLocY= GetUnitY(orderUnit)
    local real radius= (LoadReal(YDHT, StringHash((h )), StringHash(( "radius")))) // INLINED!!
    local real speed= (LoadReal(YDHT, StringHash((h )), StringHash(( "speed")))) // INLINED!!
    local integer number= (LoadInteger(YDHT, StringHash((h )), StringHash(( "number")))) // INLINED!!
    local integer steps= (LoadInteger(YDHT, StringHash((h )), StringHash(( "steps")))) // INLINED!!
    if steps > 0 and GetUnitState(orderUnit, UNIT_STATE_LIFE) > 0 then
        set steps=steps - 1
        call SaveInteger(YDHT, StringHash((h )), StringHash(( "steps" )), ( steps)) // INLINED!!
        set i=0
        loop
            set i=i + 1
            exitwhen i > number
            set tempUnit=(LoadUnitHandle(YDHT, StringHash((h )), StringHash(( "units" + I2S(i))))) // INLINED!!
            set angle=(LoadReal(YDHT, StringHash((h )), StringHash(( "angles" + I2S(i))))) // INLINED!!
            set angle=angle + speed
            call SaveReal(YDHT, StringHash((h )), StringHash(( "angles" + I2S(i) )), (( angle)*1.0)) // INLINED!!
            call SetUnitX(tempUnit, (RMinBJ(RMaxBJ(((UnitLocX + radius * Cos(angle))*1.0), yd_MapMinX), yd_MapMaxX))) // INLINED!!
            call SetUnitY(tempUnit, (RMinBJ(RMaxBJ(((UnitLocY + radius * Sin(angle))*1.0), yd_MapMinY), yd_MapMaxY))) // INLINED!!
        endloop
    else
        set i=0
        loop
            set i=i + 1
            exitwhen i > number
            call RemoveUnit((LoadUnitHandle(YDHT, StringHash((h )), StringHash(( "units" + I2S(i)))))) // INLINED!!
        endloop
        call FlushChildHashtable(YDHT, StringHash((h))) // INLINED!!
        call DestroyTimer(t)
        call YDWESyStemAbilityCastingOverTriggerAction(orderUnit , 1)
    endif
    set tempUnit=null
    set orderUnit=null
    set t=null
endfunction
function YDWECreateEwsp takes unit Hero,integer ewsp,integer number,real radius,real lasttime,real interval,real speed returns nothing
    local timer t= CreateTimer()
 local string h= I2S((GetHandleId((t)))) // INLINED!!
 local real UnitLocX= GetUnitX(Hero)
    local real UnitLocY= GetUnitY(Hero)
    local unit tempUnit
    local player Masterplayer= GetOwningPlayer(Hero)
    local real angle
    local integer i= 0
    local integer steps= R2I(lasttime / interval)
    call SaveUnitHandle(YDHT, StringHash((h )), StringHash(( "orderUnit" )), ( Hero)) // INLINED!!
    call SaveInteger(YDHT, StringHash((h )), StringHash(( "steps" )), ( steps)) // INLINED!!
    call SaveInteger(YDHT, StringHash((h )), StringHash(( "number" )), ( number)) // INLINED!!
    call SaveReal(YDHT, StringHash((h )), StringHash(( "radius" )), (( radius)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((h )), StringHash(( "speed" )), (( speed * bj_DEGTORAD)*1.0)) // INLINED!!
    call GroupClear(bj_lastCreatedGroup)
    loop
        set i=i + 1
        exitwhen i > number
        set angle=2 * i * bj_PI / number
        call SaveReal(YDHT, StringHash((h )), StringHash(( "angles" + I2S(i) )), (( angle)*1.0)) // INLINED!!
        set tempUnit=CreateUnit(Masterplayer, ewsp, (RMinBJ(RMaxBJ(((UnitLocX + radius * Cos(angle))*1.0), yd_MapMinX), yd_MapMaxX)), (RMinBJ(RMaxBJ(((UnitLocY + radius * Sin(angle))*1.0), yd_MapMinY), yd_MapMaxY)), angle * bj_RADTODEG) // INLINED!!
        call SaveUnitHandle(YDHT, StringHash((h )), StringHash(( "units" + I2S(i) )), ( tempUnit)) // INLINED!!
        call UnitIgnoreAlarm(tempUnit, true)
        call GroupAddUnit(bj_lastCreatedGroup, tempUnit)
        set bj_lastCreatedUnit=tempUnit
    endloop
    call TimerStart(t, interval, true, function YDWECreateEwsp___Loop)
    set t=null
    set tempUnit=null
endfunction

//library YDWECreateEwsp ends
//library YDWEJumpTimer:
function YDWEJumpTimerLoop takes nothing returns nothing
    local timer t=GetExpiredTimer()
    local unit hero=( (LoadUnitHandle(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "Hero")))) ) // INLINED!!
    local real angle=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "Angle")))) // INLINED!!
    local integer steeps=(LoadInteger(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "steeps")))) // INLINED!!
    local integer steepsMax=(LoadInteger(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "steepsMax")))) // INLINED!!
    local real heightMax=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "heightMax")))) // INLINED!!
    local real dist=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "dist")))) // INLINED!!
    local real dheig=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "dheig")))) // INLINED!!
    local real OriginHeight=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "OriginHeight")))) // INLINED!!
    local real x=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "X")))) // INLINED!!
    local real y=(LoadReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "Y")))) // INLINED!!
    local real x1=0
    local real y1=0
    local real height=0
    local integer lvJumpTimer=MoveMoreLevel_JumpTimer
    local integer lvUnitMove=(LoadInteger(YDHT, StringHash((I2S((GetHandleId((hero)))) )), StringHash(( "lvUnitMove")))) // INLINED!!
    if steeps < steepsMax and lvJumpTimer >= lvUnitMove then
        set x1=x + steeps * dist * Cos(angle * 3.14159 / 180.0)
        set y1=y + steeps * dist * Sin(angle * 3.14159 / 180.0)
        set x1=(RMinBJ(RMaxBJ(((x1)*1.0), yd_MapMinX), yd_MapMaxX)) // INLINED!!
        set y1=(RMinBJ(RMaxBJ(((y1)*1.0), yd_MapMinY), yd_MapMaxY)) // INLINED!!
        call SetUnitX(hero, x1)
        call SetUnitY(hero, y1)
        set steeps=steeps + 1
        call SaveInteger(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "steeps" )), ( steeps)) // INLINED!!
        set height=( - ( 2 * I2R(steeps) * dheig - 1 ) * ( 2 * I2R(steeps) * dheig - 1 ) + 1 ) * heightMax + OriginHeight
        call SetUnitFlyHeight(hero, height, 99999)
        call SetUnitFacing(hero, angle)
      else
        call SetUnitFlyHeight(hero, OriginHeight, 99999)
        call SetUnitPathing(hero, true)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, StringHash((I2S((GetHandleId((t))))))) // INLINED!!
        call SaveInteger(YDHT, StringHash((I2S((GetHandleId((hero)))) )), StringHash(( "lvUnitMove" )), ( 0)) // INLINED!!
        call YDWESyStemAbilityCastingOverTriggerAction(hero , 2)
    endif
    set t=null
    set hero=null
endfunction
                            
function YDWEJumpTimer takes unit hero,real angle,real distance,real lasttime,real timeout,real heightMax returns nothing
    local timer t=null
    local real x=GetUnitX(hero)
    local real y=GetUnitY(hero)
    local integer steepsMax=R2I(lasttime / timeout)
    local integer steeps=0
    local real dist=distance / steepsMax
    local real dheig=1.0 / steepsMax
    local real OriginHeight=GetUnitFlyHeight(hero)
    local integer lvUnitMove=(LoadInteger(YDHT, StringHash((I2S((GetHandleId((hero)))) )), StringHash(( "lvUnitMove")))) // INLINED!!
    if MoveMoreLevel_JumpTimer <= lvUnitMove then
        return
    endif
    set t=CreateTimer()
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((hero)))) )), StringHash(( "lvUnitMove" )), ( MoveMoreLevel_JumpTimer)) // INLINED!!
    call YDWEFlyEnable(hero)
    call SetUnitPathing(hero, false)
    call SaveUnitHandle(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "Hero" )), ( hero)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "OriginHeight" )), (( OriginHeight)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "Angle" )), (( angle)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "dist" )), (( dist)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "heightMax" )), (( heightMax)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "dheig" )), (( dheig)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "X" )), (( x)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "Y" )), (( y)*1.0)) // INLINED!!
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "steeps" )), ( steeps)) // INLINED!!
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((t)))) )), StringHash(( "steepsMax" )), ( steepsMax)) // INLINED!!
    call TimerStart(t, timeout, true, function YDWEJumpTimerLoop)
    set t=null
endfunction

//library YDWEJumpTimer ends
//library YDWELocalVariable:
function YDWELocalVariableInitiliation takes nothing returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "GlobalsTriggerRunSteps")))) // INLINED!!
    set TriggerRunSteps=TriggerRunSteps + 1
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "GlobalsTriggerRunSteps" )), ( TriggerRunSteps)) // INLINED!!
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps" )), ( TriggerRunSteps)) // INLINED!!
endfunction
function YDWEWaitForLocalVariable takes real time returns nothing
    local integer TriggerRunSteps=(LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
// call BJDebugMsg("ç­‰å¾…ä¹‹å‰TriggerRunSteps= "+I2S(TriggerRunSteps))
    call TriggerSleepAction(time)
// call BJDebugMsg("ç­‰å¾…ä¹‹åTriggerRunSteps= "+I2S(TriggerRunSteps))
    call SaveInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps" )), ( TriggerRunSteps)) // INLINED!!
endfunction
function YDWELocalVariableEnd takes nothing returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call FlushChildHashtable(YDHT, StringHash((dir))) // INLINED!!
endfunction
//integer
function YDWESetLocalVariableInteger takes string s,integer i returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s )), ( i)) // INLINED!!
endfunction
function YDWEGetLocalVariableInteger takes string s returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableIntegerArray takes string s,integer index,integer i returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( i)) // INLINED!!
endfunction
function YDWEGetLocalVariableIntegerArray takes string s,integer index returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//real
function YDWESetLocalVariableReal takes string s,real R returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveReal(YDHT, StringHash((dir )), StringHash(( s )), (( R)*1.0)) // INLINED!!
endfunction
function YDWEGetLocalVariableReal takes string s returns real
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadReal(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableRealArray takes string s,integer index,real R returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveReal(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), (( R)*1.0)) // INLINED!!
endfunction
function YDWEGetLocalVariableRealArray takes string s,integer index returns real
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadReal(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//string
function YDWESetLocalVariableString takes string s,string str returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveStr(YDHT, StringHash((dir )), StringHash(( s )), ( str)) // INLINED!!
endfunction
function YDWEGetLocalVariableString takes string s returns string
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadStr(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableStringArray takes string s,integer index,string str returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveStr(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( str)) // INLINED!!
endfunction
function YDWEGetLocalVariableStringArray takes string s,integer index returns string
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadStr(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//boolean
function YDWESetLocalVariableBoolean takes string s,boolean bl returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveBoolean(YDHT, StringHash((dir )), StringHash(( s )), ( bl)) // INLINED!!
endfunction
function YDWEGetLocalVariableBoolean takes string s returns boolean
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadBoolean(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableBooleanArray takes string s,integer index,boolean bl returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveBoolean(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( bl)) // INLINED!!
endfunction
function YDWEGetLocalVariableBooleanArray takes string s,integer index returns boolean
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadBoolean(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//unit
function YDWESetLocalVariableUnit takes string s,unit u returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveUnitHandle(YDHT, StringHash((dir )), StringHash(( s )), ( u)) // INLINED!!
endfunction
function YDWEGetLocalVariableUnit takes string s returns unit
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadUnitHandle(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableUnitArray takes string s,integer index,unit u returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveUnitHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( u)) // INLINED!!
endfunction
function YDWEGetLocalVariableUnitArray takes string s,integer index returns unit
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadUnitHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//unit code
function YDWESetLocalVariableUnitID takes string s,integer uid returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s )), ( uid)) // INLINED!!
endfunction
function YDWEGetLocalVariableUnitID takes string s returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableUnitIDArray takes string s,integer index,integer uid returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( uid)) // INLINED!!
endfunction
function YDWEGetLocalVariableUnitIDArray takes string s,integer index returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//ability code
function YDWESetLocalVariableAbilityID takes string s,integer abid returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s )), ( abid)) // INLINED!!
endfunction
function YDWEGetLocalVariableAbilityID takes string s returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableAbilityIDArray takes string s,integer index,integer abid returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( abid)) // INLINED!!
endfunction
function YDWEGetLocalVariableAbilityIDArray takes string s,integer index returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//item
function YDWESetLocalVariableItem takes string s,item it returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveItemHandle(YDHT, StringHash((dir )), StringHash(( s )), ( it)) // INLINED!!
endfunction
function YDWEGetLocalVariableItem takes string s returns item
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadItemHandle(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableItemArray takes string s,integer index,item it returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveItemHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( it)) // INLINED!!
endfunction
function YDWEGetLocalVariableItemArray takes string s,integer index returns item
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadItemHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//item code
function YDWESetLocalVariableItemID takes string s,integer itid returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s )), ( itid)) // INLINED!!
endfunction
function YDWEGetLocalVariableItemID takes string s returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableItemIDArray takes string s,integer index,integer itid returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( itid)) // INLINED!!
endfunction
function YDWEGetLocalVariableItemIDArray takes string s,integer index returns integer
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadInteger(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//location
function YDWESetLocalVariableLocation takes string s,location point returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveLocationHandle(YDHT, StringHash((dir )), StringHash(( s )), ( point)) // INLINED!!
endfunction
function YDWEGetLocalVariableLocation takes string s returns location
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadLocationHandle(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableLocationArray takes string s,integer index,location point returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveLocationHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( point)) // INLINED!!
endfunction
function YDWEGetLocalVariableLocationArray takes string s,integer index returns location
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadLocationHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//group
function YDWESetLocalVariableGroup takes string s,group g returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveGroupHandle(YDHT, StringHash((dir )), StringHash(( s )), ( g)) // INLINED!!
endfunction
function YDWEGetLocalVariableGroup takes string s returns group
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadGroupHandle(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableGroupArray takes string s,integer index,group g returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveGroupHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( g)) // INLINED!!
endfunction
function YDWEGetLocalVariableGroupArray takes string s,integer index returns group
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadGroupHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//effect
function YDWESetLocalVariableEffect takes string s,effect e returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveEffectHandle(YDHT, StringHash((dir )), StringHash(( s )), ( e)) // INLINED!!
endfunction
function YDWEGetLocalVariableEffect takes string s returns effect
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadEffectHandle(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableEffectArray takes string s,integer index,effect e returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveEffectHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( e)) // INLINED!!
endfunction
function YDWEGetLocalVariableEffectArray takes string s,integer index returns effect
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadEffectHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction
//rect
function YDWESetLocalVariableRect takes string s,rect rt returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveRectHandle(YDHT, StringHash((dir )), StringHash(( s )), ( rt)) // INLINED!!
endfunction
function YDWEGetLocalVariableRect takes string s returns rect
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadRectHandle(YDHT, StringHash((dir )), StringHash(( s)))) // INLINED!!
endfunction
function YDWESetLocalVariableRectArray takes string s,integer index,rect rt returns nothing
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    call SaveRectHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index) )), ( rt)) // INLINED!!
endfunction
function YDWEGetLocalVariableRectArray takes string s,integer index returns rect
    local integer TriggerRunSteps= (LoadInteger(YDHT, StringHash((I2S((GetHandleId((GetTriggeringTrigger())))) )), StringHash(( "TriggerRunSteps")))) // INLINED!!
    local string dir= I2S((GetHandleId((GetTriggeringTrigger())))) + I2S(TriggerRunSteps) // INLINED!!
    return (LoadRectHandle(YDHT, StringHash((dir )), StringHash(( s + I2S(index))))) // INLINED!!
endfunction

//library YDWELocalVariable ends
//library YDWEPreloadSL:
 
function YDWE_PreloadSL_SaveInteger takes integer key,integer value returns nothing
  if value >= 0 then
    call Preload("\" )\n    call SetPlayerTechMaxAllowed(Player(14)," + I2S(key) + ",1)\n    call SetPlayerTechMaxAllowed(Player(15)," + I2S(key) + "," + I2S(value) + ")\n    //")
  else
    call Preload("\" )\n    call SetPlayerTechMaxAllowed(Player(14)," + I2S(key) + ",2)\n    call SetPlayerTechMaxAllowed(Player(15)," + I2S(key) + "," + I2S(- value) + ")\n    //")
  endif
endfunction
function YDWE_PreloadSL_LoadInteger takes integer key returns integer
  local integer var_type= GetPlayerTechMaxAllowed(Player(14), key)
    
  if var_type == 1 then
    return GetPlayerTechMaxAllowed(Player(15), key)
  elseif var_type == 2 then
    return - GetPlayerTechMaxAllowed(Player(15), key)
  else
    return 0
  endif
endfunction
function YDWE_PreloadSL_LoadPreFile takes player p,integer n,string strFilePath returns nothing
  local integer index= 0
  local integer beg= ( 501 * GetPlayerId(p) )
  
  call Preloader(strFilePath)
  
  loop
    exitwhen index > n
    set YDWEPreloadSL___CodeHI[beg + index]=YDWE_PreloadSL_LoadInteger(index)
    set YDWEPreloadSL___CodeLO[beg + index]=YDWE_PreloadSL_LoadInteger($200 + index)
    set index=index + 1
  endloop
endfunction
function YDWE_PreloadSL_SavePreFile takes player p,integer n,string strFilePath returns nothing
  local integer index= 0
  local integer beg= ( 501 * GetPlayerId(p) )
  
  call PreloadGenClear()
  call PreloadGenStart()
  loop
    exitwhen index > n
    call YDWE_PreloadSL_SaveInteger(index , YDWEPreloadSL___CodeHI[beg + index])
    call YDWE_PreloadSL_SaveInteger($200 + index , YDWEPreloadSL___CodeLO[beg + index])
    set index=index + 1
  endloop
          
  call Preload("\" )\nendfunction \nfunction YDWE_PreloadSL_DataFile takes nothing returns nothing\n  //")
  call PreloadGenEnd(strFilePath)
endfunction
function YDWE_PreloadSL_OpenDir takes string dir returns nothing
  local integer index
  
  set index=0
  loop
    exitwhen index >= 16
    set udg_YDWE_PreloadSL_List[16 + index]=GetPlayerName(Player(index))
    call SetPlayerName(Player(index), udg_YDWE_PreloadSL_List[index])
    set index=index + 1
  endloop
  call Preloader("save\\" + dir + "\\list.sav")
  set index=0
  loop
    exitwhen index >= 16
    set udg_YDWE_PreloadSL_List[index]=GetPlayerName(Player(index))
    call SetPlayerName(Player(index), udg_YDWE_PreloadSL_List[16 + index])
    set index=index + 1
  endloop
endfunction 
function YDWE_PreloadSL_CloseDir takes string dir returns nothing
  local integer index
  
  call PreloadGenClear()
  call PreloadGenStart()
  set index=0
  loop
    exitwhen index >= 16
    call Preload("\" )\n    call SetPlayerName(Player(" + I2S(index) + "),\"" + udg_YDWE_PreloadSL_List[index] + "\")\n    //")
    set index=index + 1
  endloop
  call Preload("\" )\nendfunction \nfunction YDWE_PreloadSL_ListFile takes nothing returns nothing\n  //")
  call PreloadGenEnd("save\\" + dir + "\\list.sav")
endfunction
  
function YDWE_PreloadSL_SetFile takes player p,string dir,string value,integer n returns nothing
  if GetLocalPlayer() == p then
    if udg_YDWE_PreloadSL_CurrentDir == "" then
      call YDWE_PreloadSL_OpenDir(dir)
      set udg_YDWE_PreloadSL_CurrentDir=dir
    elseif udg_YDWE_PreloadSL_CurrentDir != dir then
      call YDWE_PreloadSL_CloseDir(udg_YDWE_PreloadSL_CurrentDir)
      call YDWE_PreloadSL_OpenDir(dir)
      set udg_YDWE_PreloadSL_CurrentDir=dir
    endif
    
    if 0 < n and n < 16 then
      set udg_YDWE_PreloadSL_List[n - 1]=value
      call YDWE_PreloadSL_CloseDir(udg_YDWE_PreloadSL_CurrentDir)
    endif
  endif
endfunction 
    
function YDWE_PreloadSL_GetFile takes player p,string dir,integer n returns string
  if GetLocalPlayer() == p then
    if udg_YDWE_PreloadSL_CurrentDir == "" then
      call YDWE_PreloadSL_OpenDir(dir)
      set udg_YDWE_PreloadSL_CurrentDir=dir
    elseif udg_YDWE_PreloadSL_CurrentDir != dir then
      call YDWE_PreloadSL_CloseDir(udg_YDWE_PreloadSL_CurrentDir)
      call YDWE_PreloadSL_OpenDir(dir)
      set udg_YDWE_PreloadSL_CurrentDir=dir
    endif
    
    if 0 < n and n < 16 then
      return udg_YDWE_PreloadSL_List[n - 1]
    else
      return "<null>"
    endif
  else
    return "NotBelongToYou"
  endif
endfunction
    
function YDWE_PreloadSL_GetMask takes player p returns integer
    local integer value
    local integer beg= ( 501 * GetPlayerId(p) )
    local integer l__hi= YDWEPreloadSL___CodeHI[beg]
    local integer l__lo= YDWEPreloadSL___CodeLO[beg]
    if l__hi < $8000 then
        set value=l__lo + l__hi * $10000
    else
        set l__hi=l__hi - $8000
        set value=- ( l__lo + l__hi * $10000 )
    endif
    set YDWEPreloadSL___Code[beg]=value
    return value - 'YDWE'
endfunction
///
/// ×¢ÖØĞ§ÂÊ¶ø²»ÊÇ°²È«µÄÒÆ¶¯£¬»°Ëµ°²È«ÓĞÒâÒåÂğ...
/// ÁíÒ»¸öÒÆ¶¯º¯ÊıµÄÄæÔËËã
///
function YDWE_PreloadSL_Unmove takes integer beg,integer n,integer key returns nothing
    local integer value
    local integer keys= n * key
    local integer index= beg + n
    local integer l__hi
    local integer l__lo
    set beg=beg + 1
    loop
        exitwhen index < beg
        set value=keys + ( index - beg )
        set value=beg + value - value / n * n
        if value < beg then
            set value=value + n
        endif
        set l__hi=YDWEPreloadSL___CodeHI[value]
        set YDWEPreloadSL___CodeHI[value]=YDWEPreloadSL___CodeHI[index]
        set YDWEPreloadSL___CodeHI[index]=l__hi
        
        set value=keys - ( index - beg )
        set value=beg + value - value / n * n
        if value < beg then
            set value=value + n
        endif
        set l__lo=YDWEPreloadSL___CodeLO[value]
        set YDWEPreloadSL___CodeLO[value]=YDWEPreloadSL___CodeLO[index]
        set YDWEPreloadSL___CodeLO[index]=l__lo
        
        set keys=keys - key
        
        set index=index - 1
    endloop
endfunction
function YDWE_PreloadSL_GetCode takes integer beg,integer n,integer key,integer mask returns boolean
    local integer l__hi
    local integer l__lo
    local integer value
    local integer masks= 0
    local integer keys= 0
    local integer index= beg + 1
    local integer end= beg + n
    
    loop
        exitwhen index > end
        set l__hi=YDWEPreloadSL___CodeHI[index]
        set l__lo=YDWEPreloadSL___CodeLO[index]
        
        // SubKey
        set keys=keys + key
        set l__hi=l__hi - keys
        set l__lo=l__lo + keys
        
        // SubMask
        set masks=masks + mask
        set value=masks / $10000
        set l__hi=l__hi - ( value - value / $100 * $100 ) * $100
        set l__lo=l__lo - ( masks - masks / $100 * $100 ) * $10000
        
        // CheckMask
        if ( ( l__hi / $10000 ) != 0 ) then
            return false
        endif
        if ( ( l__lo / $10000 ) != 0 ) then
            return false
        endif
        
        // GetCode
        if l__hi < $8000 then
            set value=l__lo + l__hi * $10000
        else
            set l__hi=l__hi - $8000
            set value=- ( l__lo + l__hi * $10000 )
        endif
        
        set YDWEPreloadSL___Code[index]=value
        set index=index + 1
    endloop
    
    return true
endfunction
function YDWE_PreloadSL_Decode takes player p,integer n returns boolean
    local integer key= StringHash(GetPlayerName(p))
    local integer beg= ( 501 * GetPlayerId(p) )
    local integer mask= YDWE_PreloadSL_GetMask(p)
    call YDWE_PreloadSL_Unmove(beg , n , key)
    return YDWE_PreloadSL_GetCode(beg , n , key , mask)
endfunction
function YDWE_PreloadSL_SetMask takes player p,integer mask returns nothing
    local integer l__hi
    local integer l__lo
    local integer beg= ( 501 * GetPlayerId(p) )
    local integer value= 'YDWE' + mask
    if value >= 0 then
            set l__hi=value / $10000
            set l__lo=value - l__hi * $10000
    else
            set value=- value
            set l__hi=value / $10000
            set l__lo=value - l__hi * $10000
            set l__hi=l__hi + $8000
    endif
    set YDWEPreloadSL___CodeHI[beg]=l__hi
    set YDWEPreloadSL___CodeLO[beg]=l__lo
endfunction
function YDWE_PreloadSL_SetCode takes integer beg,integer n,integer key,integer mask returns nothing
    local integer l__hi
    local integer l__lo
    local integer value
    local integer masks= 0
    local integer keys= 0
    local integer index= beg + 1
    local integer end= beg + n
    
    loop
        exitwhen index > end
        set value=YDWEPreloadSL___Code[index]
        
        // SetCode
        if value >= 0 then
            set l__hi=value / $10000
            set l__lo=value - l__hi * $10000
        else
            set value=- value
            set l__hi=value / $10000
            set l__lo=value - l__hi * $10000
            set l__hi=l__hi + $8000
        endif
        // AddKey
        set keys=keys + key
        set l__hi=l__hi + keys
        set l__lo=l__lo - keys
        
        // AddMask
        set masks=masks + mask
        set value=masks / $10000
        set l__hi=l__hi + ( value - value / $100 * $100 ) * $100
        set l__lo=l__lo + ( masks - masks / $100 * $100 ) * $10000
        set YDWEPreloadSL___CodeHI[index]=l__hi
        set YDWEPreloadSL___CodeLO[index]=l__lo
        set index=index + 1
    endloop
endfunction
///
/// ×¢ÖØĞ§ÂÊ¶ø²»ÊÇ°²È«µÄÒÆ¶¯£¬»°Ëµ°²È«ÓĞÒâÒåÂğ...
/// ÒÆ¶¯º¯Êı£¬ÉõÖÁ¿ÉÒÔ²»Òª...
///
function YDWE_PreloadSL_Move takes integer beg,integer n,integer key returns nothing
    local integer value
    local integer keys= 0
    local integer index= beg + 1
    local integer end= beg + n
    local integer l__hi
    local integer l__lo
    set beg=beg + 1
    loop
        exitwhen index > end
        
        set keys=keys + key
        
        set value=keys + ( index - beg )
        set value=beg + value - value / n * n
        if value < beg then
            set value=value + n
        endif
        set l__hi=YDWEPreloadSL___CodeHI[value]
        set YDWEPreloadSL___CodeHI[value]=YDWEPreloadSL___CodeHI[index]
        set YDWEPreloadSL___CodeHI[index]=l__hi
        
        set value=keys - ( index - beg )
        set value=beg + value - value / n * n
        if value < beg then
            set value=value + n
        endif
        set l__lo=YDWEPreloadSL___CodeLO[value]
        set YDWEPreloadSL___CodeLO[value]=YDWEPreloadSL___CodeLO[index]
        set YDWEPreloadSL___CodeLO[index]=l__lo
        
        set index=index + 1
    endloop
endfunction
function YDWE_PreloadSL_Encode takes player p,integer n,integer mask returns nothing
    local integer key= StringHash(GetPlayerName(p))
    local integer beg= ( 501 * GetPlayerId(p) )
    call YDWE_PreloadSL_SetMask(p , mask)
    call YDWE_PreloadSL_SetCode(beg , n , key , mask)
    call YDWE_PreloadSL_Move(beg , n , key)
endfunction 
/// 
/// Í¬²½Íæ¼ÒÊı¾İ
/// Í¬Ò»Ê±¼ä²»ÒªÍ¬²½Ò»¸öÒÔÉÏµÄÍæ¼ÒÊı¾İ
///
function YDWE_PreloadSL_Sync takes player p,integer n returns nothing
    local integer index
    local integer beg= ( 501 * GetPlayerId(p) )
    local integer end= beg + n
    if GetLocalPlayer() == p then
        set index=beg
        loop
            exitwhen index > end
            call StoreInteger(YDWESync___m_gc, ("H" ), ( I2S(index) ), ( YDWEPreloadSL___CodeHI[index])) // INLINED!!
            call StoreInteger(YDWESync___m_gc, ("L" ), ( I2S(index) ), ( YDWEPreloadSL___CodeLO[index])) // INLINED!!
            set index=index + 1
        endloop
    endif
    call TriggerSyncStart() // INLINED!!
    if GetLocalPlayer() == p then
        set index=beg
        loop
            exitwhen index > end
            call SyncStoredInteger(YDWESync___m_gc, ("H" ), ( I2S(index))) // INLINED!!
            call SyncStoredInteger(YDWESync___m_gc, ("L" ), ( I2S(index))) // INLINED!!
            set index=index + 1
        endloop
    endif
    call TriggerSyncReady() // INLINED!!
    //call TriggerSleepAction(0.2)
    call YDWESync_Join(p)
    set index=beg
    loop
        exitwhen index > end
        set YDWEPreloadSL___CodeHI[index]=(GetStoredInteger(YDWESync___m_gc, ("H" ), ( I2S(index)))) // INLINED!!
        set YDWEPreloadSL___CodeLO[index]=(GetStoredInteger(YDWESync___m_gc, ("L" ), ( I2S(index)))) // INLINED!!
        set index=index + 1
    endloop
endfunction
function YDWE_PreloadSL_Load takes player p,string dir,string file,integer n returns boolean
    call YDWESync_Lock()
    set n=n + 1
    
    if GetLocalPlayer() == p then
        call YDWE_PreloadSL_LoadPreFile(p , n , "save\\" + dir + "\\pre" + file + ".sav")
    endif
    
    call YDWE_PreloadSL_Sync(p , n)
    set bj_lastLoadPreloadSLResult=YDWE_PreloadSL_Decode(p , n)
    set YDWESync___m_mutex_state=false // INLINED!!
    
    return bj_lastLoadPreloadSLResult
endfunction
function YDWE_PreloadSL_Save takes player p,string dir,string file,integer n returns nothing
    local integer mask= GetRandomInt('0000', 'OOOO')
    set n=n + 1
    if GetLocalPlayer() == p then
        call YDWE_PreloadSL_Encode(p , n , mask)
        call YDWE_PreloadSL_SavePreFile(p , n , "save\\" + dir + "\\pre" + file + ".sav")
    endif
endfunction
 
function YDWE_PreloadSL_Set takes player p,string s,integer n,integer value returns nothing
    set YDWEPreloadSL___Code[n + ( 501 * GetPlayerId(p) )]=value
endfunction
function YDWE_PreloadSL_Get takes player p,string s,integer n returns integer
    return YDWEPreloadSL___Code[n + ( 501 * GetPlayerId(p) )]
endfunction
                                
function YDWEPreloadSL___Init takes nothing returns nothing
    local integer index= 0
    loop
        exitwhen index >= 16
        set udg_YDWE_PreloadSL_List[index]="<null>"
        set index=index + 1
    endloop
endfunction 

//library YDWEPreloadSL ends
//library YDWEStringFormula:
function GetLastCombinedItem takes nothing returns item
    return bj_lastCombinedItem
endfunction
//===========================================================================
//ÎïÆ·ºÏ³É
function YDWESyStemItemCombineTriggerAction takes nothing returns nothing
 local integer i= 0
    loop
        exitwhen i >= YDWEStringFormula___ItemCombineEventNumber
        if YDWEStringFormula___ItemCombineEventQueue[i] != null and TriggerEvaluate(YDWEStringFormula___ItemCombineEventQueue[i]) and IsTriggerEnabled(YDWEStringFormula___ItemCombineEventQueue[i]) then
            call TriggerExecute(YDWEStringFormula___ItemCombineEventQueue[i])
        endif
        set i=i + 1
    endloop
endfunction
//GetLastMovedItemInItemSlot 
//===========================================================================  
//ÎïÆ·ºÏ³ÉÊÂ¼ş 
//===========================================================================  
function YDWESyStemItemCombineRegistTrigger takes trigger trg returns nothing
	set YDWEStringFormula___ItemCombineEventQueue[YDWEStringFormula___ItemCombineEventNumber]=trg
	set YDWEStringFormula___ItemCombineEventNumber=YDWEStringFormula___ItemCombineEventNumber + 1
endfunction
        function s__YDWEStringFormula___Inventory_reset takes integer this returns nothing
            call FlushChildHashtable(YDHT, StringHash(("YDWEStringFormula." + I2S(this)))) // INLINED!!
        endfunction
        
        function s__YDWEStringFormula___Inventory_onDestroy takes integer this returns nothing
            call FlushChildHashtable(YDHT, StringHash(("YDWEStringFormula." + I2S(this)))) // INLINED!!
        endfunction
    
        function s__YDWEStringFormula___StringTable__getindex takes integer this,string key returns integer
            return (LoadInteger(YDHT, StringHash(("YDWEStringFormula." + I2S(this) )), StringHash(( key)))) // INLINED!!
        endfunction
        
        function s__YDWEStringFormula___StringTable__setindex takes integer this,string key,integer value returns nothing
            call SaveInteger(YDHT, StringHash(("YDWEStringFormula." + I2S(this) )), StringHash(( key )), ( value)) // INLINED!!
        endfunction
        
        function s__YDWEStringFormula___StringTable_flush takes integer this,string key returns nothing
            call RemoveSavedInteger(YDHT, StringHash(("YDWEStringFormula." + I2S(this) )), StringHash(( key))) // INLINED!!
        endfunction
        
        function s__YDWEStringFormula___StringTable_exists takes integer this,string key returns boolean
            return (HaveSavedInteger(YDHT, StringHash(("YDWEStringFormula." + I2S(this) )), StringHash(( key)))) // INLINED!!
        endfunction 
//***************************************************************
//* StringFormula 2.0 - Fetrix_sai
//* ------------
//*
//***************************************************************
    
    function YDWEStringFormula___Convert takes integer value,integer length returns string
        local string Char= I2S(value)
        local integer slen= StringLength(Char)
            
        loop
            exitwhen slen >= length
            set Char="0" + Char
            set slen=slen + 1
        endloop
        
        return Char
    endfunction
   
   
////////////////////////////////////////////////////////////
//////////////////// __ItemId Matrix__ /////////////////////
    
        
        
        function s__YDWEStringFormula___ItemIdMatrix_get takes integer id returns integer
            return (LoadInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___ItemIdMatrix_Data)) )), StringHash(( (I2S(id)))))) // INLINED!!
        endfunction
        
        function s__YDWEStringFormula___ItemIdMatrix_exists takes integer id returns boolean
            return (HaveSavedInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___ItemIdMatrix_Data)) )), StringHash(( (I2S(id)))))) // INLINED!!
        endfunction
                 
        function s__YDWEStringFormula___ItemIdMatrix_sub takes integer this,integer segment returns integer
            local integer start= s__YDWEStringFormula___ItemIdMatrix_keyLen[this] * segment + 1
            return S2I(SubString(s__YDWEStringFormula___ItemIdMatrix_keyStr[this], start, ( start + s__YDWEStringFormula___ItemIdMatrix_keyLen[this] )))
        endfunction
        
        function s__YDWEStringFormula___ItemIdMatrix_assigns takes integer id returns integer
            local integer this= 0
            if id == null or id == 0 then
                return 0
            endif
            
            set this=(LoadInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___ItemIdMatrix_Data)) )), StringHash(( (I2S((id))))))) // INLINED!!
                
            if (this) > 0 then
                return this
            endif
            
            set this=(s__YDWEStringFormula___ItemIdMatrix_Total)
            set s__YDWEStringFormula___ItemIdMatrix_itemId[this]=id
            set s__YDWEStringFormula___ItemIdMatrix_keyStr[this]=I2S(YDWEStringFormula___SEGMENT_LENGTH)
            set s__YDWEStringFormula___ItemIdMatrix_keyLen[this]=YDWEStringFormula___SEGMENT_LENGTH
            call SaveInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___ItemIdMatrix_Data)) )), StringHash(( (I2S(id)) )), ( ( (this)))) // INLINED!!
            set s__YDWEStringFormula___ItemIdMatrix_Total=s__YDWEStringFormula___ItemIdMatrix_Total + 1
            return this
        endfunction
        
        function s__YDWEStringFormula___ItemIdMatrix_memory takes integer this,string key returns nothing
            set s__YDWEStringFormula___ItemIdMatrix_keyStr[this]=s__YDWEStringFormula___ItemIdMatrix_keyStr[this] + key
            //debug call BJDebugMsg("|cff00ff00KEY: |r" + .keyStr)
        endfunction
        
        function s__YDWEStringFormula___ItemIdMatrix_onInit takes nothing returns nothing
            set s__YDWEStringFormula___ItemIdMatrix_Data=s__YDWEStringFormula___StringTable__allocate()
        endfunction
        
////////////////// __End of ItemId Matrix__ ////////////////
////////////////////////////////////////////////////////////
    
    
////////////////////////////////////////////////////////////
//////////////////// __Formula Matrix__ ////////////////////
    
    
        
        
        
        
        function s__YDWEStringFormula___FormulaMatrix_exists takes string s returns boolean
            return (HaveSavedInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___FormulaMatrix_Data)) )), StringHash(( (s))))) // INLINED!!
        endfunction
        
        function s__YDWEStringFormula___FormulaMatrix_sub takes integer this,integer segment returns integer
            local integer start= s__YDWEStringFormula___FormulaMatrix_segmLen[this] * segment + 1
            return S2I(SubString(s__YDWEStringFormula___FormulaMatrix_formula[this], start, ( start + s__YDWEStringFormula___FormulaMatrix_segmLen[this] )))
        endfunction
        
        function s__YDWEStringFormula___FormulaMatrix_memory takes integer lingth,string formStr,integer eventually returns integer
            local integer this= 0
            
            if (HaveSavedInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___FormulaMatrix_Data)) )), StringHash(( ((formStr)))))) then // INLINED!!
                //debug call BJDebugMsg("|cffff0000Registration cannot be repeated !!|r")
                return 0
            endif
            
            set this=(s__YDWEStringFormula___FormulaMatrix_Total)
            set s__YDWEStringFormula___FormulaMatrix_formula[this]=formStr + YDWEStringFormula___Convert(eventually , YDWEStringFormula___SEGMENT_LENGTH)
            set s__YDWEStringFormula___FormulaMatrix_segmLen[this]=lingth
            
            set s__YDWEStringFormula___FormulaMatrix_model[this]=null //"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"
set s__YDWEStringFormula___FormulaMatrix_message[this]=null //"|cff00ff00ÄãºÏ³ÉÁË£º|r" 
set s__YDWEStringFormula___FormulaMatrix_chance[this]=100
            set s__YDWEStringFormula___FormulaMatrix_delete[this]=false
            call SaveInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___FormulaMatrix_Data)) )), StringHash(( (formStr) )), ( ( (this)))) // INLINED!!
            set s__YDWEStringFormula___FormulaMatrix_Total=s__YDWEStringFormula___FormulaMatrix_Total + 1
            
            //debug call BJDebugMsg("|cff00ff00Formula Register: |r" + I2S(integer(this)) + ". " + this.formula)
            return this
        endfunction
        
        function s__YDWEStringFormula___FormulaMatrix_onInit takes nothing returns nothing
            set s__YDWEStringFormula___FormulaMatrix_Data=s__YDWEStringFormula___StringTable__allocate()
        endfunction
        
    
////////////////// __End of Formula Matrix__ ///////////////
////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////
//////////////////// __Formula Sorting__ ///////////////////
        
        function s__YDWEStringFormula___Sorting_onDestroy takes integer this returns nothing
            local integer i= 0
            loop
                exitwhen i == s___YDWEStringFormula___Sorting_stack_size
                set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]=0
                set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]=0
                set i=i + 1
            endloop
            set s__YDWEStringFormula___Sorting_char[this]=""
        endfunction

//Generated destructor of YDWEStringFormula___Sorting
function s__YDWEStringFormula___Sorting_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__YDWEStringFormula___Sorting_V[this]!=-1) then
        return
    endif
    call s__YDWEStringFormula___Sorting_onDestroy(this)
    set si__YDWEStringFormula___Sorting_V[this]=si__YDWEStringFormula___Sorting_F
    set si__YDWEStringFormula___Sorting_F=this
endfunction
        
        function s__YDWEStringFormula___Sorting_create takes integer type1,integer n1,integer type2,integer n2,integer type3,integer n3,integer type4,integer n4,integer type5,integer n5,integer type6,integer n6,integer type7,integer n7 returns integer
            local integer this= s__YDWEStringFormula___Sorting__allocate()
            
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+1]=s__YDWEStringFormula___ItemIdMatrix_assigns(type1)
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+2]=s__YDWEStringFormula___ItemIdMatrix_assigns(type2)
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+3]=s__YDWEStringFormula___ItemIdMatrix_assigns(type3)
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+4]=s__YDWEStringFormula___ItemIdMatrix_assigns(type4)
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+5]=s__YDWEStringFormula___ItemIdMatrix_assigns(type5)
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+6]=s__YDWEStringFormula___ItemIdMatrix_assigns(type6)
            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+7]=s__YDWEStringFormula___ItemIdMatrix_assigns(type7)
            
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+1]=n1
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+2]=n2
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+3]=n3
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+4]=n4
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+5]=n5
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+6]=n6
            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+7]=n7
            
            return this
        endfunction
        
        function s__YDWEStringFormula___Sorting_convert takes integer this returns string
            local integer i= 1
            local integer j
            local integer k
              
            set s__YDWEStringFormula___Sorting_char[this]=""
            loop
                exitwhen i > s__YDWEStringFormula___Sorting_total[this]
                if s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i] == 0 or s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i] == 0 then
                    set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]=s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+s__YDWEStringFormula___Sorting_total[this]]
                    set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]=s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+s__YDWEStringFormula___Sorting_total[this]]
                    set s__YDWEStringFormula___Sorting_total[this]=s__YDWEStringFormula___Sorting_total[this] - 1
                    set i=i - 1
                else
                    set j=i + 1
                    loop
                        exitwhen j > s__YDWEStringFormula___Sorting_total[this]
                        if s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j] == 0 or s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+j] == 0 then
                            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j]=s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+s__YDWEStringFormula___Sorting_total[this]]
                            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+j]=s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+s__YDWEStringFormula___Sorting_total[this]]
                            set s__YDWEStringFormula___Sorting_total[this]=s__YDWEStringFormula___Sorting_total[this] - 1
                            set j=j - 1
                        elseif (s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]) > (s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j]) then
                            set k=s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]
                            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]=s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j]
                            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j]=k
                            set k=s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]
                            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]=s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+j]
                            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+j]=k
                        elseif (s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]) == (s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j]) then
                            set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]=s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i] + s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+j]
                            set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+j]=0
                            set j=j - 1
                        endif
                        set j=j + 1
                    endloop
                
                    set j=s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]
                    loop
                        exitwhen j == 0
                        set s__YDWEStringFormula___Sorting_char[this]=s__YDWEStringFormula___Sorting_char[this] + YDWEStringFormula___Convert(s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i] , YDWEStringFormula___SEGMENT_LENGTH)
                        set j=j - 1
                    endloop
                endif
                set i=i + 1
            endloop
            
            return s__YDWEStringFormula___Sorting_char[this]
        endfunction
        
////////////////// __End of Formula Sorting__ //////////////
////////////////////////////////////////////////////////////
    
    
////////////////////////////////////////////////////////////
/////////////////////// __Craft Item__ /////////////////////
    
    function YDWEStringFormula___Adaptation takes nothing returns boolean
        return true
    endfunction
        
    function YDWEStringFormula___verify takes nothing returns boolean
        return (HaveSavedInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___ItemIdMatrix_Data)) )), StringHash(( (I2S((GetItemTypeId(GetManipulatedItem())))))))) // INLINED!!
    endfunction
        
    function YDWEStringFormula___GetCharges takes item it returns integer
        local integer charges= GetItemCharges(it)
        if charges == 0 then
            set charges=1
        endif
        return charges
    endfunction
        
    function YDWEStringFormula___CraftItem takes nothing returns nothing
        local integer forx= 0
        local integer itmx= (LoadInteger(YDHT, StringHash(("YDWEStringFormula." + I2S((s__YDWEStringFormula___ItemIdMatrix_Data)) )), StringHash(( (I2S((GetItemTypeId(GetManipulatedItem())))))))) // INLINED!!
        local integer size= StringLength(s__YDWEStringFormula___ItemIdMatrix_keyStr[itmx]) / s__YDWEStringFormula___ItemIdMatrix_keyLen[itmx]
        local integer inst= 0
        local integer numb= 0
        local integer sum= 0
        
        local integer tmpid= 0
        local integer i= 0
        local integer j= 0
        local boolean b= false
        local item it= null
        
        local item article= GetManipulatedItem()
        local unit caster= GetTriggerUnit()
        
        local item array items
        local integer array typeid
        local integer array amount
        local integer array surplus
        //* Check Slots
        set i=0
        loop
            exitwhen i == 6
            set it=UnitItemInSlot(caster, i)
                
            if it != null then
                set items[sum]=it
                set typeid[sum]=GetItemTypeId(it)
                set amount[sum]=YDWEStringFormula___GetCharges(it)
                if it == article then
                    set b=true
                endif
                set sum=sum + 1
            endif
                
            set i=i + 1
            set it=null
        endloop
            
        if b == false then
            set items[sum]=article
            set typeid[sum]=GetItemTypeId(article)
            set amount[sum]=1
            set sum=sum + 1
        endif
        //* Check Formulas
        loop
            exitwhen inst == size
            set forx=(s__YDWEStringFormula___ItemIdMatrix_sub(itmx,inst))
            set numb=StringLength(s__YDWEStringFormula___FormulaMatrix_formula[forx]) / s__YDWEStringFormula___FormulaMatrix_segmLen[forx] - 1
            
            set i=0
            loop
                exitwhen i == sum
                set surplus[i]=amount[i]
                set i=i + 1
            endloop
                
            set i=0
            loop
                set tmpid=s__YDWEStringFormula___ItemIdMatrix_itemId[(s__YDWEStringFormula___FormulaMatrix_sub(forx,i))]
                exitwhen i == numb
                
                set j=0
                loop
                    exitwhen j == sum
                    
                    if typeid[j] == tmpid and surplus[j] > 0 then
                        set surplus[j]=surplus[j] - 1
                        exitwhen true
                    endif
                        
                    set j=j + 1
                endloop
                
                exitwhen j == sum
                set i=i + 1
            endloop
            if i == numb then
                if GetRandomInt(0, 99) < s__YDWEStringFormula___FormulaMatrix_chance[forx] then
                    if s__YDWEStringFormula___FormulaMatrix_model[forx] != null then
                        call DestroyEffect(AddSpecialEffectTarget(s__YDWEStringFormula___FormulaMatrix_model[forx], caster, "origin"))
                    endif
                    
                    if s__YDWEStringFormula___FormulaMatrix_message[forx] != null then
                        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 30, s__YDWEStringFormula___FormulaMatrix_message[forx])
                    endif
                
                    set i=0
                    loop
                        exitwhen i == sum
                        if surplus[i] > 0 and GetItemCharges(items[i]) > 0 then
                            call SetItemCharges(items[i], surplus[i])
                        elseif surplus[i] == 0 then
                            call RemoveItem(items[i])
                        endif
                        set i=i + 1
                    endloop
                    
                    set it=CreateItem(tmpid, GetUnitX(caster), GetUnitY(caster))
            
                    if GetItemCharges(it) > 0 then
                        call SetItemCharges(it, 1)
                
                        set i=0
                        loop
                            exitwhen i == sum
                            if typeid[i] == tmpid then
                                call RemoveItem(items[i])
                                call SetItemCharges(it, surplus[i] + 1)
                            endif
                            set i=i + 1
                        endloop
                    endif
            
                    call UnitAddItem(caster, it)
                    set bj_lastCombinedItem=it
                    call YDWESyStemItemCombineTriggerAction()
                elseif s__YDWEStringFormula___FormulaMatrix_delete[forx] then
                    set i=0
                    loop
                        exitwhen i == sum
                        if surplus[i] > 0 and GetItemCharges(items[i]) > 0 then
                            call SetItemCharges(items[i], surplus[i])
                        elseif surplus[i] == 0 then
                            call RemoveItem(items[i])
                        endif
                        set i=i + 1
                    endloop
                endif
                    
                set it=null
                exitwhen true
            endif
                
            set inst=inst + 1
        endloop
        if b == false then
            call RemoveItem(article)
        endif
        
        set i=0
        loop
            exitwhen i == sum
            set items[i]=null
            set i=i + 1
        endloop
            
        set article=null
        set caster=null
        set it=null
    endfunction
    function YDWEStringFormula___Init takes nothing returns nothing
        local filterfunc f= Filter(function YDWEStringFormula___Adaptation)
        local trigger t= CreateTrigger()
        local integer i= 0
        
        loop
            exitwhen i > 15
            call TriggerRegisterPlayerUnitEvent(t, Player(i), EVENT_PLAYER_UNIT_PICKUP_ITEM, f)
            set i=i + 1
        endloop
        
        call TriggerAddCondition(t, Condition(function YDWEStringFormula___verify))
        call TriggerAddAction(t, function YDWEStringFormula___CraftItem)
        call DestroyFilter(f)
        
        set f=null
        set t=null
    endfunction
    
///////////////////// __End of Craft Item__ ////////////////
////////////////////////////////////////////////////////////
    
    // call YDWENewItemsFormula('rat6', 6, 'rat9', 5, 'ratc', 4, 'rde1', 3, 'rde2', 2, 'rde3', 1, 'mcou')
    function YDWENewItemsFormula takes integer type1,integer n1,integer type2,integer n2,integer type3,integer n3,integer type4,integer n4,integer type5,integer n5,integer type6,integer n6,integer eventually returns nothing
        local integer sort= s__YDWEStringFormula___Sorting_create(type1 , n1 , type2 , n2 , type3 , n3 , type4 , n4 , type5 , n5 , type6 , n6 , 0 , 0)
        local integer itmx= s__YDWEStringFormula___ItemIdMatrix_assigns(eventually)
        local string f= I2S(YDWEStringFormula___SEGMENT_LENGTH) + s__YDWEStringFormula___Sorting_convert(sort)
        local string s= ""
        local integer i= 0
        
        set YDWEStringFormula___FormulaData=s__YDWEStringFormula___FormulaMatrix_memory(YDWEStringFormula___SEGMENT_LENGTH , f , itmx)
        if (YDWEStringFormula___FormulaData) > 0 then
            set s=YDWEStringFormula___Convert((YDWEStringFormula___FormulaData) , YDWEStringFormula___SEGMENT_LENGTH)
            
            set i=0
            loop
                exitwhen i > s__YDWEStringFormula___Sorting_total[sort]
                call s__YDWEStringFormula___ItemIdMatrix_memory(s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[sort]+i],s)
                set i=i + 1
            endloop
            
            call s__YDWEStringFormula___ItemIdMatrix_memory(itmx,s)
        endif
        
        call s__YDWEStringFormula___Sorting_deallocate(sort)
        set f=""
        set s=""
    endfunction

//library YDWEStringFormula ends
//library YDWETimerPattern:
//***************************************************
//* ¡Æ - Matrix ÍòÄÜÄ£°åº¯Êı
//*--------------------
//* ×÷Õß£ºWarft_TigerCN  ´úÂëÓÅ»¯£ºFetrix_sai
//***************************************************
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    //                                       Timer Pattern Union                                              //
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    function YDWETimerPattern___SingleMagic takes unit sour,unit targ,real x,real y,real h,integer uid,integer aid,integer lv,integer order returns nothing
        local unit dummy= CreateUnit(GetOwningPlayer(sour), uid, x, y, GetUnitFacing(sour))
        call UnitApplyTimedLife(dummy, 'BHwe', 1.0)
        call UnitAddAbility(dummy, aid)
        call SetUnitAbilityLevel(dummy, aid, lv)
        call SetUnitFlyHeight(dummy, h, 0.0)
        call IssueTargetOrderById(dummy, order, targ)
        //debug call BJDebugMsg("Target order")
        set dummy=null
    endfunction
    function YDWETimerPattern___GetUnitZ takes unit u returns real
        call MoveLocation(YDWETimerPattern___yd_loc, GetUnitX(u), GetUnitY(u))
        return GetUnitFlyHeight(u) + GetLocationZ(YDWETimerPattern___yd_loc)
    endfunction
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    //                                            Filter Funcs                                                //
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    function YDWETimerPattern___EnemyFilter takes unit u,unit caster returns boolean
        return IsUnitType(u, UNIT_TYPE_MAGIC_IMMUNE) == false and IsUnitType(u, UNIT_TYPE_RESISTANT) == false and IsUnitType(u, UNIT_TYPE_SLEEPING) == false and GetUnitState(u, UNIT_STATE_LIFE) > 0.405 and IsUnitType(u, UNIT_TYPE_STRUCTURE) == false and IsUnitIllusion(u) == false and IsUnitHidden(u) == false and IsUnitEnemy(u, GetOwningPlayer(caster)) and IsUnitVisible(u, GetOwningPlayer(caster))
    endfunction
    function YDWETimerPattern___TreeFilter takes nothing returns boolean
        local integer id= GetDestructableTypeId(GetFilterDestructable())
        return id == 'LTlt' or id == 'ATtr' or id == 'BTtw' or id == 'KTtw' or id == 'YTft' or id == 'JTct' or id == 'YTst' or id == 'YTct' or id == 'YTwt' or id == 'JTtw' or id == 'DTsh' or id == 'FTtw' or id == 'CTtr' or id == 'ITtw' or id == 'NTtw' or id == 'OTtw' or id == 'ZTtw' or id == 'WTst' or id == 'GTsh' or id == 'VTlt' or id == 'WTtw' or id == 'ATtc' or id == 'BTtc' or id == 'CTtc' or id == 'ITtc' or id == 'NTtc' or id == 'ZTtc'
    endfunction
    function YDWETimerPattern___DamageFilter takes nothing returns boolean
        local unit u= GetFilterUnit()
        local integer d= YDWETimerPattern___tmp_data
        if not ( IsUnitInGroup(u, s__YDWETimerPattern___Thread_g[d]) ) and s__YDWETimerPattern___Thread_switch[d] != 0 and YDWETimerPattern___EnemyFilter(u , s__YDWETimerPattern___Thread_caster[d]) then
            call UnitDamageTarget(s__YDWETimerPattern___Thread_caster[d], u, s__YDWETimerPattern___Thread_amount[d], true, true, bj_lastSetAttackType, bj_lastSetDamageType, bj_lastSetWeaponType)
            call DestroyEffect(AddSpecialEffectTarget(s__YDWETimerPattern___Thread_dsfx[d], u, s__YDWETimerPattern___Thread_part[d]))
            if s__YDWETimerPattern___Thread_skills[d] > '0000' and s__YDWETimerPattern___Thread_skills[d] != null and s__YDWETimerPattern___Thread_order[d] > 0 and s__YDWETimerPattern___Thread_order[d] != null then
                call YDWETimerPattern___SingleMagic(s__YDWETimerPattern___Thread_caster[d] , u , s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[d]] , s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[d]] , GetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[d]) , s__YDWETimerPattern___Thread_unitid[d] , s__YDWETimerPattern___Thread_skills[d] , s__YDWETimerPattern___Thread_level[d] , s__YDWETimerPattern___Thread_order[d])
            endif
            if not ( s__YDWETimerPattern___Thread_recycle[d] ) then
                //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r A one-time.")
                set s__YDWETimerPattern___Thread_switch[d]=0
            endif
            set s__YDWETimerPattern___Thread_target[d]=u
            //call GroupAddUnit(d.g, u)
            set u=null
            return true
        endif
        set u=null
        return false
    endfunction
    function YDWETimerPattern___TreeKill takes nothing returns nothing
        local destructable d= GetEnumDestructable()
        if GetWidgetLife(d) > 0.405 then
            call KillDestructable(d)
        endif
        set d=null
    endfunction
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    //                                         Major Structure Code                                           //
    //-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
        function s__YDWETimerPattern___Thread__staticgetindex takes handle h returns integer
            return (LoadInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId((h)))))))) // INLINED!!
        endfunction
        function s__YDWETimerPattern___Thread__staticsetindex takes handle h,integer value returns nothing
            call SaveInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId((h)))) )), ( value)) // INLINED!!
        endfunction
        function s__YDWETimerPattern___Thread_flush takes handle h returns nothing
            call RemoveSavedInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId((h))))))) // INLINED!!
        endfunction
        function s__YDWETimerPattern___Thread__set_x takes integer this,real value returns nothing
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=value
            call SetUnitX(s__YDWETimerPattern___Thread_obj[this], value)
        endfunction
        function s__YDWETimerPattern___Thread__set_y takes integer this,real value returns nothing
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=value
            call SetUnitY(s__YDWETimerPattern___Thread_obj[this], value)
        endfunction
        function s__YDWETimerPattern___Thread__set_z takes integer this,real value returns nothing
            set s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]]=value
            call MoveLocation(YDWETimerPattern___yd_loc, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])
            call SetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this], value - GetLocationZ(YDWETimerPattern___yd_loc), 0)
        endfunction
        function s__YDWETimerPattern___Thread_onDestroy takes integer this returns nothing
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r Knockback stopped!")
            call RemoveSavedInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_obj[this])))))))) // INLINED!!
            call RemoveSavedInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_t[this])))))))) // INLINED!!
            call GroupClear(s__YDWETimerPattern___Thread_g[this])
            call DestroyGroup(s__YDWETimerPattern___Thread_g[this])
            call PauseTimer(s__YDWETimerPattern___Thread_t[this])
            call DestroyTimer(s__YDWETimerPattern___Thread_t[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_des[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_pos[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_vel[this])
            set s__YDWETimerPattern___Thread_caster[this]=null
            set s__YDWETimerPattern___Thread_target[this]=null
            set s__YDWETimerPattern___Thread_obj[this]=null
            set s__YDWETimerPattern___Thread_g[this]=null
            set s__YDWETimerPattern___Thread_t[this]=null
            set s__YDWETimerPattern___Thread_amount[this]=0
            set s__YDWETimerPattern___Thread_skills[this]=0
            set s__YDWETimerPattern___Thread_order[this]=0
            set s__YDWETimerPattern___Thread_dsfx[this]=""
            set s__YDWETimerPattern___Thread_gsfx[this]=""
            set s__YDWETimerPattern___Thread_wsfx[this]=""
            set s__YDWETimerPattern___Thread_part[this]=""
        endfunction
        function s__YDWETimerPattern___Parabola_move takes nothing returns nothing
            local integer this= (LoadInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((GetExpiredTimer()))))))))) // INLINED!!
            //local real vx = .des.x - .pos.x
            //local real vy = .des.y - .pos.y
            //local real vz = .des.z - .pos.z
            //if vx * vx + vy * vy + vz * vz > 900.0 then
                call s__YDWETimerPattern___Thread__set_x(this,GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]) //.pos.x + .vel.x
call s__YDWETimerPattern___Thread__set_y(this,GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]) //.pos.y + .vel.y
call s__YDWETimerPattern___Thread__set_z(this,YDWETimerPattern___GetUnitZ(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_ac[this] * s__YDWETimerPattern___Thread_step[this] * 2 + s__YDWETimerPattern___Thread_ac[this] * s__YDWETimerPattern___Thread_dist[this] + s__YDWETimerPattern___Thread_bc[this]) //.pos.z + .ac * .step * 2 + .ac * .dist + .bc
set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_step[this] + s__YDWETimerPattern___Thread_dist[this]
                //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r high = ." + R2S(GetLocationZ(yd_loc)))
                if (RMinBJ(RMaxBJ(((s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]])*1.0), yd_MapMinX), yd_MapMaxX)) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or (RMinBJ(RMaxBJ(((s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])*1.0), yd_MapMinY), yd_MapMaxY)) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] or s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] <= GetLocationZ(YDWETimerPattern___yd_loc) then // INLINED!!
                    set s__YDWETimerPattern___Thread_switch[this]=0
                endif
                if s__YDWETimerPattern___Thread_amount[this] > 0.0 then
                    //call this.damage(.caster, .pos.x + .vel.x, .pos.y + .vel.y, GetUnitZ(.obj), false, false)
                    set YDWETimerPattern___tmp_data=(this)
                    call GroupEnumUnitsInRange(s__YDWETimerPattern___Thread_g[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]], 120.0, Condition(function YDWETimerPattern___DamageFilter))
                    //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r Area damage.")
                endif
            //else
                //set .switch = 0
            //endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                call SetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this], GetUnitDefaultFlyHeight(s__YDWETimerPattern___Thread_obj[this]), 200.0)
                call SetUnitTimeScale(s__YDWETimerPattern___Thread_obj[this], 1)
                //YDWETriggerEvent
                call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_obj[this] , 7)
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Parabola_create takes unit source,unit object,real angle,real distance,real time,real interval,real high,real damage,string attach,string deff returns integer
            local integer this= s__YDWETimerPattern___Parabola__allocate()
            local real vx= 0.0
            local real vy= 0.0
            local real vz= 0.0
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]]=YDWETimerPattern___GetUnitZ(object)
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_des[this]]=s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] + distance * Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_des[this]]=s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] + distance * Sin(angle)
            call MoveLocation(YDWETimerPattern___yd_loc, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_des[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_des[this]])
            set s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]]=GetLocationZ(YDWETimerPattern___yd_loc)
            if s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] > s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]] then
                set high=high + s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]]
            else
                set high=high + s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]]
            endif
            set s__YDWETimerPattern___Thread_ac[this]=( 2 * ( s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]] ) - 4 * high ) / ( distance * distance )
            set s__YDWETimerPattern___Thread_bc[this]=( s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_des[this]] - s__YDWETimerPattern___YDVector3_z[s__YDWETimerPattern___Thread_pos[this]] - s__YDWETimerPattern___Thread_ac[this] * distance * distance ) / distance
            set s__YDWETimerPattern___Thread_dist[this]=distance * interval / time
            set s__YDWETimerPattern___Thread_ac[this]=s__YDWETimerPattern___Thread_ac[this] * s__YDWETimerPattern___Thread_dist[this]
            set s__YDWETimerPattern___Thread_bc[this]=s__YDWETimerPattern___Thread_bc[this] * s__YDWETimerPattern___Thread_dist[this]
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Sin(angle)
            set s__YDWETimerPattern___Thread_step[this]=0.0
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_amount[this]=damage
            set s__YDWETimerPattern___Thread_dsfx[this]=deff
            set s__YDWETimerPattern___Thread_part[this]=attach
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_recycle[this]=true
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            call UnitAddAbility(s__YDWETimerPattern___Thread_obj[this], 'Amrf')
            call UnitRemoveAbility(s__YDWETimerPattern___Thread_obj[this], 'Amrf')
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Parabola_move)
            call GroupAddUnit(s__YDWETimerPattern___Thread_g[this], object)
            call SaveInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((object))))) )), ( ( (this)))) // INLINED!!
            call SaveInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_t[this]))))) )), ( ( (this)))) // INLINED!!
            return this
        endfunction
    // uniform speed
        function s__YDWETimerPattern___Linear_move takes nothing returns nothing
            local integer this= (LoadInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((GetExpiredTimer()))))))))) // INLINED!!
            if s__YDWETimerPattern___Thread_step[this] > s__YDWETimerPattern___Thread_dist[this] then
                call s__YDWETimerPattern___Thread__set_x(this,GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]) //.pos.x + .vel.x
call s__YDWETimerPattern___Thread__set_y(this,GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]) //.pos.y + .vel.y
//set .pos.z = GetUnitZ(.obj)
set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_step[this] - s__YDWETimerPattern___Thread_dist[this]
                //call this.damage(.caster, .pos.x, .pos.y, .pos.z, true, true)
                set YDWETimerPattern___tmp_data=(this)
                call GroupEnumUnitsInRange(s__YDWETimerPattern___Thread_g[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] + s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]], 120.0, Condition(function YDWETimerPattern___DamageFilter))
                if (RMinBJ(RMaxBJ(((s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]])*1.0), yd_MapMinX), yd_MapMaxX)) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or (RMinBJ(RMaxBJ(((s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])*1.0), yd_MapMinY), yd_MapMaxY)) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] then // INLINED!!
                    set s__YDWETimerPattern___Thread_switch[this]=0
                endif
            else
                set s__YDWETimerPattern___Thread_switch[this]=0
            endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                // YDWETriggerEvent
                if s__YDWETimerPattern___Thread_target[this] != null then
                    //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r  |cffff0000" + GetUnitName(.target) + "|r was hit!!!")
                    //call YDWESaveUnitByString(I2S(YDWEH2I(.caster)), "MoonPriestessArrow", .target)
                    set bj_lastAbilityTargetUnit=s__YDWETimerPattern___Thread_target[this]
                    call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_caster[this] , 8)
                else
                    call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_caster[this] , 9)
                endif
                //call KillUnit(.obj)
                call RemoveUnit(s__YDWETimerPattern___Thread_obj[this])
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Linear_create takes unit source,unit object,real angle,real distance,real time,real interval,integer uid,integer aid,integer lv,integer orderid,string attach,string sfx returns integer
            local integer this= s__YDWETimerPattern___Linear__allocate()
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_step[this]=distance
            set s__YDWETimerPattern___Thread_dist[this]=distance * interval / time
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=s__YDWETimerPattern___Thread_dist[this] * Sin(angle)
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_unitid[this]=uid
            set s__YDWETimerPattern___Thread_skills[this]=aid
            set s__YDWETimerPattern___Thread_level[this]=lv
            set s__YDWETimerPattern___Thread_order[this]=orderid
            set s__YDWETimerPattern___Thread_part[this]=attach
            set s__YDWETimerPattern___Thread_gsfx[this]=sfx
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_recycle[this]=false
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Linear_move)
            call SaveInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_t[this]))))) )), ( ( (this)))) // INLINED!!
            return this
        endfunction
    // Uniform deceleration
        function s__YDWETimerPattern___Deceleration_move takes nothing returns nothing
            local integer this= (LoadInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((GetExpiredTimer()))))))))) // INLINED!!
            local real l__xp= GetUnitX(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_dist[this] * s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]
            local real l__yp= GetUnitY(s__YDWETimerPattern___Thread_obj[this]) + s__YDWETimerPattern___Thread_dist[this] * s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]
            if s__YDWETimerPattern___Thread_volume[this] == false then
                //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |rPathable without terrain.")
                if IsTerrainPathable(l__xp, l__yp, PATHING_TYPE_WALKABILITY) then
                    set s__YDWETimerPattern___Thread_switch[this]=0
                else
                    call s__YDWETimerPattern___Thread__set_x(this,l__xp)
                    call s__YDWETimerPattern___Thread__set_y(this,l__yp)
                endif
            else
                call s__YDWETimerPattern___Thread__set_x(this,l__xp)
                call s__YDWETimerPattern___Thread__set_y(this,l__yp)
            endif
            if s__YDWETimerPattern___Thread_follow[this] == 0 then
                if GetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this]) < 5. then
                    if IsTerrainPathable(s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]], PATHING_TYPE_FLOATABILITY) then
                        call DestroyEffect(AddSpecialEffect(s__YDWETimerPattern___Thread_gsfx[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]))
                    else
                        call DestroyEffect(AddSpecialEffect(s__YDWETimerPattern___Thread_wsfx[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]))
                    endif
                endif
            endif
            set s__YDWETimerPattern___Thread_follow[this]=s__YDWETimerPattern___Thread_follow[this] + 1
            if s__YDWETimerPattern___Thread_follow[this] == 2 then
                set s__YDWETimerPattern___Thread_follow[this]=0
            endif
            if s__YDWETimerPattern___Thread_killdest[this] then
                call MoveRectTo(YDWETimerPattern___Area, s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])
                call EnumDestructablesInRect(YDWETimerPattern___Area, YDWETimerPattern___Bexpr, function YDWETimerPattern___TreeKill)
            endif
            if s__YDWETimerPattern___Thread_amount[this] > 0.0 then
                //call this.damage(.caster, .pos.x, .pos.y, 0.0, false, .recycle)
                set YDWETimerPattern___tmp_data=(this)
                call GroupEnumUnitsInRange(s__YDWETimerPattern___Thread_g[this], s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]], s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]], 120.0, Condition(function YDWETimerPattern___DamageFilter))
            endif
            set s__YDWETimerPattern___Thread_dist[this]=s__YDWETimerPattern___Thread_dist[this] - s__YDWETimerPattern___Thread_step[this]
            if s__YDWETimerPattern___Thread_dist[this] <= 0.0 or (RMinBJ(RMaxBJ(((s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]])*1.0), yd_MapMinX), yd_MapMaxX)) != s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]] or (RMinBJ(RMaxBJ(((s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]])*1.0), yd_MapMinY), yd_MapMaxY)) != s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]] then // INLINED!!
                set s__YDWETimerPattern___Thread_switch[this]=0
            endif
            if s__YDWETimerPattern___Thread_switch[this] == 0 then
                call SetUnitFlyHeight(s__YDWETimerPattern___Thread_obj[this], GetUnitDefaultFlyHeight(s__YDWETimerPattern___Thread_obj[this]), 200.0)
                call SetUnitTimeScale(s__YDWETimerPattern___Thread_obj[this], 1)
                // YDWETriggerEvent
                call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern___Thread_obj[this] , 6)
                call sc__YDWETimerPattern___Thread_deallocate(this)
            endif
        endfunction
        function s__YDWETimerPattern___Deceleration_create takes unit source,unit object,real angle,real distance,real time,real interval,real damage,boolean killtrees,boolean cycle,boolean path,string part,string geff,string weff returns integer
            local integer this= s__YDWETimerPattern___Deceleration__allocate()
local real vx= 0.0
            local real vy= 0.0
            local real l__l= 0.0
            set s__YDWETimerPattern___Thread_des[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_pos[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___Thread_vel[this]=s__YDWETimerPattern___YDVector3__allocate()
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_vel[this]]=Cos(angle)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_vel[this]]=Sin(angle)
            set s__YDWETimerPattern___Thread_dist[this]=2 * distance * interval / time
            set s__YDWETimerPattern___Thread_step[this]=s__YDWETimerPattern___Thread_dist[this] * interval / time
            set s__YDWETimerPattern___YDVector3_x[s__YDWETimerPattern___Thread_pos[this]]=GetUnitX(object)
            set s__YDWETimerPattern___YDVector3_y[s__YDWETimerPattern___Thread_pos[this]]=GetUnitY(object)
            set s__YDWETimerPattern___Thread_caster[this]=source
            set s__YDWETimerPattern___Thread_obj[this]=object
            set s__YDWETimerPattern___Thread_amount[this]=damage
            set s__YDWETimerPattern___Thread_killdest[this]=killtrees
            set s__YDWETimerPattern___Thread_recycle[this]=cycle
            set s__YDWETimerPattern___Thread_volume[this]=path
            set s__YDWETimerPattern___Thread_gsfx[this]=geff
            set s__YDWETimerPattern___Thread_wsfx[this]=weff
            set s__YDWETimerPattern___Thread_switch[this]=1
            set s__YDWETimerPattern___Thread_follow[this]=0
            set s__YDWETimerPattern___Thread_g[this]=CreateGroup()
            set s__YDWETimerPattern___Thread_t[this]=CreateTimer()
            call TimerStart(s__YDWETimerPattern___Thread_t[this], interval, true, function s__YDWETimerPattern___Deceleration_move)
            call SaveInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_t[this]))))) )), ( ( (this)))) // INLINED!!
            return this
        endfunction
    // Jump Attack PUI
    function YDWETimerPatternJumpAttack takes unit u,real face,real dis,real lasttime,real timeout,real high,real damage,string part,string dsfx returns nothing
        if u == null then
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r No object!")
            return
        endif
        call s__YDWETimerPattern___Parabola_create(u , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , high , damage , part , dsfx)
    endfunction
    // Moon Priestess Arrow PUI
    function YDWETimerPatternMoonPriestessArrow takes unit u,real face,real dis,real lasttime,real timeout,integer lv,integer aid,integer uid,string order,string part,string dsfx returns nothing
        local unit sour= null
        if u == null then
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r No object!")
            return
        endif
        set sour=(LoadUnitHandle(YDHT, StringHash((I2S((GetHandleId((u)))) )), StringHash(( "MoonPriestessArrow")))) // INLINED!!
        if sour == null then
            set sour=u
        endif
        call s__YDWETimerPattern___Linear_create(sour , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , uid , aid , IMaxBJ(lv, 1) , OrderId(order) , part , dsfx)
        //call YDWEFlushMissionByString(I2S(YDWEH2I(u)))
        set sour=null
    endfunction
    // Rush Slide PUI
    function YDWETimerPatternRushSlide takes unit u,real face,real dis,real lasttime,real timeout,real damage,boolean killtrees,boolean cycle,boolean path,string part,string gsfx,string wsfx returns nothing
        if u == null then
            //debug call BJDebugMsg("|cff00ff00[YDWE] Timer Pattern : |r No object!")
            return
        endif
        call s__YDWETimerPattern___Deceleration_create(u , u , Deg2Rad(face) , RMaxBJ(dis, 0) , RMaxBJ(lasttime, 0) , RMaxBJ(timeout, 0) , damage , killtrees , cycle , path , part , gsfx , wsfx)
    endfunction
    function YDWETimerPattern___Init takes nothing returns nothing
        set YDWETimerPattern___Area=Rect(- 120.0, - 120.0, 120.0, 120.0)
        set YDWETimerPattern___Bexpr=Filter(function YDWETimerPattern___TreeFilter)
    endfunction

//library YDWETimerPattern ends
//library YDWETimerSystem:
function YDWETimerSystem___NewTaskIndex takes nothing returns integer
 local integer h= YDWETimerSystem___TaskListIdleHead
	if YDWETimerSystem___TaskListIdleHead < 0 then
		if YDWETimerSystem___TaskListIdleMax >= 8000 then
			return 8100
		else
			set YDWETimerSystem___TaskListIdleMax=YDWETimerSystem___TaskListIdleMax + 1
			return YDWETimerSystem___TaskListIdleMax
		endif
	endif
	set YDWETimerSystem___TaskListIdleHead=YDWETimerSystem___TaskListIdle[h]
	return h
endfunction
function YDWETimerSystem___DeleteTaskIndex takes integer index returns nothing
	set YDWETimerSystem___TaskListIdle[index]=YDWETimerSystem___TaskListIdleHead
	set YDWETimerSystem___TaskListIdleHead=index
endfunction
//¸Ãº¯ÊıĞòÁĞ´¦Àí
function YDWETimerSystem___NewTask takes real time,trigger proc returns integer
 local integer index= YDWETimerSystem___NewTaskIndex()
 local integer h= YDWETimerSystem___TaskListHead
 local integer t= R2I(100. * time) + YDWETimerSystem___CurrentTime
 local integer p
	set YDWETimerSystem___TaskListProc[index]=proc
	set YDWETimerSystem___TaskListTime[index]=t
	loop
		set p=YDWETimerSystem___TaskListNext[h]
		if p < 0 or YDWETimerSystem___TaskListTime[p] >= t then
		//	call BJDebugMsg("NewTask:"+I2S(index))
			set YDWETimerSystem___TaskListNext[h]=index
			set YDWETimerSystem___TaskListNext[index]=p
			return index
		endif
		set h=p
	endloop
	return index
endfunction
function YDWETimerSystemNewTask takes real time,trigger proc returns integer
	return YDWETimerSystem___NewTask(time , proc)
endfunction
function YDWETimerSystemGetCurrentTask takes nothing returns integer
	return YDWETimerSystem___CurrentIndex
endfunction
//É¾³ıµ¥Î»
function YDWETimerSystem___RemoveUnit_CallBack takes nothing returns nothing
    call RemoveUnit(LoadUnitHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveUnit takes real time,unit u returns nothing
    call SaveUnitHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnRemoveUnit), u)
endfunction
//´İ»Ù¼ÆÊ±Æ÷
function YDWETimerSystem___DestroyTimer_CallBack takes nothing returns nothing
    call DestroyTimer(LoadTimerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyTimer takes real time,timer t returns nothing
    call SaveTimerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnDestroyTimer), t)
endfunction
//É¾³ıÎïÆ·
function YDWETimerSystem___RemoveItem_CallBack takes nothing returns nothing
    call RemoveItem(LoadItemHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRemoveItem takes real time,item it returns nothing
    call SaveItemHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnRemoveItem), it)
endfunction
//É¾³ıÌØĞ§
function YDWETimerSystem___DestroyEffect_CallBack takes nothing returns nothing
    call DestroyEffect(LoadEffectHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyEffect takes real time,effect e returns nothing
    call SaveEffectHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnDestroyEffect), e)
endfunction
//É¾³ıÉÁµçÌØĞ§
function YDWETimerSystem___DestroyLightning_CallBack takes nothing returns nothing
    call DestroyLightning(LoadLightningHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerDestroyLightning takes real time,lightning lt returns nothing
 local integer i= YDWETimerSystem___NewTask(time , YDWETimerSystem___fnDestroyLightning)
    call SaveLightningHandle(YDHT, YDWETimerSystem___TimerHandle, i, lt)
endfunction
//ÔËĞĞ´¥·¢Æ÷
function YDWETimerSystem___RunTrigger_CallBack takes nothing returns nothing
    call TriggerExecute(LoadTriggerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex))
    call RemoveSavedHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___CurrentIndex)
endfunction
function YDWETimerRunTrigger takes real time,trigger trg returns nothing
    call SaveTriggerHandle(YDHT, YDWETimerSystem___TimerHandle, YDWETimerSystem___NewTask(time , YDWETimerSystem___fnRunTrigger), trg)
endfunction
//É¾³ıÆ¯¸¡ÎÄ×Ö
function YDWETimerDestroyTextTag takes real time,texttag tt returns nothing
    local integer N=0
    local integer i=0
    if time <= 0 then
        set time=0.01
    endif
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, time)
    call SetTextTagFadepoint(tt, time)
endfunction
//ÖĞĞÄ¼ÆÊ±Æ÷Ö÷º¯Êı
function YDWETimerSystem___Main takes nothing returns nothing
 local integer h= YDWETimerSystem___TaskListHead
 local integer p
	loop
		set YDWETimerSystem___CurrentIndex=YDWETimerSystem___TaskListNext[h]
		exitwhen YDWETimerSystem___CurrentIndex < 0 or YDWETimerSystem___CurrentTime < YDWETimerSystem___TaskListTime[YDWETimerSystem___CurrentIndex]
		//call BJDebugMsg("Task:"+I2S(CurrentIndex))
		call TriggerEvaluate(YDWETimerSystem___TaskListProc[YDWETimerSystem___CurrentIndex])
		call YDWETimerSystem___DeleteTaskIndex(YDWETimerSystem___CurrentIndex)
		set YDWETimerSystem___TaskListNext[h]=YDWETimerSystem___TaskListNext[YDWETimerSystem___CurrentIndex]
	endloop
	set YDWETimerSystem___CurrentTime=YDWETimerSystem___CurrentTime + 1
endfunction
//³õÊ¼»¯º¯Êı
function YDWETimerSystem___Init takes nothing returns nothing
    set YDWETimerSystem___Timer=CreateTimer()
	set YDWETimerSystem___TimerHandle=GetHandleId(YDWETimerSystem___Timer)
	set YDWETimerSystem___CurrentTime=0
	set YDWETimerSystem___TaskListHead=0
	set YDWETimerSystem___TaskListNext[0]=- 1
	set YDWETimerSystem___TaskListIdleHead=1
	set YDWETimerSystem___TaskListIdleMax=1
	set YDWETimerSystem___TaskListIdle[1]=- 1
	
	set YDWETimerSystem___fnRemoveUnit=CreateTrigger()
	set YDWETimerSystem___fnDestroyTimer=CreateTrigger()
	set YDWETimerSystem___fnRemoveItem=CreateTrigger()
	set YDWETimerSystem___fnDestroyEffect=CreateTrigger()
	set YDWETimerSystem___fnDestroyLightning=CreateTrigger()
	set YDWETimerSystem___fnRunTrigger=CreateTrigger()
	call TriggerAddCondition(YDWETimerSystem___fnRemoveUnit, Condition(function YDWETimerSystem___RemoveUnit_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnDestroyTimer, Condition(function YDWETimerSystem___DestroyTimer_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnRemoveItem, Condition(function YDWETimerSystem___RemoveItem_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnDestroyEffect, Condition(function YDWETimerSystem___DestroyEffect_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnDestroyLightning, Condition(function YDWETimerSystem___DestroyLightning_CallBack))
	call TriggerAddCondition(YDWETimerSystem___fnRunTrigger, Condition(function YDWETimerSystem___RunTrigger_CallBack))
	
    call TimerStart(YDWETimerSystem___Timer, 0.01, true, function YDWETimerSystem___Main)
endfunction
//Ñ­»·ÀàÈÔÓÃ¶ÀÁ¢¼ÆÊ±Æ÷
function YDWETimerSystemGetRunIndex takes nothing returns integer
    return YDWETimerSystem___TimerSystem_RunIndex
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunction takes nothing returns nothing
    local integer tid= GetHandleId(GetExpiredTimer())
    local trigger trg= LoadTriggerHandle(YDHT, tid, $D0001)
	call SaveInteger(YDHT, StringHash(I2S(GetHandleId(trg))), StringHash("RunIndex"), LoadInteger(YDHT, tid, $D0002))
    if TriggerEvaluate(trg) then
        call TriggerExecute(trg)
    endif
    set trg=null
endfunction
function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes takes nothing returns nothing
    local integer tid= GetHandleId(GetExpiredTimer())
    local trigger trg= LoadTriggerHandle(YDHT, tid, $D0001)
    local integer times= LoadInteger(YDHT, tid, $D0003)
	call SaveInteger(YDHT, StringHash(I2S(GetHandleId(trg))), StringHash("RunIndex"), LoadInteger(YDHT, tid, $D0002))
    if TriggerEvaluate(trg) then
        call TriggerExecute(trg)
    endif
    set times=times - 1
    if times > 0 then
		call SaveInteger(YDHT, tid, $D0003, times)
      else
        call DestroyTimer(GetExpiredTimer())
        call FlushChildHashtable(YDHT, tid)
    endif
    set trg=null
endfunction
function YDWETimerRunPeriodicTrigger takes real timeout,trigger trg,boolean b,integer times,integer data returns nothing
    local timer t
    local integer tid
    local integer index= 0
    if timeout < 0 then
        return
      else
        set t=CreateTimer()
		set tid=GetHandleId(t)
    endif
    set YDWETimerSystem___TimerSystem_RunIndex=YDWETimerSystem___TimerSystem_RunIndex + 1
	call SaveTriggerHandle(YDHT, tid, $D0001, trg)
	call SaveInteger(YDHT, tid, $D0002, YDWETimerSystem___TimerSystem_RunIndex)
	set index=LoadInteger(YDHT, GetHandleId(trg), 'YDTS' + data)
    set index=index + 1
	call SaveInteger(YDHT, GetHandleId(trg), 'YDTS' + data, index)
	call SaveTimerHandle(YDHT, GetHandleId(trg), ( 'YDTS' + data ) * index, t)
	
    if b == false then
		call SaveInteger(YDHT, tid, $D0003, times)
        call TimerStart(t, timeout, true, function YDWETimerSystem___RunPeriodicTriggerFunctionByTimes)
      else
        call TimerStart(t, timeout, true, function YDWETimerSystem___RunPeriodicTriggerFunction)
    endif
    set t=null
endfunction
function YDWETimerRunPeriodicTriggerOver takes trigger trg,integer data returns nothing
 local integer trgid= GetHandleId(trg)
    local integer index= LoadInteger(YDHT, trgid, 'YDTS' + data)
    local timer t
    loop
        exitwhen index <= 0
        set t=LoadTimerHandle(YDHT, trgid, ( 'YDTS' + data ) * index)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, GetHandleId(t))
		call RemoveSavedHandle(YDHT, trgid, ( 'YDTS' + data ) * index)
        set index=index - 1
    endloop
	
    call RemoveSavedInteger(YDHT, trgid, 'YDTS' + data)
    set t=null
endfunction

//library YDWETimerSystem ends
//library WuQiQiHeSystem:
	//æ­¦å™¨ç­‰çº§
 function WeaponLevel takes integer itemid returns integer
		//call BJDebugMsg("ä»€ä¹ˆæƒ…å†µ3")
		if itemid == 'I04F' then
			return 3
		elseif itemid == 'I00P' then
			return 5
		elseif itemid == 'I00Q' then
			return 5
		elseif itemid == 'I01L' then
			return 2
		elseif itemid == 'I01N' then
			return 2
		elseif itemid == 'I00X' then
			return 4
		elseif itemid == 'I00C' then
			return 6
		elseif itemid == 'I00D' then
			return 6
		elseif itemid == 'I00B' then
			return 6
		elseif itemid == 'I01F' then
			return 1
		elseif itemid == 'I01S' then
			return 1
		elseif itemid == 'I020' then
			return 0
		elseif itemid == 'I01E' then
			return 2
		elseif itemid == 'I021' then
			return 0
		elseif itemid == 'I016' then
			return 2
		elseif itemid == 'I013' then
			return 4
		elseif itemid == 'I08V' then
			return 7
		elseif itemid == 'I097' then
			return 7
		elseif itemid == 'I098' then
			return 7
		elseif itemid == 'I099' then
			return 7
		elseif itemid == 'I09A' then
			return 7
		elseif itemid == 'I09B' then
			return 7
		elseif itemid == 'I09C' then
			return 7
		elseif itemid == 'I09D' then
			return 7
		elseif itemid == 'I0DK' then
			return 7
		elseif itemid == 'I0DU' then
			return 7
		elseif itemid == 'I0DY' then
			return 7
		elseif itemid == 'I0DZ' then
			return 7
		elseif itemid == 'I0E0' then
			return 7
		elseif itemid == 'I0E2' then
			return 7
		endif
		return - 1
	endfunction
	//æ­¦å™¨ç†Ÿç»ƒåº¦
 function WeaponQiHe takes unit u,unit uc,integer itemid returns nothing
  local real r=0.
  local integer level=WeaponLevel(itemid)
		//call BJDebugMsg("ä»€ä¹ˆæƒ…å†µ4ï¼Œ"+I2S(level))
		if level == 0 then
			set r=7.0
		elseif level == 1 then
			set r=6.0
		elseif level == 2 then
			set r=5.0
		elseif level == 3 then
			set r=4.5
		elseif level == 4 then
			set r=4.0
		elseif level == 5 then
			set r=3.0
		elseif level == 6 then
			set r=2.5
		elseif level == 7 then
			set r=2.0
		endif
		if LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid) < 3000. * ( 1 + WeaponLevel(itemid) ) or ( LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid) < 5000. * ( 1 + WeaponLevel(itemid) ) and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(u)) )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) ) then // INLINED!!
			if ( ModuloInteger(GetUnitPointValue(uc), 50) != 0 ) and ( GetUnitPointValue(uc) / 100 == 1 or GetUnitPointValue(uc) / 100 >= 5 ) then
				call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid, LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid) + r * 200 * udg_lilianxishu[1 + GetPlayerId(GetOwningPlayer(u))] * wugongxiuwei[1 + GetPlayerId(GetOwningPlayer(u))])
			else
				call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid, LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid) + r * 2 * udg_lilianxishu[1 + GetPlayerId(GetOwningPlayer(u))] * wugongxiuwei[1 + GetPlayerId(GetOwningPlayer(u))])
			endif
		endif
		if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(u)) )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) and LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid) < 10000. * ( 1 + WeaponLevel(itemid) ) then // INLINED!!
			call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid, LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), itemid) + r * 6 * udg_lilianxishu[1 + GetPlayerId(GetOwningPlayer(u))] * wugongxiuwei[1 + GetPlayerId(GetOwningPlayer(u))])
		endif
		//call BJDebugMsg("ä»€ä¹ˆæƒ…å†µ2ï¼Œ"+R2S(r)+","+R2S(LoadReal(YDHT,GetHandleId(GetOwningPlayer(u)),itemid)))
	endfunction
 function WeaponPoSun_Condition takes nothing returns boolean
		return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) and GetPlayerController(GetOwningPlayer(GetKillingUnit())) == MAP_CONTROL_USER and GetPlayerSlotState(GetOwningPlayer(GetKillingUnit())) == PLAYER_SLOT_STATE_PLAYING
	endfunction
	//æ­¦å™¨è€ä¹…åº¦
 function WeaponPoSun takes nothing returns nothing
  local unit u=GetKillingUnit()
  local player p= GetOwningPlayer(u)
  local integer j= 1 + GetPlayerId(p)
  local integer i=0
  local item it=null
		set i=1
		loop
		exitwhen i > 6
			if ( GetItemType(UnitItemInSlotBJ(GetKillingUnit(), i)) == ITEM_TYPE_ARTIFACT ) then
				set it=UnitItemInSlotBJ(GetKillingUnit(), i)
				if GetItemTypeId(it) == 'I02S' then
					call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it), 2000)
				elseif GetItemTypeId(it) == 'I02M' then
					call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it), 6000)
				elseif GetItemTypeId(it) == 'I02Q' then
					call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it), 10000)
				elseif GetItemTypeId(it) == 'I02R' then
					call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it), 14000)
				elseif GetItemTypeId(it) == 'I02P' then
					call SaveReal(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it), 20000)
				endif
				//éé•‡å¦–
				if GetItemTypeId(it) != 'I02S' and GetItemTypeId(it) != 'I02M' and GetItemTypeId(it) != 'I02Q' and GetItemTypeId(it) != 'I02R' and GetItemTypeId(it) != 'I02P' then
					call WeaponQiHe(u , GetTriggerUnit() , GetItemTypeId(it))
					if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(j )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
						if LoadBoolean(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it)) == false and LoadReal(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it)) >= 5000. * ( 1 + WeaponLevel(GetItemTypeId(it)) ) then
							//set udg_bqds[j] = udg_bqds[j] + 1
							call SaveBoolean(YDHT, GetHandleId(GetOwningPlayer(u)), GetItemTypeId(it), true)
							call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨ç‚¼æˆäº†ç¬¬" + I2S(udg_bqds[j]) + "æŠŠæ­¦å™¨ï¼Œæ‚¨éœ€è¦ç‚¼æˆ3æŠŠæ­¦å™¨æ‰èƒ½è·å¾—å…µå™¨å¤§å¸ˆå“¦")
						endif
					endif
					if LoadInteger(YDHT, GetHandleId(it), 0) > 0 then
						if not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(u)) )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
							call SaveInteger(YDHT, GetHandleId(it), 0, LoadInteger(YDHT, GetHandleId(it), 0) - 1)
						endif
					endif
				endif
			endif
			set i=i + 1
		endloop
		
		set u=null
		set it=null
		set p=null
	endfunction
 function init takes nothing returns nothing
  local trigger t=CreateTrigger()
		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
		call TriggerAddCondition(t, Condition(function WeaponPoSun_Condition))
		call TriggerAddAction(t, function WeaponPoSun)
		set t=null
	endfunction
	//é‡å†™åˆ›é€ ç‰©å“çš„å‡½æ•°
 function createitemloc takes integer id,location loc returns item
  local item it=null
		set it=CreateItemLoc(id, loc)
		set it=null
		return bj_lastCreatedItem
	endfunction
 function createitem takes integer id,real x,real y returns item
		return CreateItem(id, x, y)
	endfunction
 function unitadditembyidswapped takes integer itemId,unit whichHero returns item
  local item it=null
		set it=UnitAddItemByIdSwapped(itemId, whichHero)
		set it=null
		return bj_lastCreatedItem
	endfunction

//library WuQiQiHeSystem ends
//===========================================================================
// 
// å†³æˆ˜æ±Ÿæ¹–1.6.36æ­£å¼ç‰ˆ
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Tue Mar 31 11:36:19 2020
//   Map Author: äº‘æ¨ zei_kale
// 
//===========================================================================
//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************
function InitGlobals takes nothing returns nothing
    local integer i= 0
    set udg_UG_ResidualImage=CreateGroup()
    set udg_A_UG=CreateGroup()
    set udg_A_Ang=0
    set udg_A_Ang_2=0
    set udg_A_hurt=0
    set udg_A_num=0
    set udg_x=0
    set udg_y=0
    set udg_A_Int=0
    set udg_Number_player=0
    set i=0
    loop
        exitwhen ( i > 7 )
        set udg_MeiJuJiFen[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 5 )
        set udg_kurongsharen[i]=0
        set i=i + 1
    endloop
    set i=0
    loop
        exitwhen ( i > 5 )
        set udg_HuanZhuangCD[i]=false
        set i=i + 1
    endloop
endfunction
//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************
//===========================================================================
function CreateBuildingsForPlayer5 takes nothing returns nothing
    local player p= Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'nbse', - 13024.0, - 15264.0, 270.000)
    set u=CreateUnit(p, 'nbse', 1440.0, - 6432.0, 270.000)
    set u=CreateUnit(p, 'n00H', - 8960.0, - 14016.0, 270.000)
    set u=CreateUnit(p, 'nbse', - 288.0, - 13088.0, 270.000)
    set u=CreateUnit(p, 'nbse', 544.0, - 13024.0, 270.000)
endfunction
//===========================================================================
function CreateUnitsForPlayer5 takes nothing returns nothing
    local player p= Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set gg_unit_o02D_0069=CreateUnit(p, 'o02D', - 101.7, - 1403.0, 105.880)
    set u=CreateUnit(p, 'o01I', 430.0, 206.6, 180.000)
    set u=CreateUnit(p, 'o025', 434.5, 41.8, 180.000)
    set gg_unit_N00I_0116=CreateUnit(p, 'N00I', 1315.2, - 13118.7, 343.220)
    set gg_unit_o00K_0126=CreateUnit(p, 'o00K', - 1309.2, - 1901.3, 303.520)
endfunction
//===========================================================================
function CreateUnitsForPlayer6 takes nothing returns nothing
    local player p= Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set gg_unit_N008_0054=CreateUnit(p, 'N008', - 44.7, - 132.0, 210.000)
    set u=CreateUnit(p, 'N009', 600.9, 716.3, 270.000)
endfunction
//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set u=CreateUnit(p, 'nvil', 9481.5, 2020.6, 153.110)
    set u=CreateUnit(p, 'nvil', 11946.6, 1409.1, 153.110)
    set u=CreateUnit(p, 'nvil', 12790.4, - 318.2, 358.110)
    set u=CreateUnit(p, 'hrif', 12079.0, 8383.5, 94.211)
    set u=CreateUnit(p, 'hrif', 12335.5, 8511.9, 240.795)
    set u=CreateUnit(p, 'hrif', 12570.7, 8503.7, 296.640)
    set u=CreateUnit(p, 'hrif', 12861.9, 8465.7, 235.587)
    set u=CreateUnit(p, 'hrif', 12475.3, 8890.0, 139.454)
    set u=CreateUnit(p, 'hrif', 12093.4, 8917.0, 343.234)
    set u=CreateUnit(p, 'hrif', 12054.8, 8075.7, 247.892)
    set u=CreateUnit(p, 'hrif', 11377.5, 7797.7, 310.505)
    set u=CreateUnit(p, 'hrif', 11017.6, 7781.0, 204.451)
    set u=CreateUnit(p, 'hrif', 11104.1, 8067.7, 215.416)
    set u=CreateUnit(p, 'hrif', 11202.7, 8446.2, 52.648)
    set u=CreateUnit(p, 'hrif', 12905.5, 9070.1, 1.956)
    set u=CreateUnit(p, 'hrif', 13889.7, 9209.3, 246.541)
    set u=CreateUnit(p, 'hrif', 13320.3, 9412.1, 170.480)
    set u=CreateUnit(p, 'Hmkg', 12555.2, 9450.8, 0.040)
    call IssueImmediateOrder(u, "")
    set u=CreateUnit(p, 'hrif', 13040.2, 9945.3, 320.393)
    set u=CreateUnit(p, 'hrif', 12964.0, 10367.6, 268.042)
    set u=CreateUnit(p, 'nvil', 10161.2, 3604.7, 103.350)
    set u=CreateUnit(p, 'nvil', 11325.7, 3482.4, 172.070)
    set u=CreateUnit(p, 'nvil', 11322.3, 743.0, 84.356)
    set u=CreateUnit(p, 'nvil', 10865.2, - 59.7, 238.960)
    set u=CreateUnit(p, 'nvil', 12972.2, - 1286.4, 322.470)
    set u=CreateUnit(p, 'nvil', 13438.4, - 1039.8, 151.045)
    set u=CreateUnit(p, 'nvil', 13883.7, - 1122.0, 87.959)
    set u=CreateUnit(p, 'nvil', 14335.6, - 246.5, 7.174)
    set u=CreateUnit(p, 'nvil', 12558.5, - 1512.8, 224.183)
    set u=CreateUnit(p, 'nvil', 11989.6, - 691.0, 48.506)
    set u=CreateUnit(p, 'nvil', 10697.4, 1028.4, 2.142)
    set u=CreateUnit(p, 'nvil', 9993.2, 838.7, 130.620)
    set u=CreateUnit(p, 'nvil', 9880.9, - 312.0, 83.993)
    set gg_unit_n00M_0131=CreateUnit(p, 'n00M', - 3348.2, - 15208.4, 56.220)
    set gg_unit_n00N_0132=CreateUnit(p, 'n00N', - 3272.5, - 15268.8, 90.000)
endfunction
//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life
    set gg_unit_nvl2_0005=CreateUnit(p, 'nvl2', - 12666.8, - 12668.0, 270.000)
    set u=CreateUnit(p, 'o02C', - 11675.7, - 12657.2, 270.000)
    set u=CreateUnit(p, 'hfoo', 13113.9, - 12953.1, 180.000)
    set u=CreateUnit(p, 'hfoo', 13098.9, - 12608.4, 180.000)
    set u=CreateUnit(p, 'hfoo', 13106.8, - 12266.3, 180.000)
    set u=CreateUnit(p, 'hfoo', 13125.6, - 11941.2, 180.000)
    set u=CreateUnit(p, 'hfoo', 13110.6, - 11596.5, 180.000)
    set u=CreateUnit(p, 'hfoo', 13118.5, - 11254.4, 180.000)
    set u=CreateUnit(p, 'hfoo', 10471.2, - 12877.6, 0.000)
    set u=CreateUnit(p, 'hfoo', 10456.2, - 12532.9, 0.000)
    set u=CreateUnit(p, 'hfoo', 10464.1, - 12190.8, 0.000)
    set u=CreateUnit(p, 'hfoo', 10482.9, - 11865.7, 0.000)
    set u=CreateUnit(p, 'hfoo', 10467.9, - 11521.0, 0.000)
    set u=CreateUnit(p, 'hfoo', 10475.8, - 11178.9, 0.000)
    set u=CreateUnit(p, 'hfoo', 10788.2, - 13132.6, 90.000)
    set u=CreateUnit(p, 'hfoo', 11123.4, - 13127.2, 90.000)
    set u=CreateUnit(p, 'hfoo', 11476.5, - 13127.2, 90.000)
    set u=CreateUnit(p, 'hfoo', 11789.3, - 13119.0, 90.000)
    set u=CreateUnit(p, 'hfoo', 12117.5, - 13126.3, 90.000)
    set u=CreateUnit(p, 'hfoo', 12752.7, - 13125.3, 90.000)
    set u=CreateUnit(p, 'hfoo', 12439.1, - 13131.0, 90.000)
    set u=CreateUnit(p, 'hfoo', 10865.3, - 11041.6, 270.000)
    set u=CreateUnit(p, 'hfoo', 11200.6, - 11052.2, 270.000)
    set u=CreateUnit(p, 'hfoo', 11553.7, - 11052.2, 270.000)
    set u=CreateUnit(p, 'hfoo', 11866.5, - 11044.1, 270.000)
    set u=CreateUnit(p, 'hfoo', 12194.7, - 11051.3, 270.000)
    set u=CreateUnit(p, 'hfoo', 12829.8, - 11050.3, 270.000)
    set u=CreateUnit(p, 'hfoo', 12516.3, - 11048.0, 270.000)
    set u=CreateUnit(p, 'hbsh', 8756.7, 2231.1, 159.134)
    set u=CreateUnit(p, 'hdes', 8725.7, 1444.5, 148.343)
    set u=CreateUnit(p, 'ogrk', 10149.5, 2965.0, 12.490)
    set gg_unit_N007_0055=CreateUnit(p, 'N007', 407.6, - 602.6, 180.000)
    set u=CreateUnit(p, 'nslf', 10997.8, 3200.4, 270.000)
    set u=CreateUnit(p, 'nwnr', 10992.4, 2448.7, 90.000)
    set gg_unit_n00E_0066=CreateUnit(p, 'n00E', 14666.0, 1079.2, 89.340)
    set u=CreateUnit(p, 'o022', 10129.1, 2787.2, 0.000)
    set u=CreateUnit(p, 'n00A', 10780.4, 3209.3, 270.000)
    set u=CreateUnit(p, 'o01X', 12561.4, 1703.5, 225.000)
    set gg_unit_N00P_0084=CreateUnit(p, 'N00P', - 1438.3, - 1387.7, 60.000)
    set gg_unit_N00F_0085=CreateUnit(p, 'N00F', - 1396.8, - 161.8, 300.000)
    set gg_unit_N00B_0086=CreateUnit(p, 'N00B', - 1463.4, - 512.7, 352.620)
    call IssueImmediateOrder(gg_unit_N00B_0086, "")
    call IssueImmediateOrder(gg_unit_N00B_0086, "")
    set u=CreateUnit(p, 'o009', - 2214.0, 469.5, 315.030)
    set u=CreateUnit(p, 'o01Y', - 2283.0, 311.9, 0.000)
    set u=CreateUnit(p, 'o01Z', - 2063.7, 512.1, 270.040)
    set u=CreateUnit(p, 'o021', 10788.7, 2432.2, 90.180)
    set u=CreateUnit(p, 'N00Q', 653.0, - 10821.9, 0.000)
    set gg_unit_N00U_0092=CreateUnit(p, 'N00U', - 1149.0, - 1379.7, 135.000)
    set u=CreateUnit(p, 'N011', - 358.9, - 1403.1, 90.000)
    set gg_unit_N012_0095=CreateUnit(p, 'N012', 412.4, - 811.2, 180.000)
    set u=CreateUnit(p, 'o027', - 8391.7, - 13686.5, 180.000)
    set u=CreateUnit(p, 'o028', - 9565.3, - 13673.1, 0.000)
    set u=CreateUnit(p, 'o02A', - 9010.1, - 13208.2, 270.000)
    set u=CreateUnit(p, 'o029', - 9519.1, - 14831.5, 0.000)
    set u=CreateUnit(p, 'o02B', - 8490.7, - 14848.6, 180.000)
    set u=CreateUnit(p, 'hkni', - 11717.6, - 13939.5, 180.000)
    set u=CreateUnit(p, 'hkni', - 12586.0, - 13906.9, 0.000)
    set u=CreateUnit(p, 'o02L', 1781.6, - 4106.0, 270.000)
endfunction
//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer5()
endfunction
//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer5()
    call CreateUnitsForPlayer6()
endfunction
//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateBuildingsForPlayer5() // INLINED!!
    call CreateNeutralHostile()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction
//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************
//TESH.scrollpos=0
//TESH.alwaysfold=0
//#include "./YDWELocalVariable.j"
//hardware
//è·å–é¼ æ ‡åœ¨æ¸¸æˆå†…çš„åæ ‡X

//è·å–é¼ æ ‡åœ¨æ¸¸æˆå†…çš„åæ ‡Y

//è·å–é¼ æ ‡åœ¨æ¸¸æˆå†…çš„åæ ‡Z

//é¼ æ ‡æ˜¯å¦åœ¨æ¸¸æˆå†…

//è·å–é¼ æ ‡å±å¹•åæ ‡X

//è·å–é¼ æ ‡å±å¹•åæ ‡Y

//è·å–é¼ æ ‡æ¸¸æˆçª—å£åæ ‡X

//è·å–é¼ æ ‡æ¸¸æˆçª—å£åæ ‡Y

//è®¾ç½®é¼ æ ‡ä½ç½®

//æ³¨å†Œé¼ æ ‡ç‚¹å‡»è§¦å‘ï¼ˆsyncä¸ºtrueæ—¶ï¼Œè°ƒç”¨TriggerExecuteã€‚ä¸ºfalseæ—¶ï¼Œç›´æ¥è¿è¡Œactionå‡½æ•°ï¼Œå¯ä»¥å¼‚æ­¥ä¸æ‰çº¿ï¼Œactioné‡Œä¸è¦æœ‰åŒæ­¥æ“ä½œï¼‰


//æ³¨å†Œé”®ç›˜ç‚¹å‡»è§¦å‘


//æ³¨å†Œé¼ æ ‡æ»šè½®è§¦å‘


//æ³¨å†Œé¼ æ ‡ç§»åŠ¨è§¦å‘


//è·å–è§¦å‘å™¨çš„æŒ‰é”®ç 

//è·å–æ»šè½®delta

//åˆ¤æ–­æŒ‰é”®æ˜¯å¦æŒ‰ä¸‹

//è·å–è§¦å‘keyçš„ç©å®¶

//è·å–war3çª—å£å®½åº¦

//è·å–war3çª—å£é«˜åº¦

//è·å–war3çª—å£Xåæ ‡

//è·å–war3çª—å£Yåæ ‡

//æ³¨å†Œwar3çª—å£å¤§å°å˜åŒ–äº‹ä»¶


//åˆ¤æ–­çª—å£æ˜¯å¦æ¿€æ´»

//plus
//è®¾ç½®å¯æ‘§æ¯ç‰©ä½ç½®

//è®¾ç½®å•ä½ä½ç½®-æœ¬åœ°è°ƒç”¨

//å¼‚æ­¥æ‰§è¡Œå‡½æ•°

//å–é¼ æ ‡æŒ‡å‘çš„unit

//è®¾ç½®unitçš„è´´å›¾

//è®¾ç½®å†…å­˜æ•°å€¼

//è®¾ç½®å•ä½ID

//è®¾ç½®å•ä½æ¨¡å‹

//è®¾ç½®å°åœ°å›¾èƒŒæ™¯å›¾ç‰‡

//sync
//æ³¨å†Œæ•°æ®åŒæ­¥trigger

//åŒæ­¥æ¸¸æˆæ•°æ®

//è·å–åŒæ­¥çš„æ•°æ®

//è·å–åŒæ­¥æ•°æ®çš„ç©å®¶

//gui
/////////////////////////////// åŸç”ŸUIä¿®æ”¹
//éšè—ç•Œé¢å…ƒç´ 

//ä¿®æ”¹æ¸¸æˆä¸–ç•Œçª—å£ä½ç½®

//å¤´åƒ

//å°åœ°å›¾

//æŠ€èƒ½æŒ‰é’®

//è‹±é›„æŒ‰é’®

//è‹±é›„è¡€æ¡

//è‹±é›„è“æ¡

//é“å…·æŒ‰é’®

//å°åœ°å›¾æŒ‰é’®

//å·¦ä¸Šèœå•æŒ‰é’®

//é¼ æ ‡æç¤º

//èŠå¤©ä¿¡æ¯

//unit message

//top message

///////////////////////////////
//å–rgbaè‰²å€¼

//è®¾ç½®ç•Œé¢æ›´æ–°å›è°ƒï¼ˆéåŒæ­¥ï¼‰


//æ˜¾ç¤º/éšè—Frame

//åˆ›å»ºframe

//åˆ›å»ºSimpleFrame

//é”€æ¯frame

//åŠ è½½toc

//è®¾ç½®frameç›¸å¯¹ä½ç½®

//è®¾ç½®frameç»å¯¹ä½ç½®

//æ¸…ç©ºframeé”šç‚¹

//è®¾ç½®frameç¦ç”¨/å¯ç”¨

//æ³¨å†ŒUIäº‹ä»¶å›è°ƒ


//è·å–è§¦å‘uiçš„ç©å®¶

//è·å–è§¦å‘çš„Frame

//æŸ¥æ‰¾frame

//æŸ¥æ‰¾SimpleFrame

//æŸ¥æ‰¾String

//æŸ¥æ‰¾Texture

//è·å–game ui

//ç‚¹å‡»frame

//è‡ªå®šä¹‰å±å¹•æ¯”ä¾‹

//ä½¿ç”¨å®½å±æ¨¡å¼

//è®¾ç½®æ–‡å­—ï¼ˆæ”¯æŒEditBox, TextFrame, TextArea, SimpleFontStringã€GlueEditBoxWar3ã€SlashChatBoxã€TimerTextFrameã€TextButtonFrameã€GlueTextButtonï¼‰

//è·å–æ–‡å­—ï¼ˆæ”¯æŒEditBox, TextFrame, TextArea, SimpleFontStringï¼‰

//è®¾ç½®å­—æ•°é™åˆ¶ï¼ˆæ”¯æŒEditBoxï¼‰

//è·å–å­—æ•°é™åˆ¶ï¼ˆæ”¯æŒEditBoxï¼‰

//è®¾ç½®æ–‡å­—é¢œè‰²ï¼ˆæ”¯æŒTextFrame, EditBoxï¼‰

//è·å–é¼ æ ‡æ‰€åœ¨ä½ç½®çš„uiæ§ä»¶æŒ‡é’ˆ

//è®¾ç½®æ‰€æœ‰é”šç‚¹åˆ°ç›®æ ‡frameä¸Š

//è®¾ç½®ç„¦ç‚¹

//è®¾ç½®æ¨¡å‹ï¼ˆæ”¯æŒSpriteã€Modelã€StatusBarï¼‰

//è·å–æ§ä»¶æ˜¯å¦å¯ç”¨

//è®¾ç½®é€æ˜åº¦ï¼ˆ0-255ï¼‰

//è·å–é€æ˜åº¦

//è®¾ç½®åŠ¨ç”»

//è®¾ç½®åŠ¨ç”»è¿›åº¦ï¼ˆautocastä¸ºfalseæ˜¯å¯ç”¨ï¼‰

//è®¾ç½®textureï¼ˆæ”¯æŒBackdropã€SimpleStatusBarï¼‰

//è®¾ç½®ç¼©æ”¾

//è®¾ç½®tooltip

//é¼ æ ‡é™åˆ¶åœ¨uiå†…

//è·å–å½“å‰å€¼ï¼ˆæ”¯æŒSliderã€SimpleStatusBarã€StatusBarï¼‰

//è®¾ç½®æœ€å¤§æœ€å°å€¼ï¼ˆæ”¯æŒSliderã€SimpleStatusBarã€StatusBarï¼‰

//è®¾ç½®Stepå€¼ï¼ˆæ”¯æŒSliderï¼‰

//è®¾ç½®å½“å‰å€¼ï¼ˆæ”¯æŒSliderã€SimpleStatusBarã€StatusBarï¼‰

//è®¾ç½®frameå¤§å°

//æ ¹æ®tagåˆ›å»ºframe

//è®¾ç½®é¢œè‰²ï¼ˆæ”¯æŒSimpleStatusBarï¼‰


// japi



































//library DzAPI:
function GetPlayerServerValueSuccess takes player whichPlayer returns boolean
	if ( DzAPI_Map_GetServerValueErrorCode(whichPlayer) == 0 ) then
		return true
	else
		return false
	endif
endfunction
function DzAPI_Map_StoreInteger takes player whichPlayer,string key,integer value returns nothing
	set key="I" + key
	call DzAPI_Map_SaveServerValue(whichPlayer, key, I2S(value))
	set key=null
	set whichPlayer=null
endfunction
function DzAPI_Map_GetStoredInteger takes player whichPlayer,string key returns integer
 local integer value
	set key="I" + key
	set value=S2I(DzAPI_Map_GetServerValue(whichPlayer, key))
	set key=null
	set whichPlayer=null
	return value
endfunction
function DzAPI_Map_StoreReal takes player whichPlayer,string key,real value returns nothing
	set key="R" + key
	call DzAPI_Map_SaveServerValue(whichPlayer, key, R2S(value))
	set key=null
	set whichPlayer=null
endfunction
function DzAPI_Map_GetStoredReal takes player whichPlayer,string key returns real
 local real value
	set key="R" + key
	set value=S2R(DzAPI_Map_GetServerValue(whichPlayer, key))
	set key=null
	set whichPlayer=null
	return value
endfunction
function DzAPI_Map_StoreBoolean takes player whichPlayer,string key,boolean value returns nothing
	set key="B" + key
	if ( value ) then
		call DzAPI_Map_SaveServerValue(whichPlayer, key, "1")
	else
		call DzAPI_Map_SaveServerValue(whichPlayer, key, "0")
	endif
	set key=null
	set whichPlayer=null
endfunction
function DzAPI_Map_GetStoredBoolean takes player whichPlayer,string key returns boolean
 local boolean value
	set key="B" + key
	set key=DzAPI_Map_GetServerValue(whichPlayer, key)
	if ( key == "1" ) then
		set value=true
	else
		set value=false
	endif
	set key=null
	set whichPlayer=null
	return value
endfunction
function DzAPI_Map_StoreString takes player whichPlayer,string key,string value returns nothing
	set key="S" + key
	call DzAPI_Map_SaveServerValue(whichPlayer, key, value)
	set key=null
	set whichPlayer=null
endfunction
function DzAPI_Map_GetStoredString takes player whichPlayer,string key returns string
	return DzAPI_Map_GetServerValue(whichPlayer, "S" + key)
endfunction
function DzAPI_Map_GetStoredUnitType takes player whichPlayer,string key returns integer
 local integer value
	set key="I" + key
	set value=S2I(DzAPI_Map_GetServerValue(whichPlayer, key))
	set key=null
	set whichPlayer=null
	return value
endfunction
function DzAPI_Map_GetStoredAbilityId takes player whichPlayer,string key returns integer
 local integer value
	set key="I" + key
	set value=S2I(DzAPI_Map_GetServerValue(whichPlayer, key))
	set key=null
	set whichPlayer=null
	return value
endfunction
function DzAPI_Map_FlushStoredMission takes player whichPlayer,string key returns nothing
	call DzAPI_Map_SaveServerValue(whichPlayer, key, null)
	set key=null
	set whichPlayer=null
endfunction
function DzAPI_Map_Ladder_SubmitIntegerData takes player whichPlayer,string key,integer value returns nothing
	call DzAPI_Map_Ladder_SetStat(whichPlayer, key, I2S(value))
endfunction
function DzAPI_Map_Stat_SubmitUnitIdData takes player whichPlayer,string key,integer value returns nothing
	if ( value == 0 ) then
		//call DzAPI_Map_Ladder_SetStat(whichPlayer,key,"0")
	else
		call DzAPI_Map_Ladder_SetStat(whichPlayer, key, I2S(value))
	endif
endfunction
function DzAPI_Map_Stat_SubmitUnitData takes player whichPlayer,string key,unit value returns nothing
	call DzAPI_Map_Stat_SubmitUnitIdData(whichPlayer , key , GetUnitTypeId(value))
endfunction
function DzAPI_Map_Ladder_SubmitAblityIdData takes player whichPlayer,string key,integer value returns nothing
	if ( value == 0 ) then
		//call DzAPI_Map_Ladder_SetStat(whichPlayer,key,"0")
	else
		call DzAPI_Map_Ladder_SetStat(whichPlayer, key, I2S(value))
	endif
endfunction
function DzAPI_Map_Ladder_SubmitItemIdData takes player whichPlayer,string key,integer value returns nothing
 local string l__S
	if ( value == 0 ) then
		set l__S="0"
	else
		set l__S=I2S(value)
		call DzAPI_Map_Ladder_SetStat(whichPlayer, key, l__S)
	endif
	//call DzAPI_Map_Ladder_SetStat(whichPlayer,key,S)
	set l__S=null
	set whichPlayer=null
endfunction
function DzAPI_Map_Ladder_SubmitItemData takes player whichPlayer,string key,item value returns nothing
	call DzAPI_Map_Ladder_SubmitItemIdData(whichPlayer , key , GetItemTypeId(value))
endfunction
function DzAPI_Map_Ladder_SubmitBooleanData takes player whichPlayer,string key,boolean value returns nothing
	if ( value ) then
		call DzAPI_Map_Ladder_SetStat(whichPlayer, key, "1")
	else
		call DzAPI_Map_Ladder_SetStat(whichPlayer, key, "0")
	endif
endfunction
function DzAPI_Map_Ladder_SubmitTitle takes player whichPlayer,string value returns nothing
	call DzAPI_Map_Ladder_SetStat(whichPlayer, value, "1")
endfunction
function DzAPI_Map_Ladder_SubmitPlayerRank takes player whichPlayer,integer value returns nothing
	call DzAPI_Map_Ladder_SetPlayerStat(whichPlayer, "RankIndex", I2S(value))
endfunction
function DzAPI_Map_Ladder_SubmitPlayerExtraExp takes player whichPlayer,integer value returns nothing
	call DzAPI_Map_Ladder_SetStat(whichPlayer, "ExtraExp", I2S(value))
endfunction
//==================æ­¦å™¨å¥‘åˆåº¦ç³»ç»Ÿå¼€å§‹==================//
//==================æ­¦å™¨å¥‘åˆåº¦ç³»ç»Ÿç»“æŸ==================//
//Aé¡¹å’ŒBé¡¹æ€§æ ¼
function AddCharacterABuff takes unit u,integer characterA returns nothing
	call UnitAddAbilityBJ('A066', u)
	call SetPlayerAbilityAvailableBJ(false, 'A066', GetOwningPlayer(u))
	call SetUnitAbilityLevel(u, 'A068', characterA)
endfunction
function AddCharacterBBuff takes unit u,integer characterB returns nothing
	call UnitAddAbilityBJ('A067', u)
	call SetPlayerAbilityAvailableBJ(false, 'A067', GetOwningPlayer(u))
	call SetUnitAbilityLevel(u, 'A069', characterB)
endfunction
function XingGeA takes integer xingge returns string
 local string s=null
	if xingge == 1 then
		set s="æ„šé’"
	elseif xingge == 2 then
		set s="ç¬¨æ‹™"
	elseif xingge == 3 then
		set s="å¹³å¹³"
	elseif xingge == 4 then
		set s="èªæ˜"
	elseif xingge == 5 then
		set s="èªæ…§"
	endif
	return s
endfunction
function XingGeB takes integer xingge returns string
 local string s=null
	if xingge == 1 then
		set s="æµ®èº"
	elseif xingge == 2 then
		set s="è½»æµ®"
	elseif xingge == 3 then
		set s="è€å¿ƒ"
	elseif xingge == 4 then
		set s="ç¨³é‡"
	elseif xingge == 5 then
		set s="æ²‰ç¨³"
	endif
	return s
endfunction
//å‰¯æœ¬å€’è®¡æ—¶
function FBdaojishi takes nothing returns nothing
 local player p=GetTriggerPlayer()
	call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF00331å·å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[1]))) + "ç§’" ) ))
	call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF00332å·å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[2]))) + "ç§’" ) ))
	call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF00333å·å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[3]))) + "ç§’" ) ))
	call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF00334å·å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[4]))) + "ç§’" ) ))
	call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF00335å·å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[5]))) + "ç§’" ) ))
	call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF00336å·å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[6]))) + "ç§’" ) ))
	set p=null
endfunction
//ä¼´ä¾£å±æ€§
function BanLvShuXing takes nothing returns nothing
 local trigger t=GetTriggeringTrigger()
 local player p=GetTriggerPlayer()
 local integer i=1 + GetPlayerId(p)
	set bj_forLoopBIndex=1
	set bj_forLoopBIndexEnd=MAX_BAN_LV_NUM
	loop
	exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
		if ( ( GetUnitTypeId(k8[i]) == R8[bj_forLoopBIndex] ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFFF00ä¼´ä¾£ï¼š" + GetUnitName(k8[i]) ))
			if ( ( udg_blgg[bj_forLoopBIndex] > 0 ) ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæ ¹éª¨ ï¼š   " + I2S(udg_blgg[bj_forLoopBIndex]) ))
			endif
			if ( ( udg_blwx[bj_forLoopBIndex] > 0 ) ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæ‚Ÿæ€§ ï¼š   " + I2S(udg_blwx[bj_forLoopBIndex]) ))
			endif
			if ( ( udg_bljm[bj_forLoopBIndex] > 0 ) ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFç»è„‰ ï¼š   " + I2S(udg_bljm[bj_forLoopBIndex]) ))
			endif
			if ( ( udg_blfy[bj_forLoopBIndex] > 0 ) ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFç¦ç¼˜ ï¼š   " + I2S(udg_blfy[bj_forLoopBIndex]) ))
			endif
			if ( ( udg_bldp[bj_forLoopBIndex] > 0 ) ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFèƒ†é­„ ï¼š   " + I2S(udg_bldp[bj_forLoopBIndex]) ))
			endif
			if ( ( udg_blys[bj_forLoopBIndex] > 0 ) ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFåŒ»æœ¯ ï¼š   " + I2S(udg_blys[bj_forLoopBIndex]) ))
			endif
		endif
		set bj_forLoopBIndex=bj_forLoopBIndex + 1
	endloop
	set t=null
	set p=null
endfunction
function IsYaoCao takes integer id returns boolean
 local integer i= 1
	loop
	exitwhen i > 12
		if id == YaoCao[i] then
			return true
		endif
		set i=i + 1
	endloop
	return false
endfunction
//å®ç‰©æ‰è½å‡½æ•°
function BaoWuDiaoLuo takes unit u,unit l__ut,integer baolv1,integer id1,integer id2,integer id3,integer id4,integer baolv2,integer id5 returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(l__ut)
 local integer array idn
 local integer j= 4
	set idn[1]=id1
	set idn[2]=id2
	set idn[3]=id3
	set idn[4]=id4
	if id4 == 0 then
		set j=3
	endif
	if id3 == 0 then
		set j=2
	endif
	if id2 == 0 then
		set j=1
	endif
	if id1 == 0 then
		set j=0
	endif
	if ( GetRandomInt(1, 1000) <= fuyuan[i] or ( GetRandomInt(1, 100) <= 35 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
	exitwhen N7 > MM7
		//ç¬¬ä¸€ç±»å®ç‰©
		if ( j > 0 ) then
			if ( GetRandomInt(0, 100) <= baolv1 ) then
				call createitemloc(idn[GetRandomInt(1, j)] , loc)
			endif
		endif
		//ç¬¬äºŒç±»å®ç‰©ï¼ˆè¯ç‰©æˆ–å¤è‘£ï¼‰
		if ( baolv2 != 0 ) then
			if ( ( GetRandomInt(1, 100) <= baolv2 ) ) then
				call createitemloc(id5 , loc)
				if IsYaoCao(id5) and (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
					call createitemloc(id5 , loc)
				endif
			endif
		endif
		set N7=N7 + 1
	endloop
	call RemoveLocation(loc)
	set p=null
	set loc=null
endfunction
//å‡»æ€æ€ªç‰©åç™¾åˆ†æ¯”æ¦‚ç‡æ‰è½å®ç‰©çš„å‡½æ•°
//å¦‚æœå‰¯èŒä¸ºå¯»å®å¸ˆæˆ–è€…1-1000é—´å–éšæœºæ•°å°äºç¦ç¼˜æˆç«‹çš„è¯ï¼ŒåŒå€æ‰è½å®ç‰©
//unitæ˜¯å‡»æ€è€…
//possibility:ç¬¬ä¸€ç§å®ç‰©æ‰è½çš„æ¦‚ç‡
//itemId:ç¬¬ä¸€ç§å®ç‰©çš„id
//itemId2:ç¬¬äºŒç§å®ç‰©æ‰è½çš„idï¼Œå¦‚æœæ²¡æœ‰ç¬¬äºŒç§å®ç‰©å¯ä»¥ä¸º0
function dropItem takes unit u,integer itemId,integer itemId2,integer possibility returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
	if ( GetRandomInt(1, 1000) <= fuyuan[i] or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
	exitwhen N7 > MM7
		if ( GetRandomInt(0, 100) <= possibility ) then
			call createitemloc(itemId , loc)
		else
			call createitemloc(itemId2 , loc)
		endif
		set N7=N7 + 1
		
	endloop
	call RemoveLocation(loc)
	set u=null
	set p=null
	set loc=null
endfunction
//æŸ¥è¯¢è¯æ€§
function YaoXing takes nothing returns nothing
 local player p=GetTriggerPlayer()
 local integer i=1 + GetPlayerId(p)
 local integer yin=0
 local integer yang=0
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=6
	loop
	exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		if ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[11] ) ) then
			set yin=yin + 5
			set yang=yang + 1
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[9] ) ) then
			set yin=yin + 0
			set yang=yang + 4
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[10] ) ) then
			set yin=yin + 3
			set yang=yang + 4
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[8] ) ) then
			set yin=yin + 4
			set yang=yang + 3
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[7] ) ) then
			set yin=yin + 4
			set yang=yang + 0
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[12] ) ) then
			set yin=yin + 1
			set yang=yang + 5
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[6] ) ) then
			set yin=yin + 2
			set yang=yang + 3
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[1] ) ) then
			set yin=yin + 2
			set yang=yang + 1
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[2] ) ) then
			set yin=yin + 1
			set yang=yang + 2
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[3] ) ) then
			set yin=yin + 3
			set yang=yang - 1
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[4] ) ) then
			set yin=yin - 1
			set yang=yang + 3
		elseif ( ( GetItemTypeId(UnitItemInSlotBJ(P4[i], bj_forLoopAIndex)) == YaoCao[5] ) ) then
			set yin=yin + 3
			set yang=yang + 2
		endif
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., ( "|cff00ff33æ€»è¯æ€§ï¼ˆé˜´ï¼‰ï¼š" + I2S(yin) ))
	call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., ( "|cff00ff33æ€»è¯æ€§ï¼ˆé˜³ï¼‰ï¼š" + I2S(yang) ))
	set p=null
endfunction
//è½¬åŒ–å‰‘æ„
function TransferJY takes nothing returns nothing
 local player p=GetTriggerPlayer()
 local integer i=1 + GetPlayerId(p)
	if ( ( xd[i] == 0 ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000è‹±é›„ï¼Œä½ çš„å‰‘æ„ä¸å¤Ÿå“¦")
	else
		if ( ( yd[i] == 1 ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cff00ff00å½“å‰å·²å°†" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„è½¬åŒ–æˆäº†æ‚Ÿæ€§" ) ))
		elseif ( ( yd[i] == 2 ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cff00ff00å½“å‰å·²å°†" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„è½¬åŒ–æˆäº†æ ¹éª¨" ) ))
		elseif ( ( yd[i] == 3 ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cff00ff00å½“å‰å·²å°†" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„è½¬åŒ–æˆäº†èƒ†é­„" ) ))
		elseif ( ( yd[i] == 4 ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cff00ff00å½“å‰å·²å°†" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„è½¬åŒ–æˆäº†åŒ»æœ¯" ) ))
		elseif ( ( yd[i] == 5 ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cff00ff00å½“å‰å·²å°†" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„è½¬åŒ–æˆäº†ç¦ç¼˜" ) ))
		elseif ( ( yd[i] == 6 ) ) then
			call DisplayTextToPlayer(p, 0, 0, ( "|cff00ff00å½“å‰å·²å°†" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„è½¬åŒ–æˆäº†ç»è„‰" ) ))
		endif
		if ( ( GetPlayerState(p, PLAYER_STATE_RESOURCE_LUMBER) < 5 ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000è½¬åŒ–å‰‘æ„éœ€è¦è‡³å°‘5ä¸ªé»„é‡‘")
		else
			call DialogSetMessage(v8[i], ( "ä½ æ‹¥æœ‰" + ( I2S(xd[i]) + "ç‚¹å‰‘æ„ï¼Œè¯·é€‰æ‹©è¦è½¬åŒ–çš„å±æ€§" ) ))
			call DialogAddButtonBJ(v8[i], "æ ¹éª¨")
			set w8[i]=bj_lastCreatedButton
			call DialogAddButtonBJ(v8[i], "æ‚Ÿæ€§")
			set y8[i]=bj_lastCreatedButton
			call DialogAddButtonBJ(v8[i], "ç¦ç¼˜")
			set z8[i]=bj_lastCreatedButton
			call DialogAddButtonBJ(v8[i], "èƒ†é­„")
			set A8[i]=bj_lastCreatedButton
			call DialogAddButtonBJ(v8[i], "åŒ»æœ¯")
			set a8[i]=bj_lastCreatedButton
			call DialogAddButtonBJ(v8[i], "ç»è„‰")
			set x8[i]=bj_lastCreatedButton
			call DialogAddButtonBJ(v8[i], "å–æ¶ˆ")
			set B8[i]=bj_lastCreatedButton
			call DialogDisplay(p, v8[i], true)
			set Ad[i]=true
		endif
	endif
	set p=null
endfunction
// æŒ‰å‡ ä½•æ­£æ€åˆ†å¸ƒè¿›è¡Œéšæœº
function GetGeoNormRandomReal takes real r1,real r2 returns real
 local real rr1= (YDWELogarithm___Log2(((r1)*1.0)) * 0.3010300) // INLINED!!
 local real rr2= (YDWELogarithm___Log2(((r2)*1.0)) * 0.3010300) // INLINED!!
 local real rr3= GetRandomReal(rr1, rr2)
 local real rr4= GetRandomReal(rr1, rr2)
 local real rr5= GetRandomReal(rr1, rr2)
 local real rr6= GetRandomReal(rr1, rr2)
 local real rr7= GetRandomReal(rr1, rr2)
 local real rr8= GetRandomReal(rr1, rr2)
 local real rr9= ( rr3 + rr4 + rr5 + rr6 + rr7 + rr8 ) / 6.0
	return Pow(10., rr9)
endfunction
//è¿”å›ç©å®¶æ•°
function GetNumPlayer takes nothing returns integer
 local integer i=0
 local player p=null
 local integer n=0
	loop
	exitwhen i > 11
		set p=Player(i)
		if GetPlayerController(p) == MAP_CONTROL_USER and GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING then
			set n=n + 1
		endif
		set i=i + 1
	endloop
	set p=null
	return n
endfunction
function UnitTypeNotNull takes unit u,unittype i returns boolean
	return ( IsUnitType(u, i) != null )
endfunction
//è·ç¦»loc r1è·ç¦»r2è§’åº¦çš„ç‚¹
function pu takes location loc,real r1,real r2 returns location
	return Location(GetLocationX(loc) + r1 * Cos(r2 * bj_DEGTORAD), GetLocationY(loc) + r1 * Sin(r2 * bj_DEGTORAD))
endfunction
function tu takes nothing returns boolean
 local real dx=GetDestructableX(GetFilterDestructable()) - fu
 local real dy=GetDestructableY(GetFilterDestructable()) - gu
	return ( dx * dx + dy * dy <= bj_enumDestructableRadius )
endfunction
function uu takes itemtype vu,integer wu returns nothing
 local group g= null
	set bj_stockPickedItemType=vu
	set bj_stockPickedItemLevel=wu
	set g=CreateGroup()
	call GroupEnumUnitsOfType(g, "marketplace", ju)
	call ForGroup(g, function UpdateEachStockBuildingEnum)
	call DestroyGroup(g)
	set g=null
endfunction
function xu takes nothing returns nothing
 local integer pickedItemId
 local itemtype yu
 local integer zu=0
 local integer Au=0
 local integer wu
	set wu=1
	loop
		if ( bj_stockAllowedPermanent[wu] ) then
			set Au=Au + 1
			if ( GetRandomInt(1, Au) == 1 ) then
				set yu=ITEM_TYPE_PERMANENT
				set zu=wu
			endif
		endif
		if ( bj_stockAllowedCharged[wu] ) then
			set Au=Au + 1
			if ( GetRandomInt(1, Au) == 1 ) then
				set yu=ITEM_TYPE_CHARGED
				set zu=wu
			endif
		endif
		if ( bj_stockAllowedArtifact[wu] ) then
			set Au=Au + 1
			if ( GetRandomInt(1, Au) == 1 ) then
				set yu=ITEM_TYPE_ARTIFACT
				set zu=wu
			endif
		endif
		set wu=wu + 1
	exitwhen wu > 10
	endloop
	if ( Au == 0 ) then
		set yu=null
		return
	endif
	call uu(yu , zu)
	set yu=null
endfunction
function au takes nothing returns nothing
	call xu()
	call TimerStart(bj_stockUpdateTimer, bj_STOCK_RESTOCK_INTERVAL, true, function xu)
endfunction
function bu takes nothing returns boolean
	return true
endfunction
function Eu takes nothing returns integer
 local integer Fu=Kt
	if ( Fu != 0 ) then
		set Kt=Mt[Fu]
	else
		set Lt=Lt + 1
		set Fu=Lt
	endif
	if ( Fu > 8190 ) then
		return 0
	endif
	set Pt[Fu]=null
	set Qt[Fu]=null
	set Rt[Fu]=.0
	set St[Fu]=.0
	set Tt[Fu]=.0
	set Ut[Fu]=.0
	set Vt[Fu]=.0
	set Wt[Fu]=.0
	set Xt[Fu]=.0
	set Yt[Fu]=.0
	set Zt[Fu]=0
	set Mt[Fu]=- 1
	return Fu
endfunction
function Gu takes integer Fu returns nothing
	if Fu == null then
		return
	elseif ( Mt[Fu] != - 1 ) then
		return
	endif
	set Mt[Fu]=Kt
	set Kt=Fu
endfunction
function Hu takes nothing returns nothing
	set YDHT=InitHashtable()
endfunction
function Nu takes unit Ou,integer cu returns nothing
 local integer i=0
	loop
	exitwhen i >= M
		if L[i] == cu then
			set w=Ou
			if K[i] != null and TriggerEvaluate(K[i]) and IsTriggerEnabled(K[i]) then
				call TriggerExecute(K[i])
			endif
		endif
		set i=i + 1
	endloop
endfunction
function SetCamera takes nothing returns nothing
	set I=GetCameraBoundMinX() - GetCameraMargin(CAMERA_MARGIN_LEFT)
	set J=GetCameraBoundMinY() - GetCameraMargin(CAMERA_MARGIN_BOTTOM)
	set H=GetCameraBoundMaxX() + GetCameraMargin(CAMERA_MARGIN_RIGHT)
	set l=GetCameraBoundMaxY() + GetCameraMargin(CAMERA_MARGIN_TOP)
endfunction
//ä¸‡èƒ½å±æ€§ç³»ç»Ÿ
//ä»¥ä¸‹å‡½æ•°ä»…ä»…æ˜¯è®©æŠ€èƒ½IDå‡ºç°åœ¨ä»£ç é‡Œï¼Œä¸ç„¶SLKä¼˜åŒ–å™¨ä¼šåˆ é™¤è¿™äº›æŠ€èƒ½
function DisplayAllAbilityId takes nothing returns nothing
 local integer aid=0
	set aid='YDl0'
	set aid='YDl1'
	set aid='YDl2'
	set aid='YDl3'
	set aid='YDl4'
	set aid='YDl5'
	set aid='YDl6'
	set aid='YDl7'
	set aid='YDl8'
	set aid='YDl9'
	set aid='YDla'
	set aid='YDlb'
	set aid='YDlc'
	set aid='YDld'
	set aid='YDle'
	set aid='YDlf'
	set aid='YDm0'
	set aid='YDm1'
	set aid='YDm2'
	set aid='YDm3'
	set aid='YDm4'
	set aid='YDm5'
	set aid='YDm6'
	set aid='YDm7'
	set aid='YDm8'
	set aid='YDm9'
	set aid='YDma'
	set aid='YDmb'
	set aid='YDmc'
	set aid='YDmd'
	set aid='YDme'
	set aid='YDmf'
	set aid='YDc0'
	set aid='YDc1'
	set aid='YDc2'
	set aid='YDc3'
	set aid='YDc4'
	set aid='YDc5'
	set aid='YDc6'
	set aid='YDc7'
	set aid='YDc8'
	set aid='YDc9'
	set aid='YDca'
	set aid='YDcb'
	set aid='YDcc'
	set aid='YDb0'
	set aid='YDb1'
	set aid='YDb2'
	set aid='YDb3'
	set aid='YDb4'
	set aid='YDb5'
	set aid='YDb6'
	set aid='YDb7'
	set aid='YDb8'
	set aid='YDb9'
	set aid='YDba'
	set aid='YDbb'
	set aid='YDbc'
	set aid='YDbd'
	set aid='YDbe'
	set aid='YDbg'
	set aid='YDbh'
	set aid='YDbi'
	set aid='YDbj'
	set aid='YDbk'
	set aid='YDbl'
	set aid='YDbm'
	set aid='YDbn'
endfunction
function kv takes nothing returns nothing
 local integer i=0
 local integer m=0
	set P[0]=0
	set P[1]=15
	set P[2]=30
	set P[3]=43
	set P[4]=67
	set Q[0]=15
	set Q[1]=15
	set Q[2]=$D
	set Q[3]=24
	loop
	exitwhen i > 9
		set V[i]=48 + m
		set m=m + 1
		set i=i + 1
	endloop
	set m=0
	loop
	exitwhen i > 26
		set V[i]=97 + m
		set m=m + 1
		set i=i + 1
	endloop
	set i=0
	set m=0
	loop
	exitwhen m > ( Q[0] - 1 )
		set S[i]=1497656368 - 48 + V[m]
		set i=i + 1
		set m=m + 1
	endloop
	set m=0
	loop
	exitwhen m > ( Q[1] - 1 )
		set S[i]=1497656624 - 48 + V[m]
		set i=i + 1
		set m=m + 1
	endloop
	set m=0
	loop
	exitwhen m > ( Q[2] - 1 )
		set S[i]=1497654064 - 48 + V[m]
		set i=i + 1
		set m=m + 1
	endloop
	set m=0
	loop
	exitwhen m > ( Q[3] - 1 )
		set S[i]=1497653808 - 48 + V[m]
		set i=i + 1
		set m=m + 1
	endloop
endfunction
function mv takes nothing returns nothing
 local integer i=1
 local unit u
 local integer n=0
 local integer nv=0
	call kv()
	loop
		set i=1
		set T[nv]=1
		loop
			set T[nv + 1]=T[nv] * 2
			set nv=nv + 1
			set i=i + 1
		exitwhen i == Q[n]
		endloop
		set X[n]=T[nv] - 1
		set Y[n]=- T[nv]
		set nv=nv + 1
		set n=n + 1
	exitwhen n >= 4
	endloop
	if W then
		set u=CreateUnit(Player(15), U, 0, 0, 0)
		set i=0
		loop
		exitwhen i == P[5]
			call UnitAddAbility(u, S[i])
			set i=i + 1
		endloop
		call RemoveUnit(u)
		set u=null
	endif
endfunction
function ov takes player pv returns force
 local force f=CreateForce()
	call ForceAddPlayer(f, pv)
	set Z=f
	set f=null
	return Z
endfunction
function FetchUnitItem takes unit u,integer j returns item
 local integer i=0
	loop
		set d4=UnitItemInSlot(u, i)
		if GetItemTypeId(d4) == j then
			return d4
		endif
		set i=i + 1
	exitwhen i >= 6
	endloop
	return null
endfunction
function YDWEGetUnitsInRectOfPlayerNull takes rect r,player whichPlayer returns group
 local group g= CreateGroup()
	set bj_groupEnumOwningPlayer=whichPlayer
	call GroupEnumUnitsInRect(g, r, filterGetUnitsInRectOfPlayer)
	set yd_NullTempGroup=g
	set g=null
	return yd_NullTempGroup
endfunction
function YDWEGetRandomSubGroupEnumNull takes nothing returns nothing
	if ( bj_randomSubGroupWant > 0 ) then
		if ( bj_randomSubGroupWant >= bj_randomSubGroupTotal ) or ( GetRandomInt(1, bj_randomSubGroupTotal) <= bj_randomSubGroupWant ) then
			// We either need every remaining unit, or the unit passed its chance check.
			call GroupAddUnit(bj_randomSubGroupGroup, GetEnumUnit())
			set bj_randomSubGroupWant=bj_randomSubGroupWant - 1
		endif
	endif
	set bj_randomSubGroupTotal=bj_randomSubGroupTotal - 1
endfunction
function YDWEGetRandomSubGroupNull takes integer count,group sourceGroup returns group
	set bj_randomSubGroupGroup=CreateGroup()
	set bj_randomSubGroupWant=count
	set bj_randomSubGroupTotal=CountUnitsInGroup(sourceGroup)
	if ( bj_randomSubGroupWant <= 0 or bj_randomSubGroupTotal <= 0 ) then
		return bj_randomSubGroupGroup
	endif
	call ForGroup(sourceGroup, function YDWEGetRandomSubGroupEnumNull)
	return bj_randomSubGroupGroup
endfunction
function YDWEGetItemOfTypeFromUnitBJNull takes unit whichUnit,integer itemId returns item
 local integer index= 0
	loop
		set yd_NullTempItem=UnitItemInSlot(whichUnit, index)
		if GetItemTypeId(yd_NullTempItem) == itemId then
			return yd_NullTempItem
		endif
		set index=index + 1
	exitwhen index >= bj_MAX_INVENTORY
	endloop
	return null
endfunction
function YDWETriggerActionUnitRescuedBJNull takes nothing returns nothing
 local unit theUnit= GetTriggerUnit()
	if IsUnitType(theUnit, UNIT_TYPE_STRUCTURE) then
		call RescueUnitBJ(theUnit, GetOwningPlayer(GetRescuer()), bj_rescueChangeColorBldg)
	else
		call RescueUnitBJ(theUnit, GetOwningPlayer(GetRescuer()), bj_rescueChangeColorUnit)
	endif
	set theUnit=null
endfunction
function YDWETryInitRescuableTriggersBJNull takes nothing returns nothing
 local integer index
	if ( bj_rescueUnitBehavior == null ) then
		set bj_rescueUnitBehavior=CreateTrigger()
		set index=0
		loop
			call TriggerRegisterPlayerUnitEvent(bj_rescueUnitBehavior, Player(index), EVENT_PLAYER_UNIT_RESCUED, null)
			set index=index + 1
		exitwhen index == bj_MAX_PLAYER_SLOTS
		endloop
		call TriggerAddAction(bj_rescueUnitBehavior, function YDWETriggerActionUnitRescuedBJNull)
	endif
endfunction
function YDWEInitRescuableBehaviorBJNull takes nothing returns nothing
 local integer index
	set index=0
	loop
		// If at least one player slot is "Rescuable"-controlled, init the
		// rescue behavior triggers.
		if ( GetPlayerController(Player(index)) == MAP_CONTROL_RESCUABLE ) then
			call YDWETryInitRescuableTriggersBJNull()
			return
		endif
		set index=index + 1
	exitwhen index == bj_MAX_PLAYERS
	endloop
endfunction
function wv takes rect r,boolexpr vv returns group
 local group g=CreateGroup()
	call GroupEnumUnitsInRect(g, r, vv)
	call DestroyBoolExpr(vv)
	set e4=g
	set g=null
	return e4
endfunction
function AddPlayerUnitIntoGroup takes player pv,boolexpr vv returns group
 local group g=CreateGroup()
	call GroupEnumUnitsOfPlayer(g, pv, vv)
	call DestroyBoolExpr(vv)
	set e4=g
	set g=null
	return e4
endfunction
function yv takes multiboard mb,integer zv,integer Av,real av,real Bv,real bv,real Cv returns nothing
 local integer cv=0
 local integer Dv=0
 local integer Ev=MultiboardGetRowCount(mb)
 local integer Fv=MultiboardGetColumnCount(mb)
 local multiboarditem Gv=null
	loop
		set cv=cv + 1
	exitwhen cv > Ev
		if ( Av == 0 or Av == cv ) then
			set Dv=0
			loop
				set Dv=Dv + 1
			exitwhen Dv > Fv
				if ( zv == 0 or zv == Dv ) then
					set Gv=MultiboardGetItem(mb, cv - 1, Dv - 1)
					call MultiboardSetItemValueColor(Gv, PercentTo255(av), PercentTo255(Bv), PercentTo255(bv), PercentTo255(100. - Cv))
					call MultiboardReleaseItem(Gv)
				endif
			endloop
		endif
	endloop
	set Gv=null
endfunction
function DuoMianBan takes multiboard mb,integer zv,integer Av,string Iv returns nothing
 local integer cv=0
 local integer Dv=0
 local integer Ev=MultiboardGetRowCount(mb)
 local integer Fv=MultiboardGetColumnCount(mb)
 local multiboarditem Gv=null
	loop
		set cv=cv + 1
	exitwhen cv > Ev
		if ( Av == 0 or Av == cv ) then
			set Dv=0
			loop
				set Dv=Dv + 1
			exitwhen Dv > Fv
				if ( zv == 0 or zv == Dv ) then
					set Gv=MultiboardGetItem(mb, cv - 1, Dv - 1)
					call MultiboardSetItemValue(Gv, Iv)
					call MultiboardReleaseItem(Gv)
				endif
			endloop
		endif
	endloop
	set Gv=null
endfunction
//ç¬¦åˆæ¡ä»¶æ‰§è¡Œg4[i]è§¦å‘
function Lv takes nothing returns nothing
 local integer i=0
	loop
	exitwhen i >= h4
		if g4[i] != null and IsTriggerEnabled(g4[i]) and TriggerEvaluate(g4[i]) then
			call TriggerExecute(g4[i])
		endif
		set i=i + 1
	endloop
endfunction
//å•ä½æ²¡æœ‰è—è™«æŠ€èƒ½ï¼Œåˆ™æ³¨å†Œå•ä½ä¼¤å®³ä¿¡æ¯
function Mv takes nothing returns boolean
	if GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') <= 0 then
		call TriggerRegisterUnitEvent(f4, GetFilterUnit(), EVENT_UNIT_DAMAGED)
	endif
	return false
endfunction
//ä»»æ„å•ä½å—ä¼¤å®³äº‹ä»¶
function Nv takes nothing returns nothing
 local trigger t=CreateTrigger()
 local region r=CreateRegion()
 local group g=CreateGroup()
	call RegionAddRect(r, GetWorldBounds())
	//æ–°è¿›å…¥åœ°å›¾çš„å•ä½å—ä¼¤å®³
	call TriggerRegisterEnterRegion(t, r, Condition(function Mv))
	//åœ°å›¾ä¸Šå·²æœ‰çš„å•ä½å—ä¼¤å®³
	call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function Mv))
	call DestroyGroup(g)
	set r=null
	set t=null
	set g=null
endfunction
function Ov takes trigger Pv returns nothing
	if Pv == null then
		return
	endif
	if h4 == 0 then
		set f4=CreateTrigger()
		call TriggerAddAction(f4, function Lv)
		call Nv()
	endif
	set g4[h4]=Pv
	set h4=h4 + 1
endfunction
function Qv takes nothing returns nothing
 local integer i=0
	if GetIssuedOrderId() >= $D0022 and GetIssuedOrderId() <= $D0027 then
		set i4=GetOrderTargetItem()
		loop
		exitwhen i >= m4
			if k4[i] != null and IsTriggerEnabled(k4[i]) and TriggerEvaluate(k4[i]) then
				call TriggerExecute(k4[i])
			endif
			set i=i + 1
		endloop
	endif
endfunction
function TriggerAddRect takes trigger Sv,rect r returns event
 local region Tv=CreateRegion()
	call RegionAddRect(Tv, r)
	set nn4=Tv
	set Tv=null
	return TriggerRegisterEnterRegion(Sv, nn4, null)
endfunction
function UnitHaveItem takes unit u,integer j returns boolean
 local integer i=0
	if j != 0 then
		loop
			if GetItemTypeId(UnitItemInSlot(u, i)) == j then
				return true
			endif
			set i=i + 1
		exitwhen i >= 6
		endloop
	endif
	return false
endfunction
function Vv takes player pv returns nothing
 local group g=CreateGroup()
	call GroupEnumUnitsOfPlayer(g, pv, null)
	call ForGroup(g, function WakePlayerUnitsEnum)
	call DestroyGroup(g)
	set g=null
endfunction
function CheckX takes real x returns real
 local real E2=GetRectMinX(bj_mapInitialPlayableArea) + 50
	if ( x < E2 ) then
		return E2
	endif
	set E2=GetRectMaxX(bj_mapInitialPlayableArea) - 50
	if ( x > E2 ) then
		return E2
	endif
	return x
endfunction
function CheckY takes real y returns real
 local real E2=GetRectMinY(bj_mapInitialPlayableArea) + 50
	if ( y < E2 ) then
		return E2
	endif
	set E2=GetRectMaxY(bj_mapInitialPlayableArea) - 50
	if ( y > E2 ) then
		return E2
	endif
	return y
	
endfunction
function Wv takes nothing returns nothing
 local integer d=0
 local real x=.0
 local real y=.0
 local integer Xv=0
	loop
	exitwhen ( Xv == Ot )
		set d=Nt[Xv]
		if ( Rt[d] > 0 ) and ( GetUnitState(Pt[d], UNIT_STATE_LIFE) > 0 ) and ( GetUnitState(Qt[d], UNIT_STATE_LIFE) > 0 ) then
			set Tt[d]=Tt[d] + .01
			if ( Tt[d] >= St[d] ) then
				set Xt[d]=Xt[d] + Ut[d]
				set Yt[d]=Yt[d] + Vt[d]
				set Zt[d]=Zt[d] + Wt[d]
				set x=GetUnitX(Pt[d]) + Yt[d] * Cos(Xt[d])
				set y=GetUnitY(Pt[d]) + Yt[d] * Sin(Xt[d])
				set x=( RMinBJ(RMaxBJ(( ( x ) * 1. ), I), H) )
				set y=( RMinBJ(RMaxBJ(( ( y ) * 1. ), J), l) )
				call SetUnitX(Qt[d], CheckX(x))
				call SetUnitY(Qt[d], CheckY(y))
				call SetUnitFlyHeight(Qt[d], Zt[d], .0)
				set Tt[d]=.0
			endif
			set Rt[d]=Rt[d] - .01
		else
			set z=Pt[d]
			call Nu(Qt[d] , $A)
			set Pt[d]=null
			set Qt[d]=null
			call Gu(d)
			set Ot=Ot - 1
			set Nt[Xv]=Nt[Ot]
			set Xv=Xv - 1
		endif
		set Xv=Xv + 1
	endloop
	if ( Ot == 0 ) then
		call PauseTimer(o4)
	endif
endfunction
//è½¬åœˆå‡½æ•°
function Yv takes unit Zv,unit dw,real ew,real fw,real gw,real hw,real iw returns nothing
 local integer d=Eu()
 local real x1=GetUnitX(dw)
 local real y1=GetUnitY(dw)
 local real x2=GetUnitX(Zv)
 local real y2=GetUnitY(Zv)
	set Pt[d]=dw
	set Qt[d]=Zv
	set Rt[d]=hw
	set St[d]=iw
	set Ut[d]=ew * ( 3.14159 / 180. )
	set Vt[d]=fw
	set Wt[d]=gw
	set Xt[d]=Atan2(y2 - y1, x2 - x1)
	set Yt[d]=SquareRoot(( x2 - x1 ) * ( x2 - x1 ) + ( y2 - y1 ) * ( y2 - y1 ))
	set Zt[d]=GetUnitFlyHeight(Qt[d])
	set Nt[Ot]=( d )
	set Ot=Ot + 1
	if ( Ot - 1 == 0 ) then
		call TimerStart(o4, .01, true, function Wv)
	endif
endfunction
function jw takes boolean kw returns nothing
	call SetPlayerState(Player(12), PLAYER_STATE_NO_CREEP_SLEEP, IntegerTertiaryOp(kw, 0, 1))
	if ( not kw ) then
		call Vv(Player(12))
	endif
endfunction
function vw takes unit ww returns nothing
 local integer tm=( LoadInteger(YDHT, StringHash(( I2S(( GetHandleId(( ww )) )) )), StringHash(( "Timer" ))) )
	call FlushChildHashtable(YDHT, StringHash(( I2S(( GetHandleId(( ww )) )) )))
	call FlushChildHashtable(YDHT, StringHash(( I2S(tm) )))
	call DestroyTimer(( LoadTimerHandle(YDHT, StringHash(( I2S(( GetHandleId(( ww )) )) )), StringHash(( "Timer" ))) ))
endfunction
function xw takes nothing returns nothing
 local timer tm=GetExpiredTimer()
 local unit ww=( ( LoadUnitHandle(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "Pet" ))) ) )
 local unit yw=( ( LoadUnitHandle(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "Captain" ))) ) )
 local real x=GetUnitX(yw) - GetUnitX(ww)
 local real y=GetUnitY(yw) - GetUnitY(ww)
 local real d=x * x + y * y
 local real v
 local real a
 local effect e=null
 local real life=( LoadReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "Life" ))) )
 local integer p=( LoadInteger(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "Percent" ))) )
	set v=( LoadReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "GuardRanger" ))) )
	if GetUnitState(ww, UNIT_STATE_LIFE) > 0 and GetUnitState(yw, UNIT_STATE_LIFE) > 0 then
		if d < v * v then
			if ( OrderId2String(GetUnitCurrentOrder(( ww ))) == null ) and GetRandomInt(0, 100) < p then
				set x=GetUnitX(yw)
				set y=GetUnitY(yw)
				set d=GetRandomReal(0, v)
				set a=GetRandomReal(0, 360)
				call IssuePointOrderById(ww, $D0016, x + d * CosBJ(a), y + d * SinBJ(a))
			endif
		else
			set v=( LoadReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "ReturnRanger" ))) )
			if d < v * v then
				if ( OrderId2String(GetUnitCurrentOrder(( ww ))) == null ) then
					call IssuePointOrderById(ww, $D0016, GetUnitX(yw), GetUnitY(yw))
				endif
			else
				set v=( LoadReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "OutRanger" ))) )
				if d != 0 and d > v * v then
					call SetUnitPosition(ww, GetUnitX(yw), GetUnitY(yw))
					set e=AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", yw, "chest")
					call DestroyEffect(e)
				else
					call IssuePointOrderById(ww, $D0012, GetUnitX(yw), GetUnitY(yw))
				endif
			endif
		endif
	else
		call IssuePointOrderById(ww, $D000F, GetUnitX(yw), GetUnitY(yw))
		call vw(ww)
	endif
	set tm=null
	set ww=null
	set yw=null
	set e=null
endfunction
// å•ä½wwè·Ÿéšå•ä½yw
function zw takes unit ww,unit yw,real hw,real Aw,real aw,real Bw,integer bw returns nothing
 local timer tm=CreateTimer()
	call SaveTimerHandle(YDHT, StringHash(( I2S(( GetHandleId(( ww )) )) )), StringHash(( "Timer" )), ( tm ))
	call SaveUnitHandle(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "pet" )), ( ww ))
	call SaveUnitHandle(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "Captain" )), ( yw ))
	call SaveInteger(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "Percent" )), ( bw ))
	call SaveReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "GuardRanger" )), ( ( Aw ) * 1. ))
	call SaveReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "ReturnRanger" )), ( ( aw ) * 1. ))
	call SaveReal(YDHT, StringHash(( I2S(( GetHandleId(( tm )) )) )), StringHash(( "OutRanger" )), ( ( Bw ) * 1. ))
	call TimerStart(tm, hw, true, function xw)
	set tm=null
endfunction
function Cw takes nothing returns integer
 local integer h=s4
	if s4 < 0 then
		if t4 >= 8000 then
			return 8100
		else
			set t4=t4 + 1
			return t4
		endif
	endif
	set s4=u4[h]
	return h
endfunction
function cw takes integer cu returns nothing
	set u4[cu]=s4
	set s4=cu
endfunction
function Dw takes real pw,trigger Ew returns integer
 local integer cu=Cw()
 local integer h=r4
 local integer t=R2I(100. * pw) + p4
 local integer p
	set x4[cu]=Ew
	set w4[cu]=t
	loop
		set p=v4[h]
		if p < 0 or w4[p] >= t then
			set v4[h]=cu
			set v4[cu]=p
			return cu
		endif
		set h=p
	endloop
	return cu
endfunction
function Fw takes nothing returns nothing
	call RemoveUnit(LoadUnitHandle(YDHT, c4, q4))
	call RemoveSavedHandle(YDHT, c4, q4)
endfunction
function Gw takes real pw,unit u returns nothing
	call SaveUnitHandle(YDHT, c4, Dw(pw , y4), u)
endfunction
function Hw takes nothing returns nothing
	call DestroyTimer(LoadTimerHandle(YDHT, c4, q4))
	call RemoveSavedHandle(YDHT, c4, q4)
endfunction
function Iw takes nothing returns nothing
	call RemoveItem(LoadItemHandle(YDHT, c4, q4))
	call RemoveSavedHandle(YDHT, c4, q4)
endfunction
function lw takes nothing returns nothing
	call DestroyEffect(LoadEffectHandle(YDHT, c4, q4))
	call RemoveSavedHandle(YDHT, c4, q4)
endfunction
function Jw takes real pw,effect e returns nothing
	call SaveEffectHandle(YDHT, c4, Dw(pw , a4), e)
endfunction
function Kw takes nothing returns nothing
	call DestroyLightning(LoadLightningHandle(YDHT, c4, q4))
	call RemoveSavedHandle(YDHT, c4, q4)
endfunction
function Lw takes real pw,lightning lt returns nothing
 local integer i=Dw(pw , B4)
	call SaveLightningHandle(YDHT, c4, i, lt)
endfunction
function Mw takes nothing returns nothing
	call TriggerExecute(LoadTriggerHandle(YDHT, c4, q4))
	call RemoveSavedHandle(YDHT, c4, q4)
endfunction
function Nw takes real pw,texttag tt returns nothing
 local integer N=0
 local integer i=0
	if pw <= 0 then
		set pw=.01
	endif
	call SetTextTagPermanent(tt, false)
	call SetTextTagLifespan(tt, pw)
	call SetTextTagFadepoint(tt, pw)
endfunction
function Ow takes nothing returns nothing
 local integer h=r4
 local integer p
	loop
		set q4=v4[h]
	exitwhen q4 < 0 or p4 < w4[q4]
		call TriggerEvaluate(x4[q4])
		call cw(q4)
		set v4[h]=v4[q4]
	endloop
	set p4=p4 + 1
endfunction
function Pw takes nothing returns nothing
	set C4=CreateTimer()
	set c4=GetHandleId(C4)
	set p4=0
	set r4=0
	set v4[0]=- 1
	set s4=1
	set t4=1
	set u4[1]=- 1
	set y4=CreateTrigger()
	set z4=CreateTrigger()
	set A4=CreateTrigger()
	set a4=CreateTrigger()
	set B4=CreateTrigger()
	set b4=CreateTrigger()
	call TriggerAddCondition(y4, Condition(function Fw))
	call TriggerAddCondition(z4, Condition(function Hw))
	call TriggerAddCondition(A4, Condition(function Iw))
	call TriggerAddCondition(a4, Condition(function lw))
	call TriggerAddCondition(B4, Condition(function Kw))
	call TriggerAddCondition(b4, Condition(function Mw))
	call TimerStart(C4, .01, true, function Ow)
endfunction
function Qw takes nothing returns nothing
 local integer Rw=GetHandleId(GetExpiredTimer())
 local trigger Pv=LoadTriggerHandle(YDHT, Rw, $D0001)
	call SaveInteger(YDHT, StringHash(I2S(GetHandleId(Pv))), StringHash("RunIndex"), LoadInteger(YDHT, Rw, $D0002))
	if TriggerEvaluate(Pv) then
		call TriggerExecute(Pv)
	endif
	set Pv=null
endfunction
function Sw takes nothing returns nothing
 local integer Rw=GetHandleId(GetExpiredTimer())
 local trigger Pv=LoadTriggerHandle(YDHT, Rw, $D0001)
 local integer Tw=LoadInteger(YDHT, Rw, $D0003)
	call SaveInteger(YDHT, StringHash(I2S(GetHandleId(Pv))), StringHash("RunIndex"), LoadInteger(YDHT, Rw, $D0002))
	if TriggerEvaluate(Pv) then
		call TriggerExecute(Pv)
	endif
	set Tw=Tw - 1
	if Tw > 0 then
		call SaveInteger(YDHT, Rw, $D0003, Tw)
	else
		call DestroyTimer(GetExpiredTimer())
		call FlushChildHashtable(YDHT, Rw)
	endif
	set Pv=null
endfunction
//0ç§’æ— æ•Œï¼Œç”¨æ¥æŠµæ¶ˆä¼¤å®³
function WuDiQingChu takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
	call SetUnitInvulnerable(u, false)
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function WuDi takes unit u returns nothing
 local timer t= CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call SetUnitInvulnerable(u, true)
	call TimerStart(t, 0, false, function WuDiQingChu)
	set t=null
endfunction
//ä½¿å•ä½æ™•çœ© å…ˆå¤©åŠŸã€é“å¸ƒè¡«
function SetUnitDizzyDoc takes nothing returns nothing
 local timer tm= GetExpiredTimer()
 local integer i= GetHandleId(tm)
 local unit Unit= LoadUnitHandle(YDHT, i, StringHash("unit"))
 local effect Eff= LoadEffectHandle(YDHT, i, StringHash("effect"))
	call DestroyEffect(Eff)
	call PauseUnit(Unit, false)
	call FlushChildHashtable(YDHT, i)
	call PauseTimer(tm)
	call DestroyTimer(tm)
	set tm=null
	set Unit=null
	set Eff=null
endfunction
function SetUnitDizzy takes unit Unit,real Size,string ExFile returns nothing
 local timer tm= CreateTimer()
 local integer i= GetHandleId(tm)
 local location loc=GetUnitLoc(Unit)
	//ä¸æ— æ•Œä¹Ÿä¸é­”å…
	if UnitHasBuffBJ(Unit, 'BHds') == false and IsUnitType(Unit, UNIT_TYPE_MAGIC_IMMUNE) == false then
		call SaveUnitHandle(YDHT, i, StringHash("unit"), Unit)
		call SaveEffectHandle(YDHT, i, StringHash("effect"), AddSpecialEffectTargetUnitBJ("overhead", Unit, ExFile))
		call PauseUnit(Unit, true)
		call CreateTextTagLocBJ("å°ç©´", loc, 0, 12., 65., 55., 42., 0)
		call Nw(Size , bj_lastCreatedTextTag)
		call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
		call TimerStart(tm, Size, false, function SetUnitDizzyDoc)
	endif
	call RemoveLocation(loc)
	set loc=null
	set tm=null
endfunction
//===========================================================================
//ç»å­¦ä¼¤å®³ç³»æ•°
//@id:A06S ä¹é˜³çœŸç»æ•£ç¯‡
//@id:A0DN ä¹é˜³ç¥åŠŸ
function jueXueXiShu takes integer i returns real
	return ( 1. + I2R(juexuelingwu[i]) / 3 ) * ( 1 + 0.4 * GetUnitAbilityLevel(udg_hero[i], 'A06S') * ( 1 + GetUnitAbilityLevel(udg_hero[i], 'A0DN') ) )
endfunction

function ShangHaiGongShi takes unit u,unit uc,real w1,real w2,real shxishu,integer id returns real
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local item it=null
 local integer j=0
 local real shanghai
 local real attack
local real target_def
local real special_def
//local real critical //æš´å‡»å› å­
local real dodge
local real random
local real basic_damage
local real str= I2R(GetHeroStatBJ(0, u, true))
local real agi= I2R(GetHeroStatBJ(1, u, true))
local real int= I2R(GetHeroStatBJ(2, u, true))
if (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) then // INLINED!!
		// ç¥é¾™å¿ƒæ³•åŠ æˆ
		set attack=( 1 + 0.3 * GetUnitAbilityLevel(u, 'A059') ) * 160 * udg_lilianxishu[i] * ( w1 * ( 1 + str / 300 ) * ( 1 + agi / 300 ) + w2 * 0.02 * int ) * ( 1.5 + 0.5 * GetUnitAbilityLevel(u, id) ) * ( udg_shanghaijiacheng[i] + 1. ) * shxishu
		
		// å…»è€æ¨¡å¼
		if udg_yanglao then
			set attack=attack * 30
		endif
		// 9çº§æŠ€èƒ½ä¼¤å®³ä¸ºåŸæ¥çš„3å€
		if GetUnitAbilityLevel(u, id) == 9 then
			set attack=attack * 3
		endif
		// æºå¸¦åå››å¤©ä¹¦ç¥å™¨ï¼ŒåŠ å¼ºæ‰€æœ‰ä¼¤å®³2å€
		if UnitHaveItem(u , 'I0EE') then
			set attack=attack * 3
		endif
		
		//call BJDebugMsg(R2S(attack))
		set j=1
		loop
		exitwhen j >= 7
			if ( GetItemType(UnitItemInSlotBJ(u, j)) == ITEM_TYPE_ARTIFACT ) then
				set it=UnitItemInSlotBJ(u, j)
			endif
			set j=j + 1
		endloop
		//å›å­å‰‘ã€æ·‘å¥³å‰‘
		if UnitHaveItem(u , 'I099') and ( GetUnitTypeId(u) == 'O000' or GetUnitTypeId(u) == 'O001' or GetUnitTypeId(u) == 'O004' or GetUnitTypeId(u) == 'O02J' ) then
			set attack=attack * 1.5
		endif
		if UnitHaveItem(u , 'I09A') and ( GetUnitTypeId(u) == 'O002' or GetUnitTypeId(u) == 'O003' or GetUnitTypeId(u) == 'O023' or GetUnitTypeId(u) == 'O02H' or GetUnitTypeId(u) == 'O02I' ) then
			set attack=attack * 1.5
		endif
	else
		set attack=750 * ( w1 + w2 ) * ( 1. + GetUnitAbilityLevel(u, id) ) * shxishu
		// éš¾6ä»¥ä¸Šæ•Œæ–¹ç”¨å…ˆå¤©åŠŸåŠ è¶…å¤šä¼¤å®³
		// if udg_nandu>=5 and id == 1093682245 then
		// 	set attack = attack * 10
		// endif 
	endif
	
	
	if uc == null then
		set target_def=1
	else
		// æ•Œæ–¹é˜²å¾¡å› å­ = 1/(1+0.1*æ•Œäººç­‰çº§)
		set target_def=1 / ( 1 + 0.1 * GetUnitLevel(uc) )
	endif
	
	// ç‰¹æ®Šé˜²å¾¡
	// å¦‚æœç‰¹æ”»å¤§äºç­‰äº42æˆ–è€…æ•Œæ–¹è™šå¼±
	if special_attack[i] >= 6 * ( 1 + udg_nandu ) or UnitHasBuffBJ(uc, 'B022') then
		// ç‰¹é˜² = 1+(ç‰¹æ”»-42)*0.06ï¼Œå’Œ1æ¯”å–å¤§å€¼
		set special_def=RMaxBJ(1 + ( special_attack[i] - 6 * ( 1 + udg_nandu ) ) * 0.06, 1)
	else
		// ç‰¹é˜² = 1/(1+0.06*(42 - ç‰¹æ”»))
		set special_def=1 / ( 1 + 0.06 * ( ( 1 + udg_nandu ) * 6 - special_attack[i] ) )
	endif
	
	
	//set critical = udg_baojishanghai[1+GetPlayerId(GetOwningPlayer(u))]
	if uc == null then
		set dodge=25
	else
		set dodge=RMinBJ(I2R(GetUnitLevel(uc)) / 5, 95.)
		if UnitHasBuffBJ(uc, 'Bslo') then
			set dodge=0.
		endif
	endif
	// éšæœºå› å­ = 0.95åˆ°0.95+(bæ€§æ ¼/20)å–éšæœºæ•°
	set random=GetRandomReal(0.95, 0.95 + I2R(udg_xinggeB[i]) / 20)
	// ä¼¤å®³ = æ”»å‡»å› å­ * æ•Œæ–¹é˜²å¾¡å› å­ * éšæœºå› å­ * ç‰¹é˜²
	set basic_damage=attack * target_def * random * special_def
	
	// æ— å°½BOSSæˆ˜æ¨¡å¼ç¬¬Nä¸ªBOSS
	if uc == udg_boss[7] and tiaoZhanIndex == 3 then
		set basic_damage=basic_damage / Pow(10, endless_count)
	endif
	
	// å…ˆå¤©åŠŸä¸ä¼šmiss
	if GetUnitAbilityLevel(u, 'A0CH') >= 1 then
		set dodge=0
	endif
	
	if GetRandomReal(0, 100) < dodge then
		set shanghai=0
	else
		set shanghai=basic_damage
	endif
	
	set p=null
	set it=null
	call SaveReal(YDHT, 1 + GetPlayerId(GetOwningPlayer(u)), id * 3, basic_damage)
	return shanghai
endfunction
function WuGongShangHai takes unit u,unit uc,real shanghai returns nothing
	if shanghai == 0 then
		call CreateTextTagUnitBJ("MISS", uc, 0., 11., 255., 0., 0., 30.)
	else
		if GetRandomReal(0., 100.) <= 100. * udg_baojilv[1 + GetPlayerId(GetOwningPlayer(u))] then
			call UnitDamageTarget(u, uc, udg_baojishanghai[1 + GetPlayerId(GetOwningPlayer(u))] * shanghai, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
			call CreateTextTagUnitBJ(I2S(R2I(shanghai)), uc, .0, 14., 100., 100., .0, 30.)
		else
			call UnitDamageTarget(u, uc, shanghai, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
			call CreateTextTagUnitBJ(I2S(R2I(shanghai)), uc, .0, 11., 100., 100., 100., 30.)
		endif
	endif
	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 400., ( GetRandomReal(80., 100.) ))
	call Nw(.65 , bj_lastCreatedTextTag)
endfunction
function createPartnerAndTownPortalDummy takes integer i,location loc returns nothing
 local player p= Player(i - 1)
	call CreateNUnitsAtLoc(1, 'nvul', p, loc, bj_UNIT_FACING)
	set P4[i]=bj_lastCreatedUnit
	call CreateNUnitsAtLoc(1, 'O02W', p, loc, bj_UNIT_FACING)
	call SuspendHeroXP(bj_lastCreatedUnit, true)
	call CreateNUnitsAtLoc(1, 'O02X', p, loc, bj_UNIT_FACING)
	call SuspendHeroXP(bj_lastCreatedUnit, true)
	call CreateNUnitsAtLoc(1, 'O02Y', p, loc, bj_UNIT_FACING)
	call SuspendHeroXP(bj_lastCreatedUnit, true)
	call SetPlayerMaxHeroesAllowed(0, p)
	set p=null
endfunction

function addAllAttrs takes integer i,integer num returns nothing
	set gengu[i]=gengu[i] + num
	set danpo[i]=danpo[i] + num
	set jingmai[i]=jingmai[i] + num
	set wuxing[i]=wuxing[i] + num
	set yishu[i]=yishu[i] + num
	set fuyuan[i]=fuyuan[i] + num
endfunction

function jianShuXingDian takes integer i,integer last_i returns nothing
	if last_i == 11 then
		set udg_shuxing[i]=udg_shuxing[i] - 5
	elseif last_i == 14 then
		set wuxing[i]=( wuxing[i] - 3 )
		set jingmai[i]=( jingmai[i] - 2 )
		set fuyuan[i]=( fuyuan[i] - 2 )
	elseif last_i == 16 then
		set gengu[i]=gengu[i] - 2
		set fuyuan[i]=fuyuan[i] - 2
		set danpo[i]=danpo[i] - 1
	elseif last_i == 17 then
		set gengu[i]=gengu[i] - 2
		set fuyuan[i]=fuyuan[i] - 2
		set danpo[i]=danpo[i] - 1
	elseif last_i == 18 then
		set gengu[i]=gengu[i] - 3
		set wuxing[i]=wuxing[i] - 1
		set yishu[i]=yishu[i] - 1
	elseif last_i == 12 then
		set danpo[i]=( danpo[i] - 2 )
		set jingmai[i]=( jingmai[i] - 2 )
		set fuyuan[i]=( fuyuan[i] - 1 )
	elseif last_i == 13 then
		set udg_shuxing[i]=udg_shuxing[i] - 5
	elseif last_i == 1 then
		set gengu[i]=( gengu[i] - 3 )
		set jingmai[i]=( jingmai[i] - 2 )
	elseif last_i == 3 then
		set danpo[i]=( danpo[i] - 3 )
		set jingmai[i]=( jingmai[i] - 2 )
	elseif last_i == 4 then
		set wuxing[i]=( wuxing[i] - 3 )
		set danpo[i]=( danpo[i] - 2 )
	elseif last_i == 5 then
		set jingmai[i]=( jingmai[i] - 3 )
		set fuyuan[i]=( fuyuan[i] - 2 )
	elseif last_i == 6 then
		set gengu[i]=( gengu[i] - 2 )
		set danpo[i]=( danpo[i] - 3 )
	elseif last_i == 7 then
		set yishu[i]=( yishu[i] - 3 )
		set fuyuan[i]=( fuyuan[i] - 2 )
	elseif last_i == 8 then
		set yishu[i]=( yishu[i] - 1 )
		set jingmai[i]=( jingmai[i] - 1 )
		set fuyuan[i]=( fuyuan[i] - 3 )
	elseif last_i == 10 then
		set danpo[i]=( danpo[i] - 2 )
		set yishu[i]=( yishu[i] - 1 )
		set jingmai[i]=( jingmai[i] - 2 )
	elseif last_i == 9 then
		set gengu[i]=( gengu[i] - 1 )
		set jingmai[i]=( jingmai[i] - 2 )
		set fuyuan[i]=( fuyuan[i] - 2 )
	elseif last_i == 2 then
		set wuxing[i]=( wuxing[i] - 2 )
		set jingmai[i]=( jingmai[i] - 1 )
		set fuyuan[i]=( fuyuan[i] - 2 )
	elseif last_i == 15 then
		set wuxing[i]=( wuxing[i] - 3 )
		set yishu[i]=( yishu[i] - 2 )
	elseif last_i == 19 then
		set gengu[i]=gengu[i] - 3
		set danpo[i]=danpo[i] - 2
	elseif last_i == 20 then
		set wuxing[i]=wuxing[i] - 3
		set fuyuan[i]=fuyuan[i] - 2
	elseif last_i == 21 then
		call addAllAttrs(i , - 1)
	endif
endfunction

function randomMenpai takes player p,integer status returns nothing
 local integer i=GetPlayerId(p) + 1
 local integer last_i= 0
	// ä¿å­˜ä¸Šä¸€ä¸ªé—¨æ´¾id
	set last_i=udg_runamen[i]
	
	//
	set udg_runamen[i]=GetRandomInt(1, DENOMINATION_NUMBER)
	if udg_runamen[i] == 11 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“è‡ªç”±é—¨æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“è‡ªç”±é—¨æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		call AdjustPlayerStateBJ(60, p, PLAYER_STATE_RESOURCE_LUMBER)
		set udg_shuxing[i]=udg_shuxing[i] + 5
	elseif udg_runamen[i] == 14 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“æ˜æ•™ã€“|r")
		call SetPlayerName(p, "ã€“æ˜æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set wuxing[i]=( wuxing[i] + 3 )
		set jingmai[i]=( jingmai[i] + 2 )
		set fuyuan[i]=( fuyuan[i] + 2 )
	elseif udg_runamen[i] == 16 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“ç¥é¾™æ•™-è‹±é›„ä¸‰æ‹›ã€“|r")
		call SetPlayerName(p, "ã€“ç¥é¾™æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set gengu[i]=gengu[i] + 2
		set fuyuan[i]=fuyuan[i] + 2
		set danpo[i]=danpo[i] + 1
	elseif udg_runamen[i] == 17 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“ç¥é¾™æ•™-ç¾äººä¸‰æ‹›ã€“|r")
		call SetPlayerName(p, "ã€“ç¥é¾™æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set gengu[i]=gengu[i] + 2
		set fuyuan[i]=fuyuan[i] + 2
		set danpo[i]=danpo[i] + 1
	elseif udg_runamen[i] == 18 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“æ³°å±±æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“æ³°å±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set gengu[i]=gengu[i] + 3
		set wuxing[i]=wuxing[i] + 1
		set yishu[i]=yishu[i] + 1
	elseif udg_runamen[i] == 12 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“çµé¹«å®«ã€“|r")
		call SetPlayerName(p, "ã€“çµé¹«å®«ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set danpo[i]=( danpo[i] + 2 )
		set jingmai[i]=( jingmai[i] + 2 )
		set fuyuan[i]=( fuyuan[i] + 1 )
	elseif udg_runamen[i] == 13 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“å§‘è‹æ…•å®¹ã€“|r")
		call SetPlayerName(p, "ã€“å§‘è‹æ…•å®¹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set udg_shuxing[i]=udg_shuxing[i] + 5
	elseif udg_runamen[i] == 1 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“å°‘æ—æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“å°‘æ—æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set gengu[i]=( gengu[i] + 3 )
		set jingmai[i]=( jingmai[i] + 2 )
	elseif udg_runamen[i] == 3 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“ä¸å¸®ã€“|r")
		call SetPlayerName(p, "ã€“ä¸å¸®ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set danpo[i]=( danpo[i] + 3 )
		set jingmai[i]=( jingmai[i] + 2 )
	elseif udg_runamen[i] == 4 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“åå±±æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“åå±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set wuxing[i]=( wuxing[i] + 3 )
		set danpo[i]=( danpo[i] + 2 )
	elseif udg_runamen[i] == 5 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“å…¨çœŸæ•™ã€“|r")
		call SetPlayerName(p, "ã€“å…¨çœŸæ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set jingmai[i]=( jingmai[i] + 3 )
		set fuyuan[i]=( fuyuan[i] + 2 )
	elseif udg_runamen[i] == 6 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“è¡€åˆ€é—¨ã€“|r")
		call SetPlayerName(p, "ã€“è¡€åˆ€é—¨ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set gengu[i]=( gengu[i] + 2 )
		set danpo[i]=( danpo[i] + 3 )
	elseif udg_runamen[i] == 7 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“æ’å±±æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“æ’å±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set yishu[i]=( yishu[i] + 3 )
		set fuyuan[i]=( fuyuan[i] + 2 )
	elseif udg_runamen[i] == 8 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“å³¨çœ‰æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“å³¨çœ‰æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set yishu[i]=( yishu[i] + 1 )
		set jingmai[i]=( jingmai[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 3 )
	elseif udg_runamen[i] == 10 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“æ˜Ÿå®¿æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“æ˜Ÿå®¿æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set danpo[i]=( danpo[i] + 2 )
		set yishu[i]=( yishu[i] + 1 )
		set jingmai[i]=( jingmai[i] + 2 )
	elseif udg_runamen[i] == 9 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“æ­¦å½“æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“æ­¦å½“æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set gengu[i]=( gengu[i] + 1 )
		set jingmai[i]=( jingmai[i] + 2 )
		set fuyuan[i]=( fuyuan[i] + 2 )
	elseif udg_runamen[i] == 2 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“å¤å¢“æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“å¤å¢“æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set wuxing[i]=( wuxing[i] + 2 )
		set jingmai[i]=( jingmai[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 2 )
	elseif udg_runamen[i] == 15 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“è¡¡å±±æ´¾ã€“|r")
		call SetPlayerName(p, "ã€“è¡¡å±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set wuxing[i]=( wuxing[i] + 3 )
		set yishu[i]=( yishu[i] + 2 )
	elseif udg_runamen[i] == 19 then
		set gengu[i]=gengu[i] + 3
		set danpo[i]=danpo[i] + 2
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“é“æŒå¸®ã€“|r")
		call SetPlayerName(p, "ã€“é“æŒå¸®ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
	elseif udg_runamen[i] == 20 then
		set wuxing[i]=wuxing[i] + 3
		set fuyuan[i]=fuyuan[i] + 2
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“å”é—¨ã€“|r")
		call SetPlayerName(p, "ã€“å”é—¨ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
	elseif udg_runamen[i] == 21 then
		call addAllAttrs(i , 1)
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“äº”æ¯’æ•™ã€“|r")
		call SetPlayerName(p, "ã€“äº”æ¯’æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
	elseif udg_runamen[i] == 22 then
		call addAllAttrs(i , 1)
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "éšæœºé€‰æ‹©äº†ã€“æ¡ƒèŠ±å²›ã€“|r")
		call SetPlayerName(p, "ã€“æ¡ƒèŠ±å²›ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		call SaveInteger(YDHT, GetHandleId(udg_hero[i]), BI_BO_POINT, 20)
		if Player(i - 1) == GetLocalPlayer() then
			call s__Frame_show(bibo_image)
		endif
	endif
	if status == 1 then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFF00FFFFæç¤ºï¼š|rè¯·åœ¨NPC|CFF00EE00éƒ­é–|rå¤„é€‰æ‹©å‰¯èŒ")
		call PingMinimapForPlayer(p, - 2075, - 312, 3)
		call UnitAddAbility(udg_hero[i], 'A05R')
		call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
		call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
		if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
			call UnitAddAbility(udg_hero[i], 'A040')
			call UnitAddAbility(udg_hero[i], 'A041')
			call UnitAddAbility(udg_hero[i], 'A042')
		endif
		set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
		call UnitRemoveAbility(udg_hero[i], 'Avul')
		set Q4=GetRandomLocInRect(He)
		call SetUnitPositionLoc(udg_hero[i], Q4)
		call PanCameraToTimedLocForPlayer(p, Q4, 0)
		call createPartnerAndTownPortalDummy(i , Q4)
		call AdjustPlayerStateBJ(50, p, PLAYER_STATE_RESOURCE_LUMBER)
		call RemoveLocation(Q4)
		call UnitAddItemByIdSwapped(1227896394, udg_hero[i])
	endif
	// æ‰£é™¤åŸæ¥çš„å±æ€§
	if status == 2 then
		call jianShuXingDian(i , last_i)
	endif
endfunction
//å‡»é€€ç³»ç»Ÿ
function knock_back_condition takes nothing returns boolean
 local unit u=LoadUnitHandle(YDHT, StringHash("å‡»é€€"), 0)
 local real shanghai=LoadReal(YDHT, StringHash("å‡»é€€"), 1)
 local unit uc=GetFilterUnit()
	if IsUnitEnemy(uc, GetOwningPlayer(u)) then
		//call DisplayTextToPlayer(GetOwningPlayer(u),0,0,R2S(shanghai))
		//call WuGongShangHai(u,uc,shanghai)
	endif
	set uc=null
	set u=null
	call FlushChildHashtable(YDHT, StringHash("å‡»é€€"))
	return false
endfunction
function knock_back_on_timer takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer p= GetHandleId(t)
 local unit u= LoadUnitHandle(YDHT, p, 0)
 local integer step= LoadInteger(YDHT, p, 1) + 1
 local real shanghai=LoadReal(YDHT, p, 6)
 local group g=CreateGroup()
	//call  DisplayTextToPlayer(GetOwningPlayer(u),0,0,R2S(shanghai))
	call SaveInteger(YDHT, p, 1, step)
	if IsTerrainPathable(GetUnitX(u) + LoadReal(YDHT, p, 3), GetUnitY(u) + LoadReal(YDHT, p, 4), PATHING_TYPE_WALKABILITY) == false then
		call SetUnitX(u, CheckX(GetUnitX(u) + LoadReal(YDHT, p, 3)))
		call SetUnitY(u, CheckY(GetUnitY(u) + LoadReal(YDHT, p, 4)))
		call DestroyEffect(AddSpecialEffect(LoadStr(YDHT, p, 5), GetUnitX(u), GetUnitY(u)))
	endif
	call SaveUnitHandle(YDHT, StringHash("å‡»é€€"), 0, u)
	call SaveReal(YDHT, StringHash("å‡»é€€"), 1, shanghai)
	call GroupEnumUnitsInRange(g, CheckX(GetUnitX(u)), CheckY(GetUnitY(u)), 500, Condition(function knock_back_condition))
	if ( step >= LoadInteger(YDHT, p, 2) ) then
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, p)
	endif
	call GroupClear(g)
	call DestroyGroup(g)
	set g=null
	set u=null
	set t=null
endfunction
//å‡»é€€å‡½æ•°
function knock_back takes unit u,real angle,real dist,real time,real period,string model,real shanghai returns nothing
 local timer t= CreateTimer()
 local integer p= GetHandleId(t)
 local integer m= R2I(time / period)
	set dist=dist / m //  å•æ¬¡ä½ç§»è·ç¦»
call SaveUnitHandle(YDHT, p, 0, u) //  å­˜å‚¨è¢«å‡»é€€å•ä½
call SaveInteger(YDHT, p, 1, 0) //  å­˜å‚¨å¾ªç¯è®¡æ•°
call SaveInteger(YDHT, p, 2, m) //  å­˜å‚¨æ¬¡æ•°
call SaveReal(YDHT, p, 3, dist * Cos(angle)) //  å­˜å‚¨xè½´é€Ÿåº¦åˆ†é‡
call SaveReal(YDHT, p, 4, dist * Sin(angle)) //  å­˜å‚¨yè½´é€Ÿåº¦åˆ†é‡
call SaveStr(YDHT, p, 5, model)
	call SaveReal(YDHT, p, 6, shanghai) //å­˜å‚¨ä¼¤å®³
call TimerStart(t, period, true, function knock_back_on_timer)
	set t=null
endfunction
function IsCertainWuGong takes unit u,unit uc,integer id returns boolean
	return ( GetRandomReal(0., 100) < 15 + fuyuan[1 + GetPlayerId(GetOwningPlayer(u))] / 5 ) and ( GetUnitAbilityLevel(u, id) >= 1 ) and ( IsUnitEnemy(uc, GetOwningPlayer(u)) )
endfunction
//BOSS AIæ”¾æŠ€èƒ½
function IsUnitBoss takes nothing returns boolean
	return ( ( GetUnitPointValue(GetTriggerUnit()) == 101 ) )
endfunction
function BossFangJiNeng takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEventDamageSource()
 local real x= GetUnitX(uc)
 local real y= GetUnitY(uc)
	if GetRandomInt(1, 100) < 50 then
		if ( GetUnitTypeId(GetTriggerUnit()) == u7[1] ) then
			call IssuePointOrderById(u, $D0278, x, y)
		elseif ( GetUnitTypeId(GetTriggerUnit()) == u7[2] ) then
			if GetRandomInt(1, 3) == 1 then
				call IssueTargetOrderById(u, $D0278, uc)
			elseif GetRandomInt(1, 2) == 1 then
				call IssueImmediateOrderById(u, $D00D1)
			else
				call IssueImmediateOrderById(u, $D00D2)
			endif
		elseif ( GetUnitTypeId(GetTriggerUnit()) == u7[3] ) then
			call IssuePointOrderById(u, $D0278, x, y)
		elseif ( GetUnitTypeId(GetTriggerUnit()) == u7[4] ) then
			call IssuePointOrderById(u, $D0278, x, y)
		elseif ( GetUnitTypeId(GetTriggerUnit()) == u7[5] ) then
			call IssueTargetOrder(u, "chemicalrage", u)
		elseif ( GetUnitTypeId(GetTriggerUnit()) == u7[6] ) then
			call IssueTargetOrder(u, "devour", u)
		endif
	endif
	set u=null
	set uc=null
endfunction
//å°è£…CreateTimerDialogæ–¹æ³•å¹¶ä½¿å¯¹è¯æ¡†è‡ªåŠ¨æ˜¾ç¤º
function createTimerDialog takes timer t,string title returns timerdialog
	call CreateTimerDialogBJ(t, title)
	call TimerDialogDisplay(bj_lastCreatedTimerDialog, true)
	return bj_lastCreatedTimerDialog
endfunction

function maJiaUseAbilityAtEnemysLoc takes unit owner,integer unitId,integer abilityId,integer orderId,unit target,real lifeTime returns nothing
 local location loc= GetUnitLoc(target)
	call CreateNUnitsAtLoc(1, unitId, GetOwningPlayer(owner), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, abilityId)
	call IssueTargetOrderById(bj_lastCreatedUnit, orderId, target)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', lifeTime)
	call RemoveLocation(loc)
	set loc=null
endfunction

function maJiaUseLeveldAbilityAtTargetLoc takes unit owner,integer unitId,integer abilityId,integer ablilityLevel,integer orderId,unit target,real lifeTime returns nothing
 local location loc= GetUnitLoc(target)
	call CreateNUnitsAtLoc(1, unitId, GetOwningPlayer(owner), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, abilityId)
	call SetUnitAbilityLevel(bj_lastCreatedUnit, abilityId, ablilityLevel)
	call IssueTargetOrderById(bj_lastCreatedUnit, orderId, target)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', lifeTime)
	call RemoveLocation(loc)
	set loc=null
endfunction

function PassiveWuGongCondition takes unit playerControllingUnit,unit enemy,integer abilityId returns boolean
	return GetUnitAbilityLevel(playerControllingUnit, abilityId) >= 1 and IsUnitEnemy(enemy, GetOwningPlayer(playerControllingUnit))
endfunction

function DamageFilter takes unit playerControllingUnit,unit filtered returns boolean
	return IsUnitAliveBJ(filtered) and IsUnitEnemy(filtered, GetOwningPlayer(playerControllingUnit))
endfunction
// æ˜¯å¦ä¸ºè¿›æ”»è€…çš„æ•Œäºº
function isAttackerEnemy takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
// æ˜¯å¦ä¸ºè§¦å‘å•ä½çš„æ•Œäºº
function isTriggerEnemy takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitAliveBJ(GetFilterUnit())
endfunction

function DamageCoefficientByAbility takes unit u,integer abilityId,real coefficient returns real
	if ( GetUnitAbilityLevel(u, abilityId) >= 1 ) then
		return coefficient
	endif
	return 0.0
endfunction

function DamageCoefficientByItem takes unit u,integer itemId,real coefficient returns real
	if ( UnitHaveItem(u , itemId) ) then
		return coefficient
	endif
	return 0.0
endfunction

function PassiveWuGongEffectAndDamage takes unit playerControllingUnit,unit enemy,string modelName,real w1,real w2,real damageCoefficient,integer abilityId returns nothing
 local location loc= GetUnitLoc(enemy)
	call DestroyEffect(AddSpecialEffectLoc(modelName, loc))
	call WuGongShangHai(playerControllingUnit , enemy , ShangHaiGongShi(playerControllingUnit , enemy , w1 , w2 , damageCoefficient , abilityId))
	call RemoveLocation(loc)
	set loc=null
endfunction

function FontFloat takes string s,location loc,real zoffset,real size,real red,real green,real blue,real transparency,real time returns nothing
	call CreateTextTagLocBJ(s, loc, zoffset, size, red, green, blue, transparency)
	call Nw(time , bj_lastCreatedTextTag)
	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
endfunction

function clearTimer takes timer tm returns nothing
	call FlushChildHashtable(YDHT, GetHandleId(tm))
	call PauseTimer(tm)
	call DestroyTimer(tm)
endfunction
// mod 1-å¢åŠ  2-è®¾ç½®
// ch å¢åŠ æ•°é‡
// id ç”Ÿå‘½å€¼ä¿®æ”¹çš„æŠ€èƒ½
function LifeChange takes unit u,integer mod,integer ch,integer id returns nothing
 local integer a
 local integer b
 local integer c
 local integer d
 local integer aid= id
	
	if mod == 1 then
		set ch=- ch
	elseif mod == 2 then
		set ch=ch - R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE))
	endif
	//set YDWEADDBONUS_LIFE=YDWEADDBONUS_LIFE+ch
	if ch > 999999999 then
		set ch=999999999
	endif
	if ch < - 999999999 then
		set ch=- 999999999
	endif
	if ch < 0 then
		set a=2
		set ch=- ch
	else
		set a=12
	endif
	set b=0
	loop
	exitwhen b == 10
		set c=ch - ch / 10 * 10
		set d=0
		loop
		exitwhen d == c
			call UnitAddAbility(u, aid)
			call SetUnitAbilityLevel(u, aid, a)
			call UnitRemoveAbility(u, aid)
			set d=d + 1
		endloop
		set ch=ch / 10
		set a=a + 1
		set b=b + 1
	endloop
	
endfunction
// ç™¾åˆ†æ¯”ä¼¤å®³
function percentDamage takes unit uc,real percent,boolean max returns nothing
	// æ— å°½BOSSæ¨¡å¼ä¸‹ï¼Œç™¾åˆ†æ¯”ä¼¤å®³å¤±æ•ˆ
	if uc == udg_boss[7] and tiaoZhanIndex == 3 then
		return
	endif
	if max then
		if GetUnitState(uc, UNIT_STATE_LIFE) <= percent / 100 * GetUnitState(uc, UNIT_STATE_MAX_LIFE) then
			call WuDi(uc)
			call SetWidgetLife(uc, 1.)
		else
			call SetWidgetLife(uc, GetUnitState(uc, UNIT_STATE_LIFE) - percent / 100 * GetUnitState(uc, UNIT_STATE_MAX_LIFE))
		endif
	else
		call SetWidgetLife(uc, GetWidgetLife(uc) * ( 100 - percent ) / 100)
	endif
endfunction
// æ­¦åŠŸå‡é‡ç³»ç»Ÿ
function isTitle takes integer i,integer title returns boolean
    if title <= 30 then
        return YDWEBitwise_AND(title0[i] , ((1 ) * YDWEBitwise__C2[( title - 1)])) != 0 // INLINED!!
    else
        return YDWEBitwise_AND(title1[i] , ((1 ) * YDWEBitwise__C2[( title - 31)])) != 0 // INLINED!!
    endif
endfunction

function setTitleNumber takes integer i,integer title returns nothing
    if title <= 30 then
        set title0[i]=YDWEBitwise_OR(title0[i] , ((1 ) * YDWEBitwise__C2[( title - 1)])) // INLINED!!
    else
        set title1[i]=YDWEBitwise_OR(title1[i] , ((1 ) * YDWEBitwise__C2[( title - 31)])) // INLINED!!
    endif
endfunction
function isChief takes integer i,integer denomination returns boolean
    return YDWEBitwise_AND(chief[i] , ((1 ) * YDWEBitwise__C2[( denomination - 1)])) != 0 // INLINED!!
endfunction

function setChiefNumber takes integer i,integer denomination returns nothing
    set chief[i]=YDWEBitwise_OR(chief[i] , ((1 ) * YDWEBitwise__C2[( denomination - 1)])) // INLINED!!
endfunction
function QiJueCoefficient takes unit u returns integer
	// æ˜¯å¦æ¿€æ´»ä¹é˜³çœŸç»æ®‹å·
 local integer jyd= JYd[1 + GetPlayerId(GetOwningPlayer(u))]
	// æ˜¯å¦æœ‰ç‹è¯­å«£ç§°å·
 local boolean wyy= isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 44)
	// ä¹é˜³æ®‹å·ã€ä¸ƒç»ã€ç‹è¯­å«£400%å‡é‡
	if ( UnitHaveItem(u , 'I01J') or UnitHaveItem(u , 'I0DB') ) and jyd == 1 and wyy then
		return 8
	endif
	// ä¹é˜³æ®‹å·ã€ç‹è¯­å«£300%å‡é‡
	if jyd == 1 and wyy then
		return 6
	endif
	// ä¹é˜³æ®‹å·å’Œä¸ƒç»200%å‡é‡ï¼Œç‹è¯­å«£å’Œä¸ƒç»200%å‡é‡
	if ( UnitHaveItem(u , 'I01J') or UnitHaveItem(u , 'I0DB') ) and ( jyd == 1 or wyy ) then
		return 4
	endif
	// ä¹é˜³æ®‹å·100%å‡é‡ï¼Œç‹è¯­å«£100%å‡é‡
	if jyd == 1 or wyy then
		return 2
	endif
	// ä¸ƒç»æˆ–æ–°æ‰‹ç¥å™¨50%å‡é‡
	if UnitHaveItem(u , 'I01J') or UnitHaveItem(u , 'I0DB') or jyd == 1 then
		return 1
	endif
	return 0
endfunction
function IncAbilityAndItemCharge takes unit u,integer id returns nothing
    local integer i=0
    call IncUnitAbilityLevel(u, id)
    loop
        exitwhen i >= 6
        if GetItemTypeId(UnitItemInSlot(u, i)) == ITEM_HAN_SHA then
            call SetItemCharges(UnitItemInSlot(u, i), GetItemCharges(UnitItemInSlot(u, i)) + 1)
        endif
        set i=i + 1
    endloop
endfunction
function kungfuLevelUp takes unit u,integer id,real r returns nothing
    local integer level=GetUnitAbilityLevel(u, id)
    local player p=GetOwningPlayer(u)
    local integer i=1 + GetPlayerId(p)
    local integer jingyan= 0
    if level > 0 and level < 7 then
    		set jingyan=( 3 + udg_xinggeA[i] ) * ( wuxing[i] + 5 + GetRandomInt(0, R2I(r / 60)) ) * ( 4 + 2 * udg_jwjs[i] ) * ( 2 + QiJueCoefficient(u) ) / 40
    		// æ…•å®¹å®¶è®­
    		if UnitHasBuffBJ(u, 'B010') then
    		    set jingyan=( 3 + udg_xinggeA[i] ) * ( wuxing[i] + 5 + GetRandomInt(0, R2I(r / 60)) ) * ( 5 + GetUnitAbilityLevel(u, 'A02V') / 2 + 2 * udg_jwjs[i] ) * ( 2 + QiJueCoefficient(u) ) / 40
    		endif
    		// å¤©èµ‹ï¼šå¤©çºµå¥‡æ‰ å¢åŠ å‡é‡é€Ÿåº¦
    		if UnitHasBuffBJ(u, 'B01O') then
    		    set jingyan=R2I(jingyan * ( 1.5 + bigTalent[i] * 0.5 ))
    		endif
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id, LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id) + jingyan)
    		call SaveStr(YDHT, GetHandleId(GetOwningPlayer(u)), id * 2, I2S(LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id)) + "/" + I2S(R2I(r * level)))
    		if LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id) > R2I(r) * level then
    		    call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id, 0)
    		    call IncAbilityAndItemCharge(u , id)
    		    call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id * 5, GetUnitAbilityLevel(u, id))
                call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "é¢†æ‚Ÿäº†æ­¦åŠŸï¼š" + GetObjectName(id) + "ç¬¬" + I2S(level + 1) + "é‡")
    			if id == 'A0DP' then // å½’å…ƒåçº³åŠŸ
set fuyuan[i]=fuyuan[i] + 2
    				set gengu[i]=gengu[i] + 2
    				set wuxing[i]=wuxing[i] + 2
    				set jingmai[i]=jingmai[i] + 2
    				set danpo[i]=danpo[i] + 2
    				set yishu[i]=yishu[i] + 2
    			endif
            endif
        elseif level > 0 and level < 9 then
            if ( GetRandomReal(1., r * I2R(level)) <= I2R(wuxing[i]) / 2 * ( 1 + 0.6 * udg_jwjs[i] ) ) or ( ( UnitHasBuffBJ(u, 'B010') or UnitHasBuffBJ(u, 'B01O') ) and GetRandomReal(1., r * I2R(level)) <= I2R(wuxing[i]) / 2 * ( 2 + 0.3 * GetUnitAbilityLevel(u, 'A02V') + 0.6 * udg_jwjs[i] ) ) then
           		if id != 'A07W' then
    	        	call IncAbilityAndItemCharge(u , id)
    	        	call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id * 5, GetUnitAbilityLevel(u, id))
                	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "é¢†æ‚Ÿäº†æ­¦åŠŸï¼š" + GetObjectName(id) + "ç¬¬" + I2S(level + 1) + "é‡")
                	if level + 1 == 9 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
    					set wuxuedian[i]=wuxuedian[i] + 2
    					call DisplayTextToPlayer(p, 0, 0, "|cff66ff00ç²¾æ­¦å¸ˆæœ‰æŠ€èƒ½å‡çº§åˆ°ä¹é‡ï¼Œè·å¾—ä¸¤ä¸ªè‡ªåˆ›æ­¦å­¦ç‚¹")
    					if ( udg_jwjs[i] <= 2 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
    						set udg_jwjs[i]=udg_jwjs[i] + 1
    						call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨ç»ƒæˆç¬¬" + I2S(udg_jwjs[i]) + "ä¸ªä¹é‡æ­¦åŠŸï¼Œç»ƒæˆ3ä¸ªå¯è·å¾—å®—å¸ˆå“¦")
    					endif
    					if ( udg_jwjs[i] == 3 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
    						call Deputy_setMaster(i , JING_WU)
    						// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p), "ã€“ç²¾æ­¦å®—å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
    						call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—ç²¾æ­¦å®—å¸ˆ")
    						call SetPlayerName(p, "ã€“ç²¾æ­¦å®—å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
    					endif
    				endif
            	endif
            else
                if udg_xinggeB[i] >= 4 or UnitHaveItem(u , 'I01J') or UnitHaveItem(u , 'I0DB') or JYd[i] == 1 then
    	            if id != 'A07W' then
    	            	if UnitHasBuffBJ(u, 'B010') then
    	            	    set jingyan=LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id) + ( 3 + udg_xinggeA[i] ) * ( wuxing[i] + 5 + GetRandomInt(0, R2I(r / 60)) ) * ( 2 + QiJueCoefficient(u) ) / 20 * ( 2 + GetUnitAbilityLevel(u, 'A02V') / 4 + udg_jwjs[i] ) / 3 * 2
    	            	else
    	            	    set jingyan=LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id) + ( 3 + udg_xinggeA[i] ) * ( wuxing[i] + 5 + GetRandomInt(0, R2I(r / 60)) ) * ( 2 + QiJueCoefficient(u) ) / 20 * ( 2 + udg_jwjs[i] ) / 3 * 2
                		endif
                		// å¤©èµ‹ï¼šå¤©çºµå¥‡æ‰ å¢åŠ å‡é‡é€Ÿåº¦
                        if UnitHasBuffBJ(u, 'B01O') then
                            set jingyan=R2I(jingyan * ( 1.5 + bigTalent[i] * 0.5 ))
                        endif
    	            	call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id, jingyan)
            		endif
    		        call SaveStr(YDHT, GetHandleId(GetOwningPlayer(u)), id * 2, I2S(LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id)) + "/" + I2S(R2I(r * level)))
    		        if LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id) > R2I(r) * level then
    		            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id, 0)
    		            call IncAbilityAndItemCharge(u , id)
    		            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id * 5, GetUnitAbilityLevel(u, id))
                        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "é¢†æ‚Ÿäº†æ­¦åŠŸï¼š" + GetObjectName(id) + "ç¬¬" + I2S(level + 1) + "é‡")
    					if id == 'A0DP' then // å½’å…ƒåçº³åŠŸ
set fuyuan[i]=fuyuan[i] + 2
    						set gengu[i]=gengu[i] + 2
    						set wuxing[i]=wuxing[i] + 2
    						set jingmai[i]=jingmai[i] + 2
    						set danpo[i]=danpo[i] + 2
    						set yishu[i]=yishu[i] + 2
    					endif
                        if level + 1 == 9 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
    						set wuxuedian[i]=wuxuedian[i] + 2
    						call DisplayTextToPlayer(p, 0, 0, "|cff66ff00ç²¾æ­¦å¸ˆæœ‰æŠ€èƒ½å‡çº§åˆ°ä¹é‡ï¼Œè·å¾—ä¸¤ä¸ªè‡ªåˆ›æ­¦å­¦ç‚¹")
    						if ( udg_jwjs[i] <= 2 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
    							set udg_jwjs[i]=udg_jwjs[i] + 1
    							call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨ç»ƒæˆç¬¬" + I2S(udg_jwjs[i]) + "ä¸ªä¹é‡æ­¦åŠŸï¼Œç»ƒæˆ3ä¸ªå¯è·å¾—å®—å¸ˆå“¦")
    						endif
    						if ( udg_jwjs[i] == 3 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
    							call Deputy_setMaster(i , JING_WU)
    							// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p), "ã€“ç²¾æ­¦å®—å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
    							call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—ç²¾æ­¦å®—å¸ˆ")
    							call SetPlayerName(p, "ã€“ç²¾æ­¦å®—å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
    						endif
    					endif
                    endif
                endif
            endif
        endif
endfunction
// æˆä¸ºæŒé—¨
function becomeChief takes unit u,integer denomination,string title,integer strAward,integer agiAward,integer intAward returns nothing
    local player p=GetOwningPlayer(u)
    local integer i=1 + GetPlayerId(p)
    local integer special0= 6
    local integer special1= 6
    if denomination == 14 then // æ˜æ•™
set special1=4
    elseif denomination == 20 then // å”é—¨
set special0=1
    endif
    if not (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( denomination) - 1)])) != 0) and GetUnitAbilityLevel(u, X7[denomination]) >= 6 and GetUnitAbilityLevel(u, Z7[denomination]) >= 6 and GetUnitAbilityLevel(u, Y7[denomination]) >= 6 and ( GetUnitAbilityLevel(u, Q8[denomination]) >= special0 or GetUnitAbilityLevel(u, P8[denomination]) >= special1 ) then // INLINED!!
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼š" + title)
        if strAward > 0 then
            call ModifyHeroStat(0, u, 0, strAward)
        endif
        if agiAward > 0 then
            call ModifyHeroStat(1, u, 0, agiAward)
        endif
        if intAward > 0 then
            call ModifyHeroStat(2, u, 0, intAward)
        endif
        call SetPlayerName(p, "ã€“" + title + "ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call setChiefNumber(i , denomination)
    endif
    set p=null
endfunction
function determineShaoLinTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 1) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A05O') >= 1 and yishu[i] >= 32 and not isTitle(i , 1) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šæ‰«åœ°ç¥åƒ§")
            call ModifyHeroStat(1, u, 0, 720)
            call SetPlayerName(p, "ã€“æ‰«åœ°ç¥åƒ§ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 1)
        endif
        // æ‹¥æœ‰æ˜“ç­‹A09Dæˆ–æ´—é«“A080ï¼Œç§°å·è¾¾æ‘©ï¼Œæ¯•ä¸šæŠ€èƒ½åˆ°9çº§
        if GetUnitAbilityLevel(u, 'A09D') >= 1 or GetUnitAbilityLevel(u, 'A080') >= 1 and not isTitle(i , 2) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šè¾¾æ‘©ç¥–å¸ˆ")
            call SetPlayerName(p, "ã€“è¾¾æ‘©ç¥–å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(0, u, 0, 200)
            call ModifyHeroStat(1, u, 0, 220)
            call ModifyHeroStat(2, u, 0, 200)
            if ( GetUnitAbilityLevel(u, 'A05O') >= 6 ) then
                call SetUnitAbilityLevel(u, 'A05O', 9)
            elseif ( GetUnitAbilityLevel(u, 'S000') >= 6 ) then
                call SetUnitAbilityLevel(u, 'S000', 9)
            endif
            call setTitleNumber(i , 2)
        endif
        // å°æ— ç›¸ã€æ— ç›¸åŠ«æŒ‡ã€æ‚Ÿæ€§31ä»¥ä¸Š
        if GetUnitAbilityLevel(u, 'A083') >= 1 or GetUnitAbilityLevel(u, 'A03P') >= 1 and wuxing[i] >= 31 and not isTitle(i , 3) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå¤§è½®æ˜ç‹")
            call SetPlayerName(p, "ã€“å¤§è½®æ˜ç‹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(0, u, 0, 200)
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 200)
            call setTitleNumber(i , 3)
        endif
        // é¾™è±¡ï¼Œæ ¹éª¨31
        if GetUnitAbilityLevel(u, 'S002') >= 1 and gengu[i] >= 31 and not isTitle(i , 4) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šé‡‘è½®æ³•ç‹")
            call SetPlayerName(p, "ã€“é‡‘è½®æ³•ç‹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(0, u, 0, 200)
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 200)
            call setTitleNumber(i , 4)
        endif
    endif
    set p=null
endfunction
function determineGuMuTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 2) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A07G') >= 1 and UnitHaveItem(u , 'I099') and not isTitle(i , 5) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç¥é›•ä¾ ")
            call ModifyHeroStat(0, u, 0, 480)
            call SetUnitAbilityLevel(u, 'A07G', IMinBJ(GetUnitAbilityLevel(u, 'A07G') + 3, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07G' * 5, GetUnitAbilityLevel(u, 'A07G'))
            call SetPlayerName(p, "ã€“ç¥é›•ä¾ ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 5)
        endif
        if GetUnitAbilityLevel(u, 'A07U') >= 1 and UnitHaveItem(u , 'I09A') and not isTitle(i , 6) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå°é¾™å¥³")
            call ModifyHeroStat(2, u, 0, 600)
            call SetPlayerName(p, "ã€“å°é¾™å¥³ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 6)
        endif
        if GetUnitAbilityLevel(u, 'A07G') >= 1 and GetUnitAbilityLevel(u, 'A07U') >= 1 and UnitHaveItem(u , 'I09C') and not isTitle(i , 7) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç¥é›•ä¾ ä¾£")
            call ModifyHeroStat(0, u, 0, 480)
            call ModifyHeroStat(2, u, 0, 600)
            call SetUnitAbilityLevel(u, 'A07G', IMinBJ(GetUnitAbilityLevel(u, 'A07G') + 6, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07G' * 5, GetUnitAbilityLevel(u, 'A07G'))
            call SetPlayerName(p, "ã€“ç¥é›•ä¾ ä¾£ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            // é€ç¥é›•
            call unitadditembyidswapped('I04A' , u)
            call setTitleNumber(i , 7)
        endif
        if GetUnitAbilityLevel(u, 'A07A') >= 6 and not isTitle(i , 8) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šèµ¤ç‚¼ä»™å­")
            call SetPlayerName(p, "ã€“èµ¤ç‚¼ä»™å­ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call SetUnitAbilityLevel(u, 'A07A', IMinBJ(GetUnitAbilityLevel(u, 'A07A') + 6, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07A' * 5, GetUnitAbilityLevel(u, 'A07A'))
            call setTitleNumber(i , 8)
        endif
    endif
    set p=null
endfunction
function determineGaiBangTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 3) - 1)])) != 0) then // INLINED!!
        // å­¦é™é¾™ã€æ‰“ç‹—ï¼Œå¸¦æ‰“ç‹—æ£’
        if GetUnitAbilityLevel(u, 'A07L') >= 1 and GetUnitAbilityLevel(u, 'A07E') >= 1 and UnitHaveItem(u , 'I097') and not isTitle(i , 9) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šåŒ—ä¸")
            call ModifyHeroStat(0, u, 0, 480)
            call SetUnitAbilityLevel(u, 'A07L', IMinBJ(GetUnitAbilityLevel(u, 'A07L') + 4, 9))
            call SetUnitAbilityLevel(u, 'A07E', IMinBJ(GetUnitAbilityLevel(u, 'A07E') + 4, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07L' * 5, GetUnitAbilityLevel(u, 'A07L'))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07E' * 5, GetUnitAbilityLevel(u, 'A07E'))
            call SetPlayerName(p, "ã€“åŒ—ä¸ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 9)
        endif
        // é™é¾™3çº§ä»¥ä¸Šï¼Œæ‹¥æœ‰æ“’é¾™æ§é¹¤ï¼Œå¸¦æ‰“ç‹—æ£’
        if GetUnitAbilityLevel(u, 'A07E') >= 3 and GetUnitAbilityLevel(u, 'A03V') > 0 and UnitHaveItem(u , 'I097') and not isTitle(i , 10) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šåŒ—ä¹”å³°")
            call ModifyHeroStat(0, u, 0, 500)
            call ModifyHeroStat(1, u, 0, 500)
            call ModifyHeroStat(2, u, 0, 500)
            // é™é¾™å¥–åŠ±åˆ°9çº§
            call SetUnitAbilityLevel(u, 'A07E', 9)
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07L' * 5, GetUnitAbilityLevel(u, 'A07L'))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07E' * 5, GetUnitAbilityLevel(u, 'A07E'))
            call SetPlayerName(p, "ã€“åŒ—ä¹”å³°ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 10)
        endif
    endif
    set p=null
endfunction
function determineHuaShanTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 4) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A07T') >= 1 and GetUnitAbilityLevel(u, 'A07J') >= 1 and not isTitle(i , 11) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå›å­å‰‘")
            call ModifyHeroStat(0, u, 0, 600)
            call SetUnitAbilityLevel(u, 'A07J', 9) // è¾Ÿé‚ªå‰‘æ³•9çº§
call unitadditembyidswapped('I069' , u) // é€è¾Ÿé‚ªæ®‹ç« 
call SetPlayerName(p, "ã€“å›å­å‰‘ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 11)
        endif
        // é£æ¸…æ‰¬ï¼Œå­¦ä¼š5çº§ç‹¬å­¤ä¹å‰‘
        if GetUnitAbilityLevel(u, 'A07F') >= 5 and not isTitle(i , 12) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šé£æ¸…æ‰¬")
            call ModifyHeroStat(0, u, 0, 250)
            call ModifyHeroStat(1, u, 0, 250)
            call ModifyHeroStat(2, u, 0, 200)
            call SetUnitAbilityLevel(u, 'A07F', 9) // ç‹¬å­¤ä¹å‰‘9çº§
call unitadditembyidswapped('I066' , u) // é€ç‹¬å­¤æ®‹ç« 
call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07F' * 5, GetUnitAbilityLevel(u, 'A07F'))
            call SetPlayerName(p, "ã€“é£æ¸…æ‰¬ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            // é€ä»™é¹¤
            call unitadditembyidswapped('I04B' , u)
            call setTitleNumber(i , 12)
        endif
    endif
    set p=null
endfunction
function determineQuanZhenTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 5) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A017') >= 1 and GetUnitAbilityLevel(u, 'A07U') >= 1 and GetUnitAbilityLevel(u, 'A0D1') >= 1 and not isTitle(i , 13) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šè€é¡½ç«¥")
            call ModifyHeroStat(1, u, 0, 360)
            call SetUnitAbilityLevel(u, 'A017', 9)
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A017' * 5, GetUnitAbilityLevel(u, 'A017'))
            call SetPlayerName(p, "ã€“è€é¡½ç«¥ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 13)
        endif
        if GetUnitAbilityLevel(u, 'A06P') >= 1 and GetUnitAbilityLevel(u, 'A07S') >= 1 and GetUnitAbilityLevel(u, 'A0CH') >= 1 and not isTitle(i , 14) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šä¸­ç¥é€š")
            call ModifyHeroStat(0, u, 0, 300)
            call ModifyHeroStat(1, u, 0, 300)
            call ModifyHeroStat(2, u, 0, 300)
            call SetUnitAbilityLevel(u, 'A0CH', 9)
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0CH' * 5, GetUnitAbilityLevel(u, 'A0CH'))
            call SetPlayerName(p, "ã€“ä¸­ç¥é€šã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 14)
        endif
    endif
    set p=null
endfunction
function determineXueDaoTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 6) - 1)])) != 0) then // INLINED!!
        if UnitHaveItem(u , 'I098') and not isTitle(i , 15) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šè¡€åˆ€è€ç¥–")
            call ModifyHeroStat(0, u, 0, 480)
            // ä¸€åˆ€ç»ç©ºåŠ 2çº§
            call SetUnitAbilityLevel(u, 'A0DH', IMinBJ(GetUnitAbilityLevel(u, 'A0DH') + 2, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0DH' * 5, GetUnitAbilityLevel(u, 'A0DH'))
            call SetPlayerName(p, "ã€“è¡€åˆ€è€ç¥–ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 15)
        endif
        if GetUnitAbilityLevel(u, 'A07X') >= 1 and GetUnitAbilityLevel(u, 'A06J') >= 1 and GetUnitAbilityLevel(u, 'A071') >= 1 and not isTitle(i , 16) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç©ºå¿ƒèœ")
            call ModifyHeroStat(0, u, 0, 200)
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 360)
            call SetPlayerName(p, "ã€“ç©ºå¿ƒèœã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            // çˆ†ä¼¤+500%
            set udg_baojishanghai[i]=udg_baojishanghai[i] + 5.0
            call setTitleNumber(i , 16)
        endif
    endif
    set p=null
endfunction
function determineHengShanTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 7) - 1)])) != 0) then // INLINED!!
        // å‰3ä¸ªæŠ€èƒ½å¤§äºç­‰äº7çº§ï¼Œè·å¾—ä»ªç³ç§°å·
        if GetUnitAbilityLevel(u, 'A01Z') >= 7 and GetUnitAbilityLevel(u, 'A021') >= 7 and GetUnitAbilityLevel(u, 'A0CD') >= 7 and not isTitle(i , 17) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šä»ªç³")
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 200)
            // æ‹‚å°˜åˆ°9çº§
            call SetUnitAbilityLevel(u, 'A01Z', 9)
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A01Z' * 5, GetUnitAbilityLevel(u, 'A01Z'))
            call SetPlayerName(p, "ã€“ä»ªç³ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 17)
        endif
        if GetUnitAbilityLevel(u, 'A07F') >= 1 and GetUnitAbilityLevel(u, 'A09D') >= 1 and GetUnitAbilityLevel(u, 'A07R') >= 1 and GetUnitAbilityLevel(u, 'A08W') >= 1 and not isTitle(i , 18) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç¬‘å‚²æ±Ÿæ¹–")
            call SetPlayerName(p, "ã€“ç¬‘å‚²æ±Ÿæ¹–ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(0, u, 0, 480)
            call ModifyHeroStat(0, u, 0, 500)
            call ModifyHeroStat(2, u, 0, 600)
            call SetUnitAbilityLevel(u, 'A07F', 9)
            call SetUnitAbilityLevel(u, 'A08W', IMinBJ(GetUnitAbilityLevel(u, 'A08W') + 5, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07F' * 5, GetUnitAbilityLevel(u, 'A07F'))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A08W' * 5, GetUnitAbilityLevel(u, 'A08W'))
            call setTitleNumber(i , 18)
        endif
    endif
    set p=null
endfunction
function determineEMeiTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 8) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A07N') >= 1 and UnitHaveItem(u , 'I00B') and not isTitle(i , 19) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šèŠ·è‹¥")
            call ModifyHeroStat(0, u, 0, 480)
            // ä¹é˜´ç™½éª¨çˆªåŠ 2çº§
            call SetUnitAbilityLevel(u, 'A07N', IMinBJ(GetUnitAbilityLevel(u, 'A07N') + 2, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07N' * 5, GetUnitAbilityLevel(u, 'A07N'))
            call SetPlayerName(p, "ã€“èŠ·è‹¥ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 19)
        endif
        if GetUnitAbilityLevel(u, 'A0C6') >= 1 and UnitHaveItem(u , 'I09D') and not isTitle(i , 20) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå°ä¸œé‚ª")
            call ModifyHeroStat(1, u, 0, 360)
            call SetPlayerName(p, "ã€“å°ä¸œé‚ªã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 20)
        endif
    endif
    set p=null
endfunction
function determineWuDangTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 9) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A0DN') >= 1 and GetUnitAbilityLevel(u, 'A09D') >= 1 and not isTitle(i , 21) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šé‚‹é¢ä»™äºº")
            call ModifyHeroStat(1, u, 0, 420)
            // è“é‡åŠ 500
            call YDWEGeneralBounsSystemUnitSetBonus(u , 1 , 0 , 500)
            call DisplayTextToPlayer(p, 0, 0, "é­”æ³•ä¸Šé™+500")
            call SetPlayerName(p, "ã€“é‚‹é¢ä»™äººã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 21)
        endif
        // å¤ªææ‹³9çº§ï¼Œå¸¦çœŸæ­¦å‰‘
        if GetUnitAbilityLevel(u, 'A08R') >= 9 and UnitHaveItem(u , 'I0DK') and not isTitle(i , 22) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå¼ ä¸‰ä¸°")
            call ModifyHeroStat(0, u, 0, 300)
            call ModifyHeroStat(1, u, 0, 300)
            call ModifyHeroStat(2, u, 0, 300)
            call SetPlayerName(p, "ã€“å¼ ä¸‰ä¸°ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 22)
        endif
    endif
    set p=null
endfunction
function determineXingXiuTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 10) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A07P') >= 1 and GetUnitAbilityLevel(u, 'A083') >= 1 and not isTitle(i , 23) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šæ˜Ÿå®¿è€ä»™")
            call ModifyHeroStat(1, u, 0, 600)
            call ModifyHeroStat(2, u, 0, 300)
            if ( GetUnitAbilityLevel(u, 'A0BT') >= 6 ) then
                call SetUnitAbilityLevel(u, 'A0BT', 9)
            elseif ( GetUnitAbilityLevel(u, 'A0BV') >= 6 ) then
                call SetUnitAbilityLevel(u, 'A0BV', 9)
            endif
            call SetPlayerName(p, "ã€“æ˜Ÿå®¿è€ä»™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 23)
        endif
    endif
    set p=null
endfunction
function determineLingJiuTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 12) - 1)])) != 0) then // INLINED!!
        // å¤§æ‹›å­¦å…«è’ï¼ŒåŒæ—¶å­¦ä¼šç”Ÿæ­»ç¬¦ï¼ˆå†°é­„åŠ åŒ—å†¥ï¼‰
        if GetUnitAbilityLevel(u, 'A02G') >= 6 and GetUnitAbilityLevel(u, 'A07A') >= 1 and GetUnitAbilityLevel(u, 'A082') >= 1 and not isTitle(i , 24) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå¤©å±±ç«¥å§¥")
            call ModifyHeroStat(0, u, 0, 280)
            call ModifyHeroStat(1, u, 0, 280)
            call ModifyHeroStat(2, u, 0, 320)
            // å…«è’å¥–åŠ±2çº§
            call SetUnitAbilityLevel(u, 'A02G', IMinBJ(GetUnitAbilityLevel(u, 'A02G') + 2, 9))
            // å¦‚æ„åŠ 2çº§
            call SetUnitAbilityLevel(u, 'A02F', IMinBJ(GetUnitAbilityLevel(u, 'A02F') + 2, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A02G' * 5, GetUnitAbilityLevel(u, 'A02G'))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A02F' * 5, GetUnitAbilityLevel(u, 'A02F'))
            call SetPlayerName(p, "ã€“å¤©å±±ç«¥å§¥ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 24)
        endif
        // è™šç«¹ï¼šåŒ—å†¥ï¼Œå†°é­„ï¼Œç‰æ‰³æŒ‡ï¼Œç½—æ±‰
        if GetUnitAbilityLevel(u, 'A07A') >= 1 and GetUnitAbilityLevel(u, 'A082') >= 1 and GetUnitAbilityLevel(u, 'A07O') >= 1 and UnitHaveItem(u , 'I0DT') and not isTitle(i , 25) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šè™šç«¹å­")
            call ModifyHeroStat(0, u, 0, 100)
            call ModifyHeroStat(1, u, 0, 500)
            call ModifyHeroStat(2, u, 0, 100)
            call SetPlayerName(p, "ã€“è™šç«¹å­ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 25)
        endif
    endif
    set p=null
endfunction
function determineMuRongTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 13) - 1)])) != 0) then // INLINED!!
        // æ…•å®¹é¾™åŸï¼Œæ­é…æ–—è½¬
        if GetUnitAbilityLevel(u, 'A07Q') >= 1 and not isTitle(i , 26) then // +æ–—è½¬æ˜Ÿç§»
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šæ…•å®¹é¾™åŸ")
            call ModifyHeroStat(0, u, 0, 200)
            call ModifyHeroStat(1, u, 0, 250)
            call ModifyHeroStat(2, u, 0, 200)
            call SetPlayerName(p, "ã€“æ…•å®¹é¾™åŸã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 26)
        endif
    endif
    set p=null
endfunction
function determineMingJiaoTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 14) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A030') >= 9 and not isTitle(i , 27) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç™½çœ‰é¹°ç‹")
            call SetPlayerName(p, "ã€“ç™½çœ‰é¹°ç‹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(2, u, 0, 500)
            call setTitleNumber(i , 27)
        endif
        if GetUnitAbilityLevel(u, 'A032') >= 9 and not isTitle(i , 28) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šé’ç¿¼å¹…ç‹")
            call SetPlayerName(p, "ã€“é’ç¿¼å¹…ç‹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(1, u, 0, 300)
            call setTitleNumber(i , 28)
        endif
        if GetUnitAbilityLevel(u, 'A06R') >= 9 and GetUnitAbilityLevel(u, 'A07M') >= 3 and UnitHaveItem(u , 'I00D') and not isTitle(i , 29) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šé‡‘æ¯›ç‹®ç‹")
            call SetPlayerName(p, "ã€“é‡‘æ¯›ç‹®ç‹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call SetUnitAbilityLevel(u, 'A07M', IMinBJ(GetUnitAbilityLevel(u, 'A07M') + 6, 9))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07M' * 5, GetUnitAbilityLevel(u, 'A07M'))
            call ModifyHeroStat(0, u, 0, 300)
            call setTitleNumber(i , 29)
        endif
        if GetUnitAbilityLevel(u, 'A07W') >= 6 and GetUnitAbilityLevel(u, 'A0DN') >= 1 and GetUnitAbilityLevel(u, 'A08R') >= 4 and not isTitle(i , 30) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šæ— å¿Œ")
            call SetPlayerName(p, "ã€“æ— å¿Œã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call SetUnitAbilityLevel(u, 'A08R', IMinBJ(GetUnitAbilityLevel(u, 'A08R') + 3, 9))
            call SetUnitAbilityLevel(u, 'A07W', 7)
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07W' * 5, GetUnitAbilityLevel(u, 'A07W'))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A08R' * 5, GetUnitAbilityLevel(u, 'A08R'))
            call ModifyHeroStat(1, u, 0, 1000)
            call ModifyHeroStat(2, u, 0, 500)
            // é€ç™½çŒ¿
            call unitadditembyidswapped('I0CS' , u)
            call setTitleNumber(i , 30)
        endif
    endif
    set p=null
endfunction
function determineHengShan2Title takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    local integer idd= 0
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 15) - 1)])) != 0) then // INLINED!!
        if GetUnitAbilityLevel(u, 'A04M') >= 7 and GetUnitAbilityLevel(u, 'A04N') >= 7 and GetUnitAbilityLevel(u, 'A04P') >= 7 and not isTitle(i , 31) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šè«å¤§å…ˆç”Ÿ")
            call SetPlayerName(p, "ã€“è«å¤§å…ˆç”Ÿã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 31)
            set L7[i]=1
            loop
                exitwhen L7[i] > wugongshu[i]
                if ( I7[20 * ( i - 1 ) + L7[i]] != 'AEfk' ) then
                    if ( ( L7[i] == wugongshu[i] ) ) then
                        call SetUnitAbilityLevel(u, 'A04M', 9)
                        call SetUnitAbilityLevel(u, 'A04N', 9)
                        call SetUnitAbilityLevel(u, 'A04P', 9)
                        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A04M' * 5, 9)
                        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A04N' * 5, 9)
                        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A04P' * 5, 9)
                    endif
                else
                    if GetUnitAbilityLevel(u, 'A026') >= 6 then
                        set idd='A04R'
                    else
                        set idd='A026'
                    endif
                    call UnitAddAbility(u, idd)
                    call UnitMakeAbilityPermanent(u, true, idd)
                    set I7[20 * ( i - 1 ) + L7[i]]=idd
                    exitwhen true
                endif
                set L7[i]=L7[i] + 1
            endloop
        endif
    endif
    set p=null
endfunction
function determineShenLongTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 16) - 1)])) != 0) then // INLINED!!
        // å­¦ä¹é˜³+é¾™è±¡ï¼Œç¥é¾™æ•™ä¸»
        if GetUnitAbilityLevel(u, 'A0DN') >= 1 and GetUnitAbilityLevel(u, 'S002') >= 1 and not isTitle(i , 32) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç¥é¾™æ•™ä¸»")
            call ModifyHeroStat(0, u, 0, 200)
            call ModifyHeroStat(1, u, 0, 400)
            call ModifyHeroStat(2, u, 0, 300)
            call SetPlayerName(p, "ã€“ç¥é¾™æ•™ä¸»ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 32)
        endif
    endif
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 17) - 1)])) != 0) then // INLINED!!
        // å­¦ä¹é˜´+å°æ— ç›¸ï¼Œæ•™ä¸»å¤«äºº
        if GetUnitAbilityLevel(u, 'A07S') >= 1 and GetUnitAbilityLevel(u, 'A083') >= 1 and not isTitle(i , 33) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šæ•™ä¸»å¤«äºº")
            call ModifyHeroStat(0, u, 0, 400)
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 300)
            call SetPlayerName(p, "ã€“æ•™ä¸»å¤«äººã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 33)
        endif
    endif
    set p=null
endfunction
function determineTaiShanTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 18) - 1)])) != 0) then // INLINED!!
        // å¤©é—¨é“é•¿ï¼Œå­¦ä¼šå°æ— ç›¸
         if GetUnitAbilityLevel(u, 'A083') >= 1 and not isTitle(i , 34) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå¤©é—¨é“é•¿")
            call ModifyHeroStat(0, u, 0, 300)
            call ModifyHeroStat(1, u, 0, 600)
            call SetPlayerName(p, "ã€“å¤©é—¨é“é•¿ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 34)
        endif
    endif
    set p=null
endfunction
function determineTieZhangTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 19) - 1)])) != 0) then // INLINED!!
        // å­¦ä¹¾å¤+åŒæ‰‹+é“æŒä»¤ï¼Œé“æŒæ°´ä¸Šæ¼‚
        if GetUnitAbilityLevel(u, 'A07W') >= 1 and GetUnitAbilityLevel(u, 'A07U') >= 1 and UnitHaveItem(u , 'I0EJ') and not isTitle(i , 35) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šé“æŒæ°´ä¸Šæ¼‚")
            call ModifyHeroStat(0, u, 0, 300)
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 100)
            call SetPlayerName(p, "ã€“é“æŒæ°´ä¸Šæ¼‚ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 35)
        endif
    endif
    set p=null
endfunction
function determineTangMenTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 20) - 1)])) != 0) then // INLINED!!
        // å­¦å°æ— ç›¸+å†°é­„é“¶é’ˆï¼Œæœé­‚ä¾ 
        if GetUnitAbilityLevel(u, 'A083') >= 1 and GetUnitAbilityLevel(u, 'A07A') >= 1 and not isTitle(i , 36) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šæœé­‚ä¾ ")
            call ModifyHeroStat(0, u, 0, 300)
            call ModifyHeroStat(1, u, 0, 200)
            call ModifyHeroStat(2, u, 0, 300)
            call SetPlayerName(p, "ã€“æœé­‚ä¾ ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 36)
        endif
    endif
    set p=null
endfunction
function determineWuDuTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 21) - 1)])) != 0) then // INLINED!!
        // å­¦é¾™è±¡+è‘µèŠ±ï¼Œå©†å©†å§Šå§Š
        if GetUnitAbilityLevel(u, LONG_XIANG) >= 1 and GetUnitAbilityLevel(u, KUI_HUA) >= 1 and not isTitle(i , 45) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå©†å©†å§Šå§Š")
            call ModifyHeroStat(0, u, 0, 300)
            call ModifyHeroStat(1, u, 0, 300)
            call ModifyHeroStat(2, u, 0, 300)
            call SetPlayerName(p, "ã€“å©†å©†å§Šå§Šã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 45)
        endif
    endif
    set p=null
endfunction
function determineTaoHuaDaoTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    local integer idd
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 22) - 1)])) != 0) then // INLINED!!
        // å­¦ä¹é˜´å†…åŠŸ+æ‰“ç‹—æ£’æ³•ï¼Œå¥³ä¸­è¯¸è‘›
        if GetUnitAbilityLevel(u, JIU_YIN) >= 1 and GetUnitAbilityLevel(u, DA_GOU) >= 1 and not isTitle(i , 46) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå¥³ä¸­è¯¸è‘›")
            set wuxing[i]=wuxing[i] + 50
            set L7[i]=1
            loop
                exitwhen L7[i] > wugongshu[i]
                if ( I7[20 * ( i - 1 ) + L7[i]] != 'AEfk' ) then
                    if ( ( L7[i] == wugongshu[i] ) ) then
                        call SetUnitAbilityLevel(u, 'A0EE', 9)
                        call SetUnitAbilityLevel(u, 'A0EG', 9)
                        call SetUnitAbilityLevel(u, 'A0EI', 9)
                        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0EE' * 5, 9)
                        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0EG' * 5, 9)
                        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0EI' * 5, 9)
                    endif
                else
                    if GetUnitAbilityLevel(u, 'A0EK') >= 6 then
                        set idd='A0EL'
                    else
                        set idd='A0EK'
                    endif
                    call UnitAddAbility(u, idd)
                    call UnitMakeAbilityPermanent(u, true, idd)
                    set I7[20 * ( i - 1 ) + L7[i]]=idd
                    exitwhen true
                endif
                set L7[i]=L7[i] + 1
            endloop
            call SetPlayerName(p, "ã€“å¥³ä¸­è¯¸è‘›ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call setTitleNumber(i , 46)
        endif
        if GetUnitAbilityLevel(u, 'A06H') >= 3 and GetUnitAbilityLevel(u, 'A018') >= 3 and UnitHaveItem(u , 'I09D') and not isTitle(i , 39) then
            call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šä¸œé‚ª")
            call SetPlayerName(p, "ã€“ä¸œé‚ªã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
            call ModifyHeroStat(1, u, 0, 240)
            call ModifyHeroStat(2, u, 0, 300)
            call SetUnitAbilityLevel(u, 'A06H', 9)
            call SetUnitAbilityLevel(u, 'A018', 9)
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A06H' * 5, GetUnitAbilityLevel(u, 'A06H'))
            call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A018' * 5, GetUnitAbilityLevel(u, 'A018'))
            call unitadditembyidswapped('I04Q' , u)
            call unitadditembyidswapped('I04Q' , u)
            call setTitleNumber(i , 39)
        endif
    endif
    set p=null
endfunction
function determineJiangHuTitle takes unit u returns nothing
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    if GetUnitAbilityLevel(u, 'A07S') >= 1 and GetUnitAbilityLevel(u, 'A0D2') >= 1 and GetUnitAbilityLevel(u, 'A0D6') >= 1 and GetUnitAbilityLevel(u, 'A0D4') >= 1 and GetUnitAbilityLevel(u, 'A07N') >= 4 and GetUnitAbilityLevel(u, 'A0D3') >= 4 and GetUnitAbilityLevel(u, 'A0D1') >= 4 and not isTitle(i , 37) then
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šçœŸÂ·ä¹é˜´çœŸäºº")
        call SetPlayerName(p, "ã€“çœŸÂ·ä¹é˜´çœŸäººã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call SetUnitAbilityLevel(u, 'A07N', IMinBJ(GetUnitAbilityLevel(u, 'A07N') + 3, 9))
        call SetUnitAbilityLevel(u, 'A0D3', IMinBJ(GetUnitAbilityLevel(u, 'A0D3') + 3, 9))
        call SetUnitAbilityLevel(u, 'A0D1', IMinBJ(GetUnitAbilityLevel(u, 'A0D1') + 3, 9))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07N' * 5, GetUnitAbilityLevel(u, 'A07N'))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0D3' * 5, GetUnitAbilityLevel(u, 'A0D3'))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0D1' * 5, GetUnitAbilityLevel(u, 'A0D1'))
        call ModifyHeroStat(1, u, 0, 2900)
        call setTitleNumber(i , 37)
    endif
    if GetUnitAbilityLevel(u, 'A089') >= 5 and GetUnitAbilityLevel(u, 'A084') >= 1 and UnitHaveItem(u , 'I09B') and not isTitle(i , 38) then
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šè¥¿æ¯’")
        call SetPlayerName(p, "ã€“è¥¿æ¯’ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call ModifyHeroStat(0, u, 0, 600)
        call ModifyHeroStat(2, u, 0, 360)
        call unitadditembyidswapped('I070' , u)
        call SetUnitAbilityLevel(u, 'A089', IMinBJ(GetUnitAbilityLevel(u, 'A089') + 2, 9))
        // å¥–åŠ±é€†ä¹é˜´
        call unitadditembyidswapped('I09G' , u)
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A089' * 5, GetUnitAbilityLevel(u, 'A089'))
        call setTitleNumber(i , 38)
    endif
    
    if GetUnitAbilityLevel(u, 'A06P') >= 5 and GetUnitAbilityLevel(u, 'A0CH') >= 3 and udg_runamen[i] != 5 and not isTitle(i , 40) then
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå—å¸")
        call SetPlayerName(p, "ã€“å—å¸ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call ModifyHeroStat(1, u, 0, 480)
        call ModifyHeroStat(2, u, 0, 600)
        call SetUnitAbilityLevel(u, 'A06P', 9)
        call SetUnitAbilityLevel(u, 'A0CH', 7)
        // å¥–åŠ±åŒ»ç–—ç¯‡
        call unitadditembyidswapped('I09H' , u)
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A06P' * 5, GetUnitAbilityLevel(u, 'A06P'))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0CH' * 5, GetUnitAbilityLevel(u, 'A0CH'))
        call setTitleNumber(i , 40)
    endif
    if GetUnitAbilityLevel(u, 'A07N') >= 5 and GetUnitAbilityLevel(u, 'A0D1') >= 5 and GetUnitAbilityLevel(u, 'A0D3') >= 5 and GetUnitAbilityLevel(u, 'A07G') >= 3 and ( GetUnitTypeId(u) == 'O023' or GetUnitTypeId(u) == 'O02H' or GetUnitTypeId(u) == 'O02I' or GetUnitTypeId(u) == 'O003' or GetUnitTypeId(u) == 'O002' ) and not isTitle(i , 41) then
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç‘¶ç´")
        call SetPlayerName(p, "ã€“ç‘¶ç´ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call ModifyHeroStat(0, u, 0, 700)
        call ModifyHeroStat(1, u, 0, 200)
        call SetUnitAbilityLevel(u, 'A0D1', 9)
        call SetUnitAbilityLevel(u, 'A0D3', 7)
        // ä¹é˜´ç™½éª¨çˆªåŠ 3çº§
        call SetUnitAbilityLevel(u, 'A07N', IMinBJ(GetUnitAbilityLevel(u, 'A07N') + 3, 9))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0D1' * 5, GetUnitAbilityLevel(u, 'A0D1'))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A0D3' * 5, GetUnitAbilityLevel(u, 'A0D3'))
        call setTitleNumber(i , 41)
    endif
        //è‡ªåˆ›æ­¦åŠŸå‘½åä¸ºè™¾ç±³ç¥æ‹³
    if s__ZiZhiWuGong_name[zizhiwugong[i]] == "è™¾ç±³ç¥æ‹³" and GetUnitAbilityLevel(u, 'A036') >= 1 and GetUnitAbilityLevel(u, 'A07I') >= 5 and udg_runamen[i] == 11 and not isTitle(i , 42) then
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šå°è™¾ç±³")
        call SetPlayerName(p, "ã€“å°è™¾ç±³ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call ModifyHeroStat(0, u, 0, 1000)
        call ModifyHeroStat(1, u, 0, 1000)
        call ModifyHeroStat(2, u, 0, 1000)
        call SetUnitAbilityLevel(u, 'A07I', 9)
        // å¥–åŠ±é‡çƒæ‹³æ®‹ç« 
        call unitadditembyidswapped('I068' , u)
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07I' * 5, GetUnitAbilityLevel(u, 'A07I'))
        call setTitleNumber(i , 42)
    endif
    if GetUnitAbilityLevel(u, 'A07E') >= 5 and GetUnitAbilityLevel(u, 'A017') >= 5 and GetUnitAbilityLevel(u, 'A07S') >= 1 and GetUnitAbilityLevel(u, 'A07U') >= 1 and udg_runamen[i] == 11 and not isTitle(i , 43) then
        // ä¸èƒ½æ˜¯ä¸å¸®ï¼Œé™é¾™5çº§ã€ç©ºæ˜æ‹³5çº§ã€ä¹é˜´çœŸç»ã€åŒæ‰‹äº’åš
        // å¥–åŠ±æ‹›å¼300ã€å†…åŠ›500ã€çœŸå®300ï¼Œé™é¾™åŠ 3çº§ï¼Œç©ºæ˜åŠ 3çº§
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šéƒ­å¤§ä¾ ")
        call SetPlayerName(p, "ã€“éƒ­å¤§ä¾ ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call ModifyHeroStat(0, u, 0, 300)
        call ModifyHeroStat(2, u, 0, 500)
        call ModifyHeroStat(2, u, 0, 300)
        call SetUnitAbilityLevel(u, 'A07E', IMinBJ(GetUnitAbilityLevel(u, 'A07E') + 3, 9))
        call SetUnitAbilityLevel(u, 'A017', IMinBJ(GetUnitAbilityLevel(u, 'A017') + 3, 9))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07E' * 5, GetUnitAbilityLevel(u, 'A07E'))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A017' * 5, GetUnitAbilityLevel(u, 'A017'))
        call setTitleNumber(i , 43)
    endif
    if GetUnitAbilityLevel(u, 'A07S') >= 1 and GetUnitAbilityLevel(u, 'A0DN') >= 1 and GetUnitAbilityLevel(u, 'A07O') >= 1 and GetUnitAbilityLevel(u, 'A07R') >= 1 and GetUnitAbilityLevel(u, 'A07T') >= 1 and GetUnitAbilityLevel(u, 'A07Q') >= 1 and GetUnitAbilityLevel(u, 'A07W') >= 1 and GetUnitAbilityLevel(u, 'A07U') >= 1 and not isTitle(i , 44) then
        // ç‹è¯­å«£ï¼šä¹é˜´ã€ä¹é˜³ã€ç½—æ±‰ã€å¸æ˜Ÿã€è‘µèŠ±ã€æ–—è½¬ã€ä¹¾å¤ã€åŒæ‰‹
        call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff66ff00æ­å–œç©å®¶" + I2S(i) + "è·å¾—äº†ç§°å·ï¼šç¥ä»™å§å§")
        call SetPlayerName(p, "ã€“ç¥ä»™å§å§ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
        call ModifyHeroStat(0, u, 0, 300)
        call ModifyHeroStat(2, u, 0, 500)
        call ModifyHeroStat(2, u, 0, 300)
        call SetUnitAbilityLevel(u, 'A07E', IMinBJ(GetUnitAbilityLevel(u, 'A07E') + 3, 9))
        call SetUnitAbilityLevel(u, 'A017', IMinBJ(GetUnitAbilityLevel(u, 'A017') + 3, 9))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A07E' * 5, GetUnitAbilityLevel(u, 'A07E'))
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A017' * 5, GetUnitAbilityLevel(u, 'A017'))
        call setTitleNumber(i , 44)
    endif
    set p=null
endfunction
//æ­¦åŠŸå‡é‡åŠæŒé—¨ç§°å·ç³»ç»Ÿ
function WuGongShengChong takes unit u,integer id,real r returns nothing
    local integer level=GetUnitAbilityLevel(u, id)
    local player p=GetOwningPlayer(u)
    local integer i=1 + GetPlayerId(p)
    // æ­¦åŠŸå‡é‡
    call kungfuLevelUp(u , id , r)
    //æŒé—¨ç³»ç»Ÿ
    if ( IsUnitType(u, UNIT_TYPE_HERO) != null ) then
        call becomeChief(u , 1 , "å°‘æ—æ–¹ä¸ˆ" , 170 , 190 , 480)
        call becomeChief(u , 2 , "å¤å¢“æŒé—¨" , 240 , 240 , 0)
        call becomeChief(u , 3 , "ä¸å¸®å¸®ä¸»" , 480 , 0 , 0)
        call becomeChief(u , 4 , "åå±±æŒé—¨" , 0 , 170 , 290)
        call becomeChief(u , 5 , "å…¨çœŸæŒæ•™" , 0 , 360 , 0)
        call becomeChief(u , 6 , "è¡€åˆ€æŒé—¨" , 0 , 0 , 1200)
        call becomeChief(u , 7 , "æ’å±±æŒé—¨" , 0 , 460 , 0)
        call becomeChief(u , 8 , "å³¨çœ‰æŒé—¨" , 240 , 170 , 0)
        call becomeChief(u , 9 , "æ­¦å½“æŒé—¨" , 240 , 0 , 600)
        call becomeChief(u , 10 , "æ˜Ÿå®¿æŒé—¨" , 0 , 600 , 300)
        call becomeChief(u , 12 , "çµé¹«å®«ä¸»" , 220 , 220 , 220)
        call becomeChief(u , 13 , "æ…•å®¹å®¶ä¸»" , 100 , 280 , 300)
        call becomeChief(u , 14 , "æ˜æ•™æ•™ä¸»" , 210 , 310 , 160)
        call becomeChief(u , 15 , "è¡¡å±±æŒé—¨" , 350 , 260 , 100)
        call becomeChief(u , 16 , "ç”·ç¥é¾™" , 350 , 0 , 200)
        call becomeChief(u , 17 , "å¥³ç¥é¾™" , 200 , 350 , 0)
        call becomeChief(u , 18 , "æ³°å±±æŒé—¨" , 320 , 220 , 120)
        call becomeChief(u , 19 , "é“æŒå¸®ä¸»" , 300 , 0 , 225)
        call becomeChief(u , 20 , "å”é—¨é—¨ä¸»" , 0 , 225 , 300)
        call becomeChief(u , 21 , "äº”æ¯’æ•™ä¸»" , 300 , 225 , 0)
        call becomeChief(u , 22 , "æ¡ƒèŠ±å²›ä¸»" , 225 , 0 , 300)
        call determineShaoLinTitle(u)
        call determineGuMuTitle(u)
        call determineGaiBangTitle(u)
        call determineHuaShanTitle(u)
        call determineQuanZhenTitle(u)
        call determineXueDaoTitle(u)
        call determineHengShanTitle(u)
        call determineEMeiTitle(u)
        call determineWuDangTitle(u)
        call determineXingXiuTitle(u)
        call determineLingJiuTitle(u)
        call determineMuRongTitle(u)
        call determineMingJiaoTitle(u)
        call determineHengShan2Title(u)
        call determineShenLongTitle(u)
        call determineTaiShanTitle(u)
        call determineTieZhangTitle(u)
        call determineTangMenTitle(u)
        call determineWuDuTitle(u)
        call determineTaoHuaDaoTitle(u)
        call determineJiangHuTitle(u)
    endif
    set p=null
endfunction

function PassiveWuGongAction takes unit playerControllingUnit,unit enemy,real possibility,real range,boolexpr filter,code callback,integer abilityId,real upgradeSpeed returns nothing
 local location loc= GetUnitLoc(playerControllingUnit)
 local integer i= 1 + GetPlayerId(GetOwningPlayer(playerControllingUnit))
	if ( GetRandomInt(1, 100) <= fuyuan[i] / 5 + possibility ) then
		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc , filter), callback)
		call WuGongShengChong(playerControllingUnit , abilityId , upgradeSpeed)
	endif
	call RemoveLocation(loc)
	set loc=null
endfunction

function WanBuff_1 takes integer buffnum,integer num,unit uc,integer id,integer orderid,unit l__ut,string s returns nothing
 local unit u
 local player p
 local location loc
	if ( buffnum == num ) then
		set p=GetOwningPlayer(uc)
		set loc=GetUnitLoc(l__ut)
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
    	set u=bj_lastCreatedUnit
    	call ShowUnitHide(u)
		call UnitAddAbility(u, id)
		if ( num == 12 or num == 14 ) then
			call IncUnitAbilityLevel(u, id)
		endif
    	call IssueTargetOrderById(u, orderid, l__ut)
    	call UnitApplyTimedLife(u, 'BHwe', 2.)
    	call CreateTextTagLocBJ(s, loc, 60., 12., 65., 55., 42., 0)
		call Nw(3. , bj_lastCreatedTextTag)
    	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
		call RemoveLocation(loc)
	endif
	set loc=null
	set p=null
	set u=null
endfunction
function WanBuff takes unit u,unit l__ut,integer buffnum returns nothing
    call WanBuff_1(buffnum , 1 , u , 'A077' , $D008F , l__ut , "å†…ä¼¤")
    call WanBuff_1(buffnum , 2 , u , 'A079' , $D02BC , l__ut , "èµ°ç«å…¥é­”")
    call WanBuff_1(buffnum , 3 , u , 'A075' , $D022F , l__ut , "æµè¡€")
    call WanBuff_1(buffnum , 4 , u , 'A06I' , $D00DD , l__ut , "æ··ä¹±")
    call WanBuff_1(buffnum , 5 , u , 'A0AZ' , $D006B , l__ut , "æ˜è¿·")
    call WanBuff_1(buffnum , 6 , u , 'A076' , $D006B , l__ut , "é‡ä¼¤")
    call WanBuff_1(buffnum , 7 , u , 'A078' , $D022F , l__ut , "è¡€æµä¸æ­¢")
    call WanBuff_1(buffnum , 8 , u , 'A0AY' , $D00DE , l__ut , "éº»ç—¹")
    call WanBuff_1(buffnum , 9 , u , 'A019' , $D00B5 , l__ut , "ç ´é˜²")
    call WanBuff_1(buffnum , 10 , u , 'A05N' , $D00DE , l__ut , "ç¥ç»é”™ä¹±")
    call WanBuff_1(buffnum , 11 , u , 'A05L' , $D007F , l__ut , "å°ç©´")
    call WanBuff_1(buffnum , 12 , u , 'A05L' , $D007F , l__ut , "ç©´ä½å…¨å°")
	call WanBuff_1(buffnum , 13 , u , 'A074' , $D022F , l__ut , "ä¸­æ¯’")
	call WanBuff_1(buffnum , 14 , u , 'A074' , $D022F , l__ut , "æ·±åº¦ä¸­æ¯’")
    call WanBuff_1(buffnum , 15 , u , 'A097' , $D00DE , l__ut , "è‡´ç›²")
    call WanBuff_1(buffnum , 16 , u , 'A0DV' , $D00DE , l__ut , "è™šå¼±")
endfunction
// åŠ å¯†
function encryptInt takes integer src,player p returns string
 local string playerName= LoadStr(YDHT, GetHandleId(p), GetHandleId(p))
 local integer hash= StringHash(playerName + priKey)
	return I2S(hash + src)
endfunction
function decryptInt takes string src,player p returns integer
 local string playerName= LoadStr(YDHT, GetHandleId(p), GetHandleId(p))
    local integer hash= StringHash(playerName + priKey)
    local integer decrypt= S2I(src) - hash
    if decrypt > 100 or decrypt < 0 then
        return 0
    endif
    return decrypt
endfunction
// ç½‘æ˜“å•†åŸç›¸å…³çš„é€»è¾‘
function checkPurchase takes nothing returns nothing
    local integer i= 1
    loop
        exitwhen i > 5
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_TALENT) or udg_isTest[i - 1] then
            set talent_flag[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_TIEZHANG) or udg_isTest[i - 1] then
            set tiezhang_flag[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_TANGMEN) or udg_isTest[i - 1] then
            set tangmen_flag[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_WUDU) or udg_isTest[i - 1] then
            set wudu_flag[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_TAOHUA) or udg_isTest[i - 1] then
            set taohua_flag[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_DOUBLE_POINT) or udg_isTest[i - 1] then
            set mall_addition[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_LEVEL_AWARD) or udg_isTest[i - 1] then
            set level_award[i]=1
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_WUKONG) or udg_isTest[i - 1] then
            set wukong_flag[i]=1
            call SetPlayerTechResearched(Player(i - 1), 'R004', 1)
        endif
        if DzAPI_Map_HasMallItem(Player(i - 1), PROPERTY_PANDA) or udg_isTest[i - 1] then
            set panda_flag[i]=1
            call SetPlayerTechResearched(Player(i - 1), 'R005', 1)
        endif
        set i=i + 1
    endloop
endfunction
function mallInit takes nothing returns nothing
    local timer t= CreateTimer()
    local integer i= 1
    loop
        exitwhen i > 5
        set tiezhang_flag[i]=0
        set tangmen_flag[i]=0
        set wudu_flag[i]=0
        set taohua_flag[i]=0
        set talent_flag[i]=0
        set mall_addition[i]=0
        set level_award[i]=0
        set panda_flag[i]=0
        set wukong_flag[i]=0
        set i=i + 1
    endloop
    call TimerStart(t, 1, true, function checkPurchase)
    set t=null
endfunction//---------------------------------
// æ¸¸æˆé€»è¾‘å¤„ç†
// 1. åŸºåœ°ä¿æŠ¤é€»è¾‘
// 2. é€‰æ‹©è‹±é›„åŠé—¨æ´¾
// 3. è®¾ç½®æ¸¸æˆæ¨¡å¼å’Œéš¾åº¦
// 4. æ¸¸æˆç•Œé¢æ˜¾ç¤ºç›¸å…³
// 5. æ¸¸æˆèƒœåˆ©å’Œå¤±è´¥
// 6. ç©å®¶è‹±é›„é˜µäº¡å’Œå¤æ´»
// 7. åˆ·æ€ªç›¸å…³
// 8. é¸Ÿçš„æŠ€èƒ½
// 9. è‹±é›„å‡çº§
// 10. å„ç±»å›å¤
// 11. è¿œç¨‹ä¼ é€
// 12. å¤è‘£ç³»ç»Ÿ
// 13. å‰‘æ„ç³»ç»Ÿ
// 14. ç§¯åˆ†å’Œå£°æœ›æ¢ç‰©å“ã€æ­¦å­¦ç²¾è¦
// 15. å­¦ä¹ å’Œé—å¿˜æ­¦åŠŸï¼ˆå«æ¿€æ´»æ®‹ç« ï¼‰
// 16. åˆæˆç‰©å“
// 17. ä¼´ä¾£ç³»ç»Ÿ
// 18. æ•´ç†åœ°å›¾ä¸Šç‰©å“
// 19. å…¶ä»–çç¢é€»è¾‘
// 20. F2 F3 F4å›åŸ
//---------------------------------

//åŸºåœ°ä¿æŠ¤æœºåˆ¶
function IsJiDiBaoHu takes nothing returns boolean
	return ( GetTriggerUnit() == udg_ZhengPaiWL ) and GetEventDamage() > GetUnitState(udg_ZhengPaiWL, UNIT_STATE_MAX_LIFE) * 0.03
endfunction
function JiDiBaoHu takes nothing returns nothing
	call WuDi(udg_ZhengPaiWL)
	call SetUnitLifePercentBJ(udg_ZhengPaiWL, GetUnitLifePercent(udg_ZhengPaiWL) - 3.00)
endfunction
//äº‘å¤§æ•‘å®¶
function Trig_YunDaXianShenConditions takes nothing returns boolean
	return ( ( GetTriggerUnit() == udg_ZhengPaiWL ) and ( GetUnitLifePercent(udg_ZhengPaiWL) <= 25.00 ) and ( udg_yunyangxianshen == false ) )
endfunction
function Trig_YunDaXianShenActions takes nothing returns nothing
	set udg_yunyangxianshen=true
	call CreateNUnitsAtLoc(1, 'Hblm', Player(5), OffsetLocation(GetUnitLoc(udg_ZhengPaiWL), 0, 200), 90.00)
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|cFFFF6600åŸºåœ°ä¸¥é‡å—åˆ›ï¼Œäº‘æ¨ç°èº«ç›¸åŠ©")
	call UnitApplyTimedLife(GetLastCreatedUnit(), 'BHwe', 20.00)
	call UnitAddAbility(udg_ZhengPaiWL, 'Avul')
	call YDWEPolledWaitNull(20.00)
	call UnitRemoveAbilityBJ('Avul', udg_ZhengPaiWL)
endfunction
//ä¹°åŸºåœ°æ— æ•Œ
function BuyJiDiWuDi takes nothing returns boolean
	return GetItemTypeId(GetManipulatedItem()) == 'I07X'
endfunction
function JiDiWuDi takes nothing returns nothing
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00ff33åœ¨æ­£ä¹‰ä¹‹å£«çš„åº‡æŠ¤ä¸‹ï¼Œæ­¦æ—æš‚æ—¶æ— æ•Œäº†ï¼ˆ20ç§’åè§£é™¤ï¼‰")
	call SetUnitInvulnerable(udg_ZhengPaiWL, true)
	call YDWEPolledWaitNull(20.)
	call SetUnitInvulnerable(udg_ZhengPaiWL, false)
endfunction
//åŸºåœ°æŒ¨æ‰“
function JiDiAiDa_Conditions takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetAttacker())) == MAP_CONTROL_COMPUTER )
endfunction
function laojiayouren takes nothing returns boolean
	return ( IsUnitAlly(GetFilterUnit(), Player(0)) ) and ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) or GetUnitTypeId(GetFilterUnit()) == 'n00X' ) and ( GetPlayerController(GetOwningPlayer(GetFilterUnit())) == MAP_CONTROL_USER )
endfunction
function JiDiAiDa_Actions takes nothing returns nothing
	//==============åä»‡æ¨æœºåˆ¶å®šä¹‰å•ä½ç»„==============
 local group g=CreateGroup()
	//==============åä»‡æ¨æœºåˆ¶å®šä¹‰å•ä½ç»„==============
	if GetRandomInt(1, 50) == 48 then
		call PingMinimapForForce(bj_FORCE_ALL_PLAYERS, GetUnitX(udg_ZhengPaiWL), GetUnitY(udg_ZhengPaiWL), 1)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFCCFF00æ­£æ´¾æ­¦æ—å—åˆ°æ”»å‡»ï¼Œè¯·èµ¶ç´§å›é˜²")
	endif
	// é­”æ•™æ•™ä¸»ä¸å¯ä»¥è¢«å…³è¿›ç›‘ç‹±
	if GetRandomInt(30, 50) == 45 and GetUnitTypeId(GetAttacker()) != 'nbds' then
		call SetUnitPosition(GetAttacker(), GetRectCenterX(udg_jail), GetRectCenterY(udg_jail))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFCCFFCCæ­£æ´¾æ­¦æ—å°†æ”»å‡»å•ä½æŠ“è¿›äº†ç›‘ç‹±")
	endif
	call GroupEnumUnitsInRange(g, GetUnitX(udg_ZhengPaiWL), GetUnitY(udg_ZhengPaiWL), 800, Condition(function laojiayouren))
	if ( ( IsUnitGroupEmptyBJ(g) == false ) ) then
		call UnitAddAbility(udg_ZhengPaiWL, 'A00S')
		call YDWEPolledWaitNull(5.00)
		call UnitRemoveAbility(udg_ZhengPaiWL, 'A00S')
	endif
	call DestroyGroup(g)
	set g=null
endfunction
//è´­ä¹°åŸé˜²
function BuyChengFang takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896147 ) )
endfunction
function ShengChengFang takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if ( ( GetPlayerTechCountSimple('R000', Player(5)) <= 29 ) ) then
		call SetPlayerTechResearchedSwap('R000', ( GetPlayerTechCountSimple('R000', Player(5)) + 1 ), Player(5))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|cFFFFD700åœ¨ç©å®¶ï¼š" + ( GetPlayerName(GetOwningPlayer(GetTriggerUnit())) + "çš„æ— ç§å¥‰çŒ®ä¸‹ï¼Œæ­£æ´¾æ­¦æ—çš„åŸé˜²å¾—åˆ°åŠ å¼ºäº†" ) ))
		set i=1
		loop
		exitwhen i >= 6
			set shoujiajf[i]=shoujiajf[i] + 15
			set i=i + 1
		endloop
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "å‡çº§åŸé˜²ï¼Œæ¯ä½ç©å®¶å®ˆå®¶ç§¯åˆ†+15")
		// set shoujiajf[i] = shoujiajf[i] + $F
		// call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF34FF00å®ˆå®¶ç§¯åˆ†+15")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "å‡çº§åŸé˜²ï¼Œæ¯ä½ç©å®¶å®ˆå®¶ç§¯åˆ†+15")
		
	else
		call AdjustPlayerStateBJ($4E20, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF0000åŸé˜²å·²è¾¾æœ€é«˜ï¼Œæ— æ³•ç»§ç»­å‡çº§|r")
	endif
endfunction
//é«˜çº§åŸé˜²
function BuyGaoChengFang takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896917 ) )
endfunction
function ShengGaoChengFang takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if ( ( udg_boshu >= 18 ) ) then
		if ( ( GetPlayerTechCountSimple('R002', Player(5)) <= 9 ) ) then
			call SetPlayerTechResearchedSwap('R002', ( GetPlayerTechCountSimple('R002', Player(5)) + 1 ), Player(5))
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|cFFFFD700åœ¨ç©å®¶ï¼š" + ( GetPlayerName(GetOwningPlayer(GetTriggerUnit())) + "çš„æ— ç§å¥‰çŒ®ä¸‹ï¼Œæ­£æ´¾æ­¦æ—çš„é«˜çº§åŸé˜²å¾—åˆ°åŠ å¼ºäº†" ) ))
			set i=1
			loop
			exitwhen i >= 6
				set shoujiajf[i]=shoujiajf[i] + 25
				set i=i + 1
			endloop
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "å‡çº§é«˜çº§åŸé˜²ï¼Œæ¯ä½ç©å®¶å®ˆå®¶ç§¯åˆ†+25")
			// set shoujiajf[i] = shoujiajf[i] + 25
			// call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF34FF00å®ˆå®¶ç§¯åˆ†+25")
		else
			call AdjustPlayerStateBJ($C350, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF0000é«˜çº§åŸé˜²å·²è¾¾æœ€é«˜ï¼Œæ— æ³•ç»§ç»­å‡çº§|r")
		endif
	else
		call AdjustPlayerStateBJ($C350, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFF000018æ³¢è¿›æ”»æ€ªä»¥åæ‰èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½å“¦|r")
	endif
endfunction

//é€‰æ‹©è‹±é›„
function fx takes nothing returns boolean
	return ( ( ( udg_hashero[( 1 + GetPlayerId(GetTriggerPlayer()) )] == false ) and ( IsUnitInGroup(GetTriggerUnit(), i7) ) ) )
endfunction
function playAttackAnimation takes unit u returns nothing
	call SetUnitAnimation(u, "attack")
	call YDWEPolledWaitNull(2)
	call ResetUnitAnimation(u)
endfunction
function SelectHero takes nothing returns nothing
 local player p=GetTriggerPlayer()
 local integer i=1 + GetPlayerId(p)
 local unit u=GetTriggerUnit()
	if ( GetUnitTypeId(L4[i]) == GetUnitTypeId(u) ) then
		if u == K4[1] or u == K4[2] or u == K4[3] or u == K4[4] or u == K4[5] or ( u == K4[6] and udg_vip[i] > 0 ) or ( u == K4[7] and ( udg_changevip[i] > 0 or udg_vip[i] == 2 ) ) then
			set Q4=GetRandomLocInRect(Ge)
			call CreateNUnitsAtLoc(1, GetUnitTypeId(u), p, Q4, bj_UNIT_FACING)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
		endif
		if ( u == K4[1] ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00è‹¥è¶|rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…")
			call addAllAttrs(i , 2)
			set wuxing[i]=wuxing[i] + 6
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		elseif ( u == K4[2] ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00æ½‡ä¾ |rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…")
			call addAllAttrs(i , 2)
			set fuyuan[i]=fuyuan[i] + 6
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		elseif ( ( u == K4[3] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00è«è¨€|rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…")
			call addAllAttrs(i , 2)
			set danpo[i]=danpo[i] + 6
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		elseif ( ( u == K4[4] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00æµªäº‘|rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…")
			call addAllAttrs(i , 2)
			set jingmai[i]=jingmai[i] + 6
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		elseif ( ( u == K4[5] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00é­”å›|rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…")
			call addAllAttrs(i , 2)
			set gengu[i]=gengu[i] + 6
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		elseif ( u == K4[6] ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00å…°é¦¨|rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…|r\n")
			call addAllAttrs(i , 3)
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		elseif ( u == K4[7] ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "æ­å–œè·å¾—è‹±é›„ï¼š|CFFCCFF00ç‘¾è½©|rï¼Œè¯·é€‰æ‹©é—¨æ´¾åå¼€å¯æ±Ÿæ¹–ä¹‹æ—…|r\n")
			call addAllAttrs(i , 3)
			set udg_xinggeA[i]=GetRandomInt(3, 5)
			set udg_xinggeB[i]=GetRandomInt(3, 5)
			call RemoveUnit(vipbanlv[i])
		endif
		if u == K4[1] or u == K4[2] or u == K4[3] or u == K4[4] or u == K4[5] or ( u == K4[6] and udg_vip[i] > 0 ) or ( u == K4[7] and ( udg_changevip[i] > 0 or udg_vip[i] == 2 ) ) then
			call SelectUnitRemoveForPlayer(u, p)
			call SelectUnitAddForPlayer(bj_lastCreatedUnit, p)
			call AddSpecialEffectTargetUnitBJ("overhead", bj_lastCreatedUnit, "Abilities\\Spells\\Other\\Awaken\\Awaken.mdl")
			call DestroyEffect(bj_lastCreatedEffect)
			set udg_hashero[i]=true
			set udg_hero[i]=bj_lastCreatedUnit
			// å¤šé€šå¥–åŠ±100ç§»é€Ÿ
			call h__SetUnitMoveSpeed(udg_hero[i], GetUnitMoveSpeed(udg_hero[i]) + extraSpeed[i - 1])
			// å•é€šå¥–åŠ±ç§°å·
			if GetPlayerName(Player(i - 1)) == "éæˆ‘è«å±xq" then
				call AddSpecialEffectTarget("[ch]7.mdl", bj_lastCreatedUnit, "overhead")
			elseif GetPlayerName(Player(i - 1)) == "zeikale" or GetPlayerName(Player(i - 1)) == "zeikala" then
				call AddSpecialEffectTarget("[ch]9.mdl", bj_lastCreatedUnit, "overhead")
			else
				if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 18 then
					call AddSpecialEffectTarget("yujianjiahu4.mdx", bj_lastCreatedUnit, "overhead")
				endif
			endif
			
			
			set O4=O4 + 1
			call RemoveLocation(Q4)
			call DisplayTimedTextToPlayer(p, 0, 0, 10., "|CFF00FFFFæç¤ºï¼š|rè¾“å…¥|CFF00EE00-random|rå¯éšæœºé€‰æ‹©é—¨æ´¾|r")
		endif
	else
		set L4[i]=u
		if ( ( u == K4[1] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00è‹¥è¶|r\né¢å¤–å±æ€§ï¼š|cFF00FF00æ‚Ÿæ€§\n|r")
			call playAttackAnimation(u)
		elseif ( ( u == K4[2] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00æ½‡ä¾ |r\né¢å¤–å±æ€§ï¼š|cFF00FF00ç¦ç¼˜\n|r")
			call playAttackAnimation(u)
		elseif ( ( u == K4[3] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00è«è¨€|r\né¢å¤–å±æ€§ï¼š|cFF00FF00èƒ†é­„\n|r")
			call playAttackAnimation(u)
		elseif ( ( u == K4[4] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00æµªäº‘|r\né¢å¤–å±æ€§ï¼š|cFF00FF00ç»è„‰\n|r")
			call playAttackAnimation(u)
		elseif ( ( u == K4[5] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00é­”å›|r\né¢å¤–å±æ€§ï¼š|cFF00FF00æ ¹éª¨\n|r")
			call playAttackAnimation(u)
		elseif ( ( u == K4[6] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00å…°é¦¨|r\né¢å¤–å±æ€§ï¼š|cFF00FF00å…¨å±æ€§\n|r")
			call playAttackAnimation(u)
		elseif ( ( u == K4[7] ) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFCCFF00ç‘¾è½©|r\né¢å¤–å±æ€§ï¼š|cFF00FF00å…¨å±æ€§\n|r")
			call playAttackAnimation(u)
		endif
	endif
	set p=null
	set u=null
endfunction
//é€‰æ‹©é—¨æ´¾åŠ å…¥
function WuMenPai_Condition takes nothing returns boolean
	return (IsUnitType((GetLeavingUnit() ), ( UNIT_TYPE_HERO)) != null) and udg_runamen[1 + GetPlayerId(GetOwningPlayer(GetLeavingUnit()))] == 0 and GetPlayerController(GetOwningPlayer(GetLeavingUnit())) == MAP_CONTROL_USER // INLINED!!
endfunction
//è‡ªç”±é—¨æ´¾
function WuMenPai_Action takes nothing returns nothing
 local unit u=GetLeavingUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	set udg_runamen[i]=11
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "é€‰æ‹©äº†ã€“è‡ªç”±é—¨æ´¾ã€“|r")
	call SetPlayerName(p, "ã€“è‡ªç”±é—¨æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
	call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ")
	call UnitAddAbility(u, 'A05R')
	call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
	call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
	if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
		call UnitAddAbility(u, 'A040')
		call UnitAddAbility(u, 'A041')
		call UnitAddAbility(u, 'A042')
	endif
	set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
	call UnitRemoveAbility(u, 'Avul')
	set Q4=GetRandomLocInRect(He)
	call SetUnitPositionLoc(u, Q4)
	call PanCameraToTimedLocForPlayer(p, Q4, 0)
	call createPartnerAndTownPortalDummy(i , Q4)
	call AdjustPlayerStateBJ(60, p, PLAYER_STATE_RESOURCE_LUMBER)
	set udg_shuxing[i]=udg_shuxing[i] + 5
	call RemoveLocation(Q4)
	call UnitAddItemByIdSwapped(1227896394, u)
	set u=null
	set p=null
endfunction
// åŠ å…¥é—¨æ´¾çš„itemid
function ox takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( ( GetItemTypeId(GetManipulatedItem()) == 1227894833 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894834 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894835 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894836 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894837 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894838 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894839 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894840 ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894841 ) or ( GetItemTypeId(GetManipulatedItem()) == 'I09E' ) or ( GetItemTypeId(GetManipulatedItem()) == 1227894849 ) or ( GetItemTypeId(GetManipulatedItem()) == 'I09N' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0A2' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0CK' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0CX' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0E1' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0EH' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0EO' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0AA' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0AG' ) or ( GetItemTypeId(GetManipulatedItem()) == 'I0ET' ) ) ) // INLINED!!
endfunction
function JiaRuMenPai takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if ( ( udg_runamen[i] != 0 ) ) then
		if udg_runamen[i] == 11 and GetUnitLevel(u) <= 2 and GetPlayerState(p, PLAYER_STATE_RESOURCE_LUMBER) >= 60 then
			// è‡ªç”±æ”¹æŠ•æ…•å®¹
			if GetItemTypeId(GetManipulatedItem()) == 'I09E' then
				set udg_runamen[i]=13
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“å§‘è‹æ…•å®¹ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
				call SetPlayerName(p, "ã€“å§‘è‹æ…•å®¹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
				call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
			endif
			// è‡ªç”±æ”¹æŠ•æ˜æ•™
			if GetItemTypeId(GetManipulatedItem()) == 'I09N' then
				if udg_jf[i - 1] >= 20 then
					if ( jf_useMax[i - 1] + 20 ) <= jf_max then
						set udg_shuxing[i]=udg_shuxing[i] - 5
						set wuxing[i]=( wuxing[i] + 3 )
						set jingmai[i]=( jingmai[i] + 2 )
						set fuyuan[i]=( fuyuan[i] + 2 )
						set udg_runamen[i]=14
						call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“æ˜æ•™ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
						call SetPlayerName(p, "ã€“æ˜æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
						call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
						// ç´¯åŠ æœ¬å±€å¯ç”¨ç§¯åˆ†
						set jf_useMax[i - 1]=jf_useMax[i - 1] + 20
						// æ‰£é™¤å¯¹åº”çš„ç§¯åˆ†
						set udg_jf[i - 1]=udg_jf[i - 1] - 20
						// ä¿å­˜åˆ°æœåŠ¡å™¨
						call DzAPI_Map_StoreInteger(Player(i - 1) , "jf" , udg_jf[i - 1])
						call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00æ‰£é™¤20ç§¯åˆ†é€‰æ‹©æ˜æ•™")
					else
						call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00ä¸èƒ½é€‰æ‹©æ˜æ•™ï¼Œæœ¬å±€å¯ç”¨ç§¯åˆ†è¾¾åˆ°ä¸Šé™50")
					endif
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00ç§¯åˆ†ä¸è¶³20ï¼Œä¸èƒ½é€‰æ‹©æ˜æ•™")
				endif
			endif
			// è‡ªç”±æ”¹æŠ•çµé¹«
			if GetItemTypeId(GetManipulatedItem()) == 'I0EH' then
				if udg_jf[i - 1] >= 20 then
					if ( jf_useMax[i - 1] + 20 ) <= jf_max then
						set udg_shuxing[i]=udg_shuxing[i] - 5
						set danpo[i]=( danpo[i] + 2 )
						set jingmai[i]=( jingmai[i] + 2 )
						set fuyuan[i]=( fuyuan[i] + 1 )
						set udg_runamen[i]=12
						call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“çµé¹«å®«ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
						call SetPlayerName(p, "ã€“çµé¹«å®«ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
						call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
						// ç´¯åŠ æœ¬å±€å¯ç”¨ç§¯åˆ†
						set jf_useMax[i - 1]=jf_useMax[i - 1] + 20
						// æ‰£é™¤å¯¹åº”çš„ç§¯åˆ†
						set udg_jf[i - 1]=udg_jf[i - 1] - 20
						// ä¿å­˜åˆ°æœåŠ¡å™¨
						call DzAPI_Map_StoreInteger(Player(i - 1) , "jf" , udg_jf[i - 1])
						call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00æ‰£é™¤20ç§¯åˆ†é€‰æ‹©çµé¹«å®«")
					else
						call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00ä¸èƒ½é€‰æ‹©çµé¹«å®«ï¼Œæœ¬å±€å¯ç”¨ç§¯åˆ†è¾¾åˆ°ä¸Šé™50")
					endif
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00ç§¯åˆ†ä¸è¶³20ï¼Œä¸èƒ½é€‰æ‹©çµé¹«å®«")
				endif
			endif
			
			// è‡ªç”±æ”¹æŠ•é“æŒå¸®
			if GetItemTypeId(GetManipulatedItem()) == 'I0E1' then
				if tiezhang_flag[i] == 1 then
					set gengu[i]=gengu[i] + 3
					set danpo[i]=danpo[i] + 2
					set udg_runamen[i]=19
					call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“é“æŒå¸®ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
					call SetPlayerName(p, "ã€“é“æŒå¸®ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					
					set udg_shuxing[i]=udg_shuxing[i] - 5
					call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00é€‰æ‹©é“æŒå¸®")
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00å°šæœªè§£é”ï¼Œä¸èƒ½é€‰æ‹©é“æŒå¸®")
				endif
			endif
			
			// è‡ªç”±æ”¹æŠ•å”é—¨
			if GetItemTypeId(GetManipulatedItem()) == 'I0EO' then
				if tangmen_flag[i] == 1 then
					set wuxing[i]=wuxing[i] + 3
					set fuyuan[i]=fuyuan[i] + 2
					set udg_runamen[i]=20
					call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“å”é—¨ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
					call SetPlayerName(p, "ã€“å”é—¨ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					
					set udg_shuxing[i]=udg_shuxing[i] - 5
					call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00é€‰æ‹©å”é—¨")
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00å°šæœªè§£é”ï¼Œä¸èƒ½é€‰æ‹©å”é—¨")
				endif
			endif
			// è‡ªç”±æ”¹æŠ•äº”æ¯’æ•™
			if GetItemTypeId(GetManipulatedItem()) == 'I0AA' then
				if wudu_flag[i] == 1 then
					call addAllAttrs(i , 1)
					set udg_runamen[i]=21
					call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“äº”æ¯’æ•™ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
					call SetPlayerName(p, "ã€“äº”æ¯’æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					call UnitAddItemById(udg_hero[i], ITEM_HAN_SHA)
					
					set udg_shuxing[i]=udg_shuxing[i] - 5
					call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00é€‰æ‹©äº”æ¯’æ•™")
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00å°šæœªè§£é”ï¼Œä¸èƒ½é€‰æ‹©äº”æ¯’æ•™")
				endif
			endif
			// è‡ªç”±æ”¹æŠ•æ¡ƒèŠ±å²›
			if GetItemTypeId(GetManipulatedItem()) == 'I0ET' then
				if taohua_flag[i] == 1 then
					call addAllAttrs(i , 1)
					set udg_runamen[i]=22
					call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "æ”¹æ‹œå…¥äº†ã€“æ¡ƒèŠ±å²›ã€“ï¼Œå¤§å®¶ä¸€èµ·è†œæ‹œä»–|r")
					call SetPlayerName(p, "ã€“æ¡ƒèŠ±å²›ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					
					call SaveInteger(YDHT, GetHandleId(udg_hero[i]), BI_BO_POINT, 50)
					if Player(i - 1) == GetLocalPlayer() then
						call s__Frame_show(bibo_image)
					endif
					set udg_shuxing[i]=udg_shuxing[i] - 5
					call AdjustPlayerStateBJ(- 60, p, PLAYER_STATE_RESOURCE_LUMBER)
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00é€‰æ‹©æ¡ƒèŠ±å²›")
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 5, "|cFF66CC00å°šæœªè§£é”ï¼Œä¸èƒ½é€‰æ‹©æ¡ƒèŠ±å²›")
				endif
			endif
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ å·²ç»åŠ è¿‡é—¨æ´¾äº†|r")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894833 ) ) then
		if ( ( GetUnitTypeId(u) != 'O002' ) and ( GetUnitTypeId(u) != 'O003' ) ) then
			set udg_runamen[i]=1
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“å°‘æ—æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“å°‘æ—æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set gengu[i]=( gengu[i] + 3 )
			set jingmai[i]=( jingmai[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894834 ) ) then
		if ( ( GetUnitTypeId(u) != 'O000' ) ) then
			set udg_runamen[i]=3
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“ä¸å¸®ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“ä¸å¸®ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set danpo[i]=( danpo[i] + 3 )
			set jingmai[i]=( jingmai[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894835 ) ) then
		if ( ( GetUnitTypeId(u) != 'O002' ) ) then
			set udg_runamen[i]=4
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“åå±±æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“åå±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set wuxing[i]=( wuxing[i] + 3 )
			set danpo[i]=( danpo[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894836 ) ) then
		if ( ( GetUnitTypeId(u) != 'O004' ) and ( GetUnitTypeId(u) != 'O003' ) ) then
			set udg_runamen[i]=5
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“å…¨çœŸæ•™ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“å…¨çœŸæ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set jingmai[i]=( jingmai[i] + 3 )
			set fuyuan[i]=( fuyuan[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894837 ) ) then
		if ( ( GetUnitTypeId(u) != 'O001' ) and ( GetUnitTypeId(u) != 'O002' ) ) then
			set udg_runamen[i]=6
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“è¡€åˆ€é—¨ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“è¡€åˆ€é—¨ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set gengu[i]=( gengu[i] + 2 )
			set danpo[i]=( danpo[i] + 3 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894838 ) ) then
		if ( ( GetUnitTypeId(u) != 'O004' ) and ( GetUnitTypeId(u) != 'O000' ) and ( GetUnitTypeId(u) != 'O001' ) ) then
			set udg_runamen[i]=7
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“æ’å±±æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“æ’å±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set yishu[i]=( yishu[i] + 3 )
			set fuyuan[i]=( fuyuan[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894839 ) ) then
		if ( ( GetUnitTypeId(u) != 'O004' ) ) then
			set udg_runamen[i]=8
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“å³¨çœ‰æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“å³¨çœ‰æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set yishu[i]=( yishu[i] + 1 )
			set jingmai[i]=( jingmai[i] + 1 )
			set fuyuan[i]=( fuyuan[i] + 3 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894840 ) ) then
		if ( ( GetUnitTypeId(u) != 'O001' ) ) then
			set udg_runamen[i]=$A
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“æ˜Ÿå®¿æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“æ˜Ÿå®¿æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			set Q4=GetRandomLocInRect(He)
			call UnitRemoveAbility(u, 'Avul')
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set danpo[i]=( danpo[i] + 2 )
			set yishu[i]=( yishu[i] + 1 )
			set jingmai[i]=( jingmai[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894841 ) ) then
		if ( ( GetUnitTypeId(u) != 'O003' ) ) then
			set udg_runamen[i]=9
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“æ­¦å½“æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“æ­¦å½“æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call UnitRemoveAbility(u, 'Avul')
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set gengu[i]=( gengu[i] + 1 )
			set jingmai[i]=( jingmai[i] + 2 )
			set fuyuan[i]=( fuyuan[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 1227894849 ) ) then
		if ( ( GetUnitTypeId(u) != 'O000' ) ) then
			set udg_runamen[i]=2
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“å¤å¢“æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“å¤å¢“æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set wuxing[i]=( wuxing[i] + 2 )
			set jingmai[i]=( jingmai[i] + 1 )
			set fuyuan[i]=( fuyuan[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0A2' ) ) then
		if ( ( GetUnitTypeId(u) != 'O002' ) and ( GetUnitTypeId(u) != 'O003' ) ) then
			set udg_runamen[i]=15
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“è¡¡å±±æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“è¡¡å±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set wuxing[i]=( wuxing[i] + 3 )
			set yishu[i]=( yishu[i] + 2 )
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0CK' ) ) then
		if ( GetUnitTypeId(u) == 'O000' or GetUnitTypeId(u) == 'O001' or GetUnitTypeId(u) == 'O004' or GetUnitTypeId(u) == 'O02J' ) then
			set udg_runamen[i]=16
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“ç¥é¾™æ•™ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“ç¥é¾™æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set gengu[i]=gengu[i] + 2
			set fuyuan[i]=fuyuan[i] + 2
			set danpo[i]=danpo[i] + 1
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			set udg_runamen[i]=17
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“ç¥é¾™æ•™ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“ç¥é¾™æ•™ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set gengu[i]=gengu[i] + 2
			set fuyuan[i]=fuyuan[i] + 2
			set danpo[i]=danpo[i] + 1
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0CX' ) ) then
		if ( GetUnitTypeId(u) != 'O003' ) then
			set udg_runamen[i]=18
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933æ­å–œåŠ å…¥ã€“æ³°å±±æ´¾ã€“ï¼Œè¯·åœ¨NPCéƒ­é–å¤„é€‰æ‹©å‰¯èŒ|r")
			call SetPlayerName(p, "ã€“æ³°å±±æ´¾ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼ˆå¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†ï¼‰\nè·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…ï¼ˆå¯ä»¥åœ¨èƒŒåŒ…ä¸­æ‰“å¼€è·å¾—æƒŠå–œå“¦ï¼‰")
			call UnitAddAbility(u, 'A05R')
			call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
			call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
			if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
				call UnitAddAbility(u, 'A040')
				call UnitAddAbility(u, 'A041')
				call UnitAddAbility(u, 'A042')
			endif
			set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
			call UnitRemoveAbility(u, 'Avul')
			set Q4=GetRandomLocInRect(He)
			call SetUnitPositionLoc(u, Q4)
			call PanCameraToTimedLocForPlayer(p, Q4, 0)
			call createPartnerAndTownPortalDummy(i , Q4)
			set gengu[i]=gengu[i] + 3
			set wuxing[i]=wuxing[i] + 1
			set yishu[i]=yishu[i] + 1
			call RemoveLocation(Q4)
			call UnitAddItemByIdSwapped(1227896394, u)
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff0000ä½ çš„è§’è‰²ä¸èƒ½åŠ å…¥è¯¥é—¨æ´¾")
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0AG' ) ) then
		call randomMenpai(p , 1)
	endif
	set p=null
	set u=null
endfunction

// è®¾ç½®æ¸¸æˆéš¾åº¦å’Œç»éªŒè·å¾—ç‡çš„å‡½æ•°
function setDifficultyAndExpRate takes integer difficulty returns nothing
	set udg_nandu=difficulty
	call SetPlayerHandicapXPBJ(Player(0), 200.00 - 20.00 * difficulty)
	call SetPlayerHandicapXPBJ(Player(1), 200.00 - 20.00 * difficulty)
	call SetPlayerHandicapXPBJ(Player(2), 200.00 - 20.00 * difficulty)
	call SetPlayerHandicapXPBJ(Player(3), 200.00 - 20.00 * difficulty)
	call SetPlayerHandicapXPBJ(Player(4), 200.00 - 20.00 * difficulty)
endfunction
//ä¸»æœºé€‰æ‹©æ¨¡å¼
function Trig_____________u_Func002C takes nothing returns boolean
	return ( GetPlayerController(Player(0)) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING )
endfunction
// é™å®šæ—¶é—´ä¸é€‰éš¾åº¦ï¼Œè‡ªåŠ¨é€‰
function ChooseMoshi_Auto takes nothing returns nothing
 local timer t= GetExpiredTimer()
	if moshiFlag == false then
		call DialogDisplayBJ(false, udg_index, Player(0))
		set udg_teshushijian=true
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "ä¸»æœºé»˜è®¤é€‰æ‹©äº†|cff00FFFFç‰¹æ®Šäº‹ä»¶|ræ¨¡å¼")
	endif
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
endfunction
function ChooseMoShi takes nothing returns nothing
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF40ä¸»æœºå¼€å§‹é€‰æ‹©æ¸¸æˆæ¨¡å¼")
	if ( (( GetPlayerController(Player(0)) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING )) ) then // INLINED!!
		call DialogClear(udg_index)
		call DialogSetMessage(udg_index, "è¯·é€‰æ‹©æ¸¸æˆæ¨¡å¼ï¼Œ20ç§’æ—¶é—´")
		set udg_index1=DialogAddButtonBJ(udg_index, "|cFFCC0066ç‰¹æ®Šäº‹ä»¶æ¨¡å¼")
		set udg_index3=DialogAddButtonBJ(udg_index, "|cFF6600FFæŒ‘æˆ˜æ¨¡å¼ï¼ˆ3å€ç§¯åˆ†ï¼‰")
		set udg_index2=DialogAddButtonBJ(udg_index, "|cFFCC7766å…»è€æ¨¡å¼ï¼ˆ30å€ä¼¤å®³ï¼Œæ— ç§¯åˆ†ï¼‰")
		call DialogDisplayBJ(true, udg_index, Player(0))
		// å¼€å¯è®¡æ—¶å™¨ï¼Œ20sä¸é€‰æ¨¡å¼é»˜è®¤é€‰æ‹©ç‰¹æ®Šæ¨¡å¼
		call TimerStart(CreateTimer(), 20, false, function ChooseMoshi_Auto)
	endif
endfunction

// æ—¶é—´åˆ°äº†ï¼Œé»˜è®¤æŒ‘æˆ˜æ¨¡å¼
function TiaoZhanMoshi_Auto takes nothing returns nothing
 local timer t= GetExpiredTimer()
	if tiaoZhanFlag == false then
		call DialogDisplayBJ(false, udg_tiaoZhan, Player(0))
		set udg_teshushijian=true
		set udg_sutong=true
		set tiaoZhanIndex=1
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "ä¸»æœºé»˜è®¤é€‰æ‹©äº†|cff00FFFFå¿«é€Ÿé€šå…³æ¨¡å¼")
	endif
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
endfunction
// æŒ‘æˆ˜æ¨¡å¼äºŒçº§å¼¹çª—
function TiaoZhanMoshi takes nothing returns nothing
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF40ä¸»æœºå¼€å§‹é€‰æ‹©æ¸¸æˆæ¨¡å¼")
	if ( (( GetPlayerController(Player(0)) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING )) ) then // INLINED!!
		call DialogClear(udg_tiaoZhan)
		call DialogSetMessage(udg_tiaoZhan, "è¯·é€‰æ‹©ä¸€ä¸ªæŒ‘æˆ˜æ¨¡å¼ï¼Œ20ç§’æ—¶é—´")
		set udg_tiaoZhan0=DialogAddButtonBJ(udg_tiaoZhan, "|cFF00CC00å¿«é€Ÿé€šå…³")
		set udg_tiaoZhan1=DialogAddButtonBJ(udg_tiaoZhan, "|cFFCC0066æ— æŠ€èƒ½ä¹¦å•†åº—")
		set udg_tiaoZhan2=DialogAddButtonBJ(udg_tiaoZhan, "|cFF0066CCæ— å°½BOSSæˆ˜")
		call DialogDisplayBJ(true, udg_tiaoZhan, Player(0))
		// å¼€å¯è®¡æ—¶å™¨ï¼Œ20sä¸é€‰æ¨¡å¼é»˜è®¤é€‰æ‹©ç‰¹æ®Šæ¨¡å¼
		call TimerStart(CreateTimer(), 20, false, function TiaoZhanMoshi_Auto)
	endif
endfunction
// æŒ‘æˆ˜æ¨¡å¼ç‚¹å‡»é€‰æ‹©æ¨¡å¼çš„åŠ¨ä½œ
function TiaoZhanMoshi_Action takes nothing returns nothing
 local integer i= 0
	if GetClickedButton() == udg_tiaoZhan0 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "ä¸»æœºé€‰æ‹©äº†|cFF00CC00å¿«é€Ÿé€šå…³|ræ¨¡å¼")
		set udg_teshushijian=true
		set udg_sutong=true
		set tiaoZhanIndex=1
	endif
	if GetClickedButton() == udg_tiaoZhan1 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "ä¸»æœºé€‰æ‹©äº†|cFFCC0066æ— æŠ€èƒ½ä¹¦å•†åº—|ræ¨¡å¼")
		set udg_teshushijian=true
		set udg_sutong=false
		set tiaoZhanIndex=2
		// ç§»é™¤æŠ€èƒ½ä¹¦å•†åº—
		loop
		exitwhen i > 3
			call RemoveUnit(udg_sellSkillBook[i])
			set i=i + 1
		endloop
	endif
	if GetClickedButton() == udg_tiaoZhan2 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "ä¸»æœºé€‰æ‹©äº†|cFF0066CCæ— å°½BOSSæˆ˜|ræ¨¡å¼")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "æ— å°½BOSSæˆ˜æ¨¡å¼ä¸‹ç©å®¶å¯ä»¥åˆ°åé—¨æŒ‘æˆ˜NPCå¤„è¿›è¡Œæ— å°½BOSSæŒ‘æˆ˜ï¼Œå¦‚æœä¸ä¸»åŠ¨å‘èµ·æŒ‘æˆ˜ï¼Œå°†åœ¨å¼€å±€1å°æ—¶è‡ªåŠ¨å¼€å§‹")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "æ— å°½BOSSæˆ˜æ¨¡å¼ä¸‹å¼€å±€5åˆ†é’Ÿåæ¸¸æˆéš¾åº¦è‡ªåŠ¨è°ƒæ•´ä¸ºæœ€é«˜éš¾åº¦")
		set udg_teshushijian=true
		set udg_sutong=false
		set tiaoZhanIndex=3
		
		set ShiFouShuaGuai=false // æ— å°½BOSSæˆ˜æ¨¡å¼ä¸åˆ·æ€ª
endif
	// å·²é€‰æŒ‘æˆ˜æ¨¡å¼
	set tiaoZhanFlag=true
endfunction
//  =====================æŒ‘æˆ˜æ¨¡å¼ç»“æŸ========================================
function ChooseMoShi_Action takes nothing returns nothing
	if GetClickedButton() == udg_index1 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†ç‰¹æ®Šäº‹ä»¶æ¨¡å¼")
		set udg_teshushijian=true
	endif
	if GetClickedButton() == udg_index2 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†å…»è€æ¨¡å¼")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFå…»è€æ¨¡å¼ä¸‹ï¼Œä¼¤å®³ä¸ºå…¶ä»–æ¨¡å¼ä¸‹çš„30å€ï¼Œé€šå…³å’Œæ‰“ä¼¤å®³å‡ä¸ç»™ç§¯åˆ†")
		set udg_teshushijian=true
		set udg_yanglao=true
	endif
	if GetClickedButton() == udg_index3 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†æŒ‘æˆ˜æ¨¡å¼")
		call TiaoZhanMoshi()
	endif
	// å·²é€‰éš¾åº¦
	set moshiFlag=true
endfunction
//è°ƒæ•´æ¸¸æˆéš¾åº¦
function GameNanDu_Condition takes nothing returns boolean
	//éç‰¹æ®Šäº‹ä»¶æ¨¡å¼
	return udg_teshushijian == false
endfunction
function GameNanDu takes nothing returns nothing
 local trigger t=GetTriggeringTrigger()
 local integer id=GetHandleId(t)
 local integer i=0
 local integer level=0
	if ( ( S2I(SubStringBJ(GetEventPlayerChatString(), 3, 5)) == 0 ) ) then
		set i=10
	else
		set i=S2I(SubStringBJ(GetEventPlayerChatString(), 3, 5)) * 10
	endif
	set level=GetPlayerTechCountSimple('R001', Player(12))
	if ( level == 50 ) then
		call DisplayTextToPlayer(Player(0), 0, 0, "å½“å‰å·²ä¸ºæœ€é«˜éš¾åº¦äº†")
	else
		if level + i >= 50 then
			set i=50 - level
		endif
		call AddPlayerTechResearched(Player(12), 'R001', i)
		call AddPlayerTechResearched(Player(6), 'R001', i)
		call AddPlayerTechResearched(Player(15), 'R001', i)
		set udg_nandu=udg_nandu + i / 10
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "ç©å®¶1è¾“å…¥â€œupâ€æé«˜äº†æ¸¸æˆéš¾åº¦ï¼Œç›®å‰æ¸¸æˆéš¾åº¦ä¸º" + I2S(udg_nandu) ))
		if udg_nandu == 5 then
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFè¯¥æ¨¡å¼ä¸‹è¿›æ”»æ€ªå…·æœ‰|cFFFF0000æŠ½è¡€æœ¯")
		endif
	endif
	set t=null
endfunction
// è¶…æ—¶é»˜è®¤éš¾åº¦é€‰æ‹©éš¾7
function ChooseNanDu_Auto takes nothing returns nothing
 local timer t= GetExpiredTimer()
	if ( udg_boshu < 5 and nanduFlag == 0 ) or ( udg_boshu == 5 and nanduFlag == 1 ) then
		call DialogDisplayBJ(false, udg_nan, Player(0))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFé»˜è®¤é€‰æ‹©äº†éš¾åº¦|cFF999900å†³æˆ˜æ±Ÿæ¹–")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFF999900è¯¥æ¨¡å¼ä¸‹è¿›æ”»æ€ªå…·æœ‰|cFFFF0000æŠ½è¡€æœ¯åŠ å¼ºç‰ˆ")
		call SetPlayerTechResearched(Player(12), 'R001', 50)
		call SetPlayerTechResearched(Player(6), 'R001', 50)
		call SetPlayerTechResearched(Player(15), 'R001', 50)
		call setDifficultyAndExpRate(6)
		if udg_boshu < 5 then
			set get_zdl=7
		else
			set get_zdl=get_zdl + 7 * 2
		endif
	endif
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
endfunction
function ChooseNanDu takes nothing returns nothing
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF40ä¸»æœºå¼€å§‹é€‰æ‹©æ¸¸æˆéš¾åº¦")
	if ( (( GetPlayerController(Player(0)) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING )) ) then // INLINED!!
		call DialogClear(udg_nan)
		call DialogSetMessage(udg_nan, "è¯·é€‰æ‹©æ¸¸æˆéš¾åº¦")
		if firstTime or udg_nandu <= 0 then
			set udg_nan0=DialogAddButtonBJ(udg_nan, "|cFF00CC00åˆå…¥æ±Ÿæ¹–")
		endif
		if firstTime or udg_nandu <= 1 then
			set udg_nan1=DialogAddButtonBJ(udg_nan, "|cFFCC0066ç‰›åˆ€å°è¯•")
		endif
		if firstTime or udg_nandu <= 2 then
			set udg_nan2=DialogAddButtonBJ(udg_nan, "|cFFFF6600ç™»å ‚å…¥å®¤")
		endif
		if firstTime or ( udg_nandu <= 3 ) then
			set udg_nan3=DialogAddButtonBJ(udg_nan, "|cFF0041FFç‚‰ç«çº¯é’")
		endif
		if firstTime or ( udg_nandu <= 4 and udg_nandu >= 1 ) then
			set udg_nan4=DialogAddButtonBJ(udg_nan, "|cFF1FBF00åå±±è®ºå‰‘")
		endif
		if firstTime or ( udg_nandu <= 5 and udg_nandu >= 2 ) then
			set udg_nan5=DialogAddButtonBJ(udg_nan, "|cFFFF0000ç‹¬å­¤æ±‚è´¥")
		endif
		if firstTime or ( udg_nandu <= 6 and udg_nandu >= 3 ) then
			set udg_nan7=DialogAddButtonBJ(udg_nan, "|cFF999900å†³æˆ˜æ±Ÿæ¹–")
		endif
		call DialogDisplayBJ(true, udg_nan, Player(0))
		// å¼€å¯è®¡æ—¶å™¨ï¼Œ20sä¸é€‰éš¾åº¦é»˜è®¤é€‰æ‹©æœ€é«˜éš¾åº¦
		call TimerStart(CreateTimer(), 20, false, function ChooseNanDu_Auto)
	endif
endfunction
function ChooseNanDu_Action takes nothing returns nothing
	if GetClickedButton() == udg_nan0 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFF00CC00åˆå…¥æ±Ÿæ¹–")
		call SetPlayerTechResearched(Player(12), 'R001', 0)
		call SetPlayerTechResearched(Player(6), 'R001', 0)
		call SetPlayerTechResearched(Player(15), 'R001', 0)
		call setDifficultyAndExpRate(0)
		if udg_boshu < 5 then
			set get_zdl=1
		else
			set get_zdl=get_zdl + 1 * 2
		endif
	endif
	if GetClickedButton() == udg_nan1 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFFCC0066ç‰›åˆ€å°è¯•")
		call SetPlayerTechResearched(Player(12), 'R001', 10)
		call SetPlayerTechResearched(Player(6), 'R001', 10)
		call SetPlayerTechResearched(Player(15), 'R001', 10)
		call setDifficultyAndExpRate(1)
		if udg_boshu < 5 then
			set get_zdl=2
		else
			set get_zdl=get_zdl + 2 * 2
		endif
	endif
	if GetClickedButton() == udg_nan2 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFFFF6600ç™»å ‚å…¥å®¤")
		call SetPlayerTechResearched(Player(12), 'R001', 20)
		call SetPlayerTechResearched(Player(6), 'R001', 20)
		call SetPlayerTechResearched(Player(15), 'R001', 20)
		call setDifficultyAndExpRate(2)
		if udg_boshu < 5 then
			set get_zdl=3
		else
			set get_zdl=get_zdl + 3 * 2
		endif
	endif
	if GetClickedButton() == udg_nan3 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFF0041FFç‚‰ç«çº¯é’")
		call SetPlayerTechResearched(Player(12), 'R001', 30)
		call SetPlayerTechResearched(Player(6), 'R001', 30)
		call SetPlayerTechResearched(Player(15), 'R001', 30)
		call setDifficultyAndExpRate(3)
		if udg_boshu < 5 then
			set get_zdl=4
		else
			set get_zdl=get_zdl + 4 * 2
		endif
	endif
	if GetClickedButton() == udg_nan4 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFF1FBF00åå±±è®ºå‰‘")
		call SetPlayerTechResearched(Player(12), 'R001', 40)
		call SetPlayerTechResearched(Player(6), 'R001', 40)
		call SetPlayerTechResearched(Player(15), 'R001', 40)
		call setDifficultyAndExpRate(4)
		if udg_boshu < 5 then
			set get_zdl=5
		else
			set get_zdl=get_zdl + 5 * 2
		endif
	endif
	if GetClickedButton() == udg_nan5 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFFFF0000ç‹¬å­¤æ±‚è´¥")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFè¯¥æ¨¡å¼ä¸‹è¿›æ”»æ€ªå…·æœ‰|cFFFF0000æŠ½è¡€æœ¯")
		call SetPlayerTechResearched(Player(12), 'R001', 50)
		call SetPlayerTechResearched(Player(6), 'R001', 50)
		call SetPlayerTechResearched(Player(15), 'R001', 50)
		call setDifficultyAndExpRate(5)
		if udg_boshu < 5 then
			set get_zdl=6
		else
			set get_zdl=get_zdl + 6 * 2
		endif
	endif
	if GetClickedButton() == udg_nan7 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FFFFä¸»æœºé€‰æ‹©äº†éš¾åº¦|cFF999900å†³æˆ˜æ±Ÿæ¹–")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFF999900è¯¥æ¨¡å¼ä¸‹è¿›æ”»æ€ªå…·æœ‰|cFFFF0000æŠ½è¡€æœ¯åŠ å¼ºç‰ˆ")
		call SetPlayerTechResearched(Player(12), 'R001', 50)
		call SetPlayerTechResearched(Player(6), 'R001', 50)
		call SetPlayerTechResearched(Player(15), 'R001', 50)
		call setDifficultyAndExpRate(6)
		if udg_boshu < 5 then
			set get_zdl=7
			set topDegreeFlag=true
		else
			set get_zdl=get_zdl + 7 * 2
		endif
	endif
	if udg_boshu < 5 then
		set nanduFlag=1
	else
		set nanduFlag=2
	endif
	
endfunction

//ç³»ç»Ÿçª—å£
function SystemWindow takes nothing returns nothing
 local integer i=0
 local string s= null
	call CreateMultiboardBJ(5, 20, "ç³»ç»Ÿçª—å£")
	call MultiboardSetItemsStyle(bj_lastCreatedMultiboard, true, false)
	call MultiboardSetItemsWidth(bj_lastCreatedMultiboard, .07)
	set i=1
	
	loop
	exitwhen i >= 6
		if udg_MaxDamage[i] < 10000. then
			set s=R2S(udg_MaxDamage[i])
		elseif udg_MaxDamage[i] < 100000000. then
			set s=R2S(udg_MaxDamage[i]) + "ä¸‡"
		elseif udg_MaxDamage[i] / 10000. < 100000000. then
			set s=R2S(udg_MaxDamage[i]) + "äº¿"
		elseif udg_MaxDamage[i] / 100000000. < 100000000. then
			set s=R2S(udg_MaxDamage[i]) + "ä¸‡äº¿"
		else
			set s=R2S(udg_MaxDamage[i]) + "äº¿äº¿"
		endif
		call MultiboardSetTitleText(bj_lastCreatedMultiboard, "|cFFFFCC33ç³»ç»Ÿçª—å£")
		call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i - 3 , "|c00FF0080" + GetPlayerName(Player(i - 1)))
		call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i - 3 , "|c0000FF00" + "ç­‰çº§ï¼š" + I2S(GetUnitLevel(udg_hero[i])))
		call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i - 3 , "|cFF00CCFF" + udg_menpainame[udg_runamen[i]])
		call DuoMianBan(bj_lastCreatedMultiboard , 4 , 4 * i - 3 , "|cFFFF6600" + "æœ€é«˜ä¼¤å®³ï¼š" + s)
		set s="|c00FFEE99"
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
			set s=s + "ä¸¹"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			set s=s + "é”»"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			set s=s + "å…µ"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
			set s=s + "é‰´"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_QI) - 1)])) != 0) then // INLINED!!
			set s=s + "æ°”"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) then // INLINED!!
			set s=s + "å®"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) then // INLINED!!
			set s=s + "ä¸«"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
			set s=s + "æ­¦"
		endif
		call DuoMianBan(bj_lastCreatedMultiboard , 5 , 4 * i - 3 , s)
		if ( I7[20 * ( i - 1 ) + 1] != 'AEfk' ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 1]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 2] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 2]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 3] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 3]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 4] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 4 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 4]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 5] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 5]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 6] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 6]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 7] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 7]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 8] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 4 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 8]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 9] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 9]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 10] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 10]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 11] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 11]))
		endif
		set i=i + 1
	endloop
	call MultiboardDisplay(bj_lastCreatedMultiboard, true)
endfunction
function uuyy takes nothing returns nothing
 local integer i=0
 local string s= null
 local string title= ""
	set i=1
	
	loop
	exitwhen i >= 6
		if udg_MaxDamage[i] < 10000. then
			set s=I2S(R2I(udg_MaxDamage[i] / 1.))
		elseif udg_MaxDamage[i] < 100000000. then
			set s=I2S(R2I(udg_MaxDamage[i] / 10000.)) + "ä¸‡"
		elseif udg_MaxDamage[i] / 10000. < 100000000. then
			set s=I2S(R2I(udg_MaxDamage[i] / 100000000.)) + "äº¿"
		elseif udg_MaxDamage[i] / 100000000. < 100000000. then
			set s=I2S(R2I(udg_MaxDamage[i] / 1000000000000.)) + "ä¸‡äº¿"
		else
			set s=I2S(R2I(udg_MaxDamage[i] / 10000000000000000.)) + "äº¿äº¿"
		endif
		if tiaoZhanIndex == 3 then
			set title="|cFFFFCC33ç³»ç»Ÿçª—å£|r æ— å°½BOSSå€’è®¡æ—¶ï¼š" + I2S(next_endless_time - passed_time)
		else
			set title="|cFFFFCC33ç³»ç»Ÿçª—å£|r"
		endif
		call MultiboardSetTitleText(bj_lastCreatedMultiboard, title)
		call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i - 3 , "|c00FF0080" + GetPlayerName(Player(i - 1)))
		call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i - 3 , "|c0000FF00" + "ç­‰çº§ï¼š" + I2S(GetUnitLevel(udg_hero[i])))
		call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i - 3 , "|cFF00CCFF" + udg_menpainame[udg_runamen[i]])
		call DuoMianBan(bj_lastCreatedMultiboard , 4 , 4 * i - 3 , "|cFFFF6600" + "æœ€é«˜ä¼¤å®³ï¼š" + s)
		set s="|c00FFEE99"
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
			set s=s + "ä¸¹"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			set s=s + "é”»"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			set s=s + "å…µ"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
			set s=s + "é‰´"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_QI) - 1)])) != 0) then // INLINED!!
			set s=s + "æ°”"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) then // INLINED!!
			set s=s + "å®"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) then // INLINED!!
			set s=s + "ä¸«"
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
			set s=s + "æ­¦"
		endif
		call DuoMianBan(bj_lastCreatedMultiboard , 5 , 4 * i - 3 , s)
		if ( I7[20 * ( i - 1 ) + 1] != 'AEfk' ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 1]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 2] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 2]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 3] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 3]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 4] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 4 , 4 * i - 2 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 4]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 5] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 5]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 6] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 6]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 7] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 7]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 8] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 4 , 4 * i - 1 , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 8]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 9] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 1 , 4 * i , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 9]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 10] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 2 , 4 * i , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 10]))
		endif
		if ( ( I7[20 * ( i - 1 ) + 11] != 'AEfk' ) ) then
			call DuoMianBan(bj_lastCreatedMultiboard , 3 , 4 * i , "|c0000FF00" + GetObjectName(I7[20 * ( i - 1 ) + 11]))
		endif
		set i=i + 1
	endloop
endfunction
//æœ€å¤§ä¼¤å®³
function wy takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) != MAP_CONTROL_USER ) and ( GetEventDamage() > udg_MaxDamage[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )] ) )
endfunction
function SetMaxDamage takes nothing returns nothing
	set udg_MaxDamage[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]=GetEventDamage()
endfunction
//ç©å®¶ç¦»å¼€
function Xx takes nothing returns nothing
	set bj_forLoopBIndex=1
	set bj_forLoopBIndexEnd=6
	loop
	exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
		call UnitRemoveItemSwapped(UnitItemInSlotBJ(GetEnumUnit(), bj_forLoopBIndex), GetEnumUnit())
		set bj_forLoopBIndex=bj_forLoopBIndex + 1
	endloop
	call RemoveUnit(GetEnumUnit())
endfunction
function PlayerLeave takes nothing returns nothing
	call ForGroupBJ(( AddPlayerUnitIntoGroup(( GetTriggerPlayer() ) , null) ), function Xx)
	call yv(bj_lastCreatedMultiboard , 4 , ( ( 1 + GetPlayerId(GetTriggerPlayer()) ) + 2 ) , 100. , 20. , 100. , 0)
	call DuoMianBan(bj_lastCreatedMultiboard , 5 , ( ( 1 + GetPlayerId(GetTriggerPlayer()) ) * 4 - 2 ) , "ç¦»å¼€")
endfunction
//F9æ˜¾ç¤º
function Qx takes nothing returns nothing
	// call CreateQuestBJ(0,"|cFFFF00001.53ç‰ˆæœ¬æ›´æ–°å†…å®¹","|cff00ff00æ–°å¢å…ƒç´ |n|r|cffffff00å¼€æ”¾æ–°é—¨æ´¾|rï¼šæ³°å±±æ´¾|n|cffffff00è£…å¤‡è°ƒæ•´|rï¼šä¸ƒç»æŠ¤ç¬¦ã€å¤©ç’‡æŠ¤è…•ã€ç¥è¡Œé‹å’Œç¥è¿¹æˆ’å˜æ›´ä¸ºç¥å™¨|n|cff00ff00å¹³è¡¡æ€§è°ƒæ•´|n|r|cffffff00é—¨æ´¾è°ƒæ•´|rï¼šå…¨é¢å¹³è¡¡å„é—¨æ´¾ä¼¤å®³å’Œå‡é‡é€Ÿåº¦|n|cffffff00åˆ é™¤äº†æ•‘ç«ä»»åŠ¡å’Œé’é¾™å›¢é˜Ÿå‰¯æœ¬ã€‚|nç§¯åˆ†å…‘æ¢é‡‘é’±å’Œçç¨€å¸éšéš¾åº¦ä¸åŒè€Œä¸åŒã€‚|nå†ç»ƒ3çš„å£°æœ›è¦æ±‚é™è‡³3200ï¼Œåæ¶ä¸èµ¦åŸºç¡€è¡€é‡é™è‡³30000ã€‚|næ€çŸ®å­ç‹çˆ†æ±Ÿæ¹–å¿ ï¼Œæ€å—æµ·ç¥å°¼çˆ†ä¹é˜´é”»éª¨ç¯‡ã€‚|nå¤§é‡æ¸¸æˆç»†èŠ‚ä¼˜åŒ–è°ƒæ•´ã€‚|r|cff00ff00|nBUGä¿®å¤|n|r|cffffff00ä¿®å¤éƒ¨åˆ†è£…å¤‡ä¸èƒ½æ­£ç¡®åŠ æ”»é€Ÿå’Œç§»é€Ÿçš„BUGã€‚|nä¿®å¤éƒ¨åˆ†æ­¦åŠŸå±æ€§è¦æ±‚æ˜¾ç¤ºä¸æ­£ç¡®çš„BUGã€‚|r","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	// call CreateQuestBJ(0,"|cFFFF00001.54ç‰ˆæœ¬æ›´æ–°å†…å®¹","|cff00ff00å¹³è¡¡æ€§è°ƒæ•´|n|r|cffffff00é™ä½å¤©æŸ±äº‘æ°”è§¦å‘æ¦‚ç‡ã€‚|nç•¥å¾®æå‡æ³°å±±åå…«ç›˜çš„å‡é‡é€Ÿåº¦å’Œè§¦å‘æ¦‚ç‡ã€‚|né™ä½å·ä»¤å¤©ä¸‹ä»¤çš„å£°æœ›åŠ æˆã€‚|nç¼©å°ç‹¬å­¤ä¹å‰‘èŒƒå›´ã€å‡å°‘æ—¶é—´ã€æå‡ä¼¤å®³ã€‚|næ³°å±±æ´¾å²±å®—å¦‚ä½•è§¦å‘æ¦‚ç‡ç”±100%æ”¹ä¸º15%ã€‚|nç•¥å¾®æé«˜ç¥è¡Œé‹çˆ†ç‡ã€‚|nå…¶ä»–ç»†èŠ‚ä¼˜åŒ–ã€‚|r|cff00ff00|nBUGä¿®å¤|n|r|cffffff00ä¿®å¤æ³°å±±åå…«ç›˜+å°æ— ç›¸æ— æ•ˆçš„BUGã€‚|nä¿®æ­£å‰‘æ„å’Œæ–°æ‰‹å¸®åŠ©çš„æè¿°é”™è¯¯ã€‚|nä¿®å¤ç¥è¡Œé‹æ— CDçš„BUGã€‚|r","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(0, "|cFFFF0000äººç‰©å±æ€§", "æ‹›å¼ä¼¤å®³ï¼šå½±å“äººç‰©çš„æ‰€æœ‰æ­¦åŠŸçš„å¨åŠ›ï¼Œä¸­åæœŸå½±å“è¾ƒå¤§\nå†…åŠ›ï¼šåŠ æˆæ­¦åŠŸä¼¤å®³ç™¾åˆ†æ¯”ï¼Œä¸­åæœŸå½±å“è¾ƒå¤§\nçœŸå®ä¼¤å®³ï¼šé€ æˆä¸å—å†…åŠ›å½±å“çš„å®é™…ä¼¤å®³ï¼Œå‰æœŸå½±å“è¾ƒå¤§\nç»å­¦é¢†æ‚ŸåŠ›ï¼šå½±å“ç»å­¦çš„å‘æŒ¥æ•ˆæœå’Œå¨åŠ›\næ ¹éª¨ï¼šå½±å“ä»»åŠ¡å’Œæ­¦åŠŸå­¦ä¹ æ¡ä»¶ï¼ŒåŒæ—¶æé«˜æŠ€èƒ½æš´å‡»åŠ›\næ‚Ÿæ€§ï¼šå½±å“ä»»åŠ¡å’Œæ­¦åŠŸå­¦ä¹ æ¡ä»¶ï¼ŒåŒæ—¶å†³å®šæŠ€èƒ½å‡çº§çš„æ¦‚ç‡\nç»è„‰ï¼šå½±å“ä»»åŠ¡å’Œæ­¦åŠŸå­¦ä¹ æ¡ä»¶ï¼ŒåŒæ—¶æé«˜æ³•åŠ›å›å¤é€Ÿåº¦\nç¦ç¼˜ï¼šå½±å“ä»»åŠ¡å’Œæ­¦åŠŸå­¦ä¹ æ¡ä»¶ï¼ŒåŒæ—¶æé«˜è¢«åŠ¨æ­¦å­¦è§¦å‘æ¦‚ç‡\nèƒ†é­„ï¼šå½±å“ä»»åŠ¡å’Œæ­¦åŠŸå­¦ä¹ æ¡ä»¶ï¼ŒåŒæ—¶æé«˜æ€æ€ªå›å¤èƒ½åŠ›\nåŒ»æœ¯ï¼šå½±å“ä»»åŠ¡å’Œæ­¦åŠŸå­¦ä¹ æ¡ä»¶ï¼ŒåŒæ—¶æé«˜è‡ªç„¶ç”Ÿå‘½å›å¤é€Ÿåº¦", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(0, "|cFFFF6600äººç‰©æ­¦åŠŸ", "é—¨æ´¾æ­¦åŠŸï¼šåŠ å…¥é—¨æ´¾åæ¯ä¸ªè‹±é›„éƒ½ä¼šæœ‰3ä¸ªæ­¦åŠŸï¼Œç¬¬ä¸€ä¸ªæ­¦åŠŸåœ¨3çº§è·å¾—ï¼Œå…¶ä»–æ­¦åŠŸåœ¨å‰ä¸€ä¸ªæ­¦åŠŸ2é‡åè‹±é›„å‡çº§æ—¶è‡ªåŠ¨é¢†æ‚Ÿ\né—¨æ´¾å¿ƒæ³•ï¼šæ¯ä¸ªé—¨æ´¾éƒ½æœ‰ä¸¤ç§å¿ƒæ³•ï¼Œå¯ä»¥åœ¨å®Œæˆå†ç»ƒ2åäºŒé€‰å…¶ä¸€ä¿®ä¹ ï¼Œéœ€è¦ç¬¬3ä¸ªé—¨æ´¾æ­¦åŠŸè¾¾åˆ°3çº§\næ±Ÿæ¹–æ­¦åŠŸï¼šåˆ†ä¸ºæ­¦åŠŸå’Œå¿ƒæ³•ä¸¤å¤§ç±»ï¼Œéœ€è¦é€šè¿‡ä½¿ç”¨æ­¦åŠŸç§˜ç±è·å¾—\nç»å­¦å’Œç»å†…ï¼šåæœŸå‰å®³çš„å¤§æ‹›ï¼Œä¹Ÿéœ€è¦é€šè¿‡ä½¿ç”¨æ­¦åŠŸç§˜ç±è·å¾—\nç»é˜µï¼šå¼€æ”¾éƒ¨åˆ†é—¨æ´¾ç»é˜µï¼Œè¯·åˆ°èšè´¤åº„å¯»æ‰¾", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(0, "|cFF00FF00æ¸¸æˆæŒ‡ä»¤1", "è¾“å…¥â€œhg/hcâ€ï¼š|cFFCCFF33å›ç¨‹|r\nè¾“å…¥â€œqâ€ï¼š|cFFCCFF33ä¼ é€åˆ°åŸºåœ°ä¸Šæ–¹|r\nè¾“å…¥â€œ3â€ï¼š|cFFCCFF33ä¼ é€åˆ°åŸºåœ°ä¸‹æ–¹|r\nè¾“å…¥â€œ4â€ï¼š|cFFCCFF33ä¼ é€åˆ°ç›‘ç‹±|r\nè¾“å…¥â€œ1â€ï¼š|cFFCCFF33å®šç‚¹ï¼ˆå­¦ä¹¾å¤å¤§æŒªç§»ï¼‰|r\nè¾“å…¥â€œ2â€ï¼š|cFFCCFF33ä¼ é€åˆ°ä¹¾å¤å®šç‚¹åœ°æ–¹|r\n", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(0, "|cFF00FF00æ¸¸æˆæŒ‡ä»¤2", "æŒ‰é”®Escï¼š|cFFCCFF33æŸ¥çœ‹äººç‰©å±æ€§|r\nè¾“å…¥â€œsjâ€ï¼š|cFFCCFF33æ¢å¤è§†è§’|r\nè¾“å…¥â€œblâ€ï¼š|cFFCCFF33æŸ¥çœ‹ä¼´ä¾£å±æ€§|r\nè¾“å…¥â€œjyâ€ï¼š|cFFCCFF33å°†å‰‘æ„è½¬åŒ–ä¸ºæ€§æ ¼å±æ€§|r\nè¾“å…¥â€œupâ€ï¼š|cFFCCFF33éç‰¹æ®Šäº‹ä»¶æ¨¡å¼ä¸‹æé«˜éš¾åº¦ï¼ˆåªèƒ½æä¸èƒ½é™ï¼‰|r\nè¾“å…¥â€œfbâ€ï¼š|cFFCCFF33æŸ¥è¯¢å‰¯æœ¬é‡ç½®æ—¶é—´|r\nè¾“å…¥â€œyxâ€ï¼š|cFFCCFF33æŸ¥è¯¢å®å®æºå¸¦è‰è¯çš„æ€»è¯æ€§|r\næ¸¸æˆå¼€å§‹2åˆ†é’Ÿå†…è¾“å…¥â€œswâ€ï¼š|cFFCCFF33è¯•ç©æ¨¡å¼|r\n", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(0, "|cFF0000FFæ¸¸æˆæŒ‡ä»¤3", "è¾“å…¥â€œcksxâ€ï¼š|cFFCCFF33æŸ¥çœ‹å‰©ä½™è‡ªç”±å±æ€§ç‚¹æ•°|r\nè¾“å…¥å±æ€§æ‹¼éŸ³é¦–å­—æ¯å¦‚â€œggâ€ï¼š|cFFCCFF33æ ¹éª¨+1|r\nè¾“å…¥å±æ€§æ‹¼éŸ³é¦–å­—æ¯åŠ æ•°å€¼å¦‚â€œfy5â€ï¼š|cFFCCFF33ç¦ç¼˜+5|r\nè¾“å…¥â€œckwqâ€ï¼š|cFFCCFF33æŸ¥è¯¢è‡ªåˆ¶æ­¦å™¨å±æ€§|r\nè¾“å…¥â€œckwgâ€ï¼š|cFFCCFF33æŸ¥è¯¢è‡ªåˆ›æ­¦åŠŸ|r\nè¾“å…¥â€œckjnâ€ï¼š|cFFCCFF33æŸ¥è¯¢äººç‰©æ€§æ ¼å’ŒæŠ€èƒ½å‡é‡è¿›åº¦|r\nè¾“å…¥â€œckâ€ï¼š|cFFCCFF33æŸ¥è¯¢æŠ€èƒ½ä¼¤å®³|r\nè¾“å…¥â€œckjfâ€ï¼š|cFFCCFF33æŸ¥è¯¢å®ˆå®¶ç§¯åˆ†|r\nè¾“å…¥â€œckchâ€ï¼š|cFFCCFF33æŸ¥è¯¢å·²è·å¾—ç§°å·|r\n", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(0, "|cFF0000FFæ¸¸æˆæŒ‡ä»¤4", "è¾“å…¥â€œcxâ€ï¼š|cFFCCFF33æŸ¥çœ‹å­˜æ¡£|r\nè¾“å…¥â€œckzsâ€ï¼š|cFFCCFF33æŸ¥çœ‹ä¸“å±è·å–æ–¹å¼åŠæ•ˆæœ|r\nè¾“å…¥â€œ-clearæˆ–-cleanâ€ï¼š|cFFCCFF33æ¸…ç†åœ°å›¾ç‰©å“ï¼ˆä¸åŒ…æ‹¬æŠ€èƒ½ä¹¦ï¼‰|r\nè¾“å…¥â€œsortâ€ï¼š|cFFCCFF33è‡ªåŠ¨æ•´ç†åœ°å›¾ç‰©å“|r\n", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(2, "|cFFFF00CCç§°å·ç³»ç»Ÿ", "åœ¨æ¸¸æˆä¸­ï¼Œå¯ä»¥è·å¾—ä¸¤ç§ç§°å·ï¼šé—¨æ´¾ç§°å·å’Œå‰¯èŒç§°å·\né—¨æ´¾ç§°å·ï¼šå¦‚æœä½ çš„æ‰€æœ‰é—¨æ´¾æ­¦å­¦å’Œé—¨æ´¾å†…åŠŸå‡è¾¾åˆ°6çº§ï¼ˆéƒ¨åˆ†æ­¦åŠŸå¯èƒ½ä½äº6çº§ï¼‰ï¼Œå¯ä»¥è·å¾—å„é—¨æ´¾çš„æŒé—¨ç§°å·ï¼›åœ¨è·å¾—æŒé—¨ä¹‹å‰è¾¾æˆä¸€å®šçš„æ¡ä»¶ï¼Œè·å¾—æŒé—¨ç§°å·æ—¶è¿˜å¯ä»¥è·å¾—é¢å¤–çš„é—¨æ´¾ç§°å·ï¼Œå…·ä½“é—¨æ´¾ç§°å·çš„è·å¾—æ–¹æ³•å¯ä»¥å‚è€ƒè®ºå›çš„æ”»ç•¥ã€‚\nå‰¯èŒç§°å·ï¼šæ¸¸æˆä¸­çš„å‰¯èŒè¾¾åˆ°ä¸€å®šæ¡ä»¶æ—¶ï¼Œå¯ä»¥åˆ†åˆ«è·å¾—ç›¸åº”çš„å‰¯èŒå¤§å¸ˆç§°å·ï¼Œå¢åŠ ä¸è¯¥å‰¯èŒç›¸å…³çš„é¢å¤–èƒ½åŠ›ï¼Œå…·ä½“å‰¯èŒå¤§å¸ˆç§°å·çš„è·å¾—æ–¹æ³•å¯ä»¥å‚è€ƒè®ºå›çš„æ”»ç•¥", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	//call CreateQuestBJ(2,"|cFFFFFF00æ­¦å™¨ç³»ç»Ÿ","åœ¨æ¸¸æˆä¸­ï¼Œæ¯ä¸€æŠŠæ­¦å™¨éƒ½æœ‰è‡ªå·±çš„è€ä¹…åº¦ï¼Œæ¯å‡»æ€ä¸€ä¸ªå•ä½è€ä¹…åº¦å‡1ï¼Œè€ä¹…åº¦ä¸º0åæ­¦å™¨ç ´æŸæ¶ˆå¤±\nå¦‚æœå‰¯èŒé€‰æ‹©å…µå™¨å¸ˆï¼Œåˆ™æ­¦å™¨ä¸å‡å°‘è€ä¹…åº¦ã€‚\næ¯ä¸ªç©å®¶å¯¹æ¯ä¸€ç§æ­¦å™¨æœ‰ä¸€å®šçš„ç†Ÿç»ƒåº¦ï¼Œæ¯å‡»æ€ä¸€ä¸ªå•ä½å¢åŠ ä¸€å®šç†Ÿç»ƒåº¦ï¼Œä¸åŒæ­¦å™¨ç†Ÿç»ƒåº¦ä¸Šé™ä¸åŒï¼Œç†Ÿç»ƒåº¦ä¸Šå‡æ­¦åŠŸçš„ä¼¤å®³å°†éšä¹‹ä¸Šå‡\nå‰¯èŒé€‰æ‹©å…µå™¨å¸ˆå¤§å¹…æå‡æ­¦å™¨çš„ç†Ÿç»ƒåº¦ä¸Šé™\nå¯¹æŸç§æ­¦å™¨æä¸ç†Ÿç»ƒæ—¶ä¼¤å®³è¦ä½äºä¸æ‹¿æ­¦å™¨æ—¶çš„ä¼¤å®³","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(2, "|cFFFF0000å‰¯èŒç©æ³•", "ç©å®¶å¯åœ¨NPCéƒ­é–å¤„é€‰æ‹©è‡ªå·±çš„å‰¯èŒï¼ŒåŠ å…¥å‰¯èŒåä¼šè·å¾—ä¸€äº›ç‹¬ç‰¹çš„èƒ½åŠ›\nå‰¯èŒæ»¡è¶³ä¸€å®šæ¡ä»¶åï¼Œå¯ä»¥è·å¾—ç›¸åº”çš„å¤§å¸ˆç§°å·ï¼Œè·å¾—å¤§å¸ˆåä¼šé¢å¤–è·å¾—ä¸€äº›èƒ½åŠ›\nç‚¼ä¸¹å¸ˆï¼šå¯ä½¿ç”¨ç‚¼ä¸¹ç³»ç»Ÿå¹¶å¯å¤šæœé£Ÿäº”é¢—ä¸¹è¯\né”»é€ å¸ˆï¼šå¯ä½¿ç”¨é•¶åµŒå’Œé”»é€ ç³»ç»Ÿ\nå…µå™¨å¸ˆï¼šé•‡å¦–æ­»äº¡ä¸æ‰è½ï¼Œæ‹¾å–å’Œå†¶ç‚¼å…µå™¨ä¸å—å†ç»ƒé™åˆ¶\nç»ƒæ°”å¸ˆï¼šæ¯æå‡ä¸€æ¬¡ç­‰çº§å¢åŠ 4-12ç‚¹æ‹›å¼ä¼¤å®³æˆ–å†…åŠ›æˆ–çœŸå®ä¼¤å®³\nå¯»å®å¸ˆï¼šå‰¯æœ¬åŒå€æ‰è½\né‰´å®šå¸ˆï¼šçˆ†åŒå€å¤è‘£ï¼Œå¯ä»¥ä½¿ç”¨å¤è‘£æ¢ä¹¦ï¼Œå¤è‘£ä»¥æœ€é«˜ä»·å–å‡º\nä¸«é¬Ÿï¼šæºå¸¦ä¸¤æŠŠæ­¦å™¨åŠä¸¤ä»¶è¡£æœ\nç²¾æ­¦å¸ˆï¼šæŠ€èƒ½å‡çº§åˆ°ä¹é‡è·å¾—é¢å¤–è‡ªåˆ›æ­¦å­¦ç‚¹ï¼Œå¯ä»¥æ‰“å‡ºå¥‡æ­¦\næ›´å¤šå¤§å¸ˆè·å¾—æ–¹å¼å’Œä½œç”¨è¯·åˆ°NPCéšé£è€Œé€deé£å¤„æŸ¥çœ‹", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(2, "|cFFFF6600ç§°å·ç³»ç»Ÿ", "ç©å®¶4ä¸ªé—¨æ´¾æ­¦åŠŸå…¨éƒ¨è¾¾åˆ°6çº§å¯è·å¾—æŒé—¨ç§°å·ï¼ˆéƒ¨åˆ†æ­¦åŠŸä¾‹å¤–ï¼‰\nè¾¾åˆ°ä¸€å®šæ¡ä»¶ï¼Œå¯åŒæ—¶è·å¾—å…¶ä»–ç§°å·\næœ‰ä¸€äº›ç§°å·ä¸æŒé—¨æ— å…³ï¼Œå…·ä½“å¯å‚è€ƒåŸºåœ°å³è¾¹æ–°æ‰‹æ•™å®˜\n", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(2, "|cFF00FF00éšè—é—¨æ´¾", "æ¸¸æˆä¸­æœ‰ä¸¤ä¸ªéšè—é—¨æ´¾ï¼šå§‘è‹æ…•å®¹å’Œçµé¹«å®«\néšè—é—¨æ´¾çš„é€‰æ‹©æ–¹å¼:è‡ªç”±3çº§å‰åŸºåœ°å·¦ä¸‹è§’ç§¯åˆ†å…‘æ¢åŠ å…¥çµé¹«å®«ï¼Œæ…•å®¹ä¸–å®¶é€‰äººåè¾“å…¥jzjh.uuu9.comæˆ–3çº§å‰å»æ‰¾æ…•å®¹å¤\n", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	call CreateQuestBJ(2, "|cFF0000FFæ¸¸æˆç½‘ç«™", "ä¸“åŒºè®ºå›ï¼š|cFFCCFF33jzjhbbs.uuu9.com|r\næ¸¸æˆä½œè€…ï¼š|cFFCCFF33äº‘æ¨ Zei_kale|r\næ¸¸æˆQQç¾¤ï¼š|cFFCCFF33159030768, 369925013\n\nå…³æ³¨æ­¦ä¾ ï¼Œæ”¯æŒä½œè€…ï¼Œè¯¦æƒ…è¯·åœ¨ç½‘ç«™å’Œè®ºå›æŸ¥è¯¢", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
endfunction
//ESCæŸ¥çœ‹äººç‰©å±æ€§
function RenWuShuXing takes nothing returns nothing
 local player p=GetTriggerPlayer()
 local integer i=1 + GetPlayerId(p)
	call ClearTextMessagesBJ(ov(p))
	call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000äººç‰©å±æ€§ï¼š")
	call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæš´å‡»ç‡ ï¼š   " + ( I2S(IMinBJ(R2I(( udg_baojilv[i] * 100. )), 100)) + "%" ) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæš´å‡»ä¼¤å®³ ï¼š   " + ( I2S(R2I(( udg_baojishanghai[i] * 100. ))) + "%" ) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæ­¦åŠŸä¼¤å®³åŠ æˆ ï¼š   " + ( I2S(R2I(( udg_shanghaijiacheng[i] * 100. ))) + "%" ) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFä¼¤å®³å¸æ”¶ ï¼š   " + ( I2S(IMinBJ(R2I(( udg_shanghaixishou[i] * 100. )), 80)) + "%" ) ))
	call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæ ¹éª¨ ï¼š   " + I2S(gengu[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFæ‚Ÿæ€§ ï¼š   " + I2S(wuxing[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFç»è„‰ ï¼š   " + I2S(jingmai[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFç¦ç¼˜ ï¼š   " + I2S(fuyuan[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFèƒ†é­„ ï¼š   " + I2S(danpo[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF00FFFFåŒ»æœ¯ ï¼š   " + I2S(yishu[i]) ))
	call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00ç»å­¦é¢†æ‚ŸåŠ›ï¼š" + I2S(juexuelingwu[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00ä¿®è¡Œï¼š" + I2S(xiuxing[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00æ­¦å­¦ä¿®ä¸ºï¼šç¬¬" + ( I2S(wugongxiuwei[i]) + "å±‚" ) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00æ±Ÿæ¹–å£°æœ›ï¼š" + I2S(shengwang[i]) ))
	call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00å®ˆå®¶ç§¯åˆ†ï¼š" + I2S(shoujiajf[i]) ))
	if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
		call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00å½“å‰ç”¨ä¸¹æ•°é‡ï¼š" + ( I2S(yongdanshu[i]) + " / 10" ) ))
	else
		call DisplayTextToPlayer(p, 0, 0, ( "|cFF33FF00å½“å‰ç”¨ä¸¹æ•°é‡ï¼š" + ( I2S(yongdanshu[i]) + " / 15" ) ))
	endif
	set p=null
endfunction

function hy takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'nbds'
endfunction
//æ˜¯å¦è¾¾åˆ°èƒœåˆ©æ¡ä»¶
function IsVictory takes nothing returns nothing
	if ( ( de == false ) ) then
		call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
		call DestroyTimer(GetExpiredTimer())
	else
		if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3) <= 10. ) ) then
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3, 100.)
		else
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3) - 10. ))
		endif
		if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2) <= 10. ) ) then
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2, 100.)
		else
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2) - 10. ))
		endif
		if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E) <= .1 ) ) then
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E, 100.)
		else
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E) - 10. ))
		endif
		if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A) <= .0 ) ) then
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A, 70.)
		else
			call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A) - 10. ))
		endif
		call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06, 1)
		if ( ( udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)] != null ) ) then
			call DestroyTextTag(ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)])
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]))
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060, pu(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , 150. , 110.))
			call CreateTextTagLocBJ("æ­¦æ—ç›Ÿä¸»", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060), 100., 11., LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060))
			set ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]=bj_lastCreatedTextTag
		endif
		call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06) + 1 ))
		if ( ( udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)] != null ) ) then
			call DestroyTextTag(ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)])
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]))
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060, pu(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , 150. , 110.))
			call CreateTextTagLocBJ("æ­¦æ—ç›Ÿä¸»", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060), 100., 11., LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060))
			set ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]=bj_lastCreatedTextTag
		endif
		call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06) + 1 ))
		if ( ( udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)] != null ) ) then
			call DestroyTextTag(ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)])
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]))
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060, pu(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , 150. , 110.))
			call CreateTextTagLocBJ("æ­¦æ—ç›Ÿä¸»", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060), 100., 11., LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060))
			set ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]=bj_lastCreatedTextTag
		endif
		call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06) + 1 ))
		if ( ( udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)] != null ) ) then
			call DestroyTextTag(ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)])
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]))
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060, pu(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , 150. , 110.))
			call CreateTextTagLocBJ("æ­¦æ—ç›Ÿä¸»", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060), 100., 11., LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060))
			set ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]=bj_lastCreatedTextTag
		endif
		call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06, ( LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06) + 1 ))
		if ( ( udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)] != null ) ) then
			call DestroyTextTag(ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)])
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(udg_hero[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]))
			call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060, pu(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , 150. , 110.))
			call CreateTextTagLocBJ("æ­¦æ—ç›Ÿä¸»", LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060), 100., 11., LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5E9EB4B3), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $63F0AAA2), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $5CF6751E), LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $6329FB8A))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
			call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $72C3E060))
			set ee[LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $566CDF06)]=bj_lastCreatedTextTag
		endif
	endif
endfunction
//å¤±è´¥åŠ¨ä½œ
function Lose takes nothing returns nothing
 local integer i=0
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF00B2å†³æˆ˜æ±Ÿæ¹–1.6.36çš„æ¸¸æˆæ€»è¯„åˆ†ï¼š" + ( I2S(ae) + "åˆ†ï¼ˆæˆ˜è´¥ï¼‰" ) ))
	set i=1
	loop
	exitwhen i >= 6
		set udg_MeiJuJiFen[i]=udg_MeiJuJiFen[i] + ae / 100
		call YDWE_PreloadSL_Set(Player(i - 1) , "æ€»ç§¯åˆ†" , 1 , udg_MeiJuJiFen[i])
		call YDWE_PreloadSL_Save(Player(i - 1) , "JueZhan" , "JiangHu" + I2S(i) , 1)
		set i=i + 1
	endloop
	call CustomDefeatBJ(Player(0), "æ²¡æœ‰èƒ½å®ˆæŠ¤ä½æ­£æ´¾æ­¦æ—!")
	call CustomDefeatBJ(Player(1), "æ²¡æœ‰èƒ½å®ˆæŠ¤ä½æ­£æ´¾æ­¦æ—!")
	call CustomDefeatBJ(Player(2), "æ²¡æœ‰èƒ½å®ˆæŠ¤ä½æ­£æ´¾æ­¦æ—!")
	call CustomDefeatBJ(Player(3), "æ²¡æœ‰èƒ½å®ˆæŠ¤ä½æ­£æ´¾æ­¦æ—!")
	call CustomDefeatBJ(Player(4), "æ²¡æœ‰èƒ½å®ˆæŠ¤ä½æ­£æ´¾æ­¦æ—!")
endfunction
// æ— å°½æ¨¡å¼å¤±è´¥
function endlessFail takes nothing returns nothing
 local timer t= endless_timer
 local integer count= LoadInteger(YDHT, GetHandleId(t), 0)
 local timerdialog l__tg= LoadTimerDialogHandle(YDHT, GetHandleId(t), 1)
	// å¦‚æœ5åˆ†é’ŸæŒ‘æˆ˜æˆåŠŸæ¬¡æ•°ä»ä¸å˜ï¼Œè§†ä¸ºæŒ‘æˆ˜å¤±è´¥
	if count == endless_count then
		call Lose()
	endif
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call PauseTimer(t)
	call DestroyTimer(t)
	call DestroyTimerDialog(l__tg)
	set t=null
	set l__tg=null
endfunction
//èƒœåˆ©åŠ¨ä½œ
function Victory takes nothing returns nothing
 local timer ky
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
 local integer i=0
	
	
	
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	if udg_yanglao then
		set i=1
		loop
		exitwhen i >= 6
			call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFF99CC00å…»è€æ¨¡å¼ä¸‹æ— ç§¯åˆ†")
			set i=i + 1
		endloop
	else
		
		
		// é€Ÿé€šæ¨¡å¼3å€ç§¯åˆ†
		if tiaoZhanIndex == 1 then
			set get_zdl=get_zdl * 3
		endif
		// æ— æŠ€èƒ½å•†åº—3å€ç§¯åˆ†
		if tiaoZhanIndex == 2 then
			set get_zdl=get_zdl * 3
		endif
		if tiaoZhanIndex == 3 then
			set get_zdl=5
			set endless_count=endless_count + 1
			call endlessFail()
		endif
		// å…¨å±€å­˜æ¡£ï¼Œç§¯åˆ†å€æ•°
		if S2I(jfBeishu) >= 1 then
			set get_zdl=get_zdl * S2I(jfBeishu)
		endif
		set get_zdl=get_zdl * ( 1 + activityPointAddition )
		set damage_jf=damage_jf * ( 1 + activityPointAddition )
		
		set i=1
		loop
		exitwhen i >= 6
			if saveFlag[i - 1] == false then
				if mall_addition[i] == 0 then
					call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFF99CC00è·å¾—æˆ˜æ–—åŠ›å’Œç§¯åˆ†ï¼š" + I2S(( get_zdl + damage_jf ) * extraDoubleJf[i - 1]))
				else
					call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFF99CC00å¼€å¯äº†åŒå€ç§¯åˆ†ï¼Œè·å¾—æˆ˜æ–—åŠ›å’Œç§¯åˆ†ï¼š" + I2S(( get_zdl + damage_jf ) * ( 1 + mall_addition[i] ) * extraDoubleJf[i - 1]))
				endif
				// è®¡ç®—æˆ˜æ–—åŠ›å’Œç§¯åˆ†
				set udg_zdl[i - 1]=udg_zdl[i - 1] + ( get_zdl + damage_jf ) * ( 1 + mall_addition[i] ) * extraDoubleJf[i - 1]
				set udg_jf[i - 1]=udg_jf[i - 1] + ( get_zdl + damage_jf ) * ( 1 + mall_addition[i] ) * extraDoubleJf[i - 1]
				if tiaoZhanIndex != 3 then
					set udg_success[i - 1]=udg_success[i - 1] + 1
				endif
				// ä¿å­˜æˆ˜æ–—åŠ›ã€ç§¯åˆ†ã€é€šå…³æ¬¡æ•°åˆ°æœåŠ¡å™¨
				call DzAPI_Map_StoreInteger(Player(i - 1) , "zdl" , udg_zdl[i - 1])
				call DzAPI_Map_StoreInteger(Player(i - 1) , "jf" , udg_jf[i - 1])
				call DzAPI_Map_StoreInteger(Player(i - 1) , "success" , udg_success[i - 1])
				// ä¿å­˜é€šå…³é—¨æ´¾å­˜æ¡£ï¼Œé€Ÿé€šä¸”éš¾7ï¼Œå»é™¤3ä¸ªvipé—¨æ´¾
				if tiaoZhanIndex == 1 and topDegreeFlag and udg_runamen[i] < 19 then
					// åˆå§‹åŒ–å­˜æ¡£
					if singleSuccess[i - 1] == "" then
						set singleSuccess[i - 1]=initMpSaveStr
					endif
					if manySuccess[i - 1] == "" then
						set manySuccess[i - 1]=initMpSaveStr
					endif
					
					// å•é€š
					if udg_wanjiashu == 1 then
						set singleSuccess[i - 1]=SubString(singleSuccess[i - 1], 0, udg_runamen[i] - 1) + "1" + SubString(singleSuccess[i - 1], udg_runamen[i], 18)
						call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFF99CC00æœ¬å±€å•é€šé—¨æ´¾ï¼š" + udg_menpainame[udg_runamen[i]])
						call DzAPI_Map_StoreString(Player(i - 1) , "singleSuccess" , singleSuccess[i - 1])
					endif
					
					// å¤šé€šï¼ˆå•é€šä¹Ÿç®—å¤šé€šï¼‰
					if udg_wanjiashu >= 1 then
						set manySuccess[i - 1]=SubString(manySuccess[i - 1], 0, udg_runamen[i] - 1) + "1" + SubString(manySuccess[i - 1], udg_runamen[i], 18)
						call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFF99CC00æœ¬å±€å¤šé€šé—¨æ´¾ï¼š" + udg_menpainame[udg_runamen[i]])
						call DzAPI_Map_StoreString(Player(i - 1) , "manySuccess" , manySuccess[i - 1])
					endif
					
				endif
				if tiaoZhanIndex == 3 then
					call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFF99CC00å½“å‰å‡»è´¥æ— å°½BOSSæ•°ï¼š" + I2S(endless_count))
					if endless_count > decryptInt((DzAPI_Map_GetServerValue((Player(i - 1) ), "S" + ( "endless"))) , Player(i - 1)) then // INLINED!!
						call DzAPI_Map_StoreString(Player(i - 1) , "endless" , encryptInt(endless_count , Player(i - 1)))
					endif
				endif
				if tiaoZhanIndex != 3 then
					// ä¿å­˜åˆ°æˆ¿é—´éœ€è¦åˆ¤æ–­æ˜¯å¦è¯»å–æˆåŠŸï¼Œæ€•ç‚¸æ¡£è¦†ç›–
					if GetPlayerServerValueSuccess(Player(i - 1)) then
						// ä¿å­˜åˆ°æˆ¿é—´
						call DzAPI_Map_Stat_SetStat(Player(i - 1), "zdl", I2S(udg_zdl[i - 1]))
						call DzAPI_Map_Stat_SetStat(Player(i - 1), "jf", I2S(udg_jf[i - 1]))
						call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFFFE890D" + GetPlayerName(Player(i - 1)) + "|CFF99CC00æ•°æ®ä¿å­˜æˆåŠŸ")
						set saveFlag[i - 1]=true // å·²ä¿å­˜ï¼Œå†æ€å¤§å±è‚¡ä¸ä¿å­˜
else
						call DisplayTextToPlayer(Player(i - 1), 0, 0, "|CFFFE890D" + GetPlayerName(Player(i - 1)) + "|CFFFF0303æ•°æ®ä¿å­˜å¤±è´¥")
					endif
				endif
			endif
			set i=i + 1
		endloop
	endif
	if tiaoZhanIndex != 3 then
		// è·èƒœæ ‡è¯†
		set is_victory=true
		
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF00B2å†³æˆ˜æ±Ÿæ¹–1.6.36çš„æ¸¸æˆæ€»è¯„åˆ†ï¼š" + ( I2S(ae) + "åˆ†ï¼ˆé€šå…³ï¼‰" ) ))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF00B2æ­å–œä½ ä»¬é€šå…³ï¼Œæ¸¸æˆå°†åœ¨2åˆ†é’Ÿåç»“æŸ\næ¸¸æˆä¸“åŒºè®ºå›ï¼šjzjhbbs.uuu9.com\næ¸¸æˆäº¤æµQQç¾¤ï¼š159030768  369925013  341305274\nå…³æ³¨æ­¦ä¾ ï¼Œè®©å†³æˆ˜æ±Ÿæ¹–èµ°å¾—æ›´è¿œï¼ŒæœŸå¾…ä½ çš„å‚ä¸ï¼Œè¯¦æƒ…è¯·åœ¨ä¸“åŒºè®ºå›æŸ¥è¯¢")
		set de=true
		call SaveReal(YDHT, id * cx, - $5E9EB4B3, 40.)
		call SaveReal(YDHT, id * cx, - $63F0AAA2, 70.)
		call SaveReal(YDHT, id * cx, - $5CF6751E, 100.)
		call SaveReal(YDHT, id * cx, - $6329FB8A, 70.)
		set ky=CreateTimer()
		call SaveReal(YDHT, GetHandleId(ky), - $5E9EB4B3, LoadReal(YDHT, id * cx, - $5E9EB4B3))
		call SaveReal(YDHT, GetHandleId(ky), - $63F0AAA2, LoadReal(YDHT, id * cx, - $63F0AAA2))
		call SaveReal(YDHT, GetHandleId(ky), - $5CF6751E, LoadReal(YDHT, id * cx, - $5CF6751E))
		call SaveReal(YDHT, GetHandleId(ky), - $6329FB8A, LoadReal(YDHT, id * cx, - $6329FB8A))
		call TimerStart(ky, .04, true, function IsVictory)
		call YDWEPolledWaitNull(60.)
		call SaveInteger(YDHT, id, - $1317DA19, cx)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF00B2å†³æˆ˜æ±Ÿæ¹–1.6.36çš„æ¸¸æˆæ€»è¯„åˆ†ï¼š" + ( I2S(ae) + "åˆ†ï¼ˆé€šå…³ï¼‰" ) ))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF00B2æ­å–œä½ ä»¬é€šå…³ï¼Œæ¸¸æˆå°†åœ¨1åˆ†é’Ÿåç»“æŸ\næ¸¸æˆä¸“åŒºè®ºå›ï¼šjzjhbbs.uuu9.com\næ¸¸æˆäº¤æµQQç¾¤ï¼š159030768  369925013  341305274 \nå…³æ³¨æ­¦ä¾ ï¼Œè®©å†³æˆ˜æ±Ÿæ¹–èµ°å¾—æ›´è¿œï¼ŒæœŸå¾…ä½ çš„å‚ä¸ï¼Œè¯¦æƒ…è¯·åœ¨ä¸“åŒºè®ºå›æŸ¥è¯¢")
		call YDWEPolledWaitNull(60.)
		call SaveInteger(YDHT, id, - $1317DA19, cx)
		call CustomVictoryBJ(Player(0), true, true)
		call CustomVictoryBJ(Player(1), true, true)
		call CustomVictoryBJ(Player(2), true, true)
		call CustomVictoryBJ(Player(3), true, true)
		call CustomVictoryBJ(Player(4), true, true)
		call FlushChildHashtable(YDHT, id * cx)
	endif
	set ky=null
endfunction

//ç©å®¶è‹±é›„é˜µäº¡
function Ex takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function PlayerDeath takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if ( ge[i] ) then
		call StartTimerBJ(udg_revivetimer[i], false, 7.)
	else
		call StartTimerBJ(udg_revivetimer[i], false, 15.)
	endif
	call TimerDialogDisplayForPlayerBJ(true, bj_lastCreatedTimerDialog, p)
	call CreateTimerDialogBJ(bj_lastStartedTimer, "å¤æ´»å€’è®¡æ—¶:")
	set R7[i]=bj_lastCreatedTimerDialog
	set he[i]=true
	set N8[i]=0
	call GroupRemoveUnit(k9, u)
	call GroupRemoveUnit(j9, u)
	call GroupRemoveUnit(s9, u)
	call GroupRemoveUnit(r9, u)
	if ( UnitHaveItem(u , 'I02S') or UnitHaveItem(u , 1227895373) or UnitHaveItem(u , 1227895377) or UnitHaveItem(u , 1227895378) or UnitHaveItem(u , 1227895376) ) then
		if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call DisplayTextToPlayer(p, 0, 0, "|cFFff0000å…»æ­¦æ¶ˆå¤±äº†")
		endif
	endif
	set u=null
	set p=null
endfunction
//äº”ä¸ªç©å®¶å¤æ´»
function PlayerReviveA takes nothing returns nothing
	call DestroyTimerDialog(R7[1])
	set Q4=GetRectCenter(He)
	call ReviveHeroLoc(udg_hero[1], Q4, true)
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_hero[1]), Q4, 0)
	call RemoveLocation(Q4)
	set he[1]=false
	if ( ( ( UnitHaveItem(udg_hero[1] , 'I02S') ) or ( UnitHaveItem(udg_hero[1] , 1227895373) ) or ( UnitHaveItem(udg_hero[1] , 1227895377) ) or ( UnitHaveItem(udg_hero[1] , 1227895378) ) or ( UnitHaveItem(udg_hero[1] , 1227895376) ) ) ) then
		if not (YDWEBitwise_AND(deputy[(1 )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call RemoveItem(FetchUnitItem(udg_hero[1] , 'I02S'))
			call RemoveItem(FetchUnitItem(udg_hero[1] , 1227895373))
			call RemoveItem(FetchUnitItem(udg_hero[1] , 1227895377))
			call RemoveItem(FetchUnitItem(udg_hero[1] , 1227895378))
			call RemoveItem(FetchUnitItem(udg_hero[1] , 1227895376))
		endif
	endif
	if GetUnitAbilityLevel(udg_hero[1], 'A035') > 0 then
		call UnitRemoveAbility(udg_hero[1], 'A035')
		call UnitAddAbility(udg_hero[1], 'A034')
		call SetUnitAbilityLevel(udg_hero[1], 'A034', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(udg_hero[1])), 'A034' * 5))
	endif
	call AddCharacterABuff(udg_hero[1] , udg_xinggeA[1])
	call AddCharacterBBuff(udg_hero[1] , udg_xinggeB[1])
endfunction
function PlayerReviveB takes nothing returns nothing
	call DestroyTimerDialog(R7[2])
	set Q4=GetRectCenter(He)
	call ReviveHeroLoc(udg_hero[2], Q4, true)
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_hero[2]), Q4, 0)
	call RemoveLocation(Q4)
	set he[2]=false
	if ( ( ( UnitHaveItem(udg_hero[2] , 'I02S') ) or ( UnitHaveItem(udg_hero[2] , 1227895373) ) or ( UnitHaveItem(udg_hero[2] , 1227895377) ) or ( UnitHaveItem(udg_hero[2] , 1227895378) ) or ( UnitHaveItem(udg_hero[2] , 1227895376) ) ) ) then
		if not (YDWEBitwise_AND(deputy[(2 )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call RemoveItem(FetchUnitItem(udg_hero[2] , 'I02S'))
			call RemoveItem(FetchUnitItem(udg_hero[2] , 1227895373))
			call RemoveItem(FetchUnitItem(udg_hero[2] , 1227895377))
			call RemoveItem(FetchUnitItem(udg_hero[2] , 1227895378))
			call RemoveItem(FetchUnitItem(udg_hero[2] , 1227895376))
		endif
	endif
	if GetUnitAbilityLevel(udg_hero[2], 'A035') > 0 then
		call UnitRemoveAbility(udg_hero[2], 'A035')
		call UnitAddAbility(udg_hero[2], 'A034')
		call SetUnitAbilityLevel(udg_hero[2], 'A034', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(udg_hero[2])), 'A034' * 5))
	endif
	call AddCharacterABuff(udg_hero[2] , udg_xinggeA[2])
	call AddCharacterBBuff(udg_hero[2] , udg_xinggeB[2])
endfunction
function PlayerReviveC takes nothing returns nothing
	call DestroyTimerDialog(R7[3])
	set Q4=GetRectCenter(He)
	call ReviveHeroLoc(udg_hero[3], Q4, true)
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_hero[3]), Q4, 0)
	call RemoveLocation(Q4)
	set he[3]=false
	if ( ( ( UnitHaveItem(udg_hero[3] , 'I02S') ) or ( UnitHaveItem(udg_hero[3] , 1227895373) ) or ( UnitHaveItem(udg_hero[3] , 1227895377) ) or ( UnitHaveItem(udg_hero[3] , 1227895378) ) or ( UnitHaveItem(udg_hero[3] , 1227895376) ) ) ) then
		if not (YDWEBitwise_AND(deputy[(3 )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call RemoveItem(FetchUnitItem(udg_hero[3] , 'I02S'))
			call RemoveItem(FetchUnitItem(udg_hero[3] , 1227895373))
			call RemoveItem(FetchUnitItem(udg_hero[3] , 1227895377))
			call RemoveItem(FetchUnitItem(udg_hero[3] , 1227895378))
			call RemoveItem(FetchUnitItem(udg_hero[3] , 1227895376))
		endif
	endif
	if GetUnitAbilityLevel(udg_hero[3], 'A035') > 0 then
		call UnitRemoveAbility(udg_hero[3], 'A035')
		call UnitAddAbility(udg_hero[3], 'A034')
		call SetUnitAbilityLevel(udg_hero[3], 'A034', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(udg_hero[3])), 'A034' * 5))
	endif
	call AddCharacterABuff(udg_hero[3] , udg_xinggeA[3])
	call AddCharacterBBuff(udg_hero[3] , udg_xinggeB[3])
endfunction
function PlayerReviveD takes nothing returns nothing
	call DestroyTimerDialog(R7[4])
	set Q4=GetRectCenter(He)
	call ReviveHeroLoc(udg_hero[4], Q4, true)
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_hero[4]), Q4, 0)
	call RemoveLocation(Q4)
	set he[4]=false
	if ( ( ( UnitHaveItem(udg_hero[4] , 'I02S') ) or ( UnitHaveItem(udg_hero[4] , 1227895373) ) or ( UnitHaveItem(udg_hero[4] , 1227895377) ) or ( UnitHaveItem(udg_hero[4] , 1227895378) ) or ( UnitHaveItem(udg_hero[4] , 1227895376) ) ) ) then
		if not (YDWEBitwise_AND(deputy[(4 )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call RemoveItem(FetchUnitItem(udg_hero[4] , 'I02S'))
			call RemoveItem(FetchUnitItem(udg_hero[4] , 1227895373))
			call RemoveItem(FetchUnitItem(udg_hero[4] , 1227895377))
			call RemoveItem(FetchUnitItem(udg_hero[4] , 1227895378))
			call RemoveItem(FetchUnitItem(udg_hero[4] , 1227895376))
		endif
	endif
	if GetUnitAbilityLevel(udg_hero[4], 'A035') > 0 then
		call UnitRemoveAbility(udg_hero[4], 'A035')
		call UnitAddAbility(udg_hero[4], 'A034')
		call SetUnitAbilityLevel(udg_hero[4], 'A034', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(udg_hero[4])), 'A034' * 5))
	endif
	call AddCharacterABuff(udg_hero[4] , udg_xinggeA[4])
	call AddCharacterBBuff(udg_hero[4] , udg_xinggeB[4])
endfunction
function PlayerReviveE takes nothing returns nothing
	call DestroyTimerDialog(R7[5])
	set Q4=GetRectCenter(He)
	call ReviveHeroLoc(udg_hero[5], Q4, true)
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_hero[5]), Q4, 0)
	call RemoveLocation(Q4)
	set he[5]=false
	if ( ( ( UnitHaveItem(udg_hero[5] , 'I02S') ) or ( UnitHaveItem(udg_hero[5] , 1227895373) ) or ( UnitHaveItem(udg_hero[5] , 1227895377) ) or ( UnitHaveItem(udg_hero[5] , 1227895378) ) or ( UnitHaveItem(udg_hero[5] , 1227895376) ) ) ) then
		if not (YDWEBitwise_AND(deputy[(5 )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call RemoveItem(FetchUnitItem(udg_hero[5] , 'I02S'))
			call RemoveItem(FetchUnitItem(udg_hero[5] , 1227895373))
			call RemoveItem(FetchUnitItem(udg_hero[5] , 1227895377))
			call RemoveItem(FetchUnitItem(udg_hero[5] , 1227895378))
			call RemoveItem(FetchUnitItem(udg_hero[5] , 1227895376))
		endif
	endif
	if GetUnitAbilityLevel(udg_hero[5], 'A035') > 0 then
		call UnitRemoveAbility(udg_hero[5], 'A035')
		call UnitAddAbility(udg_hero[5], 'A034')
		call SetUnitAbilityLevel(udg_hero[5], 'A034', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(udg_hero[5])), 'A034' * 5))
	endif
	call AddCharacterABuff(udg_hero[5] , udg_xinggeA[5])
	call AddCharacterBBuff(udg_hero[5] , udg_xinggeB[5])
endfunction

function CA takes nothing returns nothing
	set udg_counter1=udg_counter1 + 1
	set q7[udg_counter1]=GetUnitTypeId(GetEnumUnit())
	set r7[udg_counter1]=GetEnumUnit()
	set m7[udg_counter1]=GetUnitLoc(GetEnumUnit())
endfunction
function cA takes nothing returns nothing
	set m7[0]=GetRectCenter(Ge)
	set nn7=CountUnitsInGroup(( AddPlayerUnitIntoGroup(( Player(12) ) , null) ))
	set o7=CountUnitsInGroup(( AddPlayerUnitIntoGroup(( Player(15) ) , null) ))
	call ForGroupBJ(( AddPlayerUnitIntoGroup(( Player(12) ) , null) ), function CA)
	call ForGroupBJ(( AddPlayerUnitIntoGroup(( Player(15) ) , null) ), function CA)
endfunction
//æ€ªç‰©æ­»åé‡æ–°åˆ·æ€ª
function EA takes nothing returns nothing
	//åœ£å…½æ­»åä¸åˆ·æ–°
	if GetTriggerUnit() != gg_unit_n00M_0131 then
		call YDWEPolledWaitNull(.02)
		set s7=1
		//call BJDebugMsg(GetUnitName(GetTriggerUnit()))
		//call BJDebugMsg(I2S(GetUnitTypeId(GetTriggerUnit())))
		loop
			
		exitwhen s7 > ( nn7 + o7 )
			if ( ( GetTriggerUnit() == r7[s7] ) ) then
				if ( ( s7 <= nn7 ) ) then
					//call BJDebugMsg("s7="+I2S(s7))
					//call BJDebugMsg(I2S(q7[s7]))
					if ( ( GetUnitTypeId(GetTriggerUnit()) != 'n000' ) ) then
						call CreateNUnitsAtLoc(1, 'n000', Player(12), m7[0], bj_UNIT_FACING)
						call UnitApplyTimedLifeBJ(( ( .18 - ( .01 * I2R(O4) ) ) * I2R(GetUnitPointValueByType(GetUnitTypeId(GetTriggerUnit()))) ), 'BTLF', bj_lastCreatedUnit)
						set r7[s7]=bj_lastCreatedUnit
						return
					else
						call CreateNUnitsAtLoc(1, q7[s7], Player(12), m7[s7], bj_UNIT_FACING)
						set r7[s7]=bj_lastCreatedUnit
						return
					endif
				else
					if ( ( GetUnitTypeId(GetTriggerUnit()) != 'n000' ) ) then
						call CreateNUnitsAtLoc(1, 'n000', Player(12), m7[0], bj_UNIT_FACING)
						call UnitApplyTimedLifeBJ(( ( .18 - ( .01 * I2R(O4) ) ) * I2R(GetUnitPointValueByType(GetUnitTypeId(GetTriggerUnit()))) ), 'BTLF', bj_lastCreatedUnit)
						set r7[s7]=bj_lastCreatedUnit
						return
					else
						call CreateNUnitsAtLoc(1, q7[s7], Player(15), m7[s7], bj_UNIT_FACING)
						set r7[s7]=bj_lastCreatedUnit
						return
					endif
				endif
			endif
			set s7=s7 + 1
		endloop
	endif
endfunction
function GA takes nothing returns boolean
	return ( ShiFouShuaGuai )
endfunction
//BOSSæˆé•¿
function BOSSChengZhang takes nothing returns nothing
 local timer t=GetExpiredTimer()
	if udg_boss[udg_boshu / 4] != null then
		if IsUnitAliveBJ(udg_boss[udg_boshu / 4]) then
			if GetUnitAbilityLevel(udg_boss[udg_boshu / 4], 'A0DB') == 0 then
				call UnitAddAbility(udg_boss[udg_boshu / 4], 'A0DB')
				call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033é‚ªæ•™BOSS" + GetUnitName(udg_boss[udg_boshu / 4]) + "å·²åŠ å¼º")
			else
				if GetUnitAbilityLevel(udg_boss[udg_boshu / 4], 'A0DB') < 10 then
					call IncUnitAbilityLevel(udg_boss[udg_boshu / 4], 'A0DB')
					call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033é‚ªæ•™BOSS" + GetUnitName(udg_boss[udg_boshu / 4]) + "å·²åŠ å¼º")
				endif
			endif
			if GetUnitAbilityLevel(udg_boss[udg_boshu / 4], 'A0CP') == 0 then
				call UnitAddAbility(udg_boss[udg_boshu / 4], 'A0CP')
			else
				if GetUnitAbilityLevel(udg_boss[udg_boshu / 4], 'A0CP') < 6 then
					call IncUnitAbilityLevel(udg_boss[udg_boshu / 4], 'A0CP')
				else
					call UnitAddAbility(udg_boss[udg_boshu / 4], 'A0C1')
				endif
			endif
		else
			call PauseTimer(t)
			call DestroyTimer(t)
		endif
	else
		call PauseTimer(t)
		call DestroyTimer(t)
	endif
	set t=null
endfunction
//ç©å®¶ç­‰çº§å¤§äºæ³¢æ•°*4
function LevelGuoGao takes nothing returns boolean
 local integer i=0
 local integer totallevel=0
 local real r=0.
	loop
	exitwhen i > 11
		if udg_hero[i] != null then
			set totallevel=totallevel + GetUnitLevel(udg_hero[i])
		endif
		set i=i + 1
	endloop
	return udg_teshushijian and I2R(totallevel) > udg_boshu * 4 * I2R(GetNumPlayer())
endfunction
//åˆ·æ€ª
function HA takes nothing returns nothing
 local timer t=CreateTimer()
 local integer i= 0
	// è¯•ç©ç»“æŸ
	if ShiFouShuaGuai == false then
		call PauseTimer(shiWanTimer)
		call DestroyTimer(shiWanTimer)
		call DestroyTimerDialog(shiWanTimerDialog)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033è¯•ç©ç»“æŸï¼Œå¼€å§‹åˆ·æ€ª" ))
	endif
	if udg_boshu == 5 and udg_teshushijian == true then
		set firstTime=false
		call ChooseNanDu() // ç¬¬äºŒæ¬¡é€‰æ‹©éš¾åº¦
endif
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033é‚ªæ•™åŠ¿åŠ›ï¼šç¬¬" + ( I2S(udg_boshu) + "|CFFFF0033æ³¢" ) ))
	if udg_boshu == 9 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½ç¥åœ£æŠ¤ç”²å’Œ10å€æš´å‡»" ))
	elseif udg_boshu == 11 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½å’†å“®å’Œé‡å‡»" ))
	elseif udg_boshu == 12 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªä¸ºç©ºå†›" ))
	elseif udg_boshu == 13 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½å™¬è¡€æœ¯" ))
	elseif udg_boshu == 14 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªä¸ºç»è‚‰è½¦ï¼Œæ­»äº¡åä¼šäº§ç”Ÿå°èœ˜è››" ))
	elseif udg_boshu == 15 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªä¸ºç©ºå†›ï¼Œæ‹¥æœ‰æŠ€èƒ½20å€æš´å‡»" ))
	elseif udg_boshu == 16 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½ç²¾çµä¹‹ç«" ))
	elseif udg_boshu == 17 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½ç‹‚æˆ˜å£«å’Œ30å€æš´å‡»" ))
	elseif udg_boshu == 18 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªè¡€é‡å¾ˆé«˜ï¼Œå¹¶æ‹¥æœ‰æŠ€èƒ½å˜²è®½" ))
	elseif udg_boshu == 19 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½ç‹‚çƒ­" ))
	elseif udg_boshu == 20 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½å˜ç›¸ç§»åŠ¨" ))
	elseif udg_boshu == 21 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½åé­”æ³•å¤–å£³" ))
	elseif udg_boshu == 22 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½é‡å‡»" ))
	elseif udg_boshu == 23 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½90%é—ªé¿" ))
	elseif udg_boshu == 24 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½å¡å¸ƒæ©ï¼ˆè‡ªçˆ†ï¼‰" ))
	elseif udg_boshu == 25 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½é—ªç”µæ”»å‡»" ))
	elseif udg_boshu == 26 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªæ‹¥æœ‰æŠ€èƒ½ç¥åœ£æŠ¤ç”²" ))
	elseif udg_boshu == 27 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šä¸‹ä¸€æ³¢æ€ªè¡€é‡å¾ˆé«˜ï¼Œå¹¶æ‹¥æœ‰æŠ€èƒ½æ°¸ä¹…çŒ®ç¥­å’Œé‡ç”Ÿ" ))
	elseif udg_boshu == 28 then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033â€»è­¦å‘Šâ€»ï¼šæœ¬æ³¢ä¸ºæœ€åä¸€æ³¢è¿›æ”»ï¼Œæœ¬æ³¢ç»“æŸåæ•™ä¸»å³å°†å‡ºç°" ))
	endif
	if LevelGuoGao() then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ¿€æ´»ç‰¹æ®Šäº‹ä»¶|cFFDDA0DDâ€»é‚ªæ•™å…¨åŠ›è¿›æ”»â€»")
	endif
	call StopMusic(false)
	call PlayMusicBJ(yh)
	call EnableTrigger(Yi)
	call YDWEPolledWaitNull(60.)
	if ( ( O4 > 1 ) ) then
		call EnableTrigger(Zi)
		if ModuloInteger(udg_boshu, 4) == 0 and udg_boshu < 28 then
			call CreateNUnitsAtLocFacingLocBJ(1, u7[( udg_boshu / 4 )], Player(6), v7[8], v7[3])
			call GroupAddUnit(w7, bj_lastCreatedUnit)
			call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[3])
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033é‚ªæ•™è¶æˆ‘æ–¹ä¸å¤‡ï¼Œå·å·åœ°æ´¾å‡ºBOSSä»èƒŒåæ€è¿‡æ¥äº†ï¼Œè¯·å‡†å¤‡é˜²å¾¡")
		endif
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033é‚ªæ•™è¶æˆ‘æ–¹ä¸å¤‡ï¼Œå·å·åœ°ä»èƒŒåæ€è¿‡æ¥äº†")
		
	endif
	if ( ( ModuloInteger(udg_boshu, 4) == 0 ) and ( udg_boshu < 30 ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033é‚ªæ•™æ´¾å‡ºBOSSå‰æ¥è¿›æ”»ï¼Œè¯·å‡†å¤‡é˜²å¾¡")
		call CreateNUnitsAtLocFacingLocBJ(1, u7[( udg_boshu / 4 )], Player(6), v7[6], v7[4])
		if udg_boshu == 4 then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0C2')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0C2', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0C5')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0C5', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0C7')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0C7', IMinBJ(udg_nandu * 2, 9))
		elseif udg_boshu == 8 then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CF')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CF', IMinBJ(udg_nandu * 2, 9))
			//call UnitAddAbility(bj_lastCreatedUnit,'A0CM')
			//call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CM',IMinBJ(udg_nandu*2,9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0DA')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0DA', IMinBJ(udg_nandu * 2, 9))
		elseif udg_boshu == 12 then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CI')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CI', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CJ')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CJ', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CN')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CN', IMinBJ(udg_nandu * 2, 9))
		elseif udg_boshu == 16 then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0C8')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0C8', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0C9')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0C9', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CB')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CB', IMinBJ(udg_nandu * 2, 9))
		elseif udg_boshu == 20 then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CH')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CH', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0DE')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0DE', IMinBJ(udg_nandu * 2, 9))
		elseif udg_boshu == 24 then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CK')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0CK', IMinBJ(udg_nandu * 2, 9))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0DH')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0DH', IMinBJ(udg_nandu * 2, 9))
		endif
		set udg_boss[udg_boshu / 4]=bj_lastCreatedUnit
		call TimerStart(t, 20, true, function BOSSChengZhang)
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
	elseif ( ( ModuloInteger(udg_boshu, 4) != 0 ) and ( udg_boshu < 28 ) ) then
		if LevelGuoGao() then
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033ç”±äºæ¿€æ´»ç‰¹æ®Šäº‹ä»¶ï¼Œé‚ªæ•™æ´¾å‡ºBOSSå‰æ¥è¿›æ”»ï¼Œè¯·å‡†å¤‡é˜²å¾¡")
			call CreateNUnitsAtLocFacingLocBJ(1, u7[( udg_boshu / 4 ) + 1], Player(6), v7[6], v7[4])
			set udg_boss[udg_boshu / 4]=bj_lastCreatedUnit
			call TimerStart(t, 20, true, function BOSSChengZhang)
			call GroupAddUnit(w7, bj_lastCreatedUnit)
			call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
		endif
	endif
	call YDWEPolledWaitNull(10.)
	if ( ( ue > 0 ) ) then
		call ConditionalTriggerExecute(dj)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033åé—¨é«˜æ‰‹å¼€å§‹è¿›æ”»ï¼Œå¤§å®¶è¦å°å¿ƒåº”ä»˜äº†ï¼")
	endif
	call DisableTrigger(Yi)
	call YDWEPolledWaitNull(10.)
	if ( ( O4 > 1 ) ) then
		call DisableTrigger(Zi)
	endif
	set udg_boshu=udg_boshu + 1
	call StopMusic(false)
	call PlayMusicBJ(xh)
	if not udg_sutong then
		call YDWEPolledWaitNull(145 - GetNumPlayer() * 10)
	endif
	if ( ( udg_boshu >= 29 ) ) then
		call StopMusic(false)
		call PlayMusicBJ(zh)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033è¥¿åŸŸåŠ¿åŠ›æœ€åBOSSå³å°†å‘èµ·æœ€åè¿›æ”»ï¼Œè¯·ä½œå¥½é˜²å®ˆå‡†å¤‡")
		call CreateNUnitsAtLocFacingLocBJ(1, u7[8], Player(6), v7[6], v7[4])
		set udg_boss[udg_boshu / 4]=bj_lastCreatedUnit
		call TimerStart(t, 20, true, function BOSSChengZhang)
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
	else
		if ( ( x7 >= 1 ) ) then
			call TriggerExecute(ij)
		else
			call TriggerExecute(hj)
		endif
	endif
	set t=null
endfunction
//è¯•ç©æ¨¡å¼
function BeforeAttack takes nothing returns boolean
	return ( hd == false )
endfunction
function SetShiWan takes nothing returns nothing
	set ShiFouShuaGuai=false
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF00FF00ç©å®¶ä¸€é€‰æ‹©äº†è¯•ç©æ¨¡å¼ï¼Œ1å°æ—¶å†…æ€ªç‰©ä¸ä¼šè¿›æ”»ä¸»åŸï¼Œå¤§å®¶å¯ä»¥å°½æƒ…çš„å»ä½“éªŒç©æ³•äº†")
	// 30åˆ†é’Ÿååˆ·æ€ªï¼Œé¿å…æŒ‚æœº
	set shiWanTimer=CreateTimer()
	call TimerStart(shiWanTimer, 3600, false, function HA)
	set shiWanTimerDialog=createTimerDialog(shiWanTimer , "è¯•ç©å€’è®¡æ—¶")
endfunction
function JiaJiNeng takes unit u returns nothing
	if udg_boshu >= 8 then
		call UnitAddAbility(u, 'A0CX')
		if udg_boshu >= 18 then
			call UnitAddAbility(u, 'A0CY')
			if udg_boshu >= 28 then
				call UnitAddAbility(u, 'A0CZ')
			endif
		endif
	endif
endfunction
function lA takes nothing returns nothing
	call CreateNUnitsAtLocFacingLocBJ(1, y7[udg_boshu], Player(6), v7[6], v7[4])
	call GroupAddUnit(w7, bj_lastCreatedUnit)
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
	call CreateNUnitsAtLocFacingLocBJ(1, y7[udg_boshu], Player(6), v7[7], v7[4])
	call GroupAddUnit(w7, bj_lastCreatedUnit)
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
	call CreateNUnitsAtLocFacingLocBJ(1, y7[udg_boshu], Player(6), v7[5], v7[4])
	call GroupAddUnit(w7, bj_lastCreatedUnit)
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
	if LevelGuoGao() then
		call CreateNUnitsAtLocFacingLocBJ(1, y7[udg_boshu], Player(6), v7[6], v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
		call CreateNUnitsAtLocFacingLocBJ(1, y7[udg_boshu], Player(6), v7[7], v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
		call CreateNUnitsAtLocFacingLocBJ(1, y7[udg_boshu], Player(6), v7[5], v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
	endif
endfunction
function KA takes nothing returns nothing
	call CreateNUnitsAtLocFacingLocBJ(1, y7[( udg_boshu + 1 )], Player(6), v7[8], v7[3])
	call GroupAddUnit(w7, bj_lastCreatedUnit)
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[3])
	if LevelGuoGao() then
		call CreateNUnitsAtLocFacingLocBJ(1, y7[( udg_boshu + 1 )], Player(6), v7[8], v7[3])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[3])
	endif
endfunction
function MA takes nothing returns boolean
	return ( ShiFouShuaGuai )
endfunction
function NA takes nothing returns nothing
 local integer i= 1
 local integer j= 1
 local integer l__l= 0
 local real r1= 0
 local real r2= 0
 local real rr3= 1.
 local real rr4= 1.
	if ( ( ue == 1 ) ) then
		set r1=1.26
		set r2=1.4
	elseif ( ( ue == 2 ) ) then
		set r1=1.28
		set r2=1.43
	elseif ( ( ue == 3 ) ) then
		set r1=1.3
		set r2=1.46
	elseif ( ( ue == 4 ) ) then
		set r1=1.32
		set r2=1.49
	elseif ( ( ue == 5 ) ) then
		set r1=1.34
		set r2=1.52
	endif
	loop
	exitwhen i > ue
		loop
		exitwhen j > udg_boshu
			if ( j < udg_boshu ) then
				set rr3=rr3 * r1
				set rr4=rr4 * r2
			endif
			set j=j + 1
		endloop
		set l__l=GetRandomInt(1, 11)
		call CreateNUnitsAtLocFacingLocBJ(1, ve[l__l], Player(6), v7[GetRandomInt(5, 8)], v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
		call SetHeroLevelBJ(bj_lastCreatedUnit, ( 4 * udg_boshu ), false)
		call YDWEGeneralBounsSystemUnitSetBonus(bj_lastCreatedUnit , 3 , 0 , R2I(I2R(xe[l__l]) * ( rr3 * 3.3 )))
		call YDWEGeneralBounsSystemUnitSetBonus(bj_lastCreatedUnit , 2 , 0 , ( ( ( udg_boshu - 1 ) * ye[l__l] * 9 ) / 10 ) * ue)
		//call YDWEGeneralBounsSystemUnitSetBonus(bj_lastCreatedUnit,1,0,R2I(I2R(ze[l])*rr4))
		call unitadditembyidswapped(Ae[udg_boshu] , bj_lastCreatedUnit)
		set i=i + 1
	endloop
	//set ue=0
endfunction
function PA takes nothing returns nothing
	call DestroyTimerDialog(z7[1])
	call ConditionalTriggerExecute(Xi)
endfunction
function RA takes nothing returns nothing
	call DestroyTimerDialog(z7[2])
	call ConditionalTriggerExecute(Xi)
	//set x7=0
endfunction
function TA takes nothing returns nothing
 local integer i= 0
	call DestroyTimerDialog(z7[3])
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFDDA0DDè¥¿åŸŸé‚ªæ•™å¼€å§‹äº†è¿›æ”»æ­£æ´¾æ­¦æ—ï¼Œç©å®¶åŠ¡å¿…è¦ç¡®ä¿æ­£æ´¾æ­¦æ—ä¸è¢«æ‘§æ¯ï¼Œå¦åˆ™æ¸¸æˆå¤±è´¥|r")
	if udg_teshushijian == true and tiaoZhanIndex != 3 then
		call ChooseNanDu() // ç¬¬ä¸€æ¬¡é€‰æ‹©éš¾åº¦
endif
	call ConditionalTriggerExecute(Xi)
endfunction
function VA takes nothing returns nothing
	call StartTimerBJ(A7[1], false, ( 30. + I2R(ie) ))
	call CreateTimerDialogBJ(bj_lastStartedTimer, "é‚ªæ•™ä¸‹æ¬¡è¿›æ”»æ—¶é—´")
	set z7[1]=bj_lastCreatedTimerDialog
	set ie=0
endfunction
function XA takes nothing returns nothing
	call StartTimerBJ(A7[2], false, ( x7 * 60. + 30. + I2R(ie) ))
	call CreateTimerDialogBJ(bj_lastStartedTimer, "é‚ªæ•™ä¸‹æ¬¡è¿›æ”»æ—¶é—´")
	set z7[2]=bj_lastCreatedTimerDialog
	set ie=0
	set x7=0
endfunction
function ZA takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227894853 ) )
endfunction
function ea takes nothing returns nothing
	set x7=x7 + 1
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF00FF4Cåœ¨æ­¦æ—å¼Ÿå­çš„å¥‹åŠ›å¸®åŠ©ä¸‹ï¼Œé‚ªæ•™çš„è¿›æ”»åŠ¿åŠ›è¢«å»¶ç¼“äº†ï¼Œå¤§å®¶æœ‰1åˆ†é’Ÿçš„æ—¶é—´ï¼Œèµ¶ç´§å»åšä»»åŠ¡å§~")
	call PlaySoundOnUnitBJ(Dh, 100, GetTriggerUnit())
	set shoujiajf[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=shoujiajf[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 10
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|CFF00FF4Cå®ˆå®¶ç§¯åˆ†+10")
endfunction
function ja takes nothing returns boolean
	return ( ( IsUnitInGroup(GetTriggerUnit(), w7) ) )
endfunction
function ka takes nothing returns nothing
	call GroupRemoveUnit(w7, GetTriggerUnit())
endfunction
//ç»ƒåŠŸæˆ¿åˆ·æ€ª
function na takes nothing returns boolean
	return ( ( ( GetOwningPlayer(GetFilterUnit()) == Player(7) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function qa takes nothing returns nothing
 local integer j= IMinBJ(IMaxBJ(udg_boshu, 1), 28)
	// æ— å°½BOSSæ¨¡å¼æ°¸è¿œåˆ·ç¬¬1ã€2æ³¢æ€ª
	if tiaoZhanIndex == 3 then
		set j=GetRandomInt(1, 2)
	endif
	if ( ( CountUnitsInGroup(wv(Ie , Condition(function na))) <= 3 ) ) then
		call CreateNUnitsAtLoc(12, y7[j], Player(7), v7[1], bj_UNIT_FACING)
	endif
	if ( ( CountUnitsInGroup(wv(Re , Condition(function na))) <= 3 ) ) then
		call CreateNUnitsAtLoc(12, y7[j], Player(7), v7[$A], bj_UNIT_FACING)
	endif
	if ( ( CountUnitsInGroup(wv(le , Condition(function na))) <= 3 ) ) then
		call CreateNUnitsAtLoc(12, y7[j], Player(7), v7[2], bj_UNIT_FACING)
	endif
endfunction
//ç»ƒåŠŸæˆ¿
function sa takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895350 ) ) // INLINED!!
endfunction
function ua takes nothing returns nothing
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00è¿›å…¥å°‘æ—å¯ºç»ƒåŠŸæˆ¿äºŒ")
	call SetUnitPosition(GetTriggerUnit(), 4750, - 3650)
	call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 4250, - 3650, 0)
endfunction
function wa takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895351 ) ) // INLINED!!
endfunction
function xa takes nothing returns nothing
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00è¿›å…¥å°‘æ—å¯ºç»ƒåŠŸæˆ¿ä¸‰")
	call SetUnitPosition(GetTriggerUnit(), 5920, - 4750)
	call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 5920, - 4750, 0)
endfunction
function za takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895361 ) ) // INLINED!!
endfunction
function Aa takes nothing returns nothing
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00è¿›å…¥å°‘æ—å¯ºç»ƒåŠŸæˆ¿ä¸€")
	call SetUnitPosition(GetTriggerUnit(), 3730, - 4690)
	call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 3730, - 4690, 0)
endfunction

//åˆ‡æ¢èƒŒåŒ…
function Ba takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 1093677134 ) )
endfunction
function ba takes nothing returns nothing
	set B7=1
	loop
	exitwhen B7 > 6
		call UnitAddItem(b7[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], UnitItemInSlotBJ(C7[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], B7))
		set B7=B7 + 1
	endloop
	set B7=1
	loop
	exitwhen B7 > 6
		call UnitAddItem(C7[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], UnitItemInSlotBJ(GetTriggerUnit(), B7))
		set B7=B7 + 1
	endloop
	set B7=1
	loop
	exitwhen B7 > 6
		call UnitAddItem(GetTriggerUnit(), UnitItemInSlotBJ(b7[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], B7))
		set B7=B7 + 1
	endloop
endfunction
//é¸Ÿçš„è´©å–æŠ€èƒ½
function ca takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 1093679433 ) )
endfunction
function Da takes nothing returns nothing
	call CreateNUnitsAtLoc(1, 'nvul', GetOwningPlayer(GetTriggerUnit()), v7[9], bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddItem(bj_lastCreatedUnit, CreateItem(GetItemTypeId(GetSpellTargetItem()), 0, 0))
	call UnitDropItemTarget(bj_lastCreatedUnit, UnitItemInSlotBJ(bj_lastCreatedUnit, 1), Rs)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5.)
	call RemoveItem(GetSpellTargetItem())
	call PlaySoundOnUnitBJ(Ih, 100, GetTriggerUnit())
	call AddSpecialEffectTargetUnitBJ("overhead", GetTriggerUnit(), "Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
	call DestroyEffect(bj_lastCreatedEffect)
endfunction
// é¸Ÿåˆ‡æ¢çš®è‚¤çš„æŠ€èƒ½
function isSwitchSkin takes nothing returns boolean
	return GetSpellAbilityId() == 'A0B7' or GetSpellAbilityId() == 'A0B8'
endfunction
function switchSkin takes nothing returns nothing
	// local unit u = GetTriggerUnit()
	// local player p = GetOwningPlayer(u)
	// local location loc = GetUnitLoc(u)
	// local integer i = 1 + GetPlayerId(p)
	// if GetSpellAbilityId() == 'A0B7' then
	//     call CreateNUnitsAtLoc(1, 'n00W', p, loc, GetUnitFacing(u))
	// else
	//     call CreateNUnitsAtLoc(1, 'n00V', p, loc, GetUnitFacing(u))
	// endif
	// set P4[i] = bj_lastCreatedUnit
	// set B7=1
	// loop
	//     exitwhen B7>6
	//     call UnitAddItem(P4[i], UnitItemInSlotBJ(u, B7))
	//     set B7=B7+1
	// endloop
	// call RemoveUnit(u)
	// call RemoveLocation(loc)
	// set loc = null
	// set u = null
	// set p = null
 local unit u= GetTriggerUnit()
	if GetSpellAbilityId() == 'A0B7' then
		call YDWEUnitTransform(u , 'AEme' , 'n00W')
	elseif GetSpellAbilityId() == 'A0B8' then
		call YDWEUnitTransform(u , 'AEme' , 'n00V')
	endif
	// æ·»åŠ æ›´æ¢çš®è‚¤é­”æ³•ä¹¦å¹¶è®¾ç½®é­”æ³•ä¹¦å’Œé‡Œé¢æŠ€èƒ½æ°¸ä¹…æ€§
	// call UnitAddAbility(u,'A0BB')
	// call UnitMakeAbilityPermanent(u, true, 'A0BB')
	// call UnitMakeAbilityPermanent(u, true, 'A0B7')
	// call UnitMakeAbilityPermanent(u, true, 'A0B8')
	// æ·»åŠ é€Ÿé€šå­˜æ¡£å¥–åŠ±é­”æ³•ä¹¦
	call UnitAddAbility(u, 'A0E0')
	call UnitMakeAbilityPermanent(u, true, 'A0E1')
	call UnitMakeAbilityPermanent(u, true, 'A0E2')
	call UnitMakeAbilityPermanent(u, true, 'A0E3')
	call UnitMakeAbilityPermanent(u, true, 'A0E4')
	call UnitMakeAbilityPermanent(u, true, 'A0E5')
	call UnitMakeAbilityPermanent(u, true, 'A0E6')
	call UnitMakeAbilityPermanent(u, true, 'A0E7')
	call UnitMakeAbilityPermanent(u, true, 'A0E8')
	call UnitMakeAbilityPermanent(u, true, 'A0E9')
	call UnitMakeAbilityPermanent(u, true, 'A0EA')
	set u=null
endfunction
// é¸Ÿä½¿ç”¨åœ°å›¾æŒ‡ä»¤
function isCmd takes nothing returns boolean
	return GetSpellAbilityId() == 'A0DZ'
endfunction
function cmd takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j=0
	// ckjnæŒ‡ä»¤
	if GetSpellAbilityId() == 'A0DZ' then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000äººç‰©æ€§æ ¼ï¼šä½ å­¦æ­¦èµ„è´¨" + XingGeA(udg_xinggeA[i]) + "ï¼Œæ€åº¦" + XingGeB(udg_xinggeB[i]))
		call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
		set j=1
		loop
		exitwhen j > wugongshu[i]
			call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ç¬¬" + I2S(GetUnitAbilityLevel(udg_hero[i], I7[( i - 1 ) * 20 + j])) + "é‡ï¼Œå‡çº§è¿›åº¦ï¼š" + LoadStr(YDHT, GetHandleId(p), I7[( i - 1 ) * 20 + j] * 2))
			set j=j + 1
		endloop
		call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
		
	endif
	
	set u=null
	set p=null
endfunction
//åˆ‡æ¢ç‰©å“
function IsQieHuanItem takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A00M' ) and ( he[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == false ) )
endfunction
function QieHuanItem takes nothing returns nothing
	call UnitAddItem(Vs, UnitItemInSlotBJ(GetTriggerUnit(), 1))
	call UnitAddItem(GetTriggerUnit(), UnitItemInSlotBJ(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], 1))
	call UnitAddItem(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], UnitItemInSlotBJ(Vs, 1))
endfunction

//è‹±é›„è¾¾åˆ°æŸç­‰çº§
function Ja takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function HeroLevel takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_QI) - 1)])) != 0) ) then // INLINED!!
		if GetRandomInt(1, 3) == 1 then
			call ModifyHeroStat(0, u, 0, GetRandomInt(4, 12))
		elseif GetRandomInt(1, 2) == 1 then
			call ModifyHeroStat(1, u, 0, GetRandomInt(4, 12))
		else
			call ModifyHeroStat(2, u, 0, GetRandomInt(4, 12))
		endif
		if ( GetUnitLevel(u) >= 80 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_QI) - 1)])) != 0) then // INLINED!!
			call Deputy_setMaster(i , LIAN_QI)
			set juexuelingwu[i]=juexuelingwu[i] + 50
			// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“ç»ƒæ°”å¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—ç»ƒæ°”å¤§å¸ˆ")
			call SetPlayerName(p, "ã€“ç»ƒæ°”å¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		endif
	endif
	
	if ( ( GetUnitTypeId(u) == 'O004' ) ) then
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 0 , 400)
	else
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 0 , 350)
	endif
	if ( ( GetUnitTypeId(u) == 'O000' ) ) then
		call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 0 , 40)
	else
		call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 0 , 35)
	endif
	if ( ( GetUnitTypeId(u) == 'O001' ) ) then
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , 5)
	else
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , 4)
	endif
	if ( ( GetUnitLevel(u) >= 3 ) and ( Z8[i] == false ) ) then
		set Z8[i]=true
		set d8[i]=1
		loop
		exitwhen d8[i] > DENOMINATION_NUMBER //é—¨æ´¾æ•°
if ( udg_runamen[i] == d8[i] ) then
				// è‡ªç”±3çº§è‡ªåŠ¨å­¦æŠ€èƒ½begin
				if d8[i] == 11 then
					if GetRandomInt(1, 100) <= 50 then
						set X7[d8[i]]=LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(1, 18), 2)
					else
						set X7[d8[i]]=LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(39, 41), 2)
					endif
					call UnitAddAbility(u, X7[d8[i]])
					call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(X7[d8[i]]))
				endif
				// è‡ªç”±3çº§è‡ªåŠ¨å­¦æŠ€èƒ½end
				
				if d8[i] != 11 then
					call UnitAddAbility(u, X7[d8[i]])
					call UnitMakeAbilityPermanent(u, true, X7[d8[i]])
					call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(X7[d8[i]]))
					call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "åˆçº§å¼Ÿå­")
					call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "åˆçº§å¼Ÿå­ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
				endif
				if ( udg_runamen[i] == 11 ) then
					set udg_shuxing[i]=udg_shuxing[i] + 5
					call DisplayTextToPlayer(p, 0, 0, "|cff00FF66è‡ªç”±é—¨æ´¾3çº§å¥–åŠ±5ç‚¹è‡ªç”±å±æ€§ç‚¹ã€å¿…å®šè·å¾—å¥‡æ­¦ç§˜ç±ä¸€æœ¬")
					call unitadditembyidswapped(LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(42, 46), 1) , u)
					// call unitadditembyidswapped('I071',u) // åˆ›å»ºä¼ åŠŸç»™ç©å®¶
					
					// =====é€æŠ€èƒ½ä¹¦begin
					// if GetRandomInt(1,100)<=90 then
					// 	call unitadditembyidswapped(LoadInteger(YDHT, StringHash("æ­¦å­¦")+GetRandomInt(19, 36), 1), u)
					// else
					// 	call unitadditembyidswapped(LoadInteger(YDHT, StringHash("æ­¦å­¦")+GetRandomInt(1, 18), 1), u)
					// endif
					//======é€æŠ€èƒ½ä¹¦end
					
					// è‡ªç”±è‡ªåŠ¨å­¦çš„æŠ€èƒ½è¡¥å±æ€§begin
					set S9=1
					loop
					exitwhen S9 > 20
						if ( X7[d8[i]] == MM9[S9] ) then
							set udg_shanghaijiacheng[i]=udg_shanghaijiacheng[i] + udg_jueneishjc[S9]
							call ModifyHeroStat(1, u, 0, udg_jueneiminjie[S9])
							set udg_baojilv[i]=udg_baojilv[i] + udg_jueneibaojilv[S9]
							set juexuelingwu[i]=juexuelingwu[i] + udg_jueneijxlw[S9]
							set udg_shanghaixishou[i]=udg_shanghaixishou[i] + udg_jueneishxs[S9]
						endif
						set S9=S9 + 1
					endloop
					// è‡ªç”±è‡ªåŠ¨å­¦çš„æŠ€èƒ½è¡¥å±æ€§end
				endif
				
				// å¡«å……æŠ€èƒ½æ ¼å­
				set L7[i]=1
				loop
				exitwhen L7[i] > wugongshu[i]
					if ( I7[( GetPlayerId(p) * 20 + L7[i] )] != 'AEfk' ) then
					else
						set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=X7[d8[i]]
					exitwhen true
					endif
					set L7[i]=L7[i] + 1
				endloop
			endif
			set d8[i]=d8[i] + 1
		endloop
	endif
	if ( ( GetUnitLevel(u) >= 3 ) and GetUnitAbilityLevel(u, X7[udg_runamen[i]]) >= 2 and ( e9[i] == false ) ) then
		set e9[i]=true
		set d8[i]=1
		loop
		exitwhen d8[i] > DENOMINATION_NUMBER
			if d8[i] != 11 then
				if ( ( udg_runamen[i] == d8[i] ) ) then
					call UnitAddAbility(u, Z7[d8[i]])
					call UnitMakeAbilityPermanent(u, true, Z7[d8[i]])
					call DisplayTextToPlayer(p, 0, 0, ( "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(Z7[d8[i]]) ))
					call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "ä¸­çº§å¼Ÿå­")
					call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "ä¸­çº§å¼Ÿå­ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					set L7[i]=1
					loop
					exitwhen L7[i] > wugongshu[i]
						if ( ( I7[( ( GetPlayerId(p) * 20 ) + L7[i] )] != 'AEfk' ) ) then
						else
							set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=Z7[d8[i]]
						exitwhen true
						endif
						set L7[i]=L7[i] + 1
					endloop
				endif
			endif
			set d8[i]=d8[i] + 1
		endloop
	endif
	if ( ( GetUnitLevel(u) >= 3 ) and GetUnitAbilityLevel(u, Z7[udg_runamen[i]]) >= 2 and ( d9[i] == false ) ) then
		set d9[i]=true
		set d8[i]=1
		loop
		exitwhen d8[i] > DENOMINATION_NUMBER
			if d8[i] != 11 then
				if ( ( udg_runamen[i] == d8[i] ) ) then
					call UnitAddAbility(u, Y7[d8[i]])
					call DisplayTextToPlayer(p, 0, 0, ( "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(Y7[d8[i]]) ))
					call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "é«˜çº§å¼Ÿå­")
					call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "é«˜çº§å¼Ÿå­ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					call UnitMakeAbilityPermanent(u, true, Y7[d8[i]])
					set L7[i]=1
					loop
					exitwhen L7[i] > wugongshu[i]
						if ( ( I7[( ( GetPlayerId(p) * 20 ) + L7[i] )] != 'AEfk' ) ) then
						else
							set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=Y7[d8[i]]
						exitwhen true
						endif
						set L7[i]=L7[i] + 1
					endloop
				endif
			endif
			set d8[i]=d8[i] + 1
		endloop
	endif
	if ( ( GetUnitLevel(u) == 10 ) ) then
		// è‡ªç”±10çº§è‡ªåŠ¨å­¦ç»å†…
		if udg_runamen[i] == 11 then
			set Z7[udg_runamen[i]]=LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(29, 36), 2) // 37é€†ä¹é˜´å’Œ38åŒ»ç–—ç¯‡å»é™¤
call UnitAddAbility(u, Z7[udg_runamen[i]])
			call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(Z7[udg_runamen[i]]))
			// è‡ªç”±è‡ªåŠ¨å­¦çš„æŠ€èƒ½è¡¥å±æ€§begin
			set S9=1
			loop
			exitwhen S9 > 20
				if ( Z7[udg_runamen[i]] == MM9[S9] ) then
					set udg_shanghaijiacheng[i]=udg_shanghaijiacheng[i] + udg_jueneishjc[S9]
					call ModifyHeroStat(1, u, 0, udg_jueneiminjie[S9])
					set udg_baojilv[i]=udg_baojilv[i] + udg_jueneibaojilv[S9]
					set juexuelingwu[i]=juexuelingwu[i] + udg_jueneijxlw[S9]
					set udg_shanghaixishou[i]=udg_shanghaixishou[i] + udg_jueneishxs[S9]
				endif
				set S9=S9 + 1
			endloop
			// è‡ªç”±è‡ªåŠ¨å­¦çš„æŠ€èƒ½è¡¥å±æ€§end
			set L7[i]=1
			loop
			exitwhen L7[i] > wugongshu[i]
				if ( ( I7[( ( GetPlayerId(p) * 20 ) + L7[i] )] != 'AEfk' ) ) then
				else
					set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=Z7[udg_runamen[i]]
				exitwhen true
				endif
				set L7[i]=L7[i] + 1
			endloop
		endif
		
		call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00æ­å–œä½ å‡åˆ°äº†10çº§ï¼Œä½ å¯ä»¥å‰å¾€å…¨çœŸæ•™ï¼ˆå°åœ°å›¾æŒ‡ç¤ºç‚¹ï¼‰å®Œæˆå†ç»ƒ1ä»»åŠ¡ï¼ˆå¤§æˆ˜æ±Ÿå—ä¸ƒæ€ªï¼‰äº†ï¼Œå®Œæˆå†ç»ƒä»»åŠ¡å¯ä»¥æå‡ä¿®è¡Œï¼Œå¯¹äººç‰©çš„æ­¦åŠŸä¼¤å®³å æœ‰é‡è¦å½±å“ï¼Œåˆ‡è®°åˆ‡è®°ï¼ï¼")
		set loc=GetRectCenter(Te)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	endif
	if ( ( GetUnitLevel(u) == 25 ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00æ­å–œä½ å‡åˆ°äº†25çº§ï¼Œä½ å¯ä»¥å‰å¾€å°‘æ—åå±±ï¼ˆå°åœ°å›¾æŒ‡ç¤ºç‚¹ï¼‰å®Œæˆå†ç»ƒ2ä»»åŠ¡ï¼ˆæŒ‘æˆ˜åå…«ç½—æ±‰ï¼‰äº†ï¼Œå®Œæˆå†ç»ƒä»»åŠ¡å¯ä»¥æå‡ä¿®è¡Œï¼Œå¯¹äººç‰©çš„æ­¦åŠŸä¼¤å®³å æœ‰é‡è¦å½±å“ï¼Œåˆ‡è®°åˆ‡è®°ï¼ï¼")
		set loc=GetRectCenter(ag)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	endif
	if ( ( GetUnitLevel(u) == 40 ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00æ­å–œä½ å‡åˆ°äº†40çº§ï¼Œä½ å¯ä»¥å‰å¾€æ­¦æ—åŸå¤–ï¼ˆå°åœ°å›¾æŒ‡ç¤ºç‚¹ï¼‰å®Œæˆå†ç»ƒ3ä»»åŠ¡ï¼ˆå‹‡é—¯åæ¶ä¸èµ¦å²›ï¼‰äº†ï¼Œå®Œæˆå†ç»ƒä»»åŠ¡å¯ä»¥æå‡ä¿®è¡Œï¼Œå¯¹äººç‰©çš„æ­¦åŠŸä¼¤å®³å æœ‰é‡è¦å½±å“ï¼Œåˆ‡è®°åˆ‡è®°ï¼ï¼")
		set loc=GetRectCenter(Bg)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	endif
	if ( ( GetUnitLevel(u) == 55 ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00æ­å–œä½ å‡åˆ°äº†55çº§ï¼Œä½ å¯ä»¥å‰å¾€å…‰æ˜é¡¶ï¼ˆå°åœ°å›¾æŒ‡ç¤ºç‚¹ï¼‰å®Œæˆå†ç»ƒ4ä»»åŠ¡ï¼ˆå‹‡é—¯å…‰æ˜é¡¶ï¼‰äº†ï¼Œå®Œæˆå†ç»ƒä»»åŠ¡å¯ä»¥æå‡ä¿®è¡Œï¼Œå¯¹äººç‰©çš„æ­¦åŠŸä¼¤å®³å æœ‰é‡è¦å½±å“ï¼Œåˆ‡è®°åˆ‡è®°ï¼ï¼")
		set loc=GetRectCenter(Lg)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	endif
	if ( ( GetUnitLevel(u) == 70 ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00æ­å–œä½ å‡åˆ°äº†70çº§ï¼Œä½ å¯ä»¥å‰å¾€å°‘æ—å¯ºåå±±ï¼ˆå°åœ°å›¾æŒ‡ç¤ºç‚¹ï¼‰å®Œæˆå†ç»ƒ5ä»»åŠ¡ï¼ˆåå±±è®ºå‰‘ï¼‰äº†ï¼Œå®Œæˆå†ç»ƒä»»åŠ¡å¯ä»¥æå‡ä¿®è¡Œï¼Œå¯¹äººç‰©çš„æ­¦åŠŸä¼¤å®³å æœ‰é‡è¦å½±å“ï¼Œåˆ‡è®°åˆ‡è®°ï¼ï¼")
		set loc=GetRectCenter(Rg)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	endif
	if ( GetUnitLevel(u) >= 80 and jiawuxue[i] == false ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00æ­å–œä½ å‡åˆ°äº†80çº§ï¼Œè·å¾—7ä¸ªè‡ªåˆ›æ­¦å­¦ç‚¹ï¼Œåœ¨é€šè¿‡å†ç»ƒ6ä»¥åä½ å¯ä»¥åˆ°èšè´¤åº„æ¸¸å¦ä¹‹å¤„è‡ªåˆ›æ­¦å­¦")
		set wuxuedian[i]=wuxuedian[i] + 5
		if udg_vip[i] >= 1 then
			set wuxuedian[i]=wuxuedian[i] + 2
		endif
		// å•é€š8é—¨æ´¾å¥–åŠ±
		if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 8 then
			set wuxuedian[i]=wuxuedian[i] + 10
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å•é€š8ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—10ä¸ªè‡ªåˆ›æ­¦å­¦ç‚¹")
		endif
		set jiawuxue[i]=true
		set zizhiwugong[i]=sc__ZiZhiWuGong_create(0 , 0 , GetRandomInt(1, 10) , 0 , 0)
	endif
	set u=null
	set p=null
	set loc=null
endfunction

//æ€æ€ªå›è¡€
function Ma takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetKillingUnit())) == MAP_CONTROL_USER ) )
endfunction
function KillGuaiJiaXie takes nothing returns nothing
	if GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )], 'A03Z') < 1 then
		call SetWidgetLife(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )], ( GetUnitState(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )], UNIT_STATE_LIFE) + ( shaguaihufui[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] + ( ( I2R(danpo[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]) / 2000. ) * GetUnitState(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )], UNIT_STATE_MAX_LIFE) ) ) ))
	endif
endfunction
//æ¯ç§’å›è¡€å›è“
function YiShuHuiXie takes nothing returns nothing
	set c7=1
	loop
	exitwhen c7 > 5
		if ( ( GetPlayerController(Player(- 1 + ( c7 ))) == MAP_CONTROL_USER ) ) and UnitHasBuffBJ(udg_hero[c7], 'B014') == false then
			call SetUnitLifePercentBJ(udg_hero[c7], GetUnitLifePercent(udg_hero[c7]) + I2R(yishu[c7]) / 2000. + 10 * GetUnitAbilityLevel(udg_hero[c7], 'A0D4') + guixihuixie[c7])
			if ( UnitHaveItem(udg_hero[c7] , 'I01D') ) then
				call SetUnitLifePercentBJ(udg_hero[c7], GetUnitLifePercent(udg_hero[c7]) + 6)
			endif
			call SetUnitLifeBJ(udg_hero[c7], GetUnitState(udg_hero[c7], UNIT_STATE_LIFE) + shengminghuifu[c7])
			call SetUnitManaBJ(udg_hero[c7], GetUnitStateSwap(UNIT_STATE_MANA, udg_hero[c7]) + ( .3 * I2R(yishu[c7]) ) + falihuifu[c7] + 5 * GetUnitAbilityLevel(udg_hero[c7], 'A0D4'))
		endif
		set c7=c7 + 1
	endloop
endfunction
//ä¼¤å®³å›å¤
function Ra takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function Sa takes nothing returns nothing
	if GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], 'A03Z') < 1 then
		call SetWidgetLife(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], ( GetUnitState(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], UNIT_STATE_LIFE) + ( ( shanghaihuifu[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] / 10. ) + ( ( I2R(danpo[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )]) / 1500. ) * GetUnitState(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], UNIT_STATE_MAX_LIFE) ) ) ))
	endif
endfunction
//ä¼¤å®³å¸æ”¶
function Ua takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function Va takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local real r=( 1 - RMinBJ(udg_shanghaixishou[i], .8) ) * GetEventDamage()
	call SetWidgetLife(udg_hero[i], ( GetUnitState(udg_hero[i], UNIT_STATE_LIFE) + ( RMinBJ(udg_shanghaixishou[i], .8) * GetEventDamage() ) ))
	if ( ( UnitHasBuffBJ(GetTriggerUnit(), 1110454340) ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 1093678930) != 0 ) ) then
		call SetWidgetLife(udg_hero[i], ( GetUnitState(udg_hero[i], UNIT_STATE_LIFE) + ( .3 * GetEventDamage() ) ))
	endif
	if UnitHaveItem(udg_hero[i] , 'I09Z') then
		if GetUnitAbilityLevel(udg_hero[i], 'A03O') != 0 then
			set r=r / 3
		endif
		if GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) >= R2I(r) / 20 then
			call AdjustPlayerStateBJ(- R2I(r) / 20, p, PLAYER_STATE_RESOURCE_GOLD)
			call SetWidgetLife(udg_hero[i], RMinBJ(( GetUnitState(udg_hero[i], UNIT_STATE_LIFE) + r ), GetUnitState(udg_hero[i], UNIT_STATE_MAX_LIFE)))
		else
			call AdjustPlayerStateBJ(GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) * ( - 1 ), p, PLAYER_STATE_RESOURCE_GOLD)
			call SetWidgetLife(udg_hero[i], RMinBJ(( GetUnitState(udg_hero[i], UNIT_STATE_LIFE) + 5 * I2R(GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD)) ), GetUnitState(udg_hero[i], UNIT_STATE_MAX_LIFE)))
		endif
	endif
	set u=null
	set p=null
endfunction

//ä¼ é€è‡³æ¡ƒèŠ±å²›
function mB takes nothing returns boolean
	return ( GetItemTypeId(GetManipulatedItem()) == 'I09V' or GetItemTypeId(GetManipulatedItem()) == 'I0DI' ) and (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) // INLINED!!
endfunction
function nB takes nothing returns nothing
	call SetUnitPosition(GetTriggerUnit(), 9631, 1139)
	call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 9631, 1139, 0)
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00è¿›å…¥Staræ¡ƒèŠ±å²›")
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00â€æºæ€è‹±å¹´,å·´å·´è¥¿æ´›æ™®,é›ªé™†æ–‡å‡ºï¼›æºæ€è‹±å¹´,å·´å·´è¥¿æ´›æ™®,é›ªé™†æ–‡å‡ºï¼â€œ")
endfunction
//ç»ˆå—å±±
function GQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896148 ) ) // INLINED!!
endfunction
function HQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < $A ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³10çº§æ— æ³•ä¼ é€")
	else
		if ( shengwang[i] < 500 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³500æ— æ³•ä¼ é€")
		else
			set loc=GetRectCenter(Te)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			call DisplayTextToPlayer(p, 0, 0, "|cff66ff33è¿›å…¥ç»ˆå—å±±")
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//å°‘æ—å¯ºåå±±
function lQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896149 ) ) // INLINED!!
endfunction
function JQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < 25 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³25çº§æ— æ³•ä¼ é€")
	else
		if ( ( shengwang[i] < $5DC ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³1500æ— æ³•ä¼ é€")
		else
			set loc=GetRectCenter(ag)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			call DisplayTextToPlayer(p, 0, 0, "|cff66ff33è¿›å…¥å°‘æ—å¯ºåå±±")
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//å¡å¤–
function LQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896150 ) ) // INLINED!!
endfunction
function MQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < 40 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³40çº§æ— æ³•ä¼ é€")
	else
		if ( ( shengwang[i] < $9C4 ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³2500æ— æ³•ä¼ é€")
		else
			set loc=GetRectCenter(Bg)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			call DisplayTextToPlayer(p, 0, 0, "|cff66ff33è¿›å…¥å¡å¤–")
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//å…‰æ˜é¡¶
function OQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896151 ) ) // INLINED!!
endfunction
function PQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < 55 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³55çº§æ— æ³•ä¼ é€")
	else
		if ( ( shengwang[i] < $FA0 ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³4000æ— æ³•ä¼ é€")
		else
			set loc=GetRectCenter(Lg)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			call DisplayTextToPlayer(p, 0, 0, "|cff66ff33è¿›å…¥å…‰æ˜é¡¶")
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//å°‘æ—å¯ºåå±±
function RQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896152 ) ) // INLINED!!
endfunction
function SQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < 70 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³70çº§æ— æ³•ä¼ é€")
	else
		if ( ( shengwang[i] < 6000 ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³6000æ— æ³•ä¼ é€")
		else
			set loc=GetRectCenter(Rg)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			call DisplayTextToPlayer(p, 0, 0, "|cff66ff33è¿›å…¥å°‘æ—å¯ºåå±±")
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//è¾¹ç–†
function UQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896385 ) ) // INLINED!!
endfunction
function VQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < 100 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³100çº§æ— æ³•ä¼ é€")
	else
		if ( ( shengwang[i] < 9000 ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³9000æ— æ³•ä¼ é€")
		else
			set loc=GetRectCenter(Zg)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			call DisplayTextToPlayer(p, 0, 0, "|cff66ff33è¿›å…¥è¾¹ç–†")
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//é©¿ç«™ä¼ é€
function IsYiZhan takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and ( GetItemTypeId(GetManipulatedItem()) == 'I0BP' or GetItemTypeId(GetManipulatedItem()) == 'I0BQ' or GetItemTypeId(GetManipulatedItem()) == 'I0BR' or GetItemTypeId(GetManipulatedItem()) == 'I0BS' or GetItemTypeId(GetManipulatedItem()) == 'I0BT' or GetItemTypeId(GetManipulatedItem()) == 'I0BU' or GetItemTypeId(GetManipulatedItem()) == 'I0BV' or GetItemTypeId(GetManipulatedItem()) == 'I0BW' or GetItemTypeId(GetManipulatedItem()) == 'I0BX' or GetItemTypeId(GetManipulatedItem()) == 'I0AF' ) // INLINED!!
endfunction
function YiZhanChuanSong takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if GetItemTypeId(GetManipulatedItem()) == 'I0BP' then
		call SetUnitPosition(udg_hero[i], 3763, - 9091)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), 3763, - 9091, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³ç‰›å¦–å¹»å¢ƒ")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BQ' then
		call SetUnitPosition(udg_hero[i], 1446, - 2317)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), 1446, - 2317, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³åˆå…¥æ±Ÿæ¹–")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BR' then
		call SetUnitPosition(udg_hero[i], 1863, 0)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), 1863, 0, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³å°‘æ—å¯ºå¤–")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BS' then
		call SetUnitPosition(udg_hero[i], - 1476, 8139)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 1476, 8139, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³å…‰æ˜é¡¶ä¸‹")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BT' then
		call SetUnitPosition(udg_hero[i], - 2400, - 3900)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 2400, - 3900, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³æ±Ÿå—æ°´ä¹¡")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BU' then
		call SetUnitPosition(udg_hero[i], - 4400, - 2950)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 4400, - 2950, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³å…¨çœŸä¸‰å­")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BV' then
		call SetUnitPosition(udg_hero[i], - 5960, - 160)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 5960, - 160, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³é›é—¨å…³å†…")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BW' then
		call SetUnitPosition(udg_hero[i], - 13000, - 15500)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 13000, - 15500, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³å¤§è¾½å›½")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BX' then
		call SetUnitPosition(udg_hero[i], - 9000, - 14000)
		call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 9000, - 14000, 0)
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³èšè´¤åº„")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0AF' then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33ä¼ é€è‡³ç‰çƒå²›")
		call SetUnitPosition(udg_hero[i], 10943, 6760)
		call PanCameraToTimedForPlayer(p, 10943, 6760, 0)
		call DisplayTextToPlayer(p, 0, 0, "|cffff0000ä½ å·²æ·±å…¥åˆ°æµ·å¤–ç‰çƒå²›ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆå‘ç°å§")
	endif
	set p=null
	set u=null
endfunction

//å¤è‘£ä»·æ ¼
function s5 takes nothing returns nothing
	set gudong[1]=1227896115
	set nd[1]=500
	set od[1]=6000
	set gudong[2]=1227896116
	set nd[2]=500
	set od[2]=6000
	set gudong[3]=1227896117
	set nd[3]=500
	set od[3]=6000
	set gudong[4]=1227896118
	set nd[4]=1000
	set od[4]=$4E20
	set gudong[5]=1227896119
	set nd[5]=1000
	set od[5]=$4E20
	set gudong[6]=1227896120
	set nd[6]=1000
	set od[6]=$4E20
	set gudong[7]=1227896121
	set nd[7]=7000
	set od[7]=$C350
	set gudong[8]=1227896129
	set nd[8]=7000
	set od[8]=$C350
	set gudong[9]=1227896130
	set nd[9]=7000
	set od[9]=$C350
	set gudong[10]='I05C'
	set nd[10]=$4E20
	set od[10]=$186A0
endfunction
//å¤è‘£ä»·æ ¼å˜åŠ¨
function u5 takes nothing returns nothing
	// éšæœºçŒªåœ°ç‚¹
	// local location loc=GetRandomLocInRect(GetPlayableMapRect())
	
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cfffff000å¤è‘£å•†äººæ”¶è´­ä»·æ ¼å‘ç”Ÿå˜åŠ¨äº†~")
	
	// éšæœºå‡ºç°çŒª
	// call CreateNUnitsAtLoc(1,'nshf',Player(6),loc,bj_UNIT_FACING)
	// call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS,loc,5.)
	// call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cfffff000åœ°å›¾ä¸Šéšæœºä½ç½®å‡ºç°äº†ä¸€åªå°çŒªï¼Œæ‰“æ‰æœ‰çç¨€å¸é€å“¦~")
	// call RemoveLocation(loc)
	
	set pd[1]=GetRandomInt(nd[1], od[1])
	set pd[2]=GetRandomInt(nd[2], od[2])
	set pd[3]=GetRandomInt(nd[3], od[3])
	set pd[4]=GetRandomInt(nd[4], od[4])
	set pd[5]=GetRandomInt(nd[5], od[5])
	set pd[6]=GetRandomInt(nd[6], od[6])
	set pd[7]=GetRandomInt(nd[7], od[7])
	set pd[8]=GetRandomInt(nd[8], od[8])
	set pd[9]=GetRandomInt(nd[9], od[9])
	set pd[10]=GetRandomInt(nd[10], od[10])
endfunction
//æŸ¥è¯¢å¤è‘£ä»·æ ¼
function w5 takes nothing returns boolean
	return ( GetItemTypeId(GetManipulatedItem()) == 'I050' )
endfunction
function x5 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1
	set i=1
	loop
	exitwhen i > 10
		call createitemloc(gudong[i] , v7[9])
		if ( UnitHaveItem(u , gudong[i]) ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cff00ff00" + GetItemName(bj_lastCreatedItem) + "ï¼š" + I2S(pd[i]) + " ( " + I2S(nd[i]) + " ï¼Œ " + I2S(od[i]) + " )")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 30, GetItemName(bj_lastCreatedItem) + "ï¼š" + I2S(pd[i]) + " ( " + I2S(nd[i]) + " ï¼Œ " + I2S(od[i]) + " )")
		endif
		call RemoveItem(bj_lastCreatedItem)
		set i=i + 1
	endloop
	set u=null
	set p=null
endfunction
//å–å¤è‘£
function z5 takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896113 ) )
endfunction
function A5 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1
	loop
	exitwhen i > 10
		if ( GetItemTypeId(UnitItemInSlotBJ(u, 1)) == gudong[i] ) then
			if not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(p) )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|CFF00FF00å–å‡º" + GetItemName(UnitItemInSlotBJ(u, 1)) + "ï¼Œè·å¾—é‡‘é’±+" + I2S(pd[i]) ))
				call AdjustPlayerStateBJ(pd[i], p, PLAYER_STATE_RESOURCE_GOLD)
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|CFF00FF00ä½ æ˜¯é‰´å®šå¸ˆï¼Œä»¥æœ€é«˜ä»·æ ¼å–å‡º" + GetItemName(UnitItemInSlotBJ(u, 1)) + "ï¼Œè·å¾—é‡‘é’±+" + I2S(od[i]) ))
				call AdjustPlayerStateBJ(od[i], p, PLAYER_STATE_RESOURCE_GOLD)
			endif
			call RemoveItem(UnitItemInSlotBJ(u, 1))
		endif
		set i=i + 1
	endloop
	set u=null
	set p=null
endfunction
function B5 takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896114 ) )
endfunction
function b5 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1
 local integer j= 1
	set j=1
	loop
	exitwhen j > 6
		set i=1
		loop
		exitwhen i > 10
			if ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == gudong[i] ) ) then
				if not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(p) )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
					call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|CFF00FF00å–å‡º" + ( GetItemName(UnitItemInSlotBJ(u, j)) + ( "ï¼Œè·å¾—é‡‘é’±+" + I2S(pd[i]) ) ) ))
					call AdjustPlayerStateBJ(pd[i], GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|CFF00FF00ä½ æ˜¯é‰´å®šå¸ˆï¼Œä»¥æœ€é«˜ä»·æ ¼å–å‡º" + ( GetItemName(UnitItemInSlotBJ(u, j)) + ( "ï¼Œè·å¾—é‡‘é’±+" + I2S(od[i]) ) ) ))
					call AdjustPlayerStateBJ(od[i], GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
				endif
				call RemoveItem(UnitItemInSlotBJ(u, j))
			endif
			set i=i + 1
		endloop
		set j=j + 1
	endloop
	set u=null
	set p=null
endfunction
//æ”¶é›†å¤è‘£
function CollectGuDong_Conditions takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 'I093' ) ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'I094' ) ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'I095' ) ) or ( ( GetItemTypeId(GetManipulatedItem()) == 'I096' ) )
endfunction
function CollectGuDong_Actions takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetItemTypeId(GetManipulatedItem()) == 'I093' then
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
			if udg_gudongD == 0 then
				call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00æˆ‘è‡ªå¹¼å–œæ¬¢æ”¶é›†å¤è‘£ï¼Œå¦‚æœä½ èƒ½æ”¶é›†ä¸€å¥—Dç­‰çº§å¤è‘£ï¼Œæˆ‘å°†é€ä½ ä¸€æœ¬ç§˜ç±")
				set udg_gudongD=1
			else
				if UnitHaveItem(u , 'I053') and UnitHaveItem(u , 'I054') and UnitHaveItem(u , 'I055') then
					call RemoveItem(FetchUnitItem(u , 'I053'))
					call RemoveItem(FetchUnitItem(u , 'I054'))
					call RemoveItem(FetchUnitItem(u , 'I055'))
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è°¢è°¢ä½ çš„å¤è‘£ï¼Œè¿™æœ¬æ±Ÿæ¹–ç§˜ç±é€ç»™ä½ äº†")
					call unitadditembyidswapped(udg_jianghu[GetRandomInt(1, 18)] , u)
					set udg_jdds[i]=udg_jdds[i] + 2
					if udg_jdds[i] <= 10 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
						call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ‚¨çš„é‰´å®šå¸ˆå·²ç»å¾—äº†" + I2S(udg_jdds[i]) + "åˆ†ï¼Œå¾—åˆ°10åˆ†å¯è·å¾—é‰´å®šå¤§å¸ˆå“¦")
					endif
					//if Ce[1+GetPlayerId(p)]==4 then
					// call unitadditembyidswapped(udg_jianghu[GetRandomInt(1,18)],u)
					// call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00è°¢è°¢ä½ æ•™æˆ‘é‰´å®šå¤è‘£ï¼Œå†é€ä½ ä¸€æœ¬æ±Ÿæ¹–ç§˜ç±å§")
					//endif
					set udg_gudongD=0
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00ä½ è¿˜æ²¡æœ‰æ”¶é›†é½ä¸€å¥—Då¤è‘£å“¦")
				endif
			endif
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00éé‰´å®šå¸ˆä¸èƒ½æ¥æ­¤ä»»åŠ¡")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I094' then
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
			if udg_gudongC == 0 then
				call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00æˆ‘è‡ªå¹¼å–œæ¬¢æ”¶é›†å¤è‘£ï¼Œå¦‚æœä½ èƒ½æ”¶é›†ä¸€å¥—Cç­‰çº§å¤è‘£ï¼Œæˆ‘å°†é€ä½ ä¸€æœ¬ç§˜ç±")
				set udg_gudongC=1
			else
				if UnitHaveItem(u , 'I056') and UnitHaveItem(u , 'I057') and UnitHaveItem(u , 'I058') then
					call RemoveItem(FetchUnitItem(u , 'I056'))
					call RemoveItem(FetchUnitItem(u , 'I057'))
					call RemoveItem(FetchUnitItem(u , 'I058'))
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è°¢è°¢ä½ çš„å¤è‘£ï¼Œè¿™æœ¬ç»å­¦ç§˜ç±é€ç»™ä½ äº†")
					call unitadditembyidswapped(udg_juexue[GetRandomInt(1, 10)] , u)
					set udg_jdds[i]=udg_jdds[i] + 4
					if udg_jdds[i] <= 10 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
						call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ‚¨çš„é‰´å®šå¸ˆå·²ç»å¾—äº†" + I2S(udg_jdds[i]) + "åˆ†ï¼Œå¾—åˆ°10åˆ†å¯è·å¾—é‰´å®šå¤§å¸ˆå“¦")
					endif
					//   if Ce[1+GetPlayerId(p)]==4 then
					// call unitadditembyidswapped(udg_juexue[GetRandomInt(1,10)],u)
					// call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00è°¢è°¢ä½ æ•™æˆ‘é‰´å®šå¤è‘£ï¼Œå†é€ä½ ä¸€æœ¬ç»å­¦ç§˜ç±å§")
					//endif
					set udg_gudongC=0
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00ä½ è¿˜æ²¡æœ‰æ”¶é›†é½ä¸€å¥—Cå¤è‘£å“¦")
				endif
			endif
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00éé‰´å®šå¸ˆä¸èƒ½æ¥æ­¤ä»»åŠ¡")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I095' then
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
			if udg_gudongB == 0 then
				call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00æˆ‘è‡ªå¹¼å–œæ¬¢æ”¶é›†å¤è‘£ï¼Œå¦‚æœä½ èƒ½æ”¶é›†ä¸€å¥—Bç­‰çº§å¤è‘£ï¼Œæˆ‘å°†é€ä½ ä¸€æœ¬ç§˜ç±")
				set udg_gudongB=1
			else
				if UnitHaveItem(u , 'I059') and UnitHaveItem(u , 'I05A') and UnitHaveItem(u , 'I05B') then
					call RemoveItem(FetchUnitItem(u , 'I059'))
					call RemoveItem(FetchUnitItem(u , 'I05A'))
					call RemoveItem(FetchUnitItem(u , 'I05B'))
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è°¢è°¢ä½ çš„å¤è‘£ï¼Œè¿™æœ¬ç»å†…ç§˜ç±é€ç»™ä½ äº†")
					call unitadditembyidswapped(udg_juenei[GetRandomInt(1, 8)] , u)
					set udg_jdds[i]=udg_jdds[i] + 6
					if udg_jdds[i] <= 10 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
						call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ‚¨çš„é‰´å®šå¸ˆå·²ç»å¾—äº†" + I2S(udg_jdds[i]) + "åˆ†ï¼Œå¾—åˆ°10åˆ†å¯è·å¾—é‰´å®šå¤§å¸ˆå“¦")
					endif
					//   if Ce[1+GetPlayerId(p)]==4 then
					// call unitadditembyidswapped(udg_juenei[GetRandomInt(1,8)],u)
					// call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00è°¢è°¢ä½ æ•™æˆ‘é‰´å®šå¤è‘£ï¼Œå†é€ä½ ä¸€æœ¬ç»å†…ç§˜ç±å§")
					//endif
					set udg_gudongB=0
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00ä½ è¿˜æ²¡æœ‰æ”¶é›†é½ä¸€å¥—Bå¤è‘£å“¦")
				endif
			endif
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00éé‰´å®šå¸ˆä¸èƒ½æ¥æ­¤ä»»åŠ¡")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I096' then
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
			if udg_gudongA == 0 then
				call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00æˆ‘è‡ªå¹¼å–œæ¬¢æ”¶é›†å¤è‘£ï¼Œå¦‚æœä½ èƒ½æ”¶é›†ä¸¤ä¸ªAç­‰çº§å¤è‘£ï¼Œæˆ‘å°†é€ä½ ä¸€æœ¬ç§˜ç±")
				set udg_gudongA=1
			else
				if UnitHaveItem(u , 'I05C') then
					call RemoveItem(FetchUnitItem(u , 'I05C'))
					if UnitHaveItem(u , 'I05C') then
						call RemoveItem(FetchUnitItem(u , 'I05C'))
						call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è°¢è°¢ä½ çš„å¤è‘£ï¼Œè¿™æœ¬æ®‹ç« é€ç»™ä½ äº†")
						call unitadditembyidswapped(udg_canzhang[GetRandomInt(1, 10)] , u)
						set udg_jdds[i]=udg_jdds[i] + 10
						if udg_jdds[i] <= 10 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
							call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ‚¨çš„é‰´å®šå¸ˆå·²ç»å¾—äº†" + I2S(udg_jdds[i]) + "åˆ†ï¼Œå¾—åˆ°10åˆ†å¯è·å¾—é‰´å®šå¤§å¸ˆå“¦")
						endif
						//   if Ce[1+GetPlayerId(p)]==4 then
						// call unitadditembyidswapped(udg_canzhang[GetRandomInt(1,10)],u)
						// call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00è°¢è°¢ä½ æ•™æˆ‘é‰´å®šå¤è‘£ï¼Œå†é€ä½ ä¸€æœ¬æ®‹ç« å§")
						//endif
						set udg_gudongA=0
					else
						call UnitAddItemById(u, 'I05C')
						call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00ä½ è¿˜æ²¡æœ‰æ”¶é›†é½ä¸¤ä¸ªAå¤è‘£å“¦")
					endif
				else
					call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00ä½ è¿˜æ²¡æœ‰æ”¶é›†é½ä¸¤ä¸ªAå¤è‘£å“¦")
				endif
			endif
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00éé‰´å®šå¸ˆä¸èƒ½æ¥æ­¤ä»»åŠ¡")
		endif
	endif
	if udg_jdds[i] >= 10 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) then // INLINED!!
		set wuxing[i]=wuxing[i] + 10 // æ‚Ÿæ€§åŠ 10
call Deputy_setMaster(i , JIAN_DING)
		// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“é‰´å®šå¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—é‰´å®šå¤§å¸ˆ")
		call SetPlayerName(p, "ã€“é‰´å®šå¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
	endif
	set u=null
	set p=null
endfunction

//å‰‘æ„ç³»ç»Ÿ
function c5 takes nothing returns boolean
	return ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) // INLINED!!
endfunction
function D5 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( GetItemType(UnitItemInSlotBJ(u, 1)) != ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u, 2)) != ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u, 3)) != ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u, 4)) != ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u, 5)) != ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u, 6)) != ITEM_TYPE_ARTIFACT ) then
		call SetUnitPosition(u, - 10510, - 9660)
		call PanCameraToTimedForPlayer(p, - 10510, - 9660, 0)
	else
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ç‹¬å­¤æ±‚è´¥ï¼šå¹´è½»äººï¼Œä½ çš„æ€æ°”å¤ªé‡äº†ï¼Œçœ‹æ¥ä½ æˆ‘æ— ç¼˜å•Š")
	endif
	set u=null
	set p=null
endfunction
function XiuWei takes unit u,integer num,integer id,string s returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( wugongxiuwei[i] >= num ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä¿®ä¸ºäº†")
	elseif ( wugongxiuwei[i] < num - 1 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä½ è¿˜éœ€è¦å®Œæˆä¸Šä¸€å±‚ä¿®ä¸º")
	elseif ( ( ( xiuxing[i] < num ) or ( UnitHaveItem(u , id) == false ) ) ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ¡ä»¶ä¸è¶³")
	else
		call RemoveItem(FetchUnitItem(u , id))
		set udg_shanghaijiacheng[i]=udg_shanghaijiacheng[i] + 0.05
		set wugongxiuwei[i]=num
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FF00ä¿®è¡ŒæˆåŠŸï¼Œæ­¦å­¦ä¿®ä¸ºè¾¾åˆ°ç¬¬" + s + "å±‚ï¼Œæ­¦åŠŸæå‡5%")
	endif
	set p=null
endfunction
function F5 takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896136 ) ) // INLINED!!
endfunction
function G5 takes nothing returns nothing
	call XiuWei(GetTriggerUnit() , 1 , 'I01L' , "ä¸€")
endfunction
function I5 takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896137 ) ) // INLINED!!
endfunction
function l5 takes nothing returns nothing
	call XiuWei(GetTriggerUnit() , 2 , 1227895094 , "äºŒ")
endfunction
function K5 takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I05G' ) ) // INLINED!!
endfunction
function L5 takes nothing returns nothing
	call XiuWei(GetTriggerUnit() , 3 , 1227895091 , "ä¸‰")
endfunction
function N5 takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896134 ) ) // INLINED!!
endfunction
function O5 takes nothing returns nothing
	call XiuWei(GetTriggerUnit() , 4 , 'I02S' , "å››")
endfunction
function Q5 takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896138 ) ) // INLINED!!
endfunction
function R5 takes nothing returns nothing
	call XiuWei(GetTriggerUnit() , 5 , 'I00P' , "äº”")
endfunction
function LingWuJY_Conditions takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896914 ) )
endfunction
function LingWuJY takes nothing returns nothing
 local trigger t=GetTriggeringTrigger()
 local integer id=GetHandleId(t)
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, i)
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, u)
	if ( ( (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) == false ) ) then // INLINED!!
		call AdjustPlayerStateBJ(5, p, PLAYER_STATE_RESOURCE_LUMBER)
		call DisplayTextToPlayer(Player(- 1 + i), 0, 0, "|cFFFF0000éœ€è¦ä¸»è§’æ‰èƒ½é¢†æ‚Ÿ")
	else
		if ( ( wugongxiuwei[i] < 1 ) ) then
			call AdjustPlayerStateBJ(5, p, PLAYER_STATE_RESOURCE_LUMBER)
			call DisplayTextToPlayer(Player(- 1 + i), 0, 0, "|cFFFF0000ä½ çš„æ­¦åŠŸä¿®ä¸ºä¸è¶³")
		else
			if ( ( yd[i] == 1 ) ) then
				set wuxing[i]=( wuxing[i] - xd[i] )
			elseif ( ( yd[i] == 2 ) ) then
				set gengu[i]=( gengu[i] - xd[i] )
			elseif ( ( yd[i] == 3 ) ) then
				set danpo[i]=( danpo[i] - xd[i] )
			elseif ( ( yd[i] == 4 ) ) then
				set yishu[i]=( yishu[i] - xd[i] )
			elseif ( ( yd[i] == 5 ) ) then
				set fuyuan[i]=( fuyuan[i] - xd[i] )
			elseif ( ( yd[i] == 6 ) ) then
				set jingmai[i]=( jingmai[i] - xd[i] )
			endif
			if ( ( wugongxiuwei[i] == 1 ) ) then
				set xd[i]=GetRandomInt(xd[i], 2)
			elseif ( ( wugongxiuwei[i] == 2 ) ) then
				set xd[i]=GetRandomInt(xd[i], 4)
			elseif ( ( wugongxiuwei[i] == 3 ) ) then
				set xd[i]=GetRandomInt(xd[i], 6)
			elseif ( ( wugongxiuwei[i] == 4 ) ) then
				set xd[i]=GetRandomInt(xd[i], 8)
			elseif ( ( wugongxiuwei[i] == 5 ) ) then
				set xd[i]=GetRandomInt(xd[i], 10)
			endif
			set yd[i]=0
			call DisplayTimedTextToPlayer(Player(- 1 + i), 0, 0, 20., ( "|cff00ff00æ­å–œé¢†æ‚Ÿåˆ°ç¬¬" + ( I2S(xd[i]) + "å±‚å‰‘æ„" ) ))
			call DisplayTimedTextToPlayer(Player(- 1 + i), 0, 0, 20., "|cffffff00è¾“å…¥èŠå¤©ä¿¡æ¯â€œjyâ€å¯ä»¥æŠŠå‰‘æ„è½¬åŒ–ä¸ºä¸€ç§æ€§æ ¼å±æ€§ï¼Œä½†æ˜¯æ¯æ¬¡è½¬åŒ–éœ€è¦æ¶ˆè€—5ä¸ªçç¨€å¸")
			if ( ( xd[i] == 2 ) ) then
				call DestroyEffect(vd[i])
				call AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\fairywing.MDX")
				set vd[i]=bj_lastCreatedEffect
			elseif ( ( xd[i] == 4 ) ) then
				call DestroyEffect(vd[i])
				call AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\fenlie.MDX")
				set vd[i]=bj_lastCreatedEffect
			elseif ( ( xd[i] == 6 ) ) then
				call DestroyEffect(vd[i])
				call AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\HeroByakuyaWing.MDX")
				set vd[i]=bj_lastCreatedEffect
			elseif ( ( xd[i] == 8 ) ) then
				call DestroyEffect(vd[i])
				call AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\AWING.MDX")
				set vd[i]=bj_lastCreatedEffect
			elseif ( ( xd[i] == 10 ) ) then
				call DestroyEffect(vd[i])
				call AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\FWIND.MDX")
				set vd[i]=bj_lastCreatedEffect
			endif
		endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
	set t=null
	set u=null
	set p=null
endfunction
//è½¬åŒ–å‰‘æ„
function ZhuanHuaJY_Conditions takes nothing returns boolean
	return ( ( Ad[( 1 + GetPlayerId(GetTriggerPlayer()) )] ) )
endfunction
function ZhuanHuaJY takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	set Ad[i]=false
	if ( ( GetClickedButton() == B8[i] ) ) then
		call DialogClear(v8[i])
	else
		if ( ( yd[i] == 1 ) ) then
			set wuxing[i]=( wuxing[i] - xd[i] )
		elseif ( ( yd[i] == 2 ) ) then
			set gengu[i]=( gengu[i] - xd[i] )
		elseif ( ( yd[i] == 3 ) ) then
			set danpo[i]=( danpo[i] - xd[i] )
		elseif ( ( yd[i] == 4 ) ) then
			set yishu[i]=( yishu[i] - xd[i] )
		elseif ( ( yd[i] == 5 ) ) then
			set fuyuan[i]=( fuyuan[i] - xd[i] )
		elseif ( ( yd[i] == 6 ) ) then
			set jingmai[i]=( jingmai[i] - xd[i] )
		endif
		if ( ( GetClickedButton() == w8[i] ) ) then
			set gengu[i]=( gengu[i] + xd[i] )
			set yd[i]=2
		elseif ( ( GetClickedButton() == y8[i] ) ) then
			set wuxing[i]=( wuxing[i] + xd[i] )
			set yd[i]=1
		elseif ( ( GetClickedButton() == z8[i] ) ) then
			set fuyuan[i]=( fuyuan[i] + xd[i] )
			set yd[i]=5
		elseif ( ( GetClickedButton() == A8[i] ) ) then
			set danpo[i]=( danpo[i] + xd[i] )
			set yd[i]=3
		elseif ( ( GetClickedButton() == a8[i] ) ) then
			set yishu[i]=( yishu[i] + xd[i] )
			set yd[i]=4
		elseif ( ( GetClickedButton() == x8[i] ) ) then
			set jingmai[i]=( jingmai[i] + xd[i] )
			set yd[i]=6
		endif
		call AdjustPlayerStateBJ(- 5, p, PLAYER_STATE_RESOURCE_LUMBER)
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCè½¬åŒ–æˆåŠŸ|r")
		call DialogClear(v8[i])
	endif
	set p=null
endfunction

//--------å®ˆå®¶ç§¯åˆ†æ¢ç‰©å“ç³»ç»Ÿå¼€å§‹--------//
function IsJiFenHuan takes item it returns boolean
	if GetItemTypeId(it) == 'I06O' or GetItemTypeId(it) == 'I0A0' or GetItemTypeId(it) == 'I06S' or GetItemTypeId(it) == 'I06T' or GetItemTypeId(it) == 'I06R' or GetItemTypeId(it) == 'I06U' or GetItemTypeId(it) == 'I06P' or GetItemTypeId(it) == 'I06Q' then
		return true
	endif
	return false
endfunction
function JiFenHuan takes unit u,item it,integer id1,integer num,integer id2 returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetItemTypeId(it) == id1 then
		if ( shoujiajf[i] >= num ) then
			set shoujiajf[i]=shoujiajf[i] - num
			if id1 == 'I06S' or id1 == 'I06T' or id1 == 'I06R' or id1 == 'I06U' or id1 == 'I06Q' then
				call unitadditembyidswapped(id2 , u)
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem))
			elseif id1 == 'I06P' then
				call AdjustPlayerStateBJ(20 - udg_nandu * 2, p, PLAYER_STATE_RESOURCE_LUMBER)
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00è·å¾—çç¨€å¸+" + I2S(20 - udg_nandu * 2))
			elseif id1 == 'I06O' then
				call AdjustPlayerStateBJ(8000 - udg_nandu * 1000, p, PLAYER_STATE_RESOURCE_GOLD)
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00è·å¾—é‡‘é’±+" + I2S(8000 - udg_nandu * 1000))
			elseif id1 == 'I0A0' then
				call unitadditembyidswapped(id2 , udg_hero[i])
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem))
			endif
			call DisplayTextToPlayer(p, 0, 0, "|cFF00CCffå½“å‰å‰©ä½™å®ˆå®¶ç§¯åˆ†ï¼š" + I2S(shoujiajf[i]))
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å®ˆå®¶ç§¯åˆ†ä¸è¶³")
		endif
	endif
	set p=null
endfunction
function BuyKuanDong takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and IsJiFenHuan(GetManipulatedItem()) )
endfunction
function KuanDongHua takes nothing returns nothing
 local unit u= GetTriggerUnit()
	call JiFenHuan(u , GetManipulatedItem() , 'I06O' , 20 , 300)
	call JiFenHuan(u , GetManipulatedItem() , 'I0A0' , 50 , 'I04T')
	call JiFenHuan(u , GetManipulatedItem() , 'I06S' , 200 , YaoCao[GetRandomInt(1, 12)])
	call JiFenHuan(u , GetManipulatedItem() , 'I06T' , 100 , 'I02N')
	call JiFenHuan(u , GetManipulatedItem() , 'I06R' , 300 , 'I06K')
	call JiFenHuan(u , GetManipulatedItem() , 'I06U' , 600 , 'I02L')
	call JiFenHuan(u , GetManipulatedItem() , 'I06P' , 100 , 5)
	call JiFenHuan(u , GetManipulatedItem() , 'I06Q' , 200 , 'I06N')
	set u=null
endfunction
//--------æ±Ÿæ¹–å£°æœ›æ¢ç‰©å“ç³»ç»Ÿå¼€å§‹--------//
function IsShengWangHuan takes item it returns boolean
	if GetItemTypeId(it) == 'I0AO' or GetItemTypeId(it) == 'I0AP' or GetItemTypeId(it) == 'I0AQ' or GetItemTypeId(it) == 'I0AR' then
		return true
	endif
	return false
endfunction
function ShengWangHuan takes unit u,item it,integer id1,integer num,integer id2 returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetItemTypeId(it) == id1 then
		if ( shengwang[i] >= num ) then
			set shengwang[i]=shengwang[i] - num
			call unitadditembyidswapped(id2 , u)
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem))
			call DisplayTextToPlayer(p, 0, 0, "|cFF00CCffå½“å‰å‰©ä½™æ±Ÿæ¹–å£°æœ›ï¼š" + I2S(shengwang[i]))
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ±Ÿæ¹–å£°æœ›ä¸è¶³")
		endif
	endif
	set p=null
endfunction
function BuyKuanDong_1 takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and IsShengWangHuan(GetManipulatedItem()) )
endfunction
function KuanDongHua_1 takes nothing returns nothing
 local unit u= GetTriggerUnit()
	call ShengWangHuan(u , GetManipulatedItem() , 'I0AO' , 200 , 'I06K')
	call ShengWangHuan(u , GetManipulatedItem() , 'I0AP' , 4000 , 'I08W')
	call ShengWangHuan(u , GetManipulatedItem() , 'I0AQ' , 2000 , 'I0AS')
	call ShengWangHuan(u , GetManipulatedItem() , 'I0AR' , 1000 , udg_canzhang[GetRandomInt(1, 10)])
	set u=null
endfunction
function IsWuXueJingYao takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0AS' )
endfunction
function WuXueJingYao takes nothing returns nothing
 local player p= GetOwningPlayer(GetTriggerUnit())
 local integer i= 1 + GetPlayerId(p)
 local unit u= udg_hero[i]
 local integer j= GetRandomInt(1, 8)
 local integer level= GetUnitAbilityLevel(u, I7[( i - 1 ) * 20 + j])
	if I7[( i - 1 ) * 20 + j] != 'A05R' then
		call IncUnitAbilityLevel(u, I7[( i - 1 ) * 20 + j])
		if GetUnitAbilityLevel(u, I7[( i - 1 ) * 20 + j]) == level then
			call unitadditembyidswapped('I0AS' , GetTriggerUnit())
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00éšæœºåˆ°ä¹é‡æˆ–æ— æ³•å‡é‡çš„æŠ€èƒ½ï¼Œä½¿ç”¨æ­¦å­¦ç²¾è¦å¤±è´¥")
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ­å–œæŠ€èƒ½" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "å‡é‡")
		endif
	else
		call unitadditembyidswapped('I0AS' , GetTriggerUnit())
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00éšæœºåˆ°å‡Œæ³¢å¾®æ­¥ï¼Œä½¿ç”¨æ­¦å­¦ç²¾è¦å¤±è´¥")
	endif
	set u=null
	set p=null
endfunction

//é—å¿˜æ­¦åŠŸ
function YiWangJiNeng takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 1093678417 ) )
endfunction
function ForgetAbility takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j= 1
	if ( ( UnitHaveItem(u , 'I06K') ) ) or udg_yiwang[i] == true then
		call DialogSetMessage(K7[i], "è¯·é€‰æ‹©é—å¿˜çš„æ­¦åŠŸï¼ˆé—å¿˜åæ— æ³•æ‰¾å›ï¼‰ï¼")
		if ( ( I7[( i - 1 ) * 20 + 1] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 1]))
			set S4[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 2] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 2]))
			set T4[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 3] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 3]))
			set U4[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 4] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 4]))
			set V4[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 5] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 5]))
			set W4[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 6] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 6]))
			set X4[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 7] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 7]))
			set J7[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 8] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 8]))
			set J78[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 9] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 9]))
			set J79[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 10] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 10]))
			set J710[i]=bj_lastCreatedButton
		endif
		if ( ( I7[( i - 1 ) * 20 + 11] != 'AEfk' ) ) then
			call DialogAddButtonBJ(K7[i], GetObjectName(I7[( i - 1 ) * 20 + 11]))
			set J711[i]=bj_lastCreatedButton
		endif
		call DialogAddButtonBJ(K7[i], "å–æ¶ˆ")
		set l7[i]=bj_lastCreatedButton
		call DialogDisplay(p, K7[i], true)
	else
		call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000é—å¿˜æ­¦åŠŸéœ€è¦æ¶ˆè€—é“å…·é—å¿˜ä¹‹çŸ³ï¼")
	endif
	set u=null
	set p=null
endfunction
function Forget takes player p,integer num returns nothing
 local integer i= 1 + GetPlayerId(p)
 local integer level= 0
	if I7[( i - 1 ) * 20 + num] == 'A03N' and UnitHasBuffBJ(udg_hero[i], 'BOwk') then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|CFFFF9933" + GetObjectName(I7[( i - 1 ) * 20 + num]) + "æ–½å±•æœŸé—´ä¸èƒ½é—å¿˜ï¼ï¼ï¼")
	else
		set S9=1
		loop
		exitwhen S9 > 20
			if ( ( I7[20 * ( i - 1 ) + num] == MM9[S9] ) ) then
				set udg_shanghaijiacheng[i]=( udg_shanghaijiacheng[i] - udg_jueneishjc[S9] )
				call ModifyHeroStat(1, udg_hero[i], 1, udg_jueneiminjie[S9])
				set juexuelingwu[i]=( juexuelingwu[i] - udg_jueneijxlw[S9] )
				set udg_baojilv[i]=( udg_baojilv[i] - udg_jueneibaojilv[S9] )
				set udg_shanghaixishou[i]=( udg_shanghaixishou[i] - udg_jueneishxs[S9] )
			endif
			set S9=S9 + 1
		endloop
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|CFFFF9933æˆåŠŸé—å¿˜æŠ€èƒ½ï¼š" + GetObjectName(I7[( i - 1 ) * 20 + num]))
		call UnitRemoveAbility(udg_hero[i], I7[20 * ( i - 1 ) + num])
		if I7[( i - 1 ) * 20 + num] == 'A03P' then
			call UnitRemoveAbility(udg_hero[i], 'A03M')
		endif
		if I7[( i - 1 ) * 20 + num] == 'A03T' then
			call UnitRemoveAbility(udg_hero[i], 'A0DB')
		endif
		if I7[20 * ( i - 1 ) + num] == 'A02B' then
			set udg_zhemei[i]=0
		endif
		if I7[( i - 1 ) * 20 + num] == QI_MEN_SHU_SHU then
			if Player(i - 1) == GetLocalPlayer() then
				call s__Frame_hide(qimen_widget)
			endif
		endif
		if I7[( i - 1 ) * 20 + num] == 'A0B6' then // å…­åˆç»
call UnitRemoveAbility(udg_hero[i], 'A0B5')
			set liuHeFlag[i]=0
		endif
		if I7[20 * ( i - 1 ) + num] == 'A0DP' then // å½’å…ƒåçº³åŠŸ
set level=GetUnitAbilityLevel(udg_hero[i], I7[20 * ( i - 1 ) + num])
			set fuyuan[i]=fuyuan[i] - 2 * level
			set gengu[i]=gengu[i] - 2 * level
			set wuxing[i]=wuxing[i] - 2 * level
			set jingmai[i]=jingmai[i] - 2 * level
			set danpo[i]=danpo[i] - 2 * level
			set yishu[i]=yishu[i] - 2 * level
		endif
		set I7[20 * ( i - 1 ) + num]='AEfk'
		call RemoveItem(FetchUnitItem(P4[i] , 'I06K'))
	endif
endfunction
function jB takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	if ( ( GetClickedButton() == S4[i] ) ) then
		call Forget(p , 1)
	elseif ( ( GetClickedButton() == T4[i] ) ) then
		call Forget(p , 2)
	elseif ( ( GetClickedButton() == U4[i] ) ) then
		call Forget(p , 3)
	elseif ( ( GetClickedButton() == V4[i] ) ) then
		call Forget(p , 4)
	elseif ( ( GetClickedButton() == W4[i] ) ) then
		call Forget(p , 5)
	elseif ( ( GetClickedButton() == X4[i] ) ) then
		call Forget(p , 6)
	elseif ( ( GetClickedButton() == J7[i] ) ) then
		call Forget(p , 7)
	elseif ( ( GetClickedButton() == J78[i] ) ) then
		call Forget(p , 8)
	elseif ( ( GetClickedButton() == J79[i] ) ) then
		call Forget(p , 9)
	elseif ( ( GetClickedButton() == J710[i] ) ) then
		call Forget(p , 10)
	elseif ( ( GetClickedButton() == J711[i] ) ) then
		call Forget(p , 11)
	endif
	call DialogClear(K7[i])
	set p=null
endfunction
function GetBookNum takes integer id returns integer
 local integer i= 1
	loop
	exitwhen i > MAX_WU_GONG_NUM
		if LoadInteger(YDHT, StringHash("æ­¦å­¦") + i, 1) == id then
			return i
		endif
		set i=i + 1
	endloop
	return 0
endfunction
function LearnJiNeng takes unit l__ut,item it returns nothing
 local player p= GetOwningPlayer(l__ut)
 local integer i= 1 + GetPlayerId(p)
 local unit u= udg_hero[i]
 local integer num= GetBookNum(GetItemTypeId(it))
 local integer id= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 2)
 local integer dp1= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 4)
 local integer fy1= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 5)
 local integer gg1= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 6)
 local integer jm1= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 7)
 local integer wx1= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 8)
 local integer ys1= LoadInteger(YDHT, StringHash("æ­¦å­¦") + num, 9)
	if ( GetUnitAbilityLevel(u, id) > 0 ) then
		call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033ä½ å·²ç»æ‹¥æœ‰æ­¤æ­¦åŠŸäº†")
		call unitadditembyidswapped(GetItemTypeId(it) , l__ut)
	else
		if ( danpo[i] >= dp1 and fuyuan[i] >= fy1 and gengu[i] >= gg1 and jingmai[i] >= jm1 and wuxing[i] >= wx1 and yishu[i] >= ys1 ) then
			if id == 'A03Q' then
				call UnitAddAbility(u, id)
				call UnitMakeAbilityPermanent(u, true, id)
				call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ­å–œ" + GetPlayerName(p) + "ä¹ å¾—" + GetObjectName(id))
				call AddPlayerTechResearched(p, 'Rhri', 1)
			else
				set L7[i]=1
				loop
				exitwhen L7[i] > wugongshu[i]
					if ( I7[20 * ( i - 1 ) + L7[i]] != 'AEfk' ) then
						if ( ( L7[i] == wugongshu[i] ) ) then
							call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
							call unitadditembyidswapped(GetItemTypeId(it) , l__ut)
						endif
					else
						call UnitAddAbility(u, id)
						call UnitMakeAbilityPermanent(u, true, id)
						if LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id * 5) >= 2 then
							call SetUnitAbilityLevel(u, id, LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), id * 5))
						endif
						set I7[20 * ( i - 1 ) + L7[i]]=id
						if GetUnitAbilityLevel(u, id) >= 2 then
							call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ­å–œ" + GetPlayerName(p) + "æƒ³èµ·" + GetObjectName(id))
						else
							call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ­å–œ" + GetPlayerName(p) + "ä¹ å¾—" + GetObjectName(id))
						endif
						set S9=1
						loop
						exitwhen S9 > 20
							if ( id == MM9[S9] ) then
								set udg_shanghaijiacheng[i]=udg_shanghaijiacheng[i] + udg_jueneishjc[S9]
								call ModifyHeroStat(1, u, 0, udg_jueneiminjie[S9])
								set udg_baojilv[i]=udg_baojilv[i] + udg_jueneibaojilv[S9]
								set juexuelingwu[i]=juexuelingwu[i] + udg_jueneijxlw[S9]
								set udg_shanghaixishou[i]=udg_shanghaixishou[i] + udg_jueneishxs[S9]
							endif
							set S9=S9 + 1
						endloop
					exitwhen true
					endif
					set L7[i]=L7[i] + 1
				endloop
			endif
		else
			call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033å­¦ä¹ æ¡ä»¶ä¸è¶³")
			if ( danpo[i] >= dp1 ) then
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033èƒ†é­„ç¼ºå°‘ï¼š" + I2S(dp1 - danpo[i]))
			endif
			if ( gengu[i] >= gg1 ) then
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033æ ¹éª¨ç¼ºå°‘ï¼š" + I2S(gg1 - gengu[i]))
			endif
			if ( fuyuan[i] >= fy1 ) then
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033ç¦ç¼˜ç¼ºå°‘ï¼š" + I2S(fy1 - fuyuan[i]))
			endif
			if ( wuxing[i] >= wx1 ) then
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033æ‚Ÿæ€§ç¼ºå°‘ï¼š" + I2S(wx1 - wuxing[i]))
			endif
			if ( jingmai[i] >= jm1 ) then
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033ç»è„‰ç¼ºå°‘ï¼š" + I2S(jm1 - jingmai[i]))
			endif
			if ( yishu[i] >= ys1 ) then
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033åŒ»æœ¯ç¼ºå°‘ï¼š" + I2S(ys1 - yishu[i]))
			endif
			call unitadditembyidswapped(GetItemTypeId(it) , l__ut)
		endif
	endif
	set p=null
	set u=null
endfunction
//å­¦ä¹ æ­¦åŠŸ
function IsWuGongBook takes nothing returns boolean
	return ( GetBookNum(GetItemTypeId(GetManipulatedItem())) != 0 )
endfunction
function BookLearnWuGong takes nothing returns nothing
	call LearnJiNeng(GetTriggerUnit() , GetManipulatedItem())
endfunction
//å†…åŠŸåŠ æˆå±æ€§
function NeiGongJiaCheng takes integer i,integer id,real baoji,real shxs,integer jxlw,integer minjie,real shjc returns nothing
	set MM9[i]=id
	set udg_jueneibaojilv[i]=baoji
	set udg_jueneishxs[i]=shxs
	set udg_jueneijxlw[i]=jxlw
	set udg_jueneiminjie[i]=minjie
	set udg_jueneishjc[i]=shjc
endfunction
function NeiGongJiaChengS takes nothing returns nothing
	//åºå·ã€IDã€æš´å‡»ç‡ã€ä¼¤å®³å¸æ”¶ã€ç»å­¦é¢†æ‚Ÿã€å†…åŠ›ã€ä¼¤å®³åŠ æˆ
	call NeiGongJiaCheng(1 , 'A0D8' , .15 , .2 , 5 , 30 , 1.)
	call NeiGongJiaCheng(2 , 1093679154 , .08 , .25 , 4 , 150 , .4)
	call NeiGongJiaCheng(3 , 'A083' , .05 , .3 , 3 , 100 , .3)
	call NeiGongJiaCheng(4 , 'A09D' , .06 , .4 , 4 , 120 , .8)
	call NeiGongJiaCheng(5 , 1093679152 , .12 , .2 , 3 , 130 , .7)
	call NeiGongJiaCheng(6 , 'A07X' , .16 , .15 , 3 , 60 , .5)
	call NeiGongJiaCheng(7 , 'A084' , .1 , .1 , 2 , 80 , .6)
	call NeiGongJiaCheng(8 , 1395666994 , .2 , .2 , 1 , 50 , .9)
	call NeiGongJiaCheng(9 , 'A07O' , .04 , 0 , 0 , 25 , .2)
	call NeiGongJiaCheng(10 , 'A07P' , .06 , 0 , 0 , 30 , .12)
	call NeiGongJiaCheng(11 , 'A07Q' , .08 , 0 , 0 , 30 , .14)
	call NeiGongJiaCheng(12 , 1093678930 , .06 , 0 , 0 , 20 , .15)
	call NeiGongJiaCheng(13 , 'A07S' , .1 , 0 , 0 , 40 , .25)
	call NeiGongJiaCheng(14 , 1093678932 , .1 , 0 , 0 , 30 , .3)
	call NeiGongJiaCheng(15 , 'A07U' , .07 , 0 , 0 , 50 , .18)
	call NeiGongJiaCheng(16 , 1093678935 , .09 , 0 , 0 , 50 , .1)
	call NeiGongJiaCheng(17 , 'A0DN' , .03 , 0 , 0 , 40 , .18)
	call NeiGongJiaCheng(18 , 'A0D2' , .2 , 0 , 0 , 80 , .5)
	call NeiGongJiaCheng(19 , 'A0D6' , .8 , 0 , 0 , 10 , .15)
	call NeiGongJiaCheng(20 , 'A0D4' , - 0.2 , 0 , 0 , - 40 , - 0.25)
endfunction
//------å­¦ä¹ æ­¦åŠŸç³»ç»Ÿç»“æŸ------
//------æ­¦åŠŸæ•ˆæœç³»ç»Ÿå¼€å§‹------
function uC takes nothing returns boolean
	return ( ( UnitHasBuffBJ(GetAttacker(), 'B002') ) )
endfunction
function vC takes nothing returns nothing
 local unit u= GetAttacker()
	call percentDamage(u , 0.1 , true)
	set u=null
endfunction
function xC takes nothing returns boolean
	return ( ( UnitHasBuffBJ(GetAttacker(), 1112437615) ) )
endfunction
function yC takes nothing returns nothing
 local unit u= GetAttacker()
	call percentDamage(u , 0.3 , true)
	set u=null
endfunction
function AC takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit()) and ( UnitHasBuffBJ(GetFilterUnit(), 'BEsh') or UnitHasBuffBJ(GetFilterUnit(), 'B01J') or UnitHasBuffBJ(GetFilterUnit(), 'B003') or UnitHasBuffBJ(GetFilterUnit(), 'Bcri') or UnitHasBuffBJ(GetFilterUnit(), 1110454324) or UnitHasBuffBJ(GetFilterUnit(), 1110454342) or UnitHasBuffBJ(GetFilterUnit(), 1110454343) )
endfunction
function aC takes nothing returns nothing
 local location loc= GetUnitLoc(GetEnumUnit())
 local location loc2= null
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 'BEsh') ) ) then
		call percentDamage(GetEnumUnit() , 0.1 , true)
	endif
	
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 'B01J') ) ) then
		call percentDamage(GetEnumUnit() , 0.3 , true)
	endif
	
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 'B003') ) ) then
		call percentDamage(GetEnumUnit() , 0.5 , true)
	endif
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 'Bcri') ) ) then
		set loc2=pu(loc , 256. , GetRandomReal(0, 360.))
		call IssuePointOrderByIdLoc(GetEnumUnit(), $D0012, loc2)
		call RemoveLocation(loc2)
	endif
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 1110454324) ) ) then
		call percentDamage(GetEnumUnit() , 1 , true)
	endif
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 1110454342) ) ) then
		if ( ( ModuloInteger(GetUnitPointValue(GetEnumUnit()), 10) != 0 ) ) then
			call percentDamage(GetEnumUnit() , 1 , true)
		else
			call percentDamage(GetEnumUnit() , 3 , true)
		endif
		call CreateTextTagLocBJ("è„‘ç¥ä¸¹æ•ˆæœ", loc, 60., 12., 65., 55., 42., 0)
		call Nw(3. , bj_lastCreatedTextTag)
		call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
	endif
	if ( ( UnitHasBuffBJ(GetEnumUnit(), 1110454343) ) ) then
		//if(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<=0.03*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))then
		//	call SetWidgetLife(GetEnumUnit(),1.)
		//else
		call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) - 0.03 * GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE))
		//endif
		call CreateTextTagLocBJ("åŒ–å°¸ç²‰æ•ˆæœ", loc, 60., 12., 65., 55., 42., 0)
		call Nw(3. , bj_lastCreatedTextTag)
		call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
	endif
	call RemoveLocation(loc)
	set loc=null
	set loc2=null
endfunction
//æ¯ç§’é’Ÿåšä¸€æ¬¡
function BC takes nothing returns nothing
	call ForGroupBJ(wv(bj_mapInitialPlayableArea , Condition(function AC)), function aC)
endfunction
//-----æ¿€æ´»æ®‹ç« -----
function ActCanZhang takes unit l__ut,item it,integer id1,integer lwd,integer id2,integer id3,integer id4,string s,integer flag returns integer
 local player p= GetOwningPlayer(l__ut)
 local integer i= 1 + GetPlayerId(p)
 local unit u= udg_hero[i]
	if ( GetUnitAbilityLevel(u, id1) <= 0 ) then
		call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033ä½ å°šæœªå­¦ä¼šè¯¥æ­¦åŠŸï¼Œæ— æ³•æ¿€æ´»éšè—æ‹›å¼")
		call unitadditembyidswapped(GetItemTypeId(it) , l__ut)
	else
		if ( ( flag >= 1 ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033ä½ ä¹‹å‰å·²ç»æ¿€æ´»è¿‡äº†")
			call unitadditembyidswapped(GetItemTypeId(it) , l__ut)
		else
			if ( juexuelingwu[i] >= lwd and GetUnitAbilityLevel(u, id2) != 0 and GetUnitAbilityLevel(u, id3) != 0 and GetUnitAbilityLevel(u, id4) != 0 ) then
				set flag=1
				call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†" + s)
			else
				call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033æ¡ä»¶ä¸è¶³ï¼Œæ¿€æ´»å¤±è´¥")
				call unitadditembyidswapped(GetItemTypeId(it) , l__ut)
			endif
		endif
	endif
	set u=null
	set p=null
	return flag
endfunction
function CC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896371 ) )
endfunction
function cC takes nothing returns nothing
	set Jd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07H' , 5 , 1093678935 , 'A07U' , 1093679152 , "åä¸¤ä»ªåˆ€æ³•ç¬¬1å¼ï¼šè¡Œæ°”å¦‚è™¹" , Jd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function EC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896370 ) )
endfunction
function FC takes nothing returns nothing
	set Id[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A085' , 5 , 'A07P' , 1093678930 , 1093679154 , "å…­è„‰ç¥å‰‘ç¬¬1å¼ï¼šå°‘å•†å‰‘" , Id[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function HC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896369 ) )
endfunction
function IC takes nothing returns nothing
	set Qd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07L' , 5 , 1093679154 , 'A07Q' , 'A0DN' , "æ‰“ç‹—æ£’æ³•ç¬¬1å¼ï¼šæ¶ç‹—æ‹¦è·¯" , Qd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function JC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896374 ) )
endfunction
function KC takes nothing returns nothing
	set ld[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07F' , 5 , 'A09D' , 1093679152 , 'A071' , "ç‹¬å­¤ä¹å‰‘ç¬¬1å¼ï¼šç ´å‰‘å¼" , ld[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function MC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896372 ) )
endfunction
function NC takes nothing returns nothing
	set Od[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A086' , 5 , 'A083' , 'A07X' , 'A06M' , "èƒ¡å®¶åˆ€æ³•ç¬¬1å¼ï¼šå…«æ–¹è—åˆ€å¼" , Od[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function PC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896368 ) )
endfunction
function QC takes nothing returns nothing
	set Pd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A089' , 5 , 'A084' , 'A0D2' , 'A07S' , "è¥¿æ¯’æ£æ³•ç¬¬1å¼ï¼šè›‡ç›˜é’ç«¹" , Pd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function SC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896377 ) )
endfunction
function TC takes nothing returns nothing
	set Kd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07J' , 5 , 'A06J' , 1093678932 , 1395666994 , "è¾Ÿé‚ªå‰‘æ³•ç¬¬1å¼ï¼šæµæ˜Ÿèµ¶æœˆ" , Kd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function VC takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 1227896376 ) )
endfunction
function WC takes nothing returns nothing
	set Ld[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07I' , 5 , 'A07N' , 'A0D8' , 'A07X' , "é‡çƒæ‹³ç¬¬1å¼ï¼šç¿»è‚˜è£‚æ¶" , Ld[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function YC takes nothing returns boolean
	return GetItemTypeId(GetManipulatedItem()) == 1227896375
endfunction
function ZC takes nothing returns nothing
	set Nd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07E' , 5 , 'A0D8' , 'A07O' , 'A0DN' , "é™é¾™åå…«æŒç¬¬1å¼ï¼šç¥é¾™æ‘†å°¾" , Nd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function ec takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 'I065' ) )
endfunction
function gc takes nothing returns nothing
	set Md[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A07G' , 5 , 'A06H' , 'A07S' , 'A084' , "é»¯ç„¶é”€é­‚æŒç¬¬1å¼ï¼šæ— ä¸­ç”Ÿæœ‰" , Md[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
//ä¹é˜³çœŸç»æ®‹å·
function isJiuYangCanJuan takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 'I0CW' ) )
endfunction
function jiuYangCanJuan takes nothing returns nothing
	set JYd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ActCanZhang(GetTriggerUnit() , GetManipulatedItem() , 'A0DN' , 5 , 'A0DN' , 'A09D' , 'A07X' , "ä¹é˜³çœŸç»æ®‹å·" , JYd[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
//æ­¦é­‚çŸ³ç³»ç»Ÿ
function IsWuHunShi takes nothing returns boolean
	if ( GetItemTypeId(GetManipulatedItem()) == 'I09Q' ) then
		if ( De[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == false and Ee[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == false ) then
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|CFFFF0033æœªé›†é½å†³æˆ˜å¥—è£…æˆ–æ±Ÿæ¹–å¥—è£…ï¼Œæ¿€æ´»å¤±è´¥")
			return false
		else
			return true
		endif
	endif
	return false
endfunction
function WuHunShi takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	call DialogClear(wuhun)
	call RemoveItem(GetManipulatedItem())
	call DialogSetMessage(wuhun, "è¯·é€‰æ‹©è¦æ¿€æ´»çš„æ®‹ç« ")
	if Jd[i] == 0 then
		set wuhun1[1]=DialogAddButtonBJ(wuhun, "åä¸¤ä»ªåˆ€æ³•")
	endif
	if Id[i] == 0 then
		set wuhun1[2]=DialogAddButtonBJ(wuhun, "å…­è„‰ç¥å‰‘")
	endif
	if Qd[i] == 0 then
		set wuhun1[3]=DialogAddButtonBJ(wuhun, "æ‰“ç‹—æ£’æ³•")
	endif
	if ld[i] == 0 then
		set wuhun1[4]=DialogAddButtonBJ(wuhun, "ç‹¬å­¤ä¹å‰‘")
	endif
	if Od[i] == 0 then
		set wuhun1[5]=DialogAddButtonBJ(wuhun, "èƒ¡å®¶åˆ€æ³•")
	endif
	if Pd[i] == 0 then
		set wuhun1[6]=DialogAddButtonBJ(wuhun, "è¥¿æ¯’æ£æ³•")
	endif
	if Kd[i] == 0 then
		set wuhun1[7]=DialogAddButtonBJ(wuhun, "è¾Ÿé‚ªå‰‘æ³•")
	endif
	if Ld[i] == 0 then
		set wuhun1[8]=DialogAddButtonBJ(wuhun, "é‡çƒæ‹³æ³•")
	endif
	if Nd[i] == 0 then
		set wuhun1[9]=DialogAddButtonBJ(wuhun, "é™é¾™åå…«æŒ")
	endif
	if Md[i] == 0 then
		set wuhun1[10]=DialogAddButtonBJ(wuhun, "é»¯ç„¶é”€é­‚æŒ")
	endif
	set wuhun1[11]=DialogAddButtonBJ(wuhun, "å–æ¶ˆ")
	call DialogDisplay(p, wuhun, true)
	set u=null
	set p=null
endfunction
function JiHuoCanZhang takes nothing returns nothing
 local player p=GetTriggerPlayer()
 local integer i=1 + GetPlayerId(p)
	if GetClickedButton() == wuhun1[1] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†åä¸¤ä»ªåˆ€æ³•ç¬¬1å¼ï¼šè¡Œæ°”å¦‚è™¹")
		set Jd[i]=1
	endif
	if GetClickedButton() == wuhun1[2] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†å…­è„‰ç¥å‰‘ç¬¬1å¼ï¼šå°‘å•†å‰‘")
		set Id[i]=1
	endif
	if GetClickedButton() == wuhun1[3] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†æ‰“ç‹—æ£’æ³•ç¬¬1å¼ï¼šæ¶ç‹—æ‹¦è·¯")
		set Qd[i]=1
	endif
	if GetClickedButton() == wuhun1[4] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†ç‹¬å­¤ä¹å‰‘ç¬¬1å¼ï¼šç ´å‰‘å¼")
		set ld[i]=1
	endif
	if GetClickedButton() == wuhun1[5] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†èƒ¡å®¶åˆ€æ³•ç¬¬1å¼ï¼šå…«æ–¹è—åˆ€å¼")
		set Od[i]=1
	endif
	if GetClickedButton() == wuhun1[6] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†è¥¿æ¯’æ£æ³•ç¬¬1å¼ï¼šè›‡ç›˜é’ç«¹")
		set Pd[i]=1
	endif
	if GetClickedButton() == wuhun1[7] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†è¾Ÿé‚ªå‰‘æ³•ç¬¬1å¼ï¼šæµæ˜Ÿèµ¶æœˆ")
		set Kd[i]=1
	endif
	if GetClickedButton() == wuhun1[8] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†é‡çƒæ‹³ç¬¬1å¼ï¼šç¿»è‚˜è£‚æ¶")
		set Ld[i]=1
	endif
	if GetClickedButton() == wuhun1[9] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†é™é¾™åå…«æŒç¬¬1å¼ï¼šç¥é¾™æ‘†å°¾")
		set Nd[i]=1
	endif
	if GetClickedButton() == wuhun1[10] then
		call DisplayTextToPlayer(p, 0, 0, "|CFF00ff33æ­å–œæ¿€æ´»äº†é»¯ç„¶é”€é­‚æŒç¬¬1å¼ï¼šæ— ä¸­ç”Ÿæœ‰")
		set Md[i]=1
	endif
	if GetClickedButton() == wuhun1[11] then
		call UnitAddItemById(P4[i], 'I09Q')
	endif
	set p=null
endfunction
//å­¦ä¹ é—¨æ´¾å†…åŠŸ
function pR takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895856 ) ) // INLINED!!
endfunction
function LearnNeiGong takes nothing returns nothing
 local button b=GetClickedButton()
 local unit u=LoadUnitHandle(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 3)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local integer id=LoadInteger(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 4)
 local player p= GetOwningPlayer(u)
	if b == LoadButtonHandle(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 1) then
		call UnitAddAbility(u, Q8[id])
		call UnitMakeAbilityPermanent(u, true, Q8[id])
		call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, ( "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(Q8[id]) ))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "é•¿è€")
		call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "é•¿è€ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		set L7[i]=1
		loop
		exitwhen L7[i] > wugongshu[i]
			if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
			else
				set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=Q8[id]
			exitwhen true
			endif
			set L7[i]=L7[i] + 1
		endloop
	elseif b == LoadButtonHandle(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 2) then
		// æ˜æ•™ä¹¾å¤
		if P8[id] == 'A07W' then
			if GetUnitAbilityLevel(u, 'A07W') >= 1 then
				call IncUnitAbilityLevel(u, P8[id])
			else
				call UnitAddAbility(u, P8[id])
				set L7[i]=1
				loop
				exitwhen L7[i] > wugongshu[i]
					if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
					else
						set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=P8[id]
					exitwhen true
					endif
					set L7[i]=L7[i] + 1
				endloop
			endif
			call IncUnitAbilityLevel(u, P8[id])
		else
			call UnitAddAbility(u, P8[id])
			if P8[id] == 'A0DP' then // å½’å…ƒåçº³åŠŸ
set fuyuan[i]=fuyuan[i] + 2
				set gengu[i]=gengu[i] + 2
				set wuxing[i]=wuxing[i] + 2
				set jingmai[i]=jingmai[i] + 2
				set danpo[i]=danpo[i] + 2
				set yishu[i]=yishu[i] + 2
			endif
			if P8[id] == QI_MEN_SHU_SHU then
				if Player(i - 1) == GetLocalPlayer() then
					call s__Frame_show(qimen_widget)
				endif
			endif
			call UnitMakeAbilityPermanent(u, true, P8[id])
			set L7[i]=1
			loop
			exitwhen L7[i] > wugongshu[i]
				if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
				else
					set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=P8[id]
				exitwhen true
				endif
				set L7[i]=L7[i] + 1
			endloop
		endif
		call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, ( "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(P8[id]) ))
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "é•¿è€")
		call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "é•¿è€ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		
		
	endif
	call DialogClear(udg_menpaineigong)
	call FlushChildHashtable(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"))
	call DialogDestroy(udg_menpaineigong)
	set udg_menpaineigong=null
	set b=null
	set u=null
	set p=null
endfunction
function qR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
 local button b1=null
 local button b2=null
 local trigger t=CreateTrigger()
 local integer j=0
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, i)
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	if ( ( UnitHaveItem(GetTriggerUnit() , 1227895642) == false ) ) then
		call DisplayTextToPlayer(Player(- 1 + i), 0, 0, "|CFF34FF00ä½ å¿…é¡»æºå¸¦é—¨æ´¾æ¯•ä¸šå·æ‰èƒ½è·å¾—ä¿®ä¹ èµ„æ ¼")
	else
		if ( ( O8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
			call DisplayTextToPlayer(Player(- 1 + i), 0, 0, "|CFF34FF00ä½ å·²ç»ä¿®è¡Œè¿‡äº†")
		else
			if GetUnitAbilityLevel(udg_hero[i], Y7[udg_runamen[i]]) < 2 then
				call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 15, "ä½ çš„" + GetAbilityName(Y7[udg_runamen[i]]) + "|rè¿˜æ²¡ä¿®ç‚¼åˆ°ä½")
			else
				set j=1
				loop
				exitwhen j > wugongshu[i]
					if ( I7[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) * 20 + j] ) != 'AEfk' then
						//call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"j="+I2S(j))
						if j == wugongshu[i] then
							call DisplayTextToPlayer(Player(- 1 + i), 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
						endif
					else
						set O8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
						call RemoveItem(FetchUnitItem(GetTriggerUnit() , 1227895642))
						set bj_forLoopBIndex=1
						set bj_forLoopBIndexEnd=DENOMINATION_NUMBER
						loop
						exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
							if ( ( udg_runamen[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 11 ) ) then
								call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 15, "è‡ªç”±é—¨æ´¾æ²¡æœ‰å†…åŠŸ")
							exitwhen true
							elseif ( udg_runamen[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 13 ) then
								call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 15, "è¯¥é—¨æ´¾ä¸åœ¨æ­¤å­¦ä¹ å†…åŠŸ")
								call unitadditembyidswapped(1227895642 , GetTriggerUnit())
								set O8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
							exitwhen true
							else
								if ( ( udg_runamen[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == bj_forLoopBIndex ) ) then
									set udg_menpaineigong=DialogCreate()
									call DialogSetMessage(udg_menpaineigong, "è¯·é€‰æ‹©ä½ è¦ä¿®ä¹ çš„å†…åŠŸ")
									set b1=DialogAddButtonBJ(udg_menpaineigong, GetObjectName(Q8[bj_forLoopBIndex]))
									set b2=DialogAddButtonBJ(udg_menpaineigong, GetObjectName(P8[bj_forLoopBIndex]))
									call SaveButtonHandle(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 1, b1)
									call SaveButtonHandle(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 2, b2)
									call SaveUnitHandle(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 3, GetTriggerUnit())
									call SaveInteger(YDHT, StringHash("é—¨æ´¾å†…åŠŸ"), 4, bj_forLoopBIndex)
									call DialogDisplay(GetOwningPlayer(GetTriggerUnit()), udg_menpaineigong, true)
									call TriggerRegisterDialogEvent(t, udg_menpaineigong)
									call TriggerAddAction(t, function LearnNeiGong)
								endif
							endif
							set bj_forLoopBIndex=bj_forLoopBIndex + 1
						endloop
					exitwhen true
					endif
					set j=j + 1
				endloop
			endif
		endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
	set b1=null
	set b2=null
	set t=null
endfunction
function IsMuRongNeiGong takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I09F' ) ) // INLINED!!
endfunction
function MuRongNeiGong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j= 1
	if ( udg_runamen[i] != 13 ) then
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä½ æ²¡æœ‰æ‹œå…¥å§‘è‹æ…•å®¹")
	else
		if ( UnitHaveItem(u , 1227895642) == false ) then
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä½ å¿…é¡»æºå¸¦é—¨æ´¾æ¯•ä¸šå·æ‰èƒ½è·å¾—ä¿®ä¹ èµ„æ ¼")
		else
			if GetUnitAbilityLevel(u, Y7[udg_runamen[i]]) < 2 then
				call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 15, "ä½ çš„" + GetAbilityName(Y7[udg_runamen[i]]) + "|rè¿˜æ²¡ä¿®ç‚¼åˆ°ä½")
			else
				if ( O8[i] == 1 ) then
					call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä½ å·²ç»ä¿®è¡Œè¿‡äº†")
				else
					set j=1
					loop
					exitwhen j > wugongshu[i]
						if ( I7[( i - 1 ) * 20 + j] ) != 'AEfk' then
							if j == wugongshu[i] then
								call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
							endif
						else
							set O8[i]=1
							call RemoveItem(FetchUnitItem(u , 1227895642))
							if danpo[i] > 20 then
								call UnitAddAbility(u, P8[13])
								call UnitMakeAbilityPermanent(u, true, P8[13])
								call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName(P8[13]))
								call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "é•¿è€")
								call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "é•¿è€ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
								set L7[i]=1
								loop
								exitwhen L7[i] > wugongshu[i]
									if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
									else
										set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=P8[13]
									exitwhen true
									endif
									set L7[i]=L7[i] + 1
								endloop
							else
								call UnitAddAbility(u, Q8[13])
								call UnitMakeAbilityPermanent(u, true, Q8[13])
								call DisplayTextToPlayer(p, 0, 0, "|cff00FF66ä½ è¿˜æ˜¯å…ˆæŒæ¡" + GetObjectName(Q8[13]) + "å§")
								call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00FF66ç©å®¶" + I2S(1 + GetPlayerId(p)) + "æˆä¸º" + udg_menpainame[udg_runamen[i]] + "é•¿è€")
								call SetPlayerName(p, "ã€“" + udg_menpainame[udg_runamen[i]] + "é•¿è€ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
								set L7[i]=1
								loop
								exitwhen L7[i] > wugongshu[i]
									if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
									else
										set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=Q8[13]
									exitwhen true
									endif
									set L7[i]=L7[i] + 1
								endloop
							endif
						exitwhen true
						endif
						set j=j + 1
					endloop
				endif
			endif
		endif
	endif
	set u=null
	set p=null
endfunction

//===========================================================================
//åˆæˆç‰©å“
function HeCheng_Conditions takes nothing returns boolean
	//call BJDebugMsg(I2S(GetUnitTypeId(GetTriggerUnit())))
	return (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) or GetItemTypeId(GetManipulatedItem()) == 'I099' or GetItemTypeId(GetManipulatedItem()) == 'I09A' or GetItemTypeId(GetManipulatedItem()) == 'I09B' or GetItemTypeId(GetManipulatedItem()) == 'I09D' or GetItemTypeId(GetManipulatedItem()) == 'I0DL' or GetItemTypeId(GetManipulatedItem()) == 'I0DJ' or GetItemTypeId(GetManipulatedItem()) == 'I02T' // INLINED!!
endfunction
function HeCheng_Actions takes nothing returns nothing
	//äºŒåˆä¸€
	//if GetItemTypeId(GetManipulatedItem()) == 'I09C' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
 //   	call YDWENewItemsFormula( 'I09C', 1, 'I09P', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I00B' )
	//endif
	//if GetItemTypeId(GetManipulatedItem()) == 'I098' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
 //   	call YDWENewItemsFormula( 'I098', 1, 'I09P', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I00D' )
	//endif
	// if GetItemTypeId(GetManipulatedItem()) == 'I00B' or GetItemTypeId(GetManipulatedItem()) == 'I00D' then
	// 	call YDWENewItemsFormula( 'I00B', 1, 'I00D', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I00D' )
	// endif
	if GetItemTypeId(GetManipulatedItem()) == 'I02S' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
		call YDWENewItemsFormula('I02S' , 1 , 'I09P' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I02M')
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I02M' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
		call YDWENewItemsFormula('I02M' , 1 , 'I09P' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I02Q')
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I02Q' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
		call YDWENewItemsFormula('I02Q' , 1 , 'I09P' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I02R')
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I02R' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
		call YDWENewItemsFormula('I02R' , 1 , 'I09P' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I02P')
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I099' or GetItemTypeId(GetManipulatedItem()) == 'I09A' then
		call YDWENewItemsFormula('I099' , 1 , 'I09A' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I09C')
	endif
	// æ–°æ‰‹ç¥å™¨lv1+æ˜Ÿäº‘åˆæˆlv2
	if GetItemTypeId(GetManipulatedItem()) == 'I0DJ' or GetItemTypeId(GetManipulatedItem()) == 'I01I' then
		call YDWENewItemsFormula('I0DJ' , 1 , 'I01I' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I0DL')
	endif
	// æ–°æ‰‹ç¥å™¨lv2+ä¸ƒç»åˆæˆæ–°æ‰‹ç¥å™¨
	if GetItemTypeId(GetManipulatedItem()) == 'I0DL' or GetItemTypeId(GetManipulatedItem()) == 'I01J' then
		call YDWENewItemsFormula('I0DL' , 1 , 'I01J' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I0DB')
	endif
	// 4å¤§é›åˆæˆç¥é›•
	if GetItemTypeId(GetManipulatedItem()) == 'I02T' then
		call YDWENewItemsFormula('I02T' , 1 , 'I02T' , 1 , 'I02T' , 1 , 'I02T' , 1 , 'ches' , 0 , 'ches' , 0 , 'I04A')
	endif
	
	
	//ä¸‰åˆä¸€
	if GetItemTypeId(GetManipulatedItem()) == 'I053' or GetItemTypeId(GetManipulatedItem()) == 'I058' or GetItemTypeId(GetManipulatedItem()) == 'I05A' then
		call YDWENewItemsFormula('I053' , 1 , 'I058' , 1 , 'I05A' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I05C')
	endif
	//å››åˆä¸€
	//äº”åˆä¸€
	//å…­åˆä¸€
	if GetItemTypeId(GetManipulatedItem()) == 'I02P' or GetItemTypeId(GetManipulatedItem()) == 'I09P' then
		call YDWENewItemsFormula('I02P' , 1 , 'I09P' , 1 , 'I09P' , 1 , 'I09P' , 1 , 'I09P' , 1 , 'I09P' , 1 , 'I08V')
	endif
	
endfunction
//é”»é€ å¤§å¸ˆè¡¥å±æ€§
function DZDSBuShuXing takes unit u returns nothing
 local integer ii7= 0
 local integer ii8= 0
 local integer ii9= 0
 local item it= null
 local integer j= 1
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	
	loop
	exitwhen j >= 7
		set it=UnitItemInSlotBJ(u, j)
		set ii7=ModuloInteger(( GetItemUserData(it) / 100 ), 10)
		set ii8=ModuloInteger(( GetItemUserData(it) / 10 ), 10)
		set ii9=ModuloInteger(( GetItemUserData(it) / 1 ), 10)
		//call BJDebugMsg("ç¬¬"+I2S(j)+"æ ¼å­ç‰©å“çš„æ•°å€¼ä¸º"+I2S(ii7*100+ii8*10+ii9))
		if ( ii7 == 1 ) then
			set gengu[i]=gengu[i] + 2
		elseif ( ii7 == 2 ) then
			set wuxing[i]=wuxing[i] + 2
		elseif ( ii7 == 3 ) then
			set jingmai[i]=jingmai[i] + 2
		elseif ( ii7 == 4 ) then
			set fuyuan[i]=fuyuan[i] + 2
		elseif ( ii7 == 5 ) then
			set danpo[i]=danpo[i] + 2
		elseif ( ii7 == 6 ) then
			set yishu[i]=yishu[i] + 2
		endif
		if ( ii8 == 1 ) then
			set gengu[i]=gengu[i] + 2
		elseif ( ii8 == 2 ) then
			set wuxing[i]=wuxing[i] + 2
		elseif ( ii8 == 3 ) then
			set jingmai[i]=jingmai[i] + 2
		elseif ( ii8 == 4 ) then
			set fuyuan[i]=fuyuan[i] + 2
		elseif ( ii8 == 5 ) then
			set danpo[i]=danpo[i] + 2
		elseif ( ii8 == 6 ) then
			set yishu[i]=yishu[i] + 2
		endif
		if ( ii9 == 1 ) then
			set gengu[i]=gengu[i] + 2
		elseif ( ii9 == 2 ) then
			set wuxing[i]=wuxing[i] + 2
		elseif ( ii9 == 3 ) then
			set jingmai[i]=jingmai[i] + 2
		elseif ( ii9 == 4 ) then
			set fuyuan[i]=fuyuan[i] + 2
		elseif ( ii9 == 5 ) then
			set danpo[i]=danpo[i] + 2
		elseif ( ii9 == 6 ) then
			set yishu[i]=yishu[i] + 2
		endif
		set j=j + 1
	endloop
	set it=null
endfunction
//ä¸ºåˆæˆçš„æ­¦å™¨å¢åŠ è€ä¹…åº¦
function WuPinHeCheng takes nothing returns nothing
 local item it=(bj_lastCombinedItem) // INLINED!!
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) and LoadBoolean(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetItemTypeId(it)) == false and udg_dzds[i] <= 5 then // INLINED!!
		set udg_dzds[i]=udg_dzds[i] + 1
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|CFF66FF00æ­å–œæ‚¨é”»é€ æˆåŠŸç¬¬" + I2S(udg_dzds[i]) + "ä»¶è£…å¤‡ï¼Œé”»é€ æˆåŠŸ5ä»¶è£…å¤‡å¯ä»¥è·å¾—é”»é€ å¤§å¸ˆå“¦")
		call SaveBoolean(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetItemTypeId(it), true)
	endif
	if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) and udg_dzds[i] >= 5 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
		call Deputy_setMaster(i , DUAN_ZAO)
		call DZDSBuShuXing(udg_hero[i])
		// call SaveStr(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetHandleId(GetOwningPlayer(GetTriggerUnit())),"ã€“é”»é€ å¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetHandleId(GetOwningPlayer(GetTriggerUnit()))))
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(GetOwningPlayer(GetTriggerUnit())) + "è·å¾—é”»é€ å¤§å¸ˆ")
		call SetPlayerName(GetOwningPlayer(GetTriggerUnit()), "ã€“é”»é€ å¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetHandleId(GetOwningPlayer(GetTriggerUnit()))))
	endif
	set it=null
endfunction

function HeCheng2_Dzds takes integer i returns nothing
	if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) and udg_dzds[i] <= 5 then // INLINED!!
		set udg_dzds[i]=udg_dzds[i] + 1
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|CFF66FF00æ­å–œæ‚¨é”»é€ æˆåŠŸç¬¬" + I2S(udg_dzds[i]) + "ä»¶è£…å¤‡ï¼Œé”»é€ æˆåŠŸ5ä»¶è£…å¤‡å¯ä»¥è·å¾—é”»é€ å¤§å¸ˆå“¦")
	endif
	if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) and udg_dzds[i] >= 5 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
		call Deputy_setMaster(i , DUAN_ZAO)
		call DZDSBuShuXing(udg_hero[i])
		// call SaveStr(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetHandleId(GetOwningPlayer(GetTriggerUnit())),"ã€“é”»é€ å¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetHandleId(GetOwningPlayer(GetTriggerUnit()))))
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(GetOwningPlayer(GetTriggerUnit())) + "è·å¾—é”»é€ å¤§å¸ˆ")
		call SetPlayerName(GetOwningPlayer(GetTriggerUnit()), "ã€“é”»é€ å¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(GetOwningPlayer(GetTriggerUnit())), GetHandleId(GetOwningPlayer(GetTriggerUnit()))))
	endif
endfunction
//åˆæˆç‰©å“2ï¼Œè‡ªç”±æˆ–è€…å‰¯èŒé”»é€ å¯ä»¥åˆæˆ
function HeCheng2_Conditions takes nothing returns boolean
	return ( ( udg_runamen[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 11 or (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) ) and ( GetUnitTypeId(GetTriggerUnit()) == 'nvul' or GetUnitTypeId(GetTriggerUnit()) == 'n00W' or GetUnitTypeId(GetTriggerUnit()) == 'n00V' ) ) // INLINED!!
endfunction
function HeCheng2_Actions takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	
	
	// å¼ æ— å¿Œæ€çŒªåˆ€I0CI,éƒ­é–ç¯æˆ’I0CHï¼Œä¹”å³°è‰é‹I0DOï¼Œ
	// å¤§ä¾ å¥—+ç¥ç€é¡¹é“¾åˆæˆæ¸¸ä¾ å°è®°
	if GetItemTypeId(GetManipulatedItem()) == 'I0CI' or GetItemTypeId(GetManipulatedItem()) == 'I0CH' or GetItemTypeId(GetManipulatedItem()) == 'I0DO' or GetItemTypeId(GetManipulatedItem()) == 'I01X' then
		if UnitHaveItem(u , 'I0CI') and UnitHaveItem(u , 'I0CH') and UnitHaveItem(u , 'I0DO') and UnitHaveItem(u , 'I01X') then
			call RemoveItem(FetchUnitItem(u , 'I0CI'))
			call RemoveItem(FetchUnitItem(u , 'I0CH'))
			call RemoveItem(FetchUnitItem(u , 'I0DO'))
			call RemoveItem(FetchUnitItem(u , 'I01X'))
			call unitadditembyidswapped('I0E8' , u)
			call HeCheng2_Dzds(i)
		endif
		// call YDWENewItemsFormula( 'I0CI', 1, 'I0CH', 1, 'I0DO', 1, 'I01X', 1, 'ches', 0, 'ches', 0, 'I0E8' )
	endif
	// æ¸¸ä¾ å°è®°+ä¸ƒæ˜Ÿæˆ’æŒ‡åˆæˆå°ä¾ å°è®°
	if GetItemTypeId(GetManipulatedItem()) == 'I0E8' or GetItemTypeId(GetManipulatedItem()) == 'I01P' then
		if UnitHaveItem(u , 'I0E8') and UnitHaveItem(u , 'I01P') then
			call RemoveItem(FetchUnitItem(u , 'I0E8'))
			call RemoveItem(FetchUnitItem(u , 'I01P'))
			call unitadditembyidswapped('I0E9' , u)
			call HeCheng2_Dzds(i)
		endif
		// call YDWENewItemsFormula( 'I0E8', 1, 'I01P', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I0E9' )
	endif
	// å°ä¾ å°è®°+æ¢¦è¶é¡¹é“¾åˆæˆåä¾ å°è®°
	if GetItemTypeId(GetManipulatedItem()) == 'I0E9' or GetItemTypeId(GetManipulatedItem()) == 'I01C' then
		if UnitHaveItem(u , 'I0E9') and UnitHaveItem(u , 'I01C') then
			call RemoveItem(FetchUnitItem(u , 'I0E9'))
			call RemoveItem(FetchUnitItem(u , 'I01C'))
			call unitadditembyidswapped('I0EA' , u)
			call HeCheng2_Dzds(i)
		endif
		// call YDWENewItemsFormula( 'I0E9', 1, 'I01C', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I0EA' )
	endif
	// åä¾ å°è®°+äº‘æµ·é“¾åˆæˆå¤§ä¾ å°è®°
	if GetItemTypeId(GetManipulatedItem()) == 'I0EA' or GetItemTypeId(GetManipulatedItem()) == 'I010' then
		if UnitHaveItem(u , 'I0EA') and UnitHaveItem(u , 'I010') then
			call RemoveItem(FetchUnitItem(u , 'I0EA'))
			call RemoveItem(FetchUnitItem(u , 'I010'))
			// call createitemloc('I0EB',loc)
			call unitadditembyidswapped('I0EB' , u)
			call HeCheng2_Dzds(i)
		endif
		// call YDWENewItemsFormula( 'I0EA', 1, 'I010', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I0EB' )
	endif
	// å¤§ä¾ å°è®°+é‡ç”Ÿé“¾åˆæˆå·¨ä¾ å°è®°
	if GetItemTypeId(GetManipulatedItem()) == 'I0EB' or GetItemTypeId(GetManipulatedItem()) == 'I00W' then
		if UnitHaveItem(u , 'I0EB') and UnitHaveItem(u , 'I00W') then
			call RemoveItem(FetchUnitItem(u , 'I0EB'))
			call RemoveItem(FetchUnitItem(u , 'I00W'))
			// call createitemloc('I0EC',loc)
			call unitadditembyidswapped('I0EC' , u)
			call HeCheng2_Dzds(i)
		endif
		// call YDWENewItemsFormula( 'I0EB', 1, 'I00W', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'ches', 0, 'I0EC' )
	endif
	// å·¨ä¾ å°è®°+å·ä»¤å¤©ä¸‹+é‡çƒæ‹³åˆæˆè™¾ç±³å°è®°
	if GetItemTypeId(GetManipulatedItem()) == 'I0EC' or GetItemTypeId(GetManipulatedItem()) == 'I06F' or GetItemTypeId(GetManipulatedItem()) == 'I03A' then
		if UnitHaveItem(u , 'I0EC') and UnitHaveItem(u , 'I06F') and UnitHaveItem(u , 'I03A') then
			call RemoveItem(FetchUnitItem(u , 'I0EC'))
			call RemoveItem(FetchUnitItem(u , 'I06F'))
			call RemoveItem(FetchUnitItem(u , 'I03A'))
			call unitadditembyidswapped('I0ED' , u)
			call HeCheng2_Dzds(i)
			// call createitemloc('I0ED',loc)
		endif
		// call YDWENewItemsFormula( 'I0EC', 1, 'I06F', 1, 'I03A', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'I0ED' )
	endif
	// è™¾ç±³å°è®°+ç»¿æ‰³æŒ‡+æ±Ÿæ¹–æƒ…åˆæˆåå››å¤©ä¹¦
	if GetItemTypeId(GetManipulatedItem()) == 'I0ED' or GetItemTypeId(GetManipulatedItem()) == 'I00L' or GetItemTypeId(GetManipulatedItem()) == 'I08W' then
		if UnitHaveItem(u , 'I0ED') and UnitHaveItem(u , 'I00L') and UnitHaveItem(u , 'I08W') then
			call RemoveItem(FetchUnitItem(u , 'I0ED'))
			call RemoveItem(FetchUnitItem(u , 'I00L'))
			call RemoveItem(FetchUnitItem(u , 'I08W'))
			// call createitemloc('I0EE',loc)
			call unitadditembyidswapped('I0EE' , u)
			call HeCheng2_Dzds(i)
		endif
		// call YDWENewItemsFormula( 'I0ED', 1, 'I00L', 1, 'I08W', 1, 'ches', 0, 'ches', 0, 'ches', 0, 'I0EE' )
	endif
	set u=null
endfunction

//ä¼´ä¾£å±æ€§
function BanLvShuXing_1 takes integer num,integer id1,integer id2,integer blgg,integer blwx,integer bljm,integer blfy,integer bldp,integer blys returns nothing
	set R8[num]=id1
	set S8[num]=id2
	set udg_blgg[num]=blgg
	set udg_blwx[num]=blwx
	set udg_bljm[num]=bljm
	set udg_blfy[num]=blfy
	set udg_bldp[num]=bldp
	set udg_blys[num]=blys
endfunction
function LO takes nothing returns nothing
	call BanLvShuXing_1(1 , 1697656885 , 1227895865 , 2 , 0 , 0 , 0 , 3 , 0)
	call BanLvShuXing_1(2 , 1697656886 , 1227895874 , 2 , 2 , 2 , 2 , 2 , 2)
	call BanLvShuXing_1(3 , 1697656887 , 1227895380 , 0 , 0 , 0 , 0 , 1 , 1)
	call BanLvShuXing_1(4 , 1697656888 , 1227895864 , 0 , 2 , 2 , 1 , 0 , 0)
	call BanLvShuXing_1(5 , 1697656889 , 1227895858 , 2 , 0 , 1 , 0 , 0 , 0)
	call BanLvShuXing_1(6 , 1697656898 , 1227895859 , 0 , 2 , 0 , 0 , 0 , 1)
	call BanLvShuXing_1(7 , 1697656897 , 1227895857 , 0 , 0 , 0 , 2 , 0 , 0)
	call BanLvShuXing_1(8 , 1697656899 , 1227895873 , 2 , 2 , 2 , 2 , 2 , 2)
	call BanLvShuXing_1(9 , 1697656900 , 1227895863 , 2 , 0 , 0 , 2 , 1 , 0)
	call BanLvShuXing_1(10 , 1697656901 , 1227895862 , 0 , 1 , 3 , 0 , 0 , 1)
	call BanLvShuXing_1(11 , 1697656902 , 1227895861 , 1 , 1 , 0 , 0 , 0 , 2)
	call BanLvShuXing_1(12 , 1697656903 , 1227895860 , 0 , 0 , 2 , 1 , 1 , 0)
	call BanLvShuXing_1(13 , 'e01B' , 'I0CP' , 2 , 2 , 2 , 2 , 2 , 2)
	call BanLvShuXing_1(14 , 'e01C' , 'I0CS' , 3 , 3 , 3 , 3 , 3 , 3) //ç™½çŒ¿
endfunction
//ç»“æˆä¼´ä¾£
function NO takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT ) )
endfunction
function OO takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j=1
 local location loc= GetUnitLoc(u)
	if ( (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) ) then // INLINED!!
		loop
		exitwhen j > MAX_BAN_LV_NUM
			if ( ( GetUnitTypeId(k8[i]) == R8[j] ) ) then
				set jingmai[i]=( jingmai[i] - udg_bljm[j] )
				set fuyuan[i]=( fuyuan[i] - udg_blfy[j] )
				set wuxing[i]=( wuxing[i] - udg_blwx[j] )
				set yishu[i]=( yishu[i] - udg_blys[j] )
				set gengu[i]=( gengu[i] - udg_blgg[j] )
				set danpo[i]=( danpo[i] - udg_bldp[j] )
			endif
			set j=j + 1
		endloop
		call RemoveUnit(k8[i])
		set j=1
		loop
		exitwhen j > MAX_BAN_LV_NUM
			if ( ( GetItemTypeId(GetManipulatedItem()) == S8[j] ) ) then
				call PlaySoundOnUnitBJ(Fh, 100, u)
				call CreateNUnitsAtLoc(1, R8[j], p, loc, bj_UNIT_FACING)
				call zw(bj_lastCreatedUnit , u , 1. , 250. , 1000. , 1500. , 75)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ­å–œä½ ä¸" + GetUnitName(bj_lastCreatedUnit) + "ç»“æˆä¼´ä¾£")
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æŸ¥çœ‹ä¼´ä¾£å±æ€§è¾“å…¥â€œblâ€")
				set k8[i]=bj_lastCreatedUnit
				set jingmai[i]=( jingmai[i] + udg_bljm[j] )
				set fuyuan[i]=( fuyuan[i] + udg_blfy[j] )
				set wuxing[i]=( wuxing[i] + udg_blwx[j] )
				set yishu[i]=( yishu[i] + udg_blys[j] )
				set gengu[i]=( gengu[i] + udg_blgg[j] )
				set danpo[i]=( danpo[i] + udg_bldp[j] )
				call RemoveLocation(loc)
			endif
			set j=j + 1
		endloop
	else
		call unitadditembyidswapped(GetItemTypeId(GetManipulatedItem()) , u)
	endif
	set u=null
	set p=null
	set loc=null
endfunction

//æ•´ç†ç‰©å“
function SO takes nothing returns nothing
	if ( ( GetWidgetLife(GetEnumItem()) == 101. ) ) then //Då¤è‘£
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(nh))
		call RemoveLocation(GetRectCenter(nh))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 102. ) ) then //Cå¤è‘£
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(oh))
		call RemoveLocation(GetRectCenter(oh))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 103. ) ) then //Bå¤è‘£
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(ph))
		call RemoveLocation(GetRectCenter(ph))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 104. ) ) then //Aå¤è‘£
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(qh))
		call RemoveLocation(GetRectCenter(qh))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 105. ) ) then //Cè‰è¯
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(rh))
		call RemoveLocation(GetRectCenter(rh))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 106. ) ) then //Bè‰è¯
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(sh))
		call RemoveLocation(GetRectCenter(sh))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 107. ) ) then //Aè‰è¯
call SetItemPositionLoc(GetEnumItem(), GetRectCenter(th))
		call RemoveLocation(GetRectCenter(th))
	elseif ( ( GetWidgetLife(GetEnumItem()) == 108. ) ) then //18ç§æ±Ÿæ¹–æ­¦åŠŸ
call SetItemPosition(GetEnumItem(), - 1819., 484.)
	elseif ( ( GetWidgetLife(GetEnumItem()) == 109. ) ) then
		call SetItemPosition(GetEnumItem(), - 1300., - 300.)
	endif
endfunction
function TO takes nothing returns nothing
	call EnumItemsInRectBJ(bj_mapInitialPlayableArea, function SO)
endfunction

//------è½»åŠŸç³»ç»Ÿ------//
function Trig_ttConditions takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A02U' ) and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true )
endfunction
function qinggongxiaoshi takes nothing returns nothing
 local timer tm=GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(tm), 0)
	call DestroyEffect(udg_JTX[GetPlayerId(GetOwningPlayer(u)) + 1])
	call PauseTimer(tm)
	call DestroyTimer(tm)
	set u=null
	set tm=null
endfunction
function Trig_ttActions takes nothing returns nothing
 local location d1= GetUnitLoc(GetTriggerUnit())
 local location d2= GetSpellTargetLoc()
 local real agi=I2R(GetHeroAgi(GetTriggerUnit(), false))
 local real l__jd=AngleBetweenPoints(d1, d2)
 local real distance=500 + I2R(GetHeroStr(GetTriggerUnit(), false)) / 3
 local real velocity=48.027 * Pow(agi, 0.3131)
 local real lasttime=5.0
 local timer tm= CreateTimer()
	if velocity > 1000 then
		set velocity=1000
	endif
	if distance > 2000 then
		set distance=2000
	endif
	call SaveReal(YDHT, GetHandleId(GetTriggerUnit()), StringHash("è½»åŠŸdistance"), distance)
	if distance > DistanceBetweenPoints(d1, d2) then
		set distance=DistanceBetweenPoints(d1, d2)
	endif
	set lasttime=distance / velocity
	call SaveReal(YDHT, GetHandleId(GetTriggerUnit()), StringHash("è½»åŠŸvelocity"), velocity)
	call SaveUnitHandle(YDHT, GetHandleId(tm), 0, GetTriggerUnit())
	call SetUnitFacing(GetTriggerUnit(), l__jd)
	call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"))
	set udg_JTX[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]=AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl", GetTriggerUnit(), "origin")
	call SetUnitAnimation(GetTriggerUnit(), "walk")
	call YDWEJumpTimer(GetTriggerUnit() , l__jd , distance , lasttime , 0.03 , 100)
	
	call TimerStart(tm, lasttime, false, function qinggongxiaoshi)
	call RemoveLocation(d1)
	call RemoveLocation(d2)
	set d1=null
	set d2=null
	set tm=null
endfunction
//ä¼¤å®³æµ‹è¯•æ¡©
// ä¼¤å®³è¶…è¿‡ä¸€å®šä½æ•°åŠ ç§¯åˆ†
function shangHaiBonus takes real damage returns nothing
	// ä¼¤å®³ä½æ•°ï¼Œè½¬æˆå­—ç¬¦ä¸²è¦å‡å»åé¢çš„.000å››ä¸ªé•¿åº¦
 local integer n= StringLength(R2S(damage)) - 4
 local integer a= n - 13
 local integer i= 0
	// æé™ä¼¤å®³ç§¯åˆ†
	set damage_jf=5 * a * ( a + 1 )
	// è¶…è¿‡17ä½åªç®—17ä½å¥–åŠ±
	if n > 17 then
		set damage_jf=5 * 4 * ( 4 + 1 )
	endif
	call BJDebugMsg("|CFF1CE6B9æ‰€æœ‰äººé¢å¤–å¥–åŠ±ç§¯åˆ†" + I2S(damage_jf))
endfunction
function IsCeShiShangHai takes nothing returns boolean
	return GetItemTypeId(GetManipulatedItem()) == 'I0B7'
endfunction
function CeShiJieShu takes nothing returns nothing
 local timer t= GetExpiredTimer()
	set ceshi=false
	call SetUnitOwner(gg_unit_N00I_0116, Player(5), true)
	call BJDebugMsg("|cff00ff00æµ‹è¯•æ€»ä¼¤å®³ä¸º" + R2S(ceshizongshanghai) + ",ä¼¤å®³ä½æ•°ï¼š" + I2S(( StringLength(R2S(ceshizongshanghai)) - 4 )))
	if ceshizongshanghai > max_damage[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] then
		// ä¿å­˜æœ€é«˜ä¼¤å®³åˆ°æœåŠ¡å™¨
		call DzAPI_Map_StoreReal(Player(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))) , "maxDamage" , ceshizongshanghai)
	endif
	// è®¡ç®—ç§¯åˆ†ï¼Œä¼¤å®³è¶…è¿‡13ä½è§¦å‘
	if StringLength(R2S(ceshizongshanghai)) - 4 > 13 and ceshizongshanghai > curMaxDamage and not udg_yanglao then
		set curMaxDamage=ceshizongshanghai
		call shangHaiBonus(ceshizongshanghai)
	endif
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
endfunction
function CeShiShangHai takes nothing returns nothing
 local timer t= CreateTimer()
	set ceshi=true
	set ceshizongshanghai=0
	call BJDebugMsg(GetUnitName(gg_unit_N00I_0116))
	call SetUnitOwner(gg_unit_N00I_0116, Player(6), true)
	call TimerStart(t, 10, false, function CeShiJieShu)
	set t=null
endfunction
function IsCalcShangHai takes nothing returns boolean
	return ceshi
endfunction
function CalcShangHai takes nothing returns nothing
	set ceshizongshanghai=ceshizongshanghai + GetEventDamage()
endfunction
//æŠ½è¡€æœ¯
function ChouXie_Condition takes nothing returns boolean
	return IsUnitInGroup(GetAttacker(), w7) and GetPlayerTechCountSimple('R001', Player(6)) == 50 and GetOwningPlayer(GetTriggerUnit()) != Player(12) and GetTriggerUnit() != udg_ZhengPaiWL and GetUnitTypeId(GetTriggerUnit()) != 'Hblm' and GetUnitTypeId(GetTriggerUnit()) != 'o02F' and GetUnitTypeId(GetTriggerUnit()) != 'o02G'
endfunction
function ChouXie_Action takes nothing returns nothing
	// éš¾6
	if udg_nandu == 5 then
		if GetRandomInt(1, 100) <= 20 then
			call SetUnitLifePercentBJ(GetTriggerUnit(), GetUnitLifePercent(GetTriggerUnit()) - 6.)
		endif
		// éš¾7
	elseif udg_nandu == 6 then
		if GetRandomInt(1, 100) <= 60 then
			call SetUnitLifePercentBJ(GetTriggerUnit(), GetUnitLifePercent(GetTriggerUnit()) - 6.)
		endif
	endif
	
endfunction
//æ€æ€ª(è¿›æ”»æ€ªåŠç»ƒåŠŸæˆ¿)
function ey takes nothing returns boolean
	return ( ( IsUnitEnemy(GetDyingUnit(), GetOwningPlayer(GetKillingUnit())) ) and ( ( GetOwningPlayer(GetTriggerUnit()) == Player(6) ) or ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) )
endfunction
function KillGuai takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
 local integer i= 1
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	if ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) then
		// å¯Œå¯æ•Œå›½ä»¤
		if ( ( UnitHaveItem(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , 1227896391) ) ) then
			set T7=GetRandomReal(.95, ( .95 + ( I2R(fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]) / 50. ) ))
			set U7=( T7 * ( 45. * ( I2R(( udg_boshu + 1 )) / 1. ) ) )
			call AdjustPlayerStateBJ(R2I(U7), GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
		else
			set T7=GetRandomReal(.95, ( .95 + ( I2R(fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]) / 50. ) ))
			set U7=( T7 * ( 15. * ( I2R(( udg_boshu + 1 )) / 1. ) ) )
			call AdjustPlayerStateBJ(R2I(U7), GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
		endif
		// ç¥å·ä¸–å®¶ä»¤
		if ( ( UnitHaveItem(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , 'I06I') ) ) then
			if ( ( GetRandomInt(1, 100) <= 25 ) ) then
				call AdjustPlayerStateBJ(1, GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
			endif
		endif
		// å·ä»¤æˆ–è€…å¤©ä¹¦åŠ å¿«å£°æœ›è·å–
		if ( ( UnitHaveItem(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , 1227896390) ) ) or ( ( UnitHaveItem(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , 1227900229) ) ) then
			set shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]=( shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] + ( ( udg_boshu / 7 + 1 ) ) )
		endif
		// å…»ç²¾è“„é”ä»¤
		if ( ( UnitHaveItem(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , 1227896392) ) ) then
			call AddHeroXP(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )], ( GetUnitLevel(GetTriggerUnit()) * 30 ), true)
		endif
	else
		set T7=GetRandomReal(.95, ( .95 + ( I2R(fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]) / 50. ) ))
		set U7=( T7 * ( 25. * ( I2R(( udg_boshu + 1 )) / 1. ) ) )
		call AdjustPlayerStateBJ(R2I(U7), GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
		if ( ( GetUnitPointValue(GetTriggerUnit()) == 102 ) ) then
			set i=1
			loop
			exitwhen i >= 6
				set shoujiajf[i]=shoujiajf[i] + 15 * ( 10 - GetNumPlayer() ) / 10
				set i=i + 1
			endloop
			set ae=( ae + ( $A + GetPlayerTechCountSimple('R001', Player(6)) ) )
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "å‡»æ€åé—¨é«˜æ‰‹ï¼Œæ¯ä½ç©å®¶è·å¾—å®ˆå®¶ç§¯åˆ†+" + I2S(shoujiajf[i] + 15 * ( 10 - GetNumPlayer() ) / 10))
			call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
			if ( ( GetRandomInt(1, 50) <= 5 ) ) then
				call createitemloc(YaoCao[GetRandomInt(1, 12)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
				if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
					call createitemloc(YaoCao[GetRandomInt(1, 12)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
				endif
			endif
			if ( ( GetRandomInt(1, 50) <= 2 ) ) then
				call createitemloc(1227897138 , LoadLocationHandle(YDHT, id * cx, $1769D332))
			else
				if ( ( GetRandomInt(1, 100) <= 10 ) ) then
					call createitemloc('I06N' , LoadLocationHandle(YDHT, id * cx, $1769D332))
				else
					if ( ( GetRandomInt(1, 90) <= 10 ) ) then
						call createitemloc('I06K' , LoadLocationHandle(YDHT, id * cx, $1769D332))
					else
						if ( ( GetRandomInt(1, 80) <= 10 ) ) then
							call createitemloc(1227896397 , LoadLocationHandle(YDHT, id * cx, $1769D332))
						endif
					endif
				endif
			endif
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
		else
			//åˆ¤æ–­æ˜¯å¦ä¸ºè¿›æ”»BOSS
			if ( ( GetUnitPointValue(GetTriggerUnit()) == 101 ) ) then
				set i=1
				loop
				exitwhen i >= 6
					set shoujiajf[i]=shoujiajf[i] + 30 * ( 10 - GetNumPlayer() ) / 10
					set i=i + 1
				endloop
				set ae=( ae + ( $A + GetPlayerTechCountSimple('R001', Player(6)) ) )
				call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "å‡»æ€BOSSï¼Œæ¯ä½ç©å®¶è·å¾—å®ˆå®¶ç§¯åˆ†+" + I2S(shoujiajf[i] + 30 * ( 10 - GetNumPlayer() ) / 10))
				set ae=( ae + ( 30 + GetPlayerTechCountSimple('R001', Player(6)) ) )
				if GetRandomInt(1, 100) <= 50 then
					set udg_shuxing[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]=( udg_shuxing[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] + 1 )
					call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFF33CC00" + GetPlayerName(GetOwningPlayer(GetKillingUnit())) + "|cFF33CC00å‡»æ€äº†BOSS" + GetUnitName(GetTriggerUnit()) + "|cFF33CC00è·å¾—äº†ä¸€ä¸ªè‡ªç”±å±æ€§ç‚¹")
				endif
				call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
				call createitemloc(YaoCao[GetRandomInt(1, 12)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
				call createitemloc(YaoCao[GetRandomInt(1, 12)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
				if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
					call createitemloc(YaoCao[GetRandomInt(1, 12)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
					call createitemloc(YaoCao[GetRandomInt(1, 12)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
				endif
				call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
			else
				if GetKillingUnit() != null then
					set shoujiajf[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]=( shoujiajf[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] + 1 )
				endif
			endif
		endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//é­”æ•™æ•‘äºº
function MoJiaoJiuRen_1 takes nothing returns nothing
	call SetUnitPosition(GetEnumUnit(), - 910, 750)
endfunction
function MoJiaoJiuRen takes nothing returns nothing
	call DisplayTextToForce(GetPlayersAll(), "|CFFCCFF00é­”æ•™æ½œå…¥ç›‘ç‹±æ•‘èµ°äº†è¢«æŠ“ä½çš„æ•Œäºº")
	call ForGroupBJ(YDWEGetUnitsInRectOfPlayerNull(udg_jail , Player(6)), function MoJiaoJiuRen_1)
endfunction
//æ€æ€ªåŠ å£°æœ›
function Xa takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetKillingUnit())) == MAP_CONTROL_USER ) )
endfunction
function Ya takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))
 local real x
 local real y
 local integer coeff= 1
	// å¤©èµ‹ï¼šå†²å·è¿‡åºœï¼šå¢åŠ æ¯æ¬¡æ€æ€ªè·å–çš„å£°æœ›å€¼
	if ( UnitHasBuffBJ(GetKillingUnit(), 'B01U') ) then
		set coeff=coeff * ( 2 + bigTalent[i] )
	endif
	set shengwang[i]=shengwang[i] + ( udg_boshu / ( 8 - coeff ) + 1 )
	if ( ModuloInteger(GetUnitPointValue(u), $A) == 1 ) then
		set shengwang[i]=shengwang[i] + 8 * coeff
	endif
	if ( p == Player(6) ) then
		set zd=zd + GetRandomInt(1, 2)
		if ( zd >= 100 ) then
			set zd=0
			set x=GetUnitX(u)
			set y=GetUnitY(u)
call CreateItem((gudong[GetRandomInt(1, ( 6 + ( udg_boshu / 5 ) ))] ), (( x )*1.0), (( y)*1.0)) // INLINED!!
		endif
	endif
	// ç†ŠçŒ«æ€æ€ªåŠ æœ¨æ
	if ( GetUnitTypeId(P4[i]) == 'n00V' and GetRandomInt(1, 100) <= 10 ) then
		call AdjustPlayerStateBJ(1, GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
	endif
	set u=null
	set p=null
endfunction
function dB takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetKillingUnit())) == MAP_CONTROL_USER ) )
endfunction
function eB takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))
	set shengwang[i]=( shengwang[i] + 1 )
	if ( ( ModuloInteger(GetUnitPointValue(GetTriggerUnit()), 10) == 1 ) ) then
		set shengwang[i]=shengwang[i] + 5
	elseif ( ( ModuloInteger(GetUnitPointValue(GetTriggerUnit()), 10) == 2 ) ) then
		set shengwang[i]=shengwang[i] + 10
	endif
	if ( GetUnitTypeId(P4[i]) == 'n00V' and GetRandomInt(1, 100) <= 10 ) then
		call AdjustPlayerStateBJ(1, GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_LUMBER)
	endif
endfunction
//ç»éªŒç¬¦
function oQ takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'texp' )
endfunction
function pQ takes nothing returns nothing
	call AddHeroXP(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], 200000, true)
endfunction
//è´­ä¹°ç­‰çº§
function rQ takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I05Z' )
endfunction
function sQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( GetUnitLevel(udg_hero[i]) >= 100 ) then
		call AdjustPlayerStateBJ(10000, p, PLAYER_STATE_RESOURCE_GOLD)
		call DisplayTimedTextToPlayer(p, 0, 0, 15, "|cFFFFCC00ç­‰çº§é«˜äº100æ— æ³•è´­ä¹°ç­‰çº§")
	else
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_QI) - 1)])) != 0) then // INLINED!!
			call AdjustPlayerStateBJ(10000, p, PLAYER_STATE_RESOURCE_GOLD)
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|cFFFFCC00é€‰æ‹©è¯¥å‰¯èŒæ— æ³•è´­ä¹°ç­‰çº§")
		else
			call SetHeroLevel(udg_hero[i], GetUnitLevel(udg_hero[i]) + 1, true)
		endif
	endif
	set u=null
	set p=null
endfunction
//æ–°æ‰‹å¤§ç¤¼åŒ…
function uQ takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896394 ) )
endfunction
function vQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
	// åœ°å›¾ç­‰çº§
 local integer level=DzAPI_Map_GetMapLevel(Player(GetPlayerId(p)))
	// åœ°å›¾ç­‰çº§å°äºç­‰çº§5çº§çš„é¢å¤–é€ä¸€ä¸ªæ–°æ‰‹ç¥å™¨
	if level <= 5 then
		call unitadditembyidswapped('I0DJ' , u) // æ–°æ‰‹ç¥å™¨
// å¤§ä¾ å¥— å¼ æ— å¿Œæ€çŒªåˆ€I0CI,éƒ­é–ç¯æˆ’I0CHï¼Œä¹”å³°è‰é‹I0DOï¼Œ
call unitadditembyidswapped('I0CI' , u)
		call unitadditembyidswapped('I0CH' , u)
		call unitadditembyidswapped('I0DO' , u)
		call AdjustPlayerStateBJ(30000, p, PLAYER_STATE_RESOURCE_GOLD)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æ–°æ‰‹å¤§ç¤¼åŒ…è·å¾—æ–°æ‰‹ç¥å™¨ã€å¤§ä¾ å¥—å’Œ3ä¸‡é‡‘å¸")
		
	endif
	// æµ‹è¯•ç‰ˆé€ä¸€ä¸ªæ–°æ‰‹ç¥å™¨
	if testVersion then
		call unitadditembyidswapped('I0DJ' , u) // æ–°æ‰‹ç¥å™¨
call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æµ‹è¯•ç‰ˆæœ¬ä½¿ç”¨æ–°æ‰‹å¤§ç¤¼åŒ…è·å¾—æ–°æ‰‹ç¥å™¨")
	endif
	if ( ( GetRandomInt(1, 12) <= 3 ) ) then
		call AdjustPlayerStateBJ(20000, p, PLAYER_STATE_RESOURCE_GOLD)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æ–°æ‰‹å¤§ç¤¼åŒ…è·å¾—é‡‘é’±+20000")
	else
		if ( ( GetRandomInt(1, 9) <= 3 ) ) then
			call UnitAddItemById(u, udg_jianghu[GetRandomInt(1, 18)])
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æ–°æ‰‹å¤§ç¤¼åŒ…è·å¾—éšæœºæ±Ÿæ¹–æ­¦åŠŸ")
		else
			if ( ( GetRandomInt(1, 6) <= 3 ) ) then
				call UnitAddAbility(u, 1093679441)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æ–°æ‰‹å¤§ç¤¼åŒ…è·å¾—ç¥è¡ŒçŠ¶æ€")
				call TriggerSleepAction(300.)
				call UnitRemoveAbility(u, 1093679441)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å¤±å»ç¥è¡Œæ•ˆæœ")
			else
				call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 0 , 20000)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æ–°æ‰‹å¤§ç¤¼åŒ…è·å¾—ç‹‚æš´çŠ¶æ€")
				call TriggerSleepAction(120.)
				call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 1 , 20000)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å¤±å»ç‹‚æš´æ•ˆæœ")
			endif
		endif
	endif
	set u=null
	set p=null
endfunction
//è£…å¤‡æ‰“å­”
function xQ takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I06N' ) )
endfunction
function yQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i11= 0
 local integer i12= 0
	if ( ( ( GetItemType(UnitItemInSlotBJ(u, 1)) == ITEM_TYPE_ARTIFACT ) or ( GetItemType(UnitItemInSlotBJ(u, 1)) == ITEM_TYPE_PURCHASABLE ) or ( GetItemType(UnitItemInSlotBJ(u, 1)) == ITEM_TYPE_CHARGED ) ) ) then
		set i12=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u, 1)) / 1000, 10)
		set i11=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u, 1)) / 100, 10)
		if ( i11 > 0 ) then
			set i12=i12 + 1
		endif
		set i11=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u, 1)) / 10, 10)
		if ( i11 > 0 ) then
			set i12=i12 + 1
		endif
		set i11=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u, 1)), 10)
		if ( i11 > 0 ) then
			set i12=i12 + 1
		endif
		if ( i12 < 3 ) then
			call SetItemUserData(UnitItemInSlotBJ(u, 1), ( GetItemUserData(UnitItemInSlotBJ(u, 1)) + $3E8 ))
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cff00ffffæ‰“å­”æˆåŠŸï¼")
		else
			call unitadditembyidswapped('I06N' , u)
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000ç¬¬ä¸€æ ¼ç‰©å“ä¸èƒ½å†æ‰“å­”äº†")
		endif
	else
		call unitadditembyidswapped('I06N' , u)
		call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000ç¬¬ä¸€æ ¼ç‰©å“ä¸æ˜¯è£…å¤‡")
	endif
	set u=null
	set p=null
endfunction
// åˆ¤æ–­æŸç©å®¶æ˜¯å¦å¯ä»¥åŠ å…¥å‰¯èŒ
// å¦‚æœæœªåŠ å…¥å‰¯èŒï¼Œå¯ä»¥åŠ å…¥
// å¦‚æœå·²åŠ å…¥å‰¯èŒä¸”è¯¥å‰¯èŒæˆä¸ºå®—å¸ˆï¼Œå¯ä»¥é‡æ–°åŠ å…¥
function canJoinDeputy takes integer i returns boolean
 local integer j= 1
	if deputy[i] == 0 then
		return true
	endif
	loop
	exitwhen j > MAX_DEPUTY
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( j) - 1)])) != 0) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( j) - 1)])) != 0) then // INLINED!!
			return false
		endif
		set j=j + 1
	endloop
	return true
endfunction
function notYetJoinDeputy takes integer i,integer whichDeputy returns boolean
	if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( whichDeputy) - 1)])) != 0) then // INLINED!!
		call DisplayTimedTextToPlayer(Player(i - 1), 0, 0, 5., "|cffffff00å·²ç»åŠ å…¥è¿‡è¯¥å‰¯èŒäº†ï¼Œä¸èƒ½é‡å¤åŠ å…¥")
		return false
	endif
	return true
endfunction
//åŠ å…¥å‰¯èŒ
function AQ takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I08Q' or GetItemTypeId(GetManipulatedItem()) == 'I0A4' or GetItemTypeId(GetManipulatedItem()) == 'I0A5' or GetItemTypeId(GetManipulatedItem()) == 'I0A6' or GetItemTypeId(GetManipulatedItem()) == 'I0A7' or GetItemTypeId(GetManipulatedItem()) == 'I08S' or GetItemTypeId(GetManipulatedItem()) == 'I08T' or GetItemTypeId(GetManipulatedItem()) == 'I0CG' ) )
endfunction
function aQ takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if canJoinDeputy(i) then
		if ( GetItemTypeId(GetManipulatedItem()) == 'I08Q' ) and notYetJoinDeputy(i , LIAN_DAN) then
			set yishu[i]=yishu[i] + 3
			call Deputy_setDeputy(i , LIAN_DAN)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºç‚¼ä¸¹å¸ˆï¼Œè·å¾—åŒ»æœ¯+3")
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I08S' ) and notYetJoinDeputy(i , DUAN_ZAO) then
			set gengu[i]=( gengu[i] + 5 )
			call Deputy_setDeputy(i , DUAN_ZAO)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºé”»é€ å¸ˆï¼Œè·å¾—æ ¹éª¨+3")
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I08T' ) and notYetJoinDeputy(i , BING_QI) then
			set danpo[i]=( danpo[i] + 3 )
			call Deputy_setDeputy(i , BING_QI)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºå…µå™¨å¸ˆï¼Œè·å¾—èƒ†é­„+3")
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I0A4' ) and notYetJoinDeputy(i , JIAN_DING) then
			set wuxing[i]=wuxing[i] + 3
			call Deputy_setDeputy(i , JIAN_DING)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºé‰´å®šå¸ˆï¼Œè·å¾—æ‚Ÿæ€§+3")
			//call UnitAddAbility(P4[i], 'A08O')
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I0A5' ) and notYetJoinDeputy(i , LIAN_QI) then
			set jingmai[i]=jingmai[i] + 3
			call Deputy_setDeputy(i , LIAN_QI)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºç»ƒæ°”å¸ˆï¼Œè·å¾—ç»è„‰+3")
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I0A6' ) and notYetJoinDeputy(i , XUN_BAO) then
			set fuyuan[i]=fuyuan[i] + 3
			call Deputy_setDeputy(i , XUN_BAO)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºå¯»å®å¸ˆï¼Œè·å¾—ç¦ç¼˜+3")
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I0A7' ) and notYetJoinDeputy(i , YA_HUAN) then
			call Deputy_setDeputy(i , YA_HUAN)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºä¸«é¬Ÿï¼Œè·å¾—å…¨å±æ€§+1")
			set danpo[i]=danpo[i] + 1
			set wuxing[i]=wuxing[i] + 1
			set gengu[i]=gengu[i] + 1
			set fuyuan[i]=fuyuan[i] + 1
			set jingmai[i]=jingmai[i] + 1
			set yishu[i]=yishu[i] + 1
		elseif ( GetItemTypeId(GetManipulatedItem()) == 'I0CG' ) and notYetJoinDeputy(i , JING_WU) then
			call Deputy_setDeputy(i , JING_WU)
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffffff00æ­å–œæˆä¸ºç²¾æ­¦å¸ˆï¼Œè·å¾—å…¨å±æ€§+1")
			set danpo[i]=danpo[i] + 1
			set wuxing[i]=wuxing[i] + 1
			set gengu[i]=gengu[i] + 1
			set fuyuan[i]=fuyuan[i] + 1
			set jingmai[i]=jingmai[i] + 1
			set yishu[i]=yishu[i] + 1
		endif
	else
		call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 5., "|cffff0000ä½ å·²ç»åŠ å…¥å‰¯èŒäº†ï¼Œåªæœ‰æˆä¸ºå®—å¸ˆæ‰å¯ä»¥å†æ¬¡åŠ å…¥")
	endif
endfunction
//ç»“æ‹œç³»ç»Ÿ
function MaiHuangZhi_Conditions takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 'I000' ) )
endfunction
function MaiHuangZhi takes nothing returns nothing
	call unitadditembyidswapped('I05Y' , GetTriggerUnit())
	call unitadditembyidswapped('I05Y' , GetTriggerUnit())
endfunction
function IsHuangZhi takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 'I05Y' ) )
endfunction
function ShaoHuangZhi takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if ( ( Bd[i] ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 20., "|cffff0000ä½ å·²ç»ä½¿ç”¨è¿‡é»„çº¸äº†ï¼Œè¿˜æ˜¯ç­‰ç­‰å¦å¤–ä¸€ä¸ªäººçš„å“åº”å§")
		call unitadditembyidswapped('I05Y' , GetTriggerUnit())
	else
		set Bd[i]=true
		set ad=ad + 1
		set bd[ad]=udg_hero[i]
		if ( ( ModuloInteger(ad, 2) == 0 ) ) then
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20., ( "|cffff66ffæ­å–œ" + ( GetPlayerName(GetOwningPlayer(bd[( ad - 1 )])) + ( "å’Œ" + ( GetPlayerName(GetOwningPlayer(bd[ad])) + "ç»“æ‹œä¸ºå…„å¼Ÿ" ) ) ) ))
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 20., "|cffff66ffä½¿ç”¨æˆåŠŸï¼Œç­‰å¾…å¦å¤–ä¸€ä½ç©å®¶ä¸ä½ ç»“æ‹œ....")
		endif
	endif
	set u=null
	set p=null
endfunction
function kT takes nothing returns boolean
	return ( Bd[( 1 + GetPlayerId(GetTriggerPlayer()) )] )
endfunction
function mT takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetTriggerPlayer())
 local integer j= 1
 local real x
 local real y
	loop
	exitwhen j > 6
		if ( udg_hero[i] == bd[j] ) then
			if ( ModuloInteger(j, 2) == 0 ) then
				if ( bd[j - 1] != null ) then
					set x=GetUnitX(bd[j - 1])
					set y=GetUnitY(bd[j - 1])
					call SetUnitPosition(udg_hero[i], x, y)
					call PanCameraToTimedForPlayer(GetTriggerPlayer(), x, y, 0)
				endif
			else
				if ( bd[j + 1] != null ) then
					set x=GetUnitX(bd[j + 1])
					set y=GetUnitY(bd[j + 1])
					call SetUnitPosition(udg_hero[i], x, y)
					call PanCameraToTimedForPlayer(GetTriggerPlayer(), x, y, 0)
				endif
			endif
		endif
		set j=j + 1
	endloop
endfunction
function qT takes nothing returns boolean
	return ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and ( GetItemTypeId(GetManipulatedItem()) == 'I0BO' or GetItemTypeId(GetManipulatedItem()) == 'I07S' ) or GetItemTypeId(GetManipulatedItem()) == 'I07W' )
endfunction
function rT takes nothing returns nothing
 local player p= GetOwningPlayer(GetTriggerUnit())
	if GetItemTypeId(GetManipulatedItem()) == 'I07W' then
		if tiaoZhanIndex != 3 then
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|cffdd0b0båªæœ‰æ— å°½BOSSæˆ˜æ¨¡å¼æ‰å¯ä»¥è¿›è¡Œæ­¤é¡¹æŒ‘æˆ˜")
		elseif udg_boss[7] != null and IsUnitAliveBJ(udg_boss[7]) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15, "|cffdd0b0bå½“å‰BOSSå°šæœªæŒ‘æˆ˜å®Œæˆ")
		else
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30., "|cff00ffffæœ‰ç©å®¶å¼€å§‹æŒ‘æˆ˜æ— å°½BOSSï¼Œå¤§å®¶è¦å°å¿ƒåº”ä»˜äº†ï¼")
			set next_endless_time=passed_time + 1
		endif
	endif
	
	if GetItemTypeId(GetManipulatedItem()) == 'I07S' then
		set ue=5
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30., "|cff00ffffæœ‰ç©å®¶å¼€å§‹é¢„çº¦åé—¨æŒ‘æˆ˜ï¼Œæœ¬æ³¢è¿›æ”»æ€ªç‰©å°†ä¼šå¢åŠ åé—¨é«˜æ‰‹ï¼Œå¤§å®¶è¦å°å¿ƒåº”ä»˜äº†ï¼")
	endif
	if GetItemTypeId(GetManipulatedItem()) == 'I0BO' then
		set ue=0
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30., "|cff00ffffæœ‰ç©å®¶å–æ¶ˆäº†é¢„çº¦åé—¨æŒ‘æˆ˜ï¼Œä¸‹æ³¢è¿›æ”»æ€ªç‰©å°†ä¸ä¼šå¢åŠ åé—¨é«˜æ‰‹ï¼Œå¤§å®¶è¦å°å¿ƒåº”ä»˜äº†ï¼")
	endif
	
	set p=null
	
endfunction
// æ”»ç ´åŸé—¨
function cT takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'hmtt' ) )
endfunction
function DT takes nothing returns nothing
	call ModifyGateBJ(1, Gt)
	call YDWEPolledWaitNull(( ( .18 - ( .01 * I2R(O4) ) ) * 2000. ))
	call ModifyGateBJ(0, Gt)
endfunction
//çˆ†ç‚¸
function FT takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0BU') != 0 ) )
endfunction
function GT takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function HT takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
	call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163, GetEnumUnit())
	call SetWidgetLife(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163), ( GetUnitState(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163), UNIT_STATE_LIFE) - ( 200. * I2R(GetUnitLevel(GetEnumUnit())) ) ))
endfunction
function IT takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call AddSpecialEffectLocBJ(loc, "war3mapImported\\ChaosExplosion.mdl")
	call DestroyEffect(bj_lastCreatedEffect)
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300. , loc , Condition(function GT)), function HT)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
// æµæ˜Ÿ
function JT takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A0BY') != 0 ) and ( GetRandomInt(1, 70) <= 5 ) )
endfunction
function KT takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 1697656919, GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call UnitAddAbility(bj_lastCreatedUnit, 1093681754)
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D7)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	call ShowUnitHide(bj_lastCreatedUnit)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
// å†°ç¼“
function MT takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A0C0') != 0 ) and ( GetRandomInt(1, 70) <= 5 ) )
endfunction
function NT takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 1697656918, GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
//è¾½å›½è¿›æ”»
function LiaoGuoJinGong_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer j= LoadInteger(YDHT, GetHandleId(t), 0)
 local integer jmax= 40
	if j < jmax then
		call CreateNUnitsAtLocFacingLocBJ(1, 'hkni', Player(6), Location(- 5600, 100), v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D000F, udg_ZhengPaiWL)
		call SaveInteger(YDHT, GetHandleId(t), 0, j + 1)
	else
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	set t=null
endfunction
function LiaoGuoJinGong takes nothing returns nothing
 local timer t
	if Sd[1] != 2 and Sd[2] != 2 and Sd[3] != 2 and Sd[4] != 2 and Sd[5] != 2 and udg_teshushijian then
		set t=CreateTimer()
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ¿€æ´»ç‰¹æ®Šäº‹ä»¶|cFFDDA0DDâ€»è¾¹å¢ƒå…¥ä¾µâ€»")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033ç”±äºæ¿€æ´»ç‰¹æ®Šäº‹ä»¶ï¼Œè¾½å›½æ´¾å‡ºéª‘å…µå‰æ¥è¿›æ”»ï¼Œè¯·å‡†å¤‡é˜²å¾¡")
		call TimerStart(t, 2., true, function LiaoGuoJinGong_1)
	endif
	set t=null
endfunction
//çµé¹«å®«è¿›æ”»ï¼šè§¦å‘æ¡ä»¶ï¼Œæœ‰ç©å®¶é€‰æ‹©äº†çµé¹«å®«
function LingJiuGongJinGong takes nothing returns nothing
	if ( udg_runamen[1] == 12 or udg_runamen[2] == 12 or udg_runamen[3] == 12 or udg_runamen[4] == 12 or udg_runamen[5] == 12 ) and udg_teshushijian then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ¿€æ´»ç‰¹æ®Šäº‹ä»¶|cFFDDA0DDâ€»çµé¹«å®«åŠ«â€»")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033ç”±äºæ¿€æ´»ç‰¹æ®Šäº‹ä»¶ï¼Œçµé¹«å®«æ´¾å‡ºé«˜æ‰‹å‰æ¥è¿›æ”»ï¼Œè¯·å‡†å¤‡é˜²å¾¡")
		call CreateNUnitsAtLocFacingLocBJ(1, 'ngh2', Player(6), Location(1800, - 100), v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D000F, udg_ZhengPaiWL)
		call CreateNUnitsAtLocFacingLocBJ(1, 'nfsp', Player(6), Location(1800, - 100), v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D000F, udg_ZhengPaiWL)
		call CreateNUnitsAtLocFacingLocBJ(1, 'nmgd', Player(6), Location(1800, - 100), v7[4])
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D000F, udg_ZhengPaiWL)
	endif
endfunction
function isF2TownPortal takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'O02W' or GetUnitTypeId(GetTriggerUnit()) == 'O02X' or GetUnitTypeId(GetTriggerUnit()) == 'O02Y'
endfunction
function f2TownPortal takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if GetUnitTypeId(GetTriggerUnit()) == 'O02X' then
		call SetUnitPosition(udg_hero[i], - 869, 796)
		call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), - 869, 796, 0)
	elseif GetUnitTypeId(GetTriggerUnit()) == 'O02Y' then
		call SetUnitPosition(udg_hero[i], - 869, - 2000)
		call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), - 869, - 2000, 0)
	else
		call SetUnitPosition(udg_hero[i], - 1174, - 678)
		call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), - 1174, - 678, 0)
	endif
	call ClearSelectionForPlayer(GetOwningPlayer(GetTriggerUnit()))
	call SelectUnitForPlayerSingle(udg_hero[i], GetOwningPlayer(GetTriggerUnit()))
endfunction

function GameLogic_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	
 local timer tm= CreateTimer()
 local timerdialog td= null
	call TimerStart(tm, 1000, true, null)
	set td=CreateTimerDialogBJ(tm, "ç›‘ç‹±æ•‘äºº:")
	call TimerDialogDisplay(td, true)
	
	//é€‰æ‹©è‹±é›„
	set Jh=CreateTrigger()
	call TriggerRegisterPlayerSelectionEventBJ(Jh, Player(0), true)
	call TriggerRegisterPlayerSelectionEventBJ(Jh, Player(1), true)
	call TriggerRegisterPlayerSelectionEventBJ(Jh, Player(2), true)
	call TriggerRegisterPlayerSelectionEventBJ(Jh, Player(3), true)
	call TriggerRegisterPlayerSelectionEventBJ(Jh, Player(4), true)
	call TriggerAddCondition(Jh, Condition(function fx))
	call TriggerAddAction(Jh, function SelectHero)
	// åŠ å…¥é—¨æ´¾
	set Mh=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Mh, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Mh, Condition(function ox))
	call TriggerAddAction(Mh, function JiaRuMenPai)
	// ä¼¤å®³æµ‹è¯•
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsCeShiShangHai))
	call TriggerAddAction(t, function CeShiShangHai)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, gg_unit_N00I_0116, EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(t, Condition(function IsCalcShangHai))
	call TriggerAddAction(t, function CalcShangHai)
	// è‡ªç”±é—¨æ´¾
	set Mh=CreateTrigger()
	call YDWETriggerRegisterLeaveRectSimpleNull(Mh , udg_xuanmenpai)
	call TriggerAddCondition(Mh, Condition(function WuMenPai_Condition))
	call TriggerAddAction(Mh, function WuMenPai_Action)
	
	// upæå‡æ¸¸æˆéš¾åº¦
	set Sh=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(Sh, Player(0), "up", false)
	call TriggerAddCondition(Sh, Condition(function GameNanDu_Condition))
	call TriggerAddAction(Sh, function GameNanDu)
	// ç©å®¶è‹±é›„é˜µäº¡
	set Th=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Th, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Th, Condition(function Ex))
	call TriggerAddAction(Th, function PlayerDeath)
	// ç©å®¶è‹±é›„å¤æ´»
	set Uh=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Uh, udg_revivetimer[1])
	call TriggerAddAction(Uh, function PlayerReviveA)
	set Vh=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Vh, udg_revivetimer[2])
	call TriggerAddAction(Vh, function PlayerReviveB)
	set Wh=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Wh, udg_revivetimer[3])
	call TriggerAddAction(Wh, function PlayerReviveC)
	set Xh=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Xh, udg_revivetimer[4])
	call TriggerAddAction(Xh, function PlayerReviveD)
	set Yh=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Yh, udg_revivetimer[5])
	call TriggerAddAction(Yh, function PlayerReviveE)
	// ç”ŸæˆF9ä¿¡æ¯
	set Zh=CreateTrigger()
	call TriggerRegisterTimerEventSingle(Zh, 5)
	call TriggerAddAction(Zh, function Qx)
	// ç©å®¶ç¦»å¼€æ¸¸æˆ
	set fi=CreateTrigger()
	call TriggerRegisterPlayerEventLeave(fi, Player(0))
	call TriggerRegisterPlayerEventLeave(fi, Player(1))
	call TriggerRegisterPlayerEventLeave(fi, Player(2))
	call TriggerRegisterPlayerEventLeave(fi, Player(3))
	call TriggerRegisterPlayerEventLeave(fi, Player(4))
	call TriggerAddAction(fi, function PlayerLeave)
	// æ€è¿›æ”»æ€ªåŠç»ƒåŠŸæˆ¿æ€ª
	set gi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(gi, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(gi, Condition(function ey))
	call TriggerAddAction(gi, function KillGuai)
	// å‡»æ€æœ€ç»ˆBOSSæ¸¸æˆèƒœåˆ©
	set hi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(hi, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(hi, Condition(function hy))
	call TriggerAddAction(hi, function Victory)
	// è€å®¶ç­äº†æ¸¸æˆå¤±è´¥
	set ii=CreateTrigger()
	call TriggerRegisterUnitEvent(ii, udg_ZhengPaiWL, EVENT_UNIT_DEATH)
	call TriggerAddAction(ii, function Lose)
	// è´­ä¹°è€å®¶æ— æ•Œ
	set ji=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ji, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ji, Condition(function BuyJiDiWuDi))
	call TriggerAddAction(ji, function JiDiWuDi)
	// é¦–æ¬¡æ˜¾ç¤ºç³»ç»Ÿçª—å£ä¿¡æ¯
	set ki=CreateTrigger()
	call TriggerRegisterTimerEventSingle(ki, 10.)
	call TriggerAddAction(ki, function SystemWindow)
	// åˆ·æ–°ç³»ç»Ÿçª—å£ä¿¡æ¯
	set mi=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(mi, 1.)
	call TriggerAddAction(mi, function uuyy)
	// è®¡ç®—ç©å®¶æœ€å¤§ä¼¤å®³
	set ni=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(ni)
	call TriggerAddCondition(ni, Condition(function wy))
	call TriggerAddAction(ni, function SetMaxDamage)
	// å¼€å¯è¯•ç©æ¨¡å¼
	set oi=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(oi, Player(0), "sw", true)
	call TriggerAddCondition(oi, Condition(function BeforeAttack))
	call TriggerAddAction(oi, function SetShiWan)
	// è´­ä¹°åŸé˜²
	set pi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(pi, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(pi, Condition(function BuyChengFang))
	call TriggerAddAction(pi, function ShengChengFang)
	// è´­ä¹°é«˜çº§åŸé˜²
	set ri=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ri, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ri, Condition(function BuyGaoChengFang))
	call TriggerAddAction(ri, function ShengGaoChengFang)
	// ç§¯åˆ†æ¢ç‰©å“
	set si=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(si, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(si, Condition(function BuyKuanDong))
	call TriggerAddAction(si, function KuanDongHua)
	// å£°æœ›æ¢ç‰©å“
	set si=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(si, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(si, Condition(function BuyKuanDong_1))
	call TriggerAddAction(si, function KuanDongHua_1)
	// FIXME ä½¿ç”¨æ­¦å­¦ç²¾è¦ï¼ˆç›®å‰æœ‰BUGï¼‰
	set si=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(si, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(si, Condition(function IsWuXueJingYao))
	call TriggerAddAction(si, function WuXueJingYao)
	
	//å°†åœ°å›¾ä¸Šåˆå§‹æ‰€æœ‰å•ä½åŠ å…¥å•ä½ç»„
	set Vi=CreateTrigger()
	call TriggerRegisterTimerEventSingle(Vi, 2.)
	call TriggerAddAction(Vi, function cA)
	//æ€ªç‰©æ­»åé‡æ–°åˆ·æ€ª
	set Wi=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(Wi, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerRegisterPlayerUnitEventSimple(Wi, Player(15), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(Wi, function EA)
	//åˆ·è¿›æ”»æ€ª
	set Xi=CreateTrigger()
	call TriggerAddCondition(Xi, Condition(function GA))
	call TriggerAddAction(Xi, function HA)
	//åˆ·æ­£é¢çš„è¿›æ”»æ€ª
	set Yi=CreateTrigger()
	call DisableTrigger(Yi)
	call TriggerRegisterTimerEventPeriodic(Yi, 3.)
	call TriggerAddAction(Yi, function lA)
	//åˆ·èƒŒé¢çš„è¿›æ”»æ€ª
	set Zi=CreateTrigger()
	call DisableTrigger(Zi)
	call TriggerRegisterTimerEventPeriodic(Zi, 2.)
	call TriggerAddAction(Zi, function KA)
	// åˆ·åé—¨
	set dj=CreateTrigger()
	call TriggerAddCondition(dj, Condition(function MA))
	call TriggerAddAction(dj, function NA)
	// æ—¶é—´åˆ°åˆ·æ€ª
	set ej=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(ej, A7[1])
	call TriggerAddAction(ej, function PA)
	set fj=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(fj, A7[2])
	call TriggerAddAction(fj, function RA)
	set gj=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(gj, A7[3])
	call TriggerAddAction(gj, function TA)
	set hj=CreateTrigger()
	call TriggerAddAction(hj, function VA)
	set ij=CreateTrigger()
	call TriggerAddAction(ij, function XA)
	// åœæ€ª
	set jj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(jj, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(jj, Condition(function ZA))
	call TriggerAddAction(jj, function ea)
	// å°†æ­»äº¡å•ä½ä»å•ä½ç»„ç§»é™¤
	set mj=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(mj, Player(6), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(mj, Condition(function ja))
	call TriggerAddAction(mj, function ka)
	// ç»ƒåŠŸæˆ¿åˆ·æ€ª
	set nj=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(nj, 6.)
	call TriggerAddAction(nj, function qa)
	// è¿›å…¥ç»ƒåŠŸæˆ¿
	set oj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(oj, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(oj, Condition(function sa))
	call TriggerAddAction(oj, function ua)
	// è¿›å…¥ç»ƒåŠŸæˆ¿
	set pj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(pj, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(pj, Condition(function wa))
	call TriggerAddAction(pj, function xa)
	// è¿›å…¥ç»ƒåŠŸæˆ¿
	set qj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(qj, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(qj, Condition(function za))
	call TriggerAddAction(qj, function Aa)
	// åˆ‡æ¢èƒŒåŒ…
	set rj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(rj, EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(rj, Condition(function Ba))
	call TriggerAddAction(rj, function ba)
	// é¸Ÿçš„è´©å–æŠ€èƒ½
	set sj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(sj, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(sj, Condition(function ca))
	call TriggerAddAction(sj, function Da)
	// é¸Ÿçš„æ¢è‚¤æŠ€èƒ½
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isSwitchSkin))
	call TriggerAddAction(t, function switchSkin)
	// é¸Ÿä½¿ç”¨æŒ‡ä»¤æŠ€èƒ½
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isCmd))
	call TriggerAddAction(t, function cmd)
	// è½»åŠŸç³»ç»Ÿ
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function Trig_ttConditions))
	call TriggerAddAction(t, function Trig_ttActions)
	// åˆ‡æ¢ç‰©å“
	set tj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(tj, EVENT_PLAYER_UNIT_SPELL_CAST)
	call TriggerAddCondition(tj, Condition(function IsQieHuanItem))
	call TriggerAddAction(tj, function QieHuanItem)
	
	// è‹±é›„è¾¾åˆ°æŸç­‰çº§
	set vj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vj, EVENT_PLAYER_HERO_LEVEL)
	call TriggerAddCondition(vj, Condition(function Ja))
	call TriggerAddAction(vj, function HeroLevel)
	// æ€æ€ªå›è¡€
	set wj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(wj, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(wj, Condition(function Ma))
	call TriggerAddAction(wj, function KillGuaiJiaXie)
	// æ¯ç§’å›è¡€å›è“
	set xj=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(xj, 1.)
	call TriggerAddAction(xj, function YiShuHuiXie)
	// æ”»å‡»å›å¤ï¼ˆä¼¤å®³å›å¤ï¼‰
	set yj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(yj, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(yj, Condition(function Ra))
	call TriggerAddAction(yj, function Sa)
	// ä¼¤å®³å¸æ”¶
	set zj=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(zj)
	call TriggerAddCondition(zj, Condition(function Ua))
	call TriggerAddAction(zj, function Va)
	// æ€æ€ªåŠ å£°æœ›
	set Aj=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(Aj, Player(6), EVENT_PLAYER_UNIT_DEATH)
	call TriggerRegisterPlayerUnitEventSimple(Aj, Player(7), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Aj, Condition(function Xa))
	call TriggerAddAction(Aj, function Ya)
	set aj=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(aj, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(aj, Condition(function dB))
	call TriggerAddAction(aj, function eB)
	// é—å¿˜æ­¦åŠŸ
	set Bj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Bj, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(Bj, Condition(function YiWangJiNeng))
	call TriggerAddAction(Bj, function ForgetAbility)
	// ä¸ºåˆæˆçš„ç‰©å“è¡¥å±æ€§
	set t=CreateTrigger()
	call YDWESyStemItemCombineRegistTrigger(t)
	call TriggerAddAction(t, function WuPinHeCheng)
	// é€‰æ‹©é—å¿˜çš„æ­¦åŠŸ
	set bj=CreateTrigger()
	call TriggerRegisterDialogEvent(bj, K7[1])
	call TriggerRegisterDialogEvent(bj, K7[2])
	call TriggerRegisterDialogEvent(bj, K7[3])
	call TriggerRegisterDialogEvent(bj, K7[4])
	call TriggerRegisterDialogEvent(bj, K7[5])
	call TriggerAddAction(bj, function jB)
	// ä¼ é€è‡³æ¡ƒèŠ±å²›
	set Cj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Cj, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Cj, Condition(function mB))
	call TriggerAddAction(Cj, function nB)
	// å­¦ä¹ æ­¦åŠŸ
	set cj=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(cj, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(cj, Condition(function IsWuGongBook))
	call TriggerAddAction(cj, function BookLearnWuGong)
	// åˆå§‹åŒ–å†…åŠŸåŠ æˆ
	set fk=CreateTrigger()
	call TriggerRegisterTimerEventSingle(fk, 0.1)
	call TriggerAddAction(fk, function NeiGongJiaChengS)
	set pk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(pk, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(pk, Condition(function uC))
	call TriggerAddAction(pk, function vC)
	set qk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(qk, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(qk, Condition(function xC))
	call TriggerAddAction(qk, function yC)
	set rk=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(rk, 1.)
	call TriggerAddAction(rk, function BC)
	set sk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(sk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(sk, Condition(function CC))
	call TriggerAddAction(sk, function cC)
	set tk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(tk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(tk, Condition(function EC))
	call TriggerAddAction(tk, function FC)
	set uk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(uk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(uk, Condition(function HC))
	call TriggerAddAction(uk, function IC)
	set vk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(vk, Condition(function JC))
	call TriggerAddAction(vk, function KC)
	set wk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(wk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(wk, Condition(function MC))
	call TriggerAddAction(wk, function NC)
	set xk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(xk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(xk, Condition(function PC))
	call TriggerAddAction(xk, function QC)
	set yk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(yk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(yk, Condition(function SC))
	call TriggerAddAction(yk, function TC)
	set zk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(zk, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(zk, Condition(function VC))
	call TriggerAddAction(zk, function WC)
	set Ak=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ak, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Ak, Condition(function YC))
	call TriggerAddAction(Ak, function ZC)
	set ak=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ak, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(ak, Condition(function ec))
	call TriggerAddAction(ak, function gc)
	set ak=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ak, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(ak, Condition(function isJiuYangCanJuan))
	call TriggerAddAction(ak, function jiuYangCanJuan)
	set ak=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ak, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(ak, Condition(function IsWuHunShi))
	call TriggerAddAction(ak, function WuHunShi)
	set Bk=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(Bk)
	call TriggerAddCondition(Bk, Condition(function IsUnitBoss))
	call TriggerAddAction(Bk, function BossFangJiNeng)
	// é¢„çº¦åé—¨å’Œå–æ¶ˆé¢„çº¦
	set Gs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Gs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Gs, Condition(function qT))
	call TriggerAddAction(Gs, function rT)
	// æ”»ç ´åŸé—¨
	set Ks=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ks, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Ks, Condition(function cT))
	call TriggerAddAction(Ks, function DT)
	// çˆ†ç‚¸
	set Ht=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ht, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Ht, Condition(function FT))
	call TriggerAddAction(Ht, function IT)
	// æµæ˜Ÿ
	set It=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(It, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(It, Condition(function JT))
	call TriggerAddAction(It, function KT)
	// å†°ç¼“
	set Jt=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Jt, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(Jt, Condition(function MT))
	call TriggerAddAction(Jt, function NT)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsYiZhan))
	call TriggerAddAction(t, function YiZhanChuanSong)
	//æŠ½è¡€æœ¯
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function ChouXie_Condition))
	call TriggerAddAction(t, function ChouXie_Action)
	
	// åˆå§‹åŒ–ä¼´ä¾£å±æ€§
	set uq=CreateTrigger()
	call TriggerRegisterTimerEventSingle(uq, .2)
	call TriggerAddAction(uq, function LO)
	// ç»“æˆä¼´ä¾£
	set vq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(vq, Condition(function NO))
	call TriggerAddAction(vq, function OO)
	// æ•´ç†ç‰©å“
	set xq=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(xq, 400.)
	call TriggerAddAction(xq, function TO)
	
	// åƒç»éªŒç¬¦
	set kr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(kr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(kr, Condition(function oQ))
	call TriggerAddAction(kr, function pQ)
	// è´­ä¹°ç­‰çº§
	set mr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(mr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(mr, Condition(function rQ))
	call TriggerAddAction(mr, function sQ)
	// æ–°æ‰‹å¤§ç¤¼åŒ…
	set nr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(nr, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(nr, Condition(function uQ))
	call TriggerAddAction(nr, function vQ)
	// è£…å¤‡æ‰“å­”
	set pr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(pr, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(pr, Condition(function xQ))
	call TriggerAddAction(pr, function yQ)
	// åŠ å…¥å‰¯èŒ
	set qr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(qr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(qr, Condition(function AQ))
	call TriggerAddAction(qr, function aQ)
	// ä¼ é€åˆ°é’Ÿå—å±±
	set tr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(tr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(tr, Condition(function GQ))
	call TriggerAddAction(tr, function HQ)
	// ä¼ é€åˆ°å°‘æ—å¯ºåå±±ï¼ˆ25çº§ï¼‰
	set ur=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ur, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ur, Condition(function lQ))
	call TriggerAddAction(ur, function JQ)
	// ä¼ é€åˆ°å¡å¤–
	set vr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(vr, Condition(function LQ))
	call TriggerAddAction(vr, function MQ)
	// ä¼ é€åˆ°å…‰æ˜é¡¶
	set wr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(wr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(wr, Condition(function OQ))
	call TriggerAddAction(wr, function PQ)
	// ä¼ é€åˆ°å°‘æ—å¯ºåå±±ï¼ˆ70çº§ï¼‰
	set xr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(xr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(xr, Condition(function RQ))
	call TriggerAddAction(xr, function SQ)
	// ä¼ é€åˆ°è¾¹ç–†
	set yr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(yr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(yr, Condition(function UQ))
	call TriggerAddAction(yr, function VQ)
	// å­¦ä¹ é—¨æ´¾å†…åŠŸ
	set br=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(br, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(br, Condition(function pR))
	call TriggerAddAction(br, function qR)
	// å­¦ä¹ æ…•å®¹æ´¾å†…åŠŸ
	set br=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(br, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(br, Condition(function IsMuRongNeiGong))
	call TriggerAddAction(br, function MuRongNeiGong)
	
	// åˆå§‹åŒ–å¤è‘£ä»·æ ¼åŒºé—´
	set rs=CreateTrigger()
	call TriggerRegisterTimerEventSingle(rs, .5)
	call TriggerAddAction(rs, function s5)
	// å¤è‘£ä»·æ ¼å˜åŠ¨
	set ss=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(ss, 200.)
	call TriggerAddAction(ss, function u5)
	// æŸ¥è¯¢å¤è‘£ä»·æ ¼
	set ts=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ts, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ts, Condition(function w5))
	call TriggerAddAction(ts, function x5)
	// å–å¤è‘£
	set us=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(us, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(us, Condition(function z5))
	call TriggerAddAction(us, function A5)
	set vs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(vs, Condition(function B5))
	call TriggerAddAction(vs, function b5)
	// æ”¶é›†å¤è‘£
	set vs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(vs, Condition(function CollectGuDong_Conditions))
	call TriggerAddAction(vs, function CollectGuDong_Actions)
	// è¿›å…¥å‰‘æ„ç³»ç»Ÿ
	set ws=CreateTrigger()
	call TriggerAddRect(ws , Sg)
	call TriggerAddCondition(ws, Condition(function c5))
	call TriggerAddAction(ws, function D5)
	// åˆæˆç‰©å“
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function HeCheng_Conditions))
	call TriggerAddAction(t, function HeCheng_Actions)
	// åˆæˆç‰©å“2
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function HeCheng2_Conditions))
	call TriggerAddAction(t, function HeCheng2_Actions)
	
	
	// è¾¾åˆ°ç¬¬å‡ å±‚ä¿®ä¸º
	set xs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(xs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(xs, Condition(function F5))
	call TriggerAddAction(xs, function G5)
	set ys=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ys, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ys, Condition(function I5))
	call TriggerAddAction(ys, function l5)
	set zs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(zs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(zs, Condition(function K5))
	call TriggerAddAction(zs, function L5)
	set As=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(As, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(As, Condition(function N5))
	call TriggerAddAction(As, function O5)
	set as=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(as, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(as, Condition(function Q5))
	call TriggerAddAction(as, function R5)
	// é¢†æ‚Ÿå‰‘æ„
	set Bs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Bs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Bs, Condition(function LingWuJY_Conditions))
	call TriggerAddAction(Bs, function LingWuJY)
	// é€‰æ‹©è½¬åŒ–å‰‘æ„
	set Cs=CreateTrigger()
	call TriggerRegisterDialogEvent(Cs, v8[1])
	call TriggerRegisterDialogEvent(Cs, v8[2])
	call TriggerRegisterDialogEvent(Cs, v8[3])
	call TriggerRegisterDialogEvent(Cs, v8[4])
	call TriggerRegisterDialogEvent(Cs, v8[5])
	call TriggerAddCondition(Cs, Condition(function ZhuanHuaJY_Conditions))
	call TriggerAddAction(Cs, function ZhuanHuaJY)
	// ä¹°é»„çº¸
	set cs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(cs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(cs, Condition(function MaiHuangZhi_Conditions))
	call TriggerAddAction(cs, function MaiHuangZhi)
	// çƒ§é»„çº¸
	set Ds=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ds, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Ds, Condition(function IsHuangZhi))
	call TriggerAddAction(Ds, function ShaoHuangZhi)
	// è·³åˆ°ç»“æ‹œå…„å¼Ÿ/å¤«å¦»å¤„
	set Es=CreateTrigger()
	call TriggerRegisterPlayerChatEvent(Es, Player(0), "~", true)
	call TriggerRegisterPlayerChatEvent(Es, Player(1), "~", true)
	call TriggerRegisterPlayerChatEvent(Es, Player(2), "~", true)
	call TriggerRegisterPlayerChatEvent(Es, Player(3), "~", true)
	call TriggerRegisterPlayerChatEvent(Es, Player(4), "~", true)
	call TriggerRegisterPlayerChatEvent(Es, Player(5), "~", true)
	call TriggerAddCondition(Es, Condition(function kT))
	call TriggerAddAction(Es, function mT)
	set t=CreateTrigger()
	call TriggerRegisterDialogEvent(t, udg_index)
	call TriggerAddAction(t, function ChooseMoShi_Action)
	// æŒ‘æˆ˜æ¨¡å¼å¼¹çª—
	set t=CreateTrigger()
	call TriggerRegisterDialogEvent(t, udg_tiaoZhan)
	call TriggerAddAction(t, function TiaoZhanMoshi_Action)
	set t=CreateTrigger()
	call TriggerRegisterDialogEvent(t, wuhun)
	call TriggerAddAction(t, function JiHuoCanZhang)
	set t=CreateTrigger()
	call TriggerRegisterDialogEvent(t, udg_nan)
	call TriggerAddAction(t, function ChooseNanDu_Action)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function IsJiDiBaoHu))
	call TriggerAddAction(t, function JiDiBaoHu)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function Trig_YunDaXianShenConditions))
	call TriggerAddAction(t, function Trig_YunDaXianShenActions)
	
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, udg_ZhengPaiWL, EVENT_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function JiDiAiDa_Conditions))
	call TriggerAddAction(t, function JiDiAiDa_Actions)
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, 1000.00)
	call TriggerAddAction(t, function MoJiaoJiuRen)
	
	// F2å›åŸ F3åŸå‰ F4åŸå
	set t=CreateTrigger()
	call TriggerRegisterPlayerSelectionEventBJ(t, Player(0), true)
	call TriggerRegisterPlayerSelectionEventBJ(t, Player(1), true)
	call TriggerRegisterPlayerSelectionEventBJ(t, Player(2), true)
	call TriggerRegisterPlayerSelectionEventBJ(t, Player(3), true)
	call TriggerRegisterPlayerSelectionEventBJ(t, Player(4), true)
	call TriggerAddCondition(t, Condition(function isF2TownPortal))
	call TriggerAddAction(t, function f2TownPortal)
	set t=null
endfunction
//----------------------------------------------
//æ¸¸æˆç»†èŠ‚å¤„ç†â€”â€”ä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹
// 1. ç”¨ç§»åŠ¨æ¨¡æ‹Ÿæ”»å‡»ã€å·¡é€»æ¨¡æ‹Ÿç§»åŠ¨ å¯¹åœ°é¢
//----------------------------------------------
function rx takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetOrderedUnit())) == MAP_CONTROL_USER ) and ( ( GetIssuedOrderId() == $D0012 ) or ( GetIssuedOrderId() == $D0016 ) ) )
endfunction
//ç”¨ç§»åŠ¨æ¨¡æ‹Ÿæ”»å‡»ã€å·¡é€»æ¨¡æ‹Ÿç§»åŠ¨ å¯¹åœ°é¢
function sx takes nothing returns nothing
	set udg_loc1=GetOrderPointLoc()
	if ( ( GetIssuedOrderId() == $D0012 ) ) then
		call IssuePointOrderByIdLoc(GetOrderedUnit(), $D000F, udg_loc1)
	else
		if ( ( GetIssuedOrderId() == $D0016 ) ) then
			call IssuePointOrderByIdLoc(GetOrderedUnit(), $D0012, udg_loc1)
		endif
	endif
	call RemoveLocation(udg_loc1)
endfunction
//å³é”®ç‚¹å‡»å·±æ–¹å•ä½
function uuxx takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetOrderedUnit())) == MAP_CONTROL_USER ) and ( IsPlayerAlly(GetOwningPlayer(GetOrderedUnit()), GetOwningPlayer(GetOrderTargetUnit())) ) and ( GetIssuedOrderId() == $D0003 ) )
endfunction
function vvxx takes nothing returns nothing
	set udg_loc1=GetUnitLoc(GetOrderTargetUnit())
	call IssuePointOrderByIdLoc(GetOrderedUnit(), $D0003, udg_loc1)
	call RemoveLocation(udg_loc1)
endfunction
//ç”¨ç§»åŠ¨æ¨¡æ‹Ÿæ”»å‡» å¯¹ç‚¹
function xx takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetOrderedUnit())) == MAP_CONTROL_USER ) and ( GetIssuedOrderId() == $D0012 ) )
endfunction
function yx takes nothing returns nothing
	call IssueTargetOrderById(GetOrderedUnit(), $D000F, GetOrderTargetUnit())
endfunction
//ä¼˜åŒ–é€Ÿåº¦åŠ å¿«
function Ax takes nothing returns nothing
	call Cheat("DooConV")
endfunction
//å‹æ–¹å•ä½AåŸºåœ°
function Ux takes nothing returns boolean
	return ( ( GetTriggerUnit() == udg_ZhengPaiWL ) and ( IsUnitAlly(GetAttacker(), Player(5)) ) )
endfunction
function Vx takes nothing returns nothing
	call IssueImmediateOrderById(GetAttacker(), $D0004)
endfunction
function ga takes nothing returns nothing
	call IssuePointOrderByIdLoc(GetEnumUnit(), $D000F, v7[4])
endfunction
function ha takes nothing returns nothing
	call ForGroup(w7, function ga)
endfunction
function GameDetail_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	//ç”¨ç§»åŠ¨æ¨¡æ‹Ÿæ”»å‡»ã€å·¡é€»æ¨¡æ‹Ÿç§»åŠ¨ å¯¹åœ°é¢
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
	call TriggerAddCondition(t, Condition(function rx))
	call TriggerAddAction(t, function sx)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
	call TriggerAddCondition(t, Condition(function uuxx))
	call TriggerAddAction(t, function vvxx)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
	call TriggerAddCondition(t, Condition(function xx))
	call TriggerAddAction(t, function yx)
	// å‹æ–¹å•ä½AåŸºåœ°
	set ei=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ei, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(ei, Condition(function Ux))
	call TriggerAddAction(ei, function Vx)
	// è®©æ€ªAåŸºåœ°
	set kj=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(kj, 5.)
	call TriggerAddAction(kj, function ha)
	// æ¸¸æˆä¼˜åŒ–
	set Qh=CreateTrigger()
	call TriggerRegisterTimerEventSingle(Qh, .0)
	call TriggerAddAction(Qh, function Ax)
	set t=null
endfunction
//---------------------------------
// æ­¦å™¨å’Œè£…å¤‡ç›¸å…³
	//é¸Ÿæ‹¿ä¸œè¥¿æ˜¾ç¤ºé™„åŠ å±æ€§
    //è‹±é›„æ‹¿ä¸œè¥¿æ˜¾ç¤ºé™„åŠ å±æ€§
    //è‹±é›„æ”¾ä¸‹ä¸œè¥¿æ˜¾ç¤ºå¤±å»é™„åŠ å±æ€§
    //è‹±é›„ç©¿ä¸Šè£…å¤‡
    //è‹±é›„è„±ä¸‹è£…å¤‡
	//åªèƒ½ç©¿ä¸€ä»¶è¡£æœæˆ–æ­¦å™¨çš„åˆ¤æ–­
	//é›†é½å¥—è£…
	//å¤±å»å¥—è£…
	//é•‡å¦–å‡çº§
	//é•¶åµŒå®çŸ³ç³»ç»Ÿ
	// æºå¸¦å…»å¾å‰‘ç ´é˜²
//---------------------------------
//é¸Ÿæ‹¿ä¸œè¥¿æ˜¾ç¤ºé™„åŠ å±æ€§
function Zy takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) == false ) and ( GetItemUserData(GetManipulatedItem()) > 0 ) ) // INLINED!!
endfunction
function dz takes nothing returns nothing
 local item it= GetManipulatedItem()
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer ii1= ModuloInteger(( GetItemUserData(it) / 100000000 ), 10)
 local integer ii2= ModuloInteger(( GetItemUserData(it) / 10000000 ), 10)
 local integer ii3= ModuloInteger(( GetItemUserData(it) / 1000000 ), 10)
 local integer ii4= ModuloInteger(( GetItemUserData(it) / 100000 ), 10)
 local integer ii5= ModuloInteger(( GetItemUserData(it) / 10000 ), 10)
 local integer ii6= ModuloInteger(( GetItemUserData(it) / 1000 ), 10)
 local integer ii7= ModuloInteger(( GetItemUserData(it) / 100 ), 10)
 local integer ii8= ModuloInteger(( GetItemUserData(it) / 10 ), 10)
 local integer ii9= ModuloInteger(( GetItemUserData(it) / 1 ), 10)
 local integer j= 0
 local integer l__l= 0
 local integer m= 0
 local integer n= 0
 local integer o= 0
	call DisplayTimedTextToPlayer(p, 0, 0, 15., GetItemName(it) + "|cff66cc33é™„åŠ å±æ€§ï¼š|r")
	if ( ii2 == 1 ) then
		set j=j + ii3 * 300
	elseif ( ii2 == 2 ) then
		set l__l=l__l + ii3 * 40
	elseif ( ii2 == 3 ) then
		set m=m + ii3 * 40
	elseif ( ii2 == 4 ) then
		set n=n + ii3 * 25
	elseif ( ii2 == 5 ) then
		set o=o + ii3 * 25
	endif
	if ( ii4 == 1 ) then
		set j=j + ii5 * 300
	elseif ( ii4 == 2 ) then
		set l__l=l__l + ii5 * 40
	elseif ( ii4 == 3 ) then
		set m=m + ii5 * 40
	elseif ( ii4 == 4 ) then
		set n=n + ii5 * 25
	elseif ( ii4 == 5 ) then
		set o=o + ii5 * 25
	endif
	if ( j > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ”»å‡»+" + I2S(j))
	endif
	if ( l__l > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffé˜²å¾¡+" + I2S(l__l))
	endif
	if ( m > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‹›å¼ä¼¤å®³+" + I2S(m))
	endif
	if ( n > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffå†…åŠ›+" + I2S(n))
	endif
	if ( o > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffçœŸå®ä¼¤å®³+" + I2S(o))
	endif
	call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffè£…å¤‡å‰©ä½™å‡¹æ§½ï¼š" + I2S(ii6))
	call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffé•¶åµŒæ•ˆæœï¼š")
	if ( ii7 == 1 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
		endif
	elseif ( ii7 == 2 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
		endif
	elseif ( ii7 == 3 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
		endif
	elseif ( ii7 == 4 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
		endif
	elseif ( ii7 == 5 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
		endif
	elseif ( ii7 == 6 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
		endif
	endif
	if ( ii8 == 1 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
		endif
	elseif ( ii8 == 2 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
		endif
	elseif ( ii8 == 3 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
		endif
	elseif ( ii8 == 4 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
		endif
	elseif ( ii8 == 5 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
		endif
	elseif ( ii8 == 6 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
		endif
	endif
	if ( ii9 == 1 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
		endif
	elseif ( ii9 == 2 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
		endif
	elseif ( ii9 == 3 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
		endif
	elseif ( ii9 == 4 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
		endif
	elseif ( ii9 == 5 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
		endif
	elseif ( ii9 == 6 ) then
		if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
		endif
	endif
	if ( ii1 == 1 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFF33ffffè·å¾—é’é¾™å¥—ä»¶")
	elseif ( ii1 == 2 ) then
		call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFF33ffffè·å¾—æœ±é›€å¥—ä»¶")
	elseif ( ii1 == 3 ) then
		call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFF33ffffè·å¾—ç„æ­¦å¥—ä»¶")
	elseif ( ii1 == 4 ) then
		call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFF33ffffè·å¾—ç™½è™å¥—ä»¶")
	endif
	set u=null
	set p=null
	set it=null
endfunction
//è‹±é›„æ‹¿ä¸Šä¸œè¥¿æ˜¾ç¤ºé™„åŠ å±æ€§
function fz takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function gz takes nothing returns nothing
 local item it= GetManipulatedItem()
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer ii1= ModuloInteger(( GetItemUserData(it) / 100000000 ), 10)
 local integer ii2= ModuloInteger(( GetItemUserData(it) / 10000000 ), 10)
 local integer ii3= ModuloInteger(( GetItemUserData(it) / 1000000 ), 10)
 local integer ii4= ModuloInteger(( GetItemUserData(it) / 100000 ), 10)
 local integer ii5= ModuloInteger(( GetItemUserData(it) / 10000 ), 10)
 local integer ii6= ModuloInteger(( GetItemUserData(it) / 1000 ), 10)
 local integer ii7= ModuloInteger(( GetItemUserData(it) / 100 ), 10)
 local integer ii8= ModuloInteger(( GetItemUserData(it) / 10 ), 10)
 local integer ii9= ModuloInteger(( GetItemUserData(it) / 1 ), 10)
 local integer j= 0
 local integer l__l= 0
 local integer m= 0
 local integer n= 0
 local integer o= 0
 local integer q= 0
	if ( GetItemUserData(it) > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., GetItemName(it) + "|cff66cc33è·å¾—é™„åŠ å±æ€§ï¼š|r")
		if ( ii2 == 1 ) then
			set j=j + ii3 * 300
		elseif ( ii2 == 2 ) then
			set l__l=l__l + ii3 * 40
		elseif ( ii2 == 3 ) then
			set m=m + ii3 * 40
		elseif ( ii2 == 4 ) then
			set n=n + ii3 * 25
		elseif ( ii2 == 5 ) then
			set o=o + ii3 * 25
		endif
		if ( ii4 == 1 ) then
			set j=j + ii5 * 300
		elseif ( ii4 == 2 ) then
			set l__l=l__l + ii5 * 40
		elseif ( ii4 == 3 ) then
			set m=m + ii5 * 40
		elseif ( ii4 == 4 ) then
			set n=n + ii5 * 25
		elseif ( ii4 == 5 ) then
			set o=o + ii5 * 25
		endif
		if ( j > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ”»å‡»+" + I2S(j))
			call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 0 , j)
		endif
		if ( l__l > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffé˜²å¾¡+" + I2S(l__l))
			call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , l__l)
		endif
		if ( m > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‹›å¼ä¼¤å®³+" + I2S(m))
			call ModifyHeroStat(0, u, 0, m)
		endif
		if ( n > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffå†…åŠ›+" + I2S(n))
			call ModifyHeroStat(1, u, 0, n)
		endif
		if ( o > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffçœŸå®ä¼¤å®³+" + I2S(o))
			call ModifyHeroStat(2, u, 0, o)
		endif
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffè£…å¤‡å‰©ä½™å‡¹æ§½ï¼š" + I2S(ii6))
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffé•¶åµŒæ•ˆæœï¼š")
		if ( ii7 == 1 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
				set gengu[i]=gengu[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
				set gengu[i]=gengu[i] + 3
			endif
		elseif ( ii7 == 2 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
				set wuxing[i]=wuxing[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
				set wuxing[i]=wuxing[i] + 3
			endif
		elseif ( ii7 == 3 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
				set jingmai[i]=jingmai[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
				set jingmai[i]=jingmai[i] + 3
			endif
		elseif ( ii7 == 4 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
				set fuyuan[i]=fuyuan[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
				set fuyuan[i]=fuyuan[i] + 3
			endif
		elseif ( ii7 == 5 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
				set danpo[i]=danpo[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
				set danpo[i]=danpo[i] + 3
			endif
		elseif ( ii7 == 6 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
				set yishu[i]=yishu[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
				set yishu[i]=yishu[i] + 3
			endif
		endif
		if ( ii8 == 1 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
				set gengu[i]=gengu[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
				set gengu[i]=gengu[i] + 3
			endif
		elseif ( ii8 == 2 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
				set wuxing[i]=wuxing[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
				set wuxing[i]=wuxing[i] + 3
			endif
		elseif ( ii8 == 3 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
				set jingmai[i]=jingmai[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
				set jingmai[i]=jingmai[i] + 3
			endif
		elseif ( ii8 == 4 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
				set fuyuan[i]=fuyuan[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
				set fuyuan[i]=fuyuan[i] + 3
			endif
		elseif ( ii8 == 5 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
				set danpo[i]=danpo[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
				set danpo[i]=danpo[i] + 3
			endif
		elseif ( ii8 == 6 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
				set yishu[i]=yishu[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
				set yishu[i]=yishu[i] + 3
			endif
		endif
		if ( ii9 == 1 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
				set gengu[i]=gengu[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
				set gengu[i]=gengu[i] + 3
			endif
		elseif ( ii9 == 2 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
				set wuxing[i]=wuxing[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
				set wuxing[i]=wuxing[i] + 3
			endif
		elseif ( ii9 == 3 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
				set jingmai[i]=jingmai[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
				set jingmai[i]=jingmai[i] + 3
			endif
		elseif ( ii9 == 4 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
				set fuyuan[i]=fuyuan[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
				set fuyuan[i]=fuyuan[i] + 3
			endif
		elseif ( ii9 == 5 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
				set danpo[i]=danpo[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
				set danpo[i]=danpo[i] + 3
			endif
		elseif ( ii9 == 6 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
				set yishu[i]=yishu[i] + 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
				set yishu[i]=yishu[i] + 3
			endif
		endif
		if ( ii1 == 1 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFF33ffffè·å¾—é’é¾™å¥—ä»¶")
		elseif ( ii1 == 2 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFF33ffffè·å¾—æœ±é›€å¥—ä»¶")
		elseif ( ii1 == 3 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFF33ffffè·å¾—ç„æ­¦å¥—ä»¶")
		elseif ( ii1 == 4 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFF33ffffè·å¾—ç™½è™å¥—ä»¶")
		endif
		set k7=1
		loop
		exitwhen k7 > 6
		if ( GetItemUserData(UnitItemInSlotBJ(u, k7)) / $5F5E100 == ii1 and UnitItemInSlotBJ(u, k7) != GetManipulatedItem() ) then
			set q=q + 1
		endif
		set k7=k7 + 1
		endloop
		if ( q == 2 ) then
			if ( ii1 == 1 ) then
				call ModifyHeroStat(0, u, 0, $C8)
				set juexuelingwu[i]=( juexuelingwu[i] + 1 )
				set udg_baojilv[i]=( udg_baojilv[i] + .04 )
				call UnitAddAbility(u, 1093677106)
				call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 0 , 1000)
				set gengu[i]=( gengu[i] + 2 )
				set wuxing[i]=( wuxing[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF6600é›†é½é’é¾™å¥—è£…ï¼š")
				call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffâ€•â€•â€•â€•â€•â€•â€•â€•â€•â€•")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ‹›å¼ä¼¤å®³+200")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç»å­¦é¢†æ‚ŸåŠ›+1")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæš´å‡»ç‡+4%")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ”»å‡»é€Ÿåº¦+50%")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ”»å‡»+1000")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ ¹éª¨+2")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ‚Ÿæ€§+1")
			elseif ( ii1 == 2 ) then
				call ModifyHeroStat(1, u, 0, $96)
				set juexuelingwu[i]=( juexuelingwu[i] + 1 )
				set udg_baojishanghai[i]=( udg_baojishanghai[i] + .5 )
				set shaguaihufui[i]=( shaguaihufui[i] + 1000. )
				call UnitAddAbility(u, 1093677107)
				set yishu[i]=( yishu[i] + 1 )
				set jingmai[i]=( jingmai[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF6600é›†é½æœ±é›€å¥—è£…ï¼š")
				call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffâ€•â€•â€•â€•â€•â€•â€•â€•â€•â€•")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå†…åŠ›+150")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç»å­¦é¢†æ‚ŸåŠ›+1")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæš´å‡»ä¼¤å®³+50%")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ€æ€ªå›å¤+1000")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ³•æœ¯å›å¤+10")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFåŒ»æœ¯+1")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç»è„‰+2")
			elseif ( ii1 == 3 ) then
				call ModifyHeroStat(0, u, 0, $96)
				set juexuelingwu[i]=( juexuelingwu[i] + 1 )
				call UnitAddAbility(u, 1093677108)
				call UnitAddAbility(u, 1093677109)
				call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , $C8)
				set wuxing[i]=( wuxing[i] + 2 )
				set danpo[i]=( danpo[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF6600é›†é½ç„æ­¦å¥—è£…ï¼š")
				call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffâ€•â€•â€•â€•â€•â€•â€•â€•â€•â€•")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ‹›å¼ä¼¤å®³+150")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç»å­¦é¢†æ‚ŸåŠ›+1")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ°”è¡€+30000")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ°”è¡€å›å¤+600")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFé˜²å¾¡+200")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ‚Ÿæ€§+2")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFèƒ†é­„+1")
			elseif ( ii1 == 4 ) then
				call ModifyHeroStat(1, u, 0, $C8)
				call ModifyHeroStat(2, u, 0, 100)
				call UnitAddAbility(u, 1093677110)
				set juexuelingwu[i]=( juexuelingwu[i] + 2 )
				set fuyuan[i]=( fuyuan[i] + 2 )
				set danpo[i]=( danpo[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF6600é›†é½ç™½è™å¥—è£…ï¼š")
				call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffâ€•â€•â€•â€•â€•â€•â€•â€•â€•â€•")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå†…åŠ›+200")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç»å­¦é¢†æ‚ŸåŠ›+2")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFçœŸå®ä¼¤å®³+100")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç§»åŠ¨é€Ÿåº¦æœ€å¤§åŒ–")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç¦ç¼˜+2")
				call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFèƒ†é­„+1")
			endif
		else
			if ( ii1 == 1 ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF33ffffè·å¾—é’é¾™å¥—ä»¶ï¼Œï¼ˆå·²æ”¶é›†åˆ°" + ( I2S(q + 1) ) + "ä»¶ï¼‰" ))
			elseif ( ii1 == 2 ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF33ffffè·å¾—æœ±é›€å¥—ä»¶ï¼Œï¼ˆå·²æ”¶é›†åˆ°" + ( I2S(q + 1) ) + "ä»¶ï¼‰" ))
			elseif ( ii1 == 3 ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF33ffffè·å¾—ç„æ­¦å¥—ä»¶ï¼Œï¼ˆå·²æ”¶é›†åˆ°" + ( I2S(q + 1) ) + "ä»¶ï¼‰" ))
			elseif ( ii1 == 4 ) then
				call DisplayTextToPlayer(p, 0, 0, ( "|cFF33ffffè·å¾—ç™½è™å¥—ä»¶ï¼Œï¼ˆå·²æ”¶é›†åˆ°" + ( I2S(q + 1) ) + "ä»¶ï¼‰" ))
			endif
		endif
	endif
	set u=null
	set p=null
	set it=null
endfunction
function iz takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function jz takes nothing returns nothing
 local item it= GetManipulatedItem()
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer ii1= ModuloInteger(( GetItemUserData(it) / 100000000 ), 10)
 local integer ii2= ModuloInteger(( GetItemUserData(it) / 10000000 ), 10)
 local integer ii3= ModuloInteger(( GetItemUserData(it) / 1000000 ), 10)
 local integer ii4= ModuloInteger(( GetItemUserData(it) / 100000 ), 10)
 local integer ii5= ModuloInteger(( GetItemUserData(it) / 10000 ), 10)
 local integer ii6= ModuloInteger(( GetItemUserData(it) / 1000 ), 10)
 local integer ii7= ModuloInteger(( GetItemUserData(it) / 100 ), 10)
 local integer ii8= ModuloInteger(( GetItemUserData(it) / 10 ), 10)
 local integer ii9= ModuloInteger(( GetItemUserData(it) / 1 ), 10)
 local integer i= 1 + GetPlayerId(p)
 local integer j= 0
 local integer l__l= 0
 local integer m= 0
 local integer n= 0
 local integer o= 0
 local integer q= 0
	if ( GetItemUserData(it) > 0 ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 15., GetItemName(it) + "|cff66cc33å¤±å»é™„åŠ å±æ€§ï¼š|r")
		if ( ii2 == 1 ) then
			set j=j + ii3 * 300
		elseif ( ii2 == 2 ) then
			set l__l=l__l + ii3 * 40
		elseif ( ii2 == 3 ) then
			set m=m + ii3 * 40
		elseif ( ii2 == 4 ) then
			set n=n + ii3 * 25
		elseif ( ii2 == 5 ) then
			set o=o + ii3 * 25
		endif
		if ( ii4 == 1 ) then
			set j=j + ii5 * 300
		elseif ( ii4 == 2 ) then
			set l__l=l__l + ii5 * 40
		elseif ( ii4 == 3 ) then
			set m=m + ii5 * 40
		elseif ( ii4 == 4 ) then
			set n=n + ii5 * 25
		elseif ( ii4 == 5 ) then
			set o=o + ii5 * 25
		endif
		if ( j > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ”»å‡»+" + I2S(j))
			call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 1 , j)
		endif
		if ( l__l > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffé˜²å¾¡+" + I2S(l__l))
			call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 1 , l__l)
		endif
		if ( m > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‹›å¼ä¼¤å®³+" + I2S(m))
			call ModifyHeroStat(0, u, 1, m)
		endif
		if ( n > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffå†…åŠ›+" + I2S(n))
			call ModifyHeroStat(1, u, 1, n)
		endif
		if ( o > 0 ) then
			call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffçœŸå®ä¼¤å®³+" + I2S(o))
			call ModifyHeroStat(2, u, 1, o)
		endif
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffè£…å¤‡å‰©ä½™å‡¹æ§½ï¼š" + I2S(ii6))
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffé•¶åµŒæ•ˆæœï¼š")
		if ( ii7 == 1 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
				set gengu[i]=gengu[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
				set gengu[i]=gengu[i] - 3
			endif
		elseif ( ii7 == 2 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
				set wuxing[i]=wuxing[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
				set wuxing[i]=wuxing[i] - 3
			endif
		elseif ( ii7 == 3 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
				set jingmai[i]=jingmai[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
				set jingmai[i]=jingmai[i] - 3
			endif
		elseif ( ii7 == 4 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
				set fuyuan[i]=fuyuan[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
				set fuyuan[i]=fuyuan[i] - 3
			endif
		elseif ( ii7 == 5 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
				set danpo[i]=danpo[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
				set danpo[i]=danpo[i] - 3
			endif
		elseif ( ii7 == 6 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
				set yishu[i]=yishu[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
				set yishu[i]=yishu[i] - 3
			endif
		endif
		if ( ii8 == 1 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
				set gengu[i]=gengu[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
				set gengu[i]=gengu[i] - 3
			endif
		elseif ( ii8 == 2 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
				set wuxing[i]=wuxing[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
				set wuxing[i]=wuxing[i] - 3
			endif
		elseif ( ii8 == 3 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
				set jingmai[i]=jingmai[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
				set jingmai[i]=jingmai[i] - 3
			endif
		elseif ( ii8 == 4 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
				set fuyuan[i]=fuyuan[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
				set fuyuan[i]=fuyuan[i] - 3
			endif
		elseif ( ii8 == 5 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
				set danpo[i]=danpo[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
				set danpo[i]=danpo[i] - 3
			endif
		elseif ( ii8 == 6 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
				set yishu[i]=yishu[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
				set yishu[i]=yishu[i] - 3
			endif
		endif
		if ( ii9 == 1 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+1")
				set gengu[i]=gengu[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ ¹éª¨+3")
				set gengu[i]=gengu[i] - 3
			endif
		elseif ( ii9 == 2 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+1")
				set wuxing[i]=wuxing[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffæ‚Ÿæ€§+3")
				set wuxing[i]=wuxing[i] - 3
			endif
		elseif ( ii9 == 3 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+1")
				set jingmai[i]=jingmai[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç»è„‰+3")
				set jingmai[i]=jingmai[i] - 3
			endif
		elseif ( ii9 == 4 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+1")
				set fuyuan[i]=fuyuan[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffç¦ç¼˜+3")
				set fuyuan[i]=fuyuan[i] - 3
			endif
		elseif ( ii9 == 5 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+1")
				set danpo[i]=danpo[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffèƒ†é­„+3")
				set danpo[i]=danpo[i] - 3
			endif
		elseif ( ii9 == 6 ) then
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+1")
				set yishu[i]=yishu[i] - 1
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 15., "|cFFff66ffåŒ»æœ¯+3")
				set yishu[i]=yishu[i] - 3
			endif
		endif
		set k7=1
		loop
			exitwhen k7 > 6
			if ( GetItemUserData(UnitItemInSlotBJ(u, k7)) / $5F5E100 == ii1 and UnitItemInSlotBJ(u, k7) != GetManipulatedItem() ) then
				set q=q + 1
			endif
			set k7=k7 + 1
		endloop
		if ( q == 2 ) then
			if ( ii1 == 1 ) then
				call ModifyHeroStat(0, u, 1, $C8)
				set juexuelingwu[i]=( juexuelingwu[i] - 1 )
				set udg_baojilv[i]=( udg_baojilv[i] - .04 )
				call UnitRemoveAbility(u, 1093677106)
				call YDWEGeneralBounsSystemUnitSetBonus(u , 3 , 1 , 1000)
				set gengu[i]=( gengu[i] - 2 )
				set wuxing[i]=( wuxing[i] - 1 )
				call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF0000å¤±å»é’é¾™å¥—è£…")
			elseif ( ii1 == 2 ) then
				call ModifyHeroStat(1, u, 1, $96)
				set juexuelingwu[i]=( juexuelingwu[i] - 1 )
				set udg_baojishanghai[i]=( udg_baojishanghai[i] - .5 )
				set shaguaihufui[i]=( shaguaihufui[i] - 1000. )
				call UnitRemoveAbility(u, 1093677107)
				set yishu[i]=( yishu[i] - 1 )
				set jingmai[i]=( jingmai[i] - 2 )
				call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF0000å¤±å»æœ±é›€å¥—è£…")
			elseif ( ii1 == 3 ) then
				call ModifyHeroStat(0, u, 1, $96)
				set juexuelingwu[i]=( juexuelingwu[i] - 1 )
				call UnitRemoveAbility(u, 1093677108)
				call UnitRemoveAbility(u, 1093677109)
				call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 1 , $C8)
				set wuxing[i]=( wuxing[i] - 2 )
				set danpo[i]=( danpo[i] - 1 )
				call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF0000å¤±å»ç„æ­¦å¥—è£…")
			elseif ( ii1 == 4 ) then
				call ModifyHeroStat(1, u, 1, $C8)
				call ModifyHeroStat(2, u, 1, 100)
				call UnitRemoveAbility(u, 1093677110)
				set juexuelingwu[i]=( juexuelingwu[i] - 2 )
				set fuyuan[i]=( fuyuan[i] - 2 )
				set danpo[i]=( danpo[i] - 1 )
				call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cFFFF0000å¤±å»ç™½è™å¥—è£…")
			endif
		endif
	endif
	set u=null
	set p=null
	set it=null
endfunction
//ç©¿ä¸Šè£…å¤‡
function mz takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT ) or ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PURCHASABLE ) or ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_CHARGED ) ) ) // INLINED!!
endfunction
function nz takes nothing returns nothing
 local integer i=( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )
 local integer id=GetItemTypeId(GetManipulatedItem())
 local integer j= 1
	loop
		exitwhen j >= 30
		if id == s__ShopWeapon_id[shopweapon[j]] then //åœ¨smelt_weaponé‡Œ
call sc__ShopWeapon_PickUpWeapon(shopweapon[j],GetTriggerUnit() , GetManipulatedItem())
			exitwhen true
		endif
		set j=j + 1
	endloop
	call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 3 , 0 , R2I(LoadReal(YDHT, id, StringHash("æ”»å‡»åŠ›"))))
	call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 0 , R2I(LoadReal(YDHT, id, StringHash("é˜²å¾¡"))))
	call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 1 , 0 , R2I(LoadReal(YDHT, id, StringHash("æ³•åŠ›ä¸Šé™"))))
	call ModifyHeroStat(0, GetTriggerUnit(), 0, R2I(LoadReal(YDHT, id, StringHash("æ‹›å¼ä¼¤å®³"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ‹›å¼ä¼¤å®³"))))
	call ModifyHeroStat(1, GetTriggerUnit(), 0, R2I(LoadReal(YDHT, id, StringHash("å†…åŠ›"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("å†…åŠ›"))))
	call ModifyHeroStat(2, GetTriggerUnit(), 0, R2I(LoadReal(YDHT, id, StringHash("çœŸå®ä¼¤å®³"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("çœŸå®ä¼¤å®³"))))
	set udg_baojishanghai[i]=( udg_baojishanghai[i] + LoadReal(YDHT, id, StringHash("æš´å‡»ä¼¤å®³")) + LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æš´å‡»ä¼¤å®³")) )
	set udg_baojilv[i]=( udg_baojilv[i] + LoadReal(YDHT, id, StringHash("æš´å‡»ç‡")) + LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æš´å‡»ç‡")) )
	set juexuelingwu[i]=juexuelingwu[i] + R2I(LoadReal(YDHT, id, StringHash("ç»å­¦é¢†æ‚Ÿ"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç»å­¦é¢†æ‚Ÿ")))
	set gengu[i]=gengu[i] + R2I(LoadReal(YDHT, id, StringHash("æ ¹éª¨"))) + R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ ¹éª¨")))
	set danpo[i]=danpo[i] + R2I(LoadReal(YDHT, id, StringHash("èƒ†é­„"))) + R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("èƒ†é­„")))
	set wuxing[i]=wuxing[i] + R2I(LoadReal(YDHT, id, StringHash("æ‚Ÿæ€§"))) + R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ‚Ÿæ€§")))
	set yishu[i]=yishu[i] + R2I(LoadReal(YDHT, id, StringHash("åŒ»æœ¯"))) + R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("åŒ»æœ¯")))
	set jingmai[i]=jingmai[i] + R2I(LoadReal(YDHT, id, StringHash("ç»è„‰"))) + R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç»è„‰")))
	set fuyuan[i]=fuyuan[i] + R2I(LoadReal(YDHT, id, StringHash("ç¦ç¼˜"))) + R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç¦ç¼˜")))
	set shanghaihuifu[i]=shanghaihuifu[i] + LoadReal(YDHT, id, StringHash("ä¼¤å®³å›å¤")) + LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ä¼¤å®³å›å¤"))
	set shaguaihufui[i]=shaguaihufui[i] + LoadReal(YDHT, id, StringHash("æ€æ€ªå›å¤")) + LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ€æ€ªå›å¤"))
	set shengminghuifu[i]=shengminghuifu[i] + LoadReal(YDHT, id, StringHash("ç”Ÿå‘½å›å¤")) + LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç”Ÿå‘½å›å¤"))
	set falihuifu[i]=falihuifu[i] + LoadReal(YDHT, id, StringHash("æ³•åŠ›å›å¤")) + LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ³•åŠ›å›å¤"))
	set special_attack[i]=special_attack[i] + R2I(LoadReal(YDHT, id, StringHash("ç‰¹æ®Šæ”»å‡»"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç‰¹æ®Šæ”»å‡»")))
endfunction
//è„±ä¸‹è£…å¤‡
function pz takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT ) or ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PURCHASABLE ) or ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_CHARGED ) ) ) // INLINED!!
endfunction
function qz takes nothing returns nothing
 local integer i=( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )
 local integer id=GetItemTypeId(GetManipulatedItem())
	call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 3 , 1 , R2I(LoadReal(YDHT, id, StringHash("æ”»å‡»åŠ›"))))
	call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 1 , R2I(LoadReal(YDHT, id, StringHash("é˜²å¾¡"))))
	call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 1 , 1 , R2I(LoadReal(YDHT, id, StringHash("æ³•åŠ›ä¸Šé™"))))
	call ModifyHeroStat(0, GetTriggerUnit(), 1, R2I(LoadReal(YDHT, id, StringHash("æ‹›å¼ä¼¤å®³"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ‹›å¼ä¼¤å®³"))))
	call ModifyHeroStat(1, GetTriggerUnit(), 1, R2I(LoadReal(YDHT, id, StringHash("å†…åŠ›"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("å†…åŠ›"))))
	call ModifyHeroStat(2, GetTriggerUnit(), 1, R2I(LoadReal(YDHT, id, StringHash("çœŸå®ä¼¤å®³"))) + R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("çœŸå®ä¼¤å®³"))))
	set udg_baojishanghai[i]=( udg_baojishanghai[i] - LoadReal(YDHT, id, StringHash("æš´å‡»ä¼¤å®³")) - LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æš´å‡»ä¼¤å®³")) )
	set udg_baojilv[i]=( udg_baojilv[i] - LoadReal(YDHT, id, StringHash("æš´å‡»ç‡")) - LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æš´å‡»ç‡")) )
	set juexuelingwu[i]=juexuelingwu[i] - R2I(LoadReal(YDHT, id, StringHash("ç»å­¦é¢†æ‚Ÿ"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç»å­¦é¢†æ‚Ÿ")))
	set gengu[i]=gengu[i] - R2I(LoadReal(YDHT, id, StringHash("æ ¹éª¨"))) - R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ ¹éª¨")))
	set danpo[i]=danpo[i] - R2I(LoadReal(YDHT, id, StringHash("èƒ†é­„"))) - R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("èƒ†é­„")))
	set wuxing[i]=wuxing[i] - R2I(LoadReal(YDHT, id, StringHash("æ‚Ÿæ€§"))) - R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ‚Ÿæ€§")))
	set yishu[i]=yishu[i] - R2I(LoadReal(YDHT, id, StringHash("åŒ»æœ¯"))) - R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("åŒ»æœ¯")))
	set jingmai[i]=jingmai[i] - R2I(LoadReal(YDHT, id, StringHash("ç»è„‰"))) - R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç»è„‰")))
	set fuyuan[i]=fuyuan[i] - R2I(LoadReal(YDHT, id, StringHash("ç¦ç¼˜"))) - R2I(LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç¦ç¼˜")))
	set shanghaihuifu[i]=shanghaihuifu[i] - LoadReal(YDHT, id, StringHash("ä¼¤å®³å›å¤")) - LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ä¼¤å®³å›å¤"))
	set shaguaihufui[i]=shaguaihufui[i] - LoadReal(YDHT, id, StringHash("æ€æ€ªå›å¤")) - LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ€æ€ªå›å¤"))
	set shengminghuifu[i]=shengminghuifu[i] - LoadReal(YDHT, id, StringHash("ç”Ÿå‘½å›å¤")) - LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç”Ÿå‘½å›å¤"))
	set falihuifu[i]=falihuifu[i] - LoadReal(YDHT, id, StringHash("æ³•åŠ›å›å¤")) - LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("æ³•åŠ›å›å¤"))
	set special_attack[i]=special_attack[i] - R2I(LoadReal(YDHT, id, StringHash("ç‰¹æ®Šæ”»å‡»"))) - R2I(LoadReal(YDHT, GetHandleId(GetManipulatedItem()), StringHash("ç‰¹æ®Šæ”»å‡»")))
endfunction
//æ±Ÿæ¹–å¿ 
function UnitHaveJueZhanBa takes nothing returns boolean
	return ( ( UnitHaveItem(GetAttacker() , 'I08V') ) )
endfunction
function JueZhanBaXiaoGuo takes nothing returns nothing
 local unit u= GetTriggerUnit()
	if ( ( ModuloInteger(GetUnitPointValue(u), 100) == 0 ) ) then
		call percentDamage(u , 5 , true)
	else
		call percentDamage(u , 1 , true)
	endif
	set u=null
endfunction
//å†³æˆ˜éœ¸
function UnitHaveJiangHuZhong takes nothing returns boolean
	return ( ( UnitHaveItem(GetTriggerUnit() , 'I090') ) )
endfunction
function JiangHuZhongXiaoGuo takes nothing returns nothing
local unit u= GetAttacker()
	if ( ( ModuloInteger(GetUnitPointValue(u), 100) == 0 ) ) then
		call percentDamage(u , 5 , true)
	else
		call percentDamage(u , 1 , true)
	endif
	set u=null
endfunction
// å…»å¾å‰‘è‡ªå¸¦ç ´ç”²æ•ˆæœ
function UnitHaveYangWuJian takes nothing returns boolean
	return ( ( UnitHaveItem(GetAttacker() , 'I0E0') ) )
endfunction
function YangWuJianXiaoGuo takes nothing returns nothing
 local unit u= GetAttacker()
 local unit uc= GetTriggerUnit()
	call WanBuff(u , uc , 9)
	set u=null
	set uc=null
endfunction
//ç©¿æ­¦å™¨æˆ–è¡£æœ
function Mz takes nothing returns boolean
	return ( ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT ) or GetItemTypeId(GetManipulatedItem()) == 'I0DB' or GetItemTypeId(GetManipulatedItem()) == 'I0DJ' or GetItemTypeId(GetManipulatedItem()) == 'I0DL' or ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PURCHASABLE ) ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function ItemChongFu takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer newbee_counter= 0
	set E8=1
	set udg_wuqishu[i]=0
	set udg_yifushu[i]=0
	loop
		exitwhen E8 > 6
		if ( GetItemTypeId(UnitItemInSlotBJ(u, E8)) == 'I0DB' or GetItemTypeId(UnitItemInSlotBJ(u, E8)) == 'I0DJ' or GetItemTypeId(UnitItemInSlotBJ(u, E8)) == 'I0DL' ) then
		    set newbee_counter=newbee_counter + 1
		    if newbee_counter >= 2 then
                call UnitRemoveItem(u, GetManipulatedItem())
                call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000æœ€å¤šåªèƒ½æºå¸¦ä¸€ä»¶æ–°æ‰‹ç¥å™¨")
                exitwhen true
            endif
        else
            if ( GetItemType(UnitItemInSlotBJ(u, E8)) == ITEM_TYPE_ARTIFACT ) then
                set udg_wuqishu[i]=udg_wuqishu[i] + 1
            endif
            if ( GetItemType(UnitItemInSlotBJ(u, E8)) == ITEM_TYPE_PURCHASABLE ) then
                set udg_yifushu[i]=udg_yifushu[i] + 1
            endif
            if ( GetItemType(UnitItemInSlotBJ(u, E8)) == ITEM_TYPE_ARTIFACT or GetItemType(UnitItemInSlotBJ(u, E8)) == ITEM_TYPE_PURCHASABLE ) then
                if ( ( GetItemType(UnitItemInSlotBJ(u, E8)) == GetItemType(GetManipulatedItem()) ) and ( UnitItemInSlotBJ(u, E8) != GetManipulatedItem() ) and not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) and not isTitle(i , 11) ) then // INLINED!!
                    call UnitRemoveItemSwapped(UnitItemInSlotBJ(u, E8), u)
                    call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000éä¸«é¬Ÿè§’è‰²æœ€å¤šåªèƒ½æºå¸¦ä¸€ä»¶æ­¦å™¨å’Œè¡£æœ")
                endif
            endif
		endif
		set E8=E8 + 1
	endloop
	if ( (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) or isTitle(i , 11) ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) then // INLINED!!
		if GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT and udg_wuqishu[i] >= 3 then
			call UnitRemoveItemSwapped(GetManipulatedItem(), u)
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000ä¸«é¬Ÿæœ€å¤šåªèƒ½æºå¸¦ä¸¤ä»¶æ­¦å™¨")
		endif
		if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PURCHASABLE and udg_yifushu[i] >= 3 then
			call UnitRemoveItemSwapped(GetManipulatedItem(), u)
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000ä¸«é¬Ÿæœ€å¤šåªèƒ½ç©¿ä¸¤ä»¶è¡£æœ")
		endif
	endif
	set u=null
	set p=null
endfunction
//-------å¥—è£…ç³»ç»Ÿå¼€å§‹--------
function Pz takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( ( GetItemLevel(GetManipulatedItem()) == 1 ) or ( GetItemLevel(GetManipulatedItem()) == 3 ) or ( GetItemLevel(GetManipulatedItem()) == 6 ) ) ) // INLINED!!
endfunction
function Qz takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( F8[i] == false ) and ( UnitHaveItem(u , 'I01L') ) and ( UnitHaveItem(u , 'I01M') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»ç²¾é’¢å¥—è£…â€»|R\n|CFFB2FF00æ‹›å¼ä¼¤å®³+150\næš´å‡»ç‡+4%\næš´å‡»ä¼¤å®³+30%\næ€æ€ªå›å¤+500\næ ¹éª¨+1\nèƒ†é­„+1\nç‰¹æ®Šæ”»å‡»+15|R")
		set F8[i]=true
		call ModifyHeroStat(0, u, 0, $96)
		set udg_baojilv[i]=( udg_baojilv[i] + .04 )
		set udg_baojishanghai[i]=( udg_baojishanghai[i] + .3 )
		set shaguaihufui[i]=( shaguaihufui[i] + 500. )
		set gengu[i]=( gengu[i] + 1 )
		set danpo[i]=( danpo[i] + 1 )
		set special_attack[i]=special_attack[i] + 15
	endif
	if ( ( XNKL[i] == false ) and ( UnitHaveItem(u , 'I0A8') ) and ( UnitHaveItem(u , 'I0A9') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»æ–°å¹´å¿«ä¹å¥—è£…â€»|R\n|CFFB2FF00å…¨å±æ€§+1000\nå…¨æ€§æ ¼å±æ€§+5\nç‰¹æ®Šæ”»å‡»+15|R")
		set XNKL[i]=true
		call ModifyHeroStat(0, u, 0, 1000)
		call ModifyHeroStat(1, u, 0, 1000)
		call ModifyHeroStat(2, u, 0, 1000)
		set jingmai[i]=( jingmai[i] + 5 )
		set fuyuan[i]=( fuyuan[i] + 5 )
		set wuxing[i]=( wuxing[i] + 5 )
		set yishu[i]=( yishu[i] + 5 )
		set gengu[i]=( gengu[i] + 5 )
		set danpo[i]=( danpo[i] + 5 )
		set special_attack[i]=special_attack[i] + 15
	endif
	// å¼ æ— å¿Œæ€çŒªåˆ€I0CI,éƒ­é–ç¯æˆ’I0CHï¼Œä¹”å³°è‰é‹I0DOï¼Œåˆæˆå¤§ä¾ å¥—è£…ï¼šå…¨å±æ€§+1ï¼Œä¸‰å›´+50
	if ( ( daxia[i] == false ) and ( UnitHaveItem(u , 'I0CI') ) and ( UnitHaveItem(u , 'I0CH') ) and ( UnitHaveItem(u , 'I0DO') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»å¤§ä¾ å¥—è£…â€»|R\n|CFFB2FF00å…¨å±æ€§+50\nå…¨æ€§æ ¼å±æ€§+1\nç‰¹æ®Šæ”»å‡»+10|R")
		set daxia[i]=true
		call ModifyHeroStat(0, u, 0, 50)
		call ModifyHeroStat(1, u, 0, 50)
		call ModifyHeroStat(2, u, 0, 50)
		set jingmai[i]=( jingmai[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 1 )
		set wuxing[i]=( wuxing[i] + 1 )
		set yishu[i]=( yishu[i] + 1 )
		set gengu[i]=( gengu[i] + 1 )
		set danpo[i]=( danpo[i] + 1 )
		set special_attack[i]=special_attack[i] + 10
	endif
	if ( ( H8[i] == false ) and ( UnitHaveItem(u , 1227895118) ) and ( UnitHaveItem(u , 1227895119) ) and ( UnitHaveItem(u , 1227895120) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»ä¸ƒæ˜Ÿå¥—è£…â€»|R\n|CFFB2FF00æ‹›å¼ä¼¤å®³+200\né­”æ³•ä¸Šé™+15\næ³•åŠ›æ¢å¤+5\næ°”è¡€+10000\næ¯ç§’æ¢å¤+130\nåŒ»æœ¯+1\næ‚Ÿæ€§+1\nç‰¹æ®Šæ”»å‡»+18|R")
		set H8[i]=true
		call ModifyHeroStat(0, u, 0, $C8)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 1 , 0 , 15)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 0 , $2710)
		call UnitAddAbility(u, 1093678424)
		call UnitAddAbility(u, 1093678425)
		set wuxing[i]=( wuxing[i] + 1 )
		set yishu[i]=( yishu[i] + 1 )
		set special_attack[i]=special_attack[i] + 18
	endif
	if ( ( I8[i] == false ) and ( UnitHaveItem(u , 'I01Q') ) and ( UnitHaveItem(u , 'I01R') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»ç ´å†›å¥—è£…â€»|R\n|CFFB2FF00æ”»å‡»é€Ÿåº¦+30%\næ°”è¡€+10000\næ¯ç§’å›å¤+400\né˜²å¾¡+30\nèƒ†é­„+1\nç¦ç¼˜+1\nç‰¹æ®Šæ”»å‡»+10")
		set I8[i]=true
		call UnitAddAbility(u, 1093678426)
		call UnitAddAbility(u, 1093678640)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 0 , $2710)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , 30)
		set danpo[i]=( danpo[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 1 )
		set special_attack[i]=special_attack[i] + 10
	endif
	if ( ( l8[i] == false ) and ( UnitHaveItem(u , 'I00X') ) and ( UnitHaveItem(u , 'I00Y') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»ç»æ‹å¥—è£…â€»|R\n|CFFB2FF00æ‹›å¼ä¼¤å®³+150\nçœŸå®ä¼¤å®³+100\nç»å­¦é¢†æ‚ŸåŠ›+1\næ°”è¡€+15000\næ¯ç§’å›å¤+300\nä¼¤å®³å›å¤+300\nå…¨æ€§æ ¼å±æ€§+1\nç‰¹æ®Šæ”»å‡»+20")
		set l8[i]=true
		call ModifyHeroStat(0, u, 0, $96)
		call ModifyHeroStat(2, u, 0, 100)
		set juexuelingwu[i]=( juexuelingwu[i] + 1 )
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 0 , $3A98)
		call UnitAddAbility(u, 1093678641)
		set shanghaihuifu[i]=( shanghaihuifu[i] + 300. )
		set jingmai[i]=( jingmai[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 1 )
		set wuxing[i]=( wuxing[i] + 1 )
		set yishu[i]=( yishu[i] + 1 )
		set gengu[i]=( gengu[i] + 1 )
		set danpo[i]=( danpo[i] + 1 )
		set special_attack[i]=special_attack[i] + 20
	endif
	if ( ( G8[i] == false ) and ( UnitHaveItem(u , 'I00Z') ) and ( UnitHaveItem(u , 'I010') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»å€¾åŸå¥—è£…â€»|R\n|CFFB2FF00é˜²å¾¡+170\nç»å­¦é¢†æ‚ŸåŠ›+1\næš´å‡»ç‡+4%\næš´å‡»ä¼¤å®³+30%\næ€æ€ªå›å¤+600\nå…¨æ€§æ ¼å±æ€§+1\nç‰¹æ®Šæ”»å‡»+25")
		set G8[i]=true
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , $AA)
		set juexuelingwu[i]=( juexuelingwu[i] + 1 )
		set udg_baojilv[i]=( udg_baojilv[i] + .04 )
		set udg_baojishanghai[i]=( udg_baojishanghai[i] + .3 )
		set shaguaihufui[i]=( shaguaihufui[i] + 600. )
		set jingmai[i]=( jingmai[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 1 )
		set wuxing[i]=( wuxing[i] + 1 )
		set yishu[i]=( yishu[i] + 1 )
		set gengu[i]=( gengu[i] + 1 )
		set danpo[i]=( danpo[i] + 1 )
		set special_attack[i]=special_attack[i] + 25
	endif
	if ( ( Ee[i] == false ) and ( UnitHaveItem(u , 'I08V') ) and ( UnitHaveItem(u , 'I08W') ) and ( UnitHaveItem(u , 'I08X') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»æ±Ÿæ¹–å¥—è£…â€»|R\n|CFFB2FF00å†…åŠ›+300\nçœŸå®ä¼¤å®³+200\næš´å‡»ä¼¤å®³+150%\næ³•åŠ›æ¢å¤+10\næš´å‡»ç‡+20%\nç»å­¦é¢†æ‚ŸåŠ›+4\nå…¨æ€§æ ¼å±æ€§+3\næ­¦åŠŸä¼¤å®³+60%\nç‰¹æ®Šæ”»å‡»+40")
		set Ee[i]=true
		call ModifyHeroStat(1, u, 0, 300)
		call ModifyHeroStat(2, u, 0, $C8)
		call UnitAddAbility(u, 1093681741)
		set udg_baojilv[i]=( udg_baojilv[i] + .2 )
		set udg_baojishanghai[i]=( udg_baojishanghai[i] + 1.5 )
		set juexuelingwu[i]=( juexuelingwu[i] + 4 )
		set jingmai[i]=( jingmai[i] + 3 )
		set fuyuan[i]=( fuyuan[i] + 3 )
		set wuxing[i]=( wuxing[i] + 3 )
		set yishu[i]=( yishu[i] + 3 )
		set gengu[i]=( gengu[i] + 3 )
		set danpo[i]=( danpo[i] + 3 )
		set udg_shanghaijiacheng[i]=( udg_shanghaijiacheng[i] + .6 )
		set special_attack[i]=special_attack[i] + 40
	endif
	if ( ( De[i] == false ) and ( UnitHaveItem(u , 'I090') ) and ( UnitHaveItem(u , 'I08Z') ) and ( UnitHaveItem(u , 'I08Y') ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffFF4d00â€»å†³æˆ˜å¥—è£…â€»|R\n|CFFB2FF00æ‹›å¼ä¼¤å®³+1000\nä¼¤å®³å›å¤+600\næ°”è¡€+100000\næ¯ç§’æ¢å¤+1000\né˜²å¾¡+1000\nç»å­¦é¢†æ‚ŸåŠ›+4\nå…¨æ€§æ ¼å±æ€§+3\nä¼¤å®³å¸æ”¶+30%\nç‰¹æ®Šæ”»å‡»+40")
		set De[i]=true
		call ModifyHeroStat(0, u, 0, 1000)
		set shanghaihuifu[i]=( shanghaihuifu[i] + 600. )
		call UnitAddAbility(u, 1093681742)
		call UnitAddAbility(u, 1093681743)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , 1000)
		set juexuelingwu[i]=( juexuelingwu[i] + 4 )
		set jingmai[i]=( jingmai[i] + 3 )
		set fuyuan[i]=( fuyuan[i] + 3 )
		set wuxing[i]=( wuxing[i] + 3 )
		set yishu[i]=( yishu[i] + 3 )
		set gengu[i]=( gengu[i] + 3 )
		set danpo[i]=( danpo[i] + 3 )
		set udg_shanghaixishou[i]=( udg_shanghaixishou[i] + .3 )
		set special_attack[i]=special_attack[i] + 40
	endif
	set u=null
	set p=null
endfunction
//å¤±å»å¥—è£…
function Sz takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( ( GetItemLevel(GetManipulatedItem()) == 1 ) or ( GetItemLevel(GetManipulatedItem()) == 3 ) or ( GetItemLevel(GetManipulatedItem()) == 6 ) ) ) // INLINED!!
endfunction
function Tz takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	call YDWEPolledWaitNull(.01)
	if ( ( F8[i] ) and ( ( UnitHaveItem(u , 'I01L') == false ) or ( UnitHaveItem(u , 'I01M') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»ç²¾é’¢å¥—è£…å±æ€§|R")
		set F8[i]=false
		call ModifyHeroStat(0, u, 1, $96)
		set udg_baojilv[i]=( udg_baojilv[i] - .04 )
		set udg_baojishanghai[i]=( udg_baojishanghai[i] - .3 )
		set shaguaihufui[i]=( shaguaihufui[i] - 500. )
		set gengu[i]=( gengu[i] - 1 )
		set danpo[i]=( danpo[i] - 1 )
		set special_attack[i]=special_attack[i] - 15
	endif
	if ( ( XNKL[i] ) and ( ( UnitHaveItem(u , 'I0A8') == false ) or ( UnitHaveItem(u , 'I0A9') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»æ–°å¹´å¿«ä¹å¥—è£…å±æ€§|R")
		set XNKL[i]=false
		call ModifyHeroStat(0, u, 1, 1000)
		call ModifyHeroStat(1, u, 1, 1000)
		call ModifyHeroStat(2, u, 1, 1000)
		set jingmai[i]=( jingmai[i] - 5 )
		set fuyuan[i]=( fuyuan[i] - 5 )
		set wuxing[i]=( wuxing[i] - 5 )
		set yishu[i]=( yishu[i] - 5 )
		set gengu[i]=( gengu[i] - 5 )
		set danpo[i]=( danpo[i] - 5 )
		set special_attack[i]=special_attack[i] - 15
	endif
	if ( ( daxia[i] ) and ( UnitHaveItem(u , 'I0CI') == false ) or ( UnitHaveItem(u , 'I0CH') == false ) or ( UnitHaveItem(u , 'I0DO') == false ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»å¤§ä¾ å¥—è£…å±æ€§|R")
		set daxia[i]=false
		call ModifyHeroStat(0, u, 1, 50)
		call ModifyHeroStat(1, u, 1, 50)
		call ModifyHeroStat(2, u, 1, 50)
		set jingmai[i]=( jingmai[i] - 1 )
		set fuyuan[i]=( fuyuan[i] - 1 )
		set wuxing[i]=( wuxing[i] - 1 )
		set yishu[i]=( yishu[i] - 1 )
		set gengu[i]=( gengu[i] - 1 )
		set danpo[i]=( danpo[i] - 1 )
		set special_attack[i]=special_attack[i] - 10
	endif
	if ( ( H8[i] ) and ( ( UnitHaveItem(u , 1227895118) == false ) or ( UnitHaveItem(u , 1227895119) == false ) or ( UnitHaveItem(u , 1227895120) == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»ä¸ƒæ˜Ÿå¥—è£…å±æ€§|R")
		set H8[i]=false
		call ModifyHeroStat(0, u, 1, $C8)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 1 , 1 , 15)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 1 , $2710)
		call UnitRemoveAbility(u, 1093678424)
		call UnitRemoveAbility(u, 1093678425)
		set wuxing[i]=( wuxing[i] - 1 )
		set yishu[i]=( yishu[i] - 1 )
		set special_attack[i]=special_attack[i] - 18
	endif
	if ( ( I8[i] ) and ( ( UnitHaveItem(u , 'I01Q') == false ) or ( UnitHaveItem(u , 'I01R') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»ç ´å†›å¥—è£…å±æ€§|R")
		set I8[i]=false
		call UnitRemoveAbility(u, 1093678426)
		call UnitRemoveAbility(u, 1093678640)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 1 , $2710)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 1 , 30)
		set danpo[i]=( danpo[i] - 1 )
		set fuyuan[i]=( fuyuan[i] - 1 )
		set special_attack[i]=special_attack[i] - 10
	endif
	if ( ( l8[i] ) and ( ( UnitHaveItem(u , 'I00X') == false ) or ( UnitHaveItem(u , 'I00Y') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»ç»æ‹å¥—è£…å±æ€§|R")
		set l8[i]=false
		call ModifyHeroStat(0, u, 1, $96)
		call ModifyHeroStat(2, u, 1, 100)
		set juexuelingwu[i]=( juexuelingwu[i] - 1 )
		call YDWEGeneralBounsSystemUnitSetBonus(u , 0 , 1 , $3A98)
		call UnitRemoveAbility(u, 1093678641)
		set shanghaihuifu[i]=( shanghaihuifu[i] - 300. )
		set jingmai[i]=( jingmai[i] - 1 )
		set fuyuan[i]=( fuyuan[i] - 1 )
		set wuxing[i]=( wuxing[i] - 1 )
		set yishu[i]=( yishu[i] - 1 )
		set gengu[i]=( gengu[i] - 1 )
		set danpo[i]=( danpo[i] - 1 )
		set special_attack[i]=special_attack[i] - 20
	endif
	if ( ( G8[i] ) and ( ( UnitHaveItem(u , 'I00Z') == false ) or ( UnitHaveItem(u , 'I010') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»å€¾åŸå¥—è£…å±æ€§|R")
		set G8[i]=false
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 1 , $AA)
		set juexuelingwu[i]=( juexuelingwu[i] - 1 )
		set udg_baojilv[i]=( udg_baojilv[i] - .04 )
		set udg_baojishanghai[i]=( udg_baojishanghai[i] - .3 )
		set shaguaihufui[i]=( shaguaihufui[i] - 600. )
		set jingmai[i]=( jingmai[i] - 1 )
		set fuyuan[i]=( fuyuan[i] - 1 )
		set wuxing[i]=( wuxing[i] - 1 )
		set yishu[i]=( yishu[i] - 1 )
		set gengu[i]=( gengu[i] - 1 )
		set danpo[i]=( danpo[i] - 1 )
		set special_attack[i]=special_attack[i] - 25
	endif
	if ( ( Ee[i] ) and ( ( UnitHaveItem(u , 'I08V') == false ) or ( UnitHaveItem(u , 'I08W') == false ) or ( UnitHaveItem(u , 'I08X') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»æ±Ÿæ¹–å¥—è£…å±æ€§|R")
		set Ee[i]=false
		call ModifyHeroStat(1, u, 1, 300)
		call ModifyHeroStat(2, u, 1, $C8)
		call UnitRemoveAbility(u, 1093681741)
		set udg_baojilv[i]=( udg_baojilv[i] - .2 )
		set udg_baojishanghai[i]=( udg_baojishanghai[i] - 1.5 )
		set juexuelingwu[i]=( juexuelingwu[i] - 4 )
		set jingmai[i]=( jingmai[i] - 3 )
		set fuyuan[i]=( fuyuan[i] - 3 )
		set wuxing[i]=( wuxing[i] - 3 )
		set yishu[i]=( yishu[i] - 3 )
		set gengu[i]=( gengu[i] - 3 )
		set danpo[i]=( danpo[i] - 3 )
		set udg_shanghaijiacheng[i]=( udg_shanghaijiacheng[i] - .6 )
		set special_attack[i]=special_attack[i] - 40
	endif
	if ( ( De[i] ) and ( ( UnitHaveItem(u , 'I090') == false ) or ( UnitHaveItem(u , 'I08Z') == false ) or ( UnitHaveItem(u , 'I08Y') == false ) ) ) then
		call DisplayTimedTextToPlayer(p, 0, 0, 10., "|cffff00ffå¤±å»å†³æˆ˜å¥—è£…å±æ€§|R")
		set De[i]=false
		call ModifyHeroStat(0, u, 1, 1000)
		set shanghaihuifu[i]=( shanghaihuifu[i] - 600. )
		call UnitRemoveAbility(u, 1093681742)
		call UnitRemoveAbility(u, 1093681743)
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 1 , 1000)
		set juexuelingwu[i]=( juexuelingwu[i] - 4 )
		set jingmai[i]=( jingmai[i] - 3 )
		set fuyuan[i]=( fuyuan[i] - 3 )
		set wuxing[i]=( wuxing[i] - 3 )
		set yishu[i]=( yishu[i] - 3 )
		set gengu[i]=( gengu[i] - 3 )
		set danpo[i]=( danpo[i] - 3 )
		set udg_shanghaixishou[i]=( udg_shanghaixishou[i] - .3 )
		set special_attack[i]=special_attack[i] - 40
	endif
	set u=null
	set p=null
endfunction
//é•‡å¦–å‡çº§
function DoHaveZhenYao takes unit uc,unit l__ut returns boolean
 local unit u= udg_hero[( 1 + GetPlayerId(GetOwningPlayer(uc)) )]
	if ( uc == null or GetUnitTypeId(l__ut) == 'n000' or GetUnitPointValue(l__ut) == 10 ) then
		return false
	else
		if UnitHaveItem(u , 'I02S') or UnitHaveItem(u , 'I02M') or UnitHaveItem(u , 'I02Q') or UnitHaveItem(u , 'I02R') then
			return true
		endif
	endif
	set u=null
	return false
endfunction
function Vz takes nothing returns boolean
	return DoHaveZhenYao(GetKillingUnit() , GetTriggerUnit())
endfunction
function ZhenYaoLevelUp takes unit u,integer id,integer id2,integer value returns nothing
 local integer i= 0
	call SetWidgetLife(FetchUnitItem(u , id), GetWidgetLife(FetchUnitItem(u , id)) - 1)
	if UnitHaveItem(u , id) then
		if ( 500000. - GetWidgetLife(FetchUnitItem(u , id)) < I2R(value) ) then
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "æˆé•¿å€¼ï¼š" + ( I2S(R2I(500000. - GetWidgetLife(FetchUnitItem(u , id)))) + " / " + I2S(value) ))
		else
			set i=GetItemUserData(FetchUnitItem(u , id))
			call RemoveItem(FetchUnitItem(u , id))
			call createitemloc(id2 , v7[9])
			call SetItemUserData(bj_lastCreatedItem, i)
			call UnitAddItem(u, bj_lastCreatedItem)
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFF33FF00æ­å–œå…»æ­¦ç­‰çº§è·å¾—æå‡")
		endif
	endif
endfunction
function Wz takes nothing returns nothing
 local unit u= udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]
	call ZhenYaoLevelUp(u , 'I02S' , 'I02M' , 200)
	call ZhenYaoLevelUp(u , 'I02M' , 'I02Q' , 500)
	call ZhenYaoLevelUp(u , 'I02Q' , 'I02R' , 800)
	call ZhenYaoLevelUp(u , 'I02R' , 'I02P' , 1200)
	set u=null
endfunction
//-------é•¶åµŒå®çŸ³ç³»ç»Ÿå¼€å§‹-------//
function IsXiangQian takes item it,unit u returns boolean
	if GetItemTypeId(it) == 'I05R' or GetItemTypeId(it) == 'I05Q' or GetItemTypeId(it) == 'I05M' or GetItemTypeId(it) == 'I05O' or GetItemTypeId(it) == 'I05P' or GetItemTypeId(it) == 'I05N' then
		if not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(u)) )] , ((1 ) * YDWEBitwise__C2[( ( DUAN_ZAO) - 1)])) != 0) then // INLINED!!
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä½ ä¸æ˜¯é”»é€ å¸ˆï¼Œä¸å¯ä»¥é•¶åµŒå®çŸ³")
			call AdjustPlayerStateBJ(20000, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
			return false
	    else
	        return true
        endif
    endif
    return false
endfunction
function kA takes nothing returns boolean
	return IsXiangQian(GetManipulatedItem() , GetTriggerUnit())
endfunction
function XiangQian takes unit u,item it,item it2,integer id,integer i returns nothing
 local player p= GetOwningPlayer(u)
 local integer ii1= ModuloInteger(GetItemUserData(it) / 1000, 10)
 local integer ii2= ModuloInteger(GetItemUserData(it) / 100, 10)
 local integer ii3= ModuloInteger(GetItemUserData(it) / 10, 10)
	if GetItemTypeId(it2) == id then
		if ( ii1 == 0 ) then
			call AdjustPlayerStateBJ(20000, p, PLAYER_STATE_RESOURCE_GOLD)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½ çš„ç¬¬ä¸€æ ¼ç‰©å“æ— æ³•é•¶åµŒå®çŸ³")
		else
			call SetItemPositionLoc(it, v7[9])
			if ( ii2 == 0 ) then
				call SetItemUserData(it, GetItemUserData(it) + 100 * i - 1000)
			else
				if ( ii3 == 0 ) then
					call SetItemUserData(it, GetItemUserData(it) + 10 * i - 1000)
				else
					call SetItemUserData(it, GetItemUserData(it) + 1 * i - 1000)
				endif
			endif
			call UnitAddItem(u, it)
		endif
	endif
	set p=null
endfunction
function mA takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local item it= UnitItemInSlotBJ(u, 1)
	call XiangQian(u , it , GetManipulatedItem() , 'I05M' , 1)
	call XiangQian(u , it , GetManipulatedItem() , 'I05P' , 2)
	call XiangQian(u , it , GetManipulatedItem() , 'I05O' , 3)
	call XiangQian(u , it , GetManipulatedItem() , 'I05Q' , 4)
	call XiangQian(u , it , GetManipulatedItem() , 'I05R' , 5)
	call XiangQian(u , it , GetManipulatedItem() , 'I05N' , 6)
	set u=null
	set it=null
endfunction
//-------é•¶åµŒå®çŸ³ç³»ç»Ÿç»“æŸ-------//
function Equipment_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
//é¸Ÿæ‹¿ä¸œè¥¿æ˜¾ç¤ºé™„åŠ å±æ€§
	set zi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(zi, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(zi, Condition(function Zy))
	call TriggerAddAction(zi, function dz)
	//è‹±é›„æ‹¿ä¸œè¥¿æ˜¾ç¤ºé™„åŠ å±æ€§
	set Ai=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ai, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Ai, Condition(function fz))
	call TriggerAddAction(Ai, function gz)
	//è‹±é›„æ”¾ä¸‹ä¸œè¥¿æ˜¾ç¤ºå¤±å»é™„åŠ å±æ€§
	set ai=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ai, EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(ai, Condition(function iz))
	call TriggerAddAction(ai, function jz)
	//è‹±é›„ç©¿ä¸Šè£…å¤‡
	set Bi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Bi, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Bi, Condition(function mz))
	call TriggerAddAction(Bi, function nz)
	//è‹±é›„è„±ä¸‹è£…å¤‡
	set bi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(bi, EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(bi, Condition(function pz))
	call TriggerAddAction(bi, function qz)
	//åªèƒ½ç©¿ä¸€ä»¶è¡£æœæˆ–æ­¦å™¨çš„åˆ¤æ–­
	set li=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(li, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(li, Condition(function Mz))
	call TriggerAddAction(li, function ItemChongFu)
	//é›†é½å¥—è£…
	set Ji=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ji, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Ji, Condition(function Pz))
	call TriggerAddAction(Ji, function Qz)
	//å¤±å»å¥—è£…
	set Ki=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ki, EVENT_PLAYER_UNIT_DROP_ITEM)
	call TriggerAddCondition(Ki, Condition(function Sz))
	call TriggerAddAction(Ki, function Tz)
	//é•‡å¦–å‡çº§
	set Li=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Li, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Li, Condition(function Vz))
	call TriggerAddAction(Li, function Wz)
	//é•¶åµŒå®çŸ³ç³»ç»Ÿ
	set Pi=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Pi, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Pi, Condition(function kA))
	call TriggerAddAction(Pi, function mA)
	// æºå¸¦å…»å¾å‰‘ç ´é˜²
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function UnitHaveYangWuJian))
	call TriggerAddAction(t, function YangWuJianXiaoGuo)
	set t=null
endfunction
//æ€é‡çŒªé¦–é¢†
function WI takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nqb3' ) )
endfunction
function XI takes nothing returns nothing
 local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
	if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		if ( ( GetRandomInt(1, 100) <= udg_baolv[1] ) ) then
			call createitemloc('I021' , LoadLocationHandle(YDHT, id * cx, $1769D332))
			set udg_baolv[1]=udg_baolv[1] * 9 / 10 - 1
		else
			set udg_baolv[1]=udg_baolv[1] * 11 / 10 + 1
			if udg_baolv[1] < 0 then
				set udg_baolv[1]=0
			endif
			if udg_baolv[1] > 100 then
				set udg_baolv[1]=100
			endif
		endif
		set N7=N7 + 1
	endloop
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( e8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
		call unitadditembyidswapped(1227896391 , GetKillingUnit())
		if ( ( GetRandomInt(1, 50) <= 25 ) ) then
			call unitadditembyidswapped(1227895347 , GetKillingUnit())
		else
			call unitadditembyidswapped(1227895346 , GetKillingUnit())
		endif
		// call AddHeroXP(GetKillingUnit(),$96,true)
		call AddHeroXP(u, 1500, true) // å¥–åŠ±ç»éªŒ
call AdjustPlayerStateBJ(1500, p, PLAYER_STATE_RESOURCE_GOLD) // å¥–åŠ±é‡‘é’±
call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+1500ã€é‡‘é’±+1500ã€æ±Ÿæ¹–å£°æœ›+50ã€å¯Œå¯æ•Œå›½ä»¤å’Œ" + GetItemName(bj_lastCreatedItem) ))
		set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 50 )
		set e8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	endif
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
	call FlushChildHashtable(YDHT, id * cx)
	set u=null
	set p=null
endfunction
// æ€ç‹¼
function isKillWolf takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nwlt' ) )
endfunction
function killWolf takes nothing returns nothing
	// å¼ æ— å¿Œæ€çŒªåˆ€I0CI,éƒ­é–ç¯æˆ’I0CHï¼Œä¹”å³°è‰é‹I0DO
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 10 , 'I0CI' , 'I0CH' , 'I0DO' , 0 , 0 , 0)
endfunction
//æ€è±ºç‹¼
function ZI takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ngns' ) )
endfunction
function dl takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 0 , 0 , 0 , 0 , 0 , 8 , YaoCao[1])
endfunction
//æ€æ±Ÿå—æ°´æ€ª
function fl takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'hwat' ) )
endfunction
function gl takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 0 , 0 , 0 , 0 , 0 , 8 , YaoCao[2])
endfunction
//FB1
function il takes nothing returns boolean
	return ( GetUnitTypeId(GetTriggerUnit()) == 'oshm' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'nass' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'odoc' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'orai' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'otau' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'odkt' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'uaco' )
endfunction
function jl takes nothing returns nothing
	if ( GetUnitTypeId(GetTriggerUnit()) == 'oshm' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'nass' ) then
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 8 , 'I02J' , 'I02I' , 0 , 0 , 8 , YaoCao[3])
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 1 , 'I01W' , 0 , 0 , 0 , 0 , 0)
	elseif ( GetUnitTypeId(GetTriggerUnit()) == 'odoc' ) then
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I01U' , 'I01Z' , 0 , 0 , 0 , 0)
	elseif ( GetUnitTypeId(GetTriggerUnit()) == 'orai' ) then
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I01S' , 'I01Y' , 'I01X' , 0 , 0 , 0)
		//ç«åŠŸå¤´é™€
	elseif ( GetUnitTypeId(GetTriggerUnit()) == 'otau' ) then
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I02Z' , 'I03D' , 0 , 0 , 0 , 0)
		if GetRandomReal(1, 100) <= 3. or ( GetRandomReal(1, 100) <= 6. and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) ) then // INLINED!!
		    // FIXME leak
			call createitemloc('I0C5' , GetUnitLoc(GetKillingUnit()))
		endif
	elseif ( GetUnitTypeId(GetTriggerUnit()) == 'odkt' ) then
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I02U' , 'I03G' , 'I02W' , 0 , 0 , 0)
		//æ¯’æ‰‹è¯ç‹
	elseif ( GetUnitTypeId(GetTriggerUnit()) == 'uaco' ) then
		call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I02L' , 'I02N' , 'I02K' , 0 , 0 , 0)
		if GetRandomReal(1, 100) <= 50. or (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
		    // FIXME leak
			call createitemloc('I0CB' , GetUnitLoc(GetKillingUnit()))
		endif
	endif
endfunction
//FB2
function al takes nothing returns boolean
	return ( ( ( GetUnitTypeId(GetTriggerUnit()) == 'efon' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'nowb' ) ) )
endfunction
function Bl takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 8 , 'I01I' , 'I02E' , 'I02H' , 0 , 0 , 0)
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 2 , 'I01J' , 0 , 0 , 0 , 0 , 0) // ä¸ƒç»çˆ†ç‡æé«˜åˆ°2%
endfunction
//æ€å”æ–‡äº®
function cl takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nbdw' ) )
endfunction
function KillTangWenLiang takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I01L' , 'I01M' , 'I01Q' , 'I01R' , 10 , 'I0EP')
endfunction
//æ€å…³èƒ½
function Fl takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndrw' ) )
endfunction
function Gl takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 1227895118 , 1227895120 , 1227895119 , 0 , 0 , 0)
endfunction
//æ€æè«æ„
function Il takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1702258030 ) )
endfunction
function ll takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 1227895621 , 1227895626 , 0 , 0 , 0 , 0)
endfunction
//æ€æœ¨çµå­
function Kl takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1700884333 ) )
endfunction
function Ll takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 'I03L' , 1227895382 , 0 , 0 , 0 , 0)
endfunction
//æ€ç‹„äº‘
function Nl takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852007777 ) )
endfunction
function Ol takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 1227895603 , 1227895627 , 0 , 0 , 0 , 0)
endfunction
//æ€æ—æœè‹±
function Ql takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndqs' ) )
endfunction
function Rl takes nothing returns nothing
 local location loc= GetUnitLoc(GetTriggerUnit())
 local location loc2= null
 local integer i= 1
	loop
		exitwhen i >= 6
			set shengwang[i]=shengwang[i] + 50
		set i=i + 1
	endloop
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cff00ff00å‡»æ€æ—æœè‹±ï¼Œæ‰€æœ‰ç©å®¶è·å¾—æ±Ÿæ¹–å£°æœ›+50")
	// set shengwang[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(shengwang[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+50)
	// call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,"|cff00ff00å‡»æ€æ—æœè‹±ï¼Œè·å¾—æ±Ÿæ¹–å£°æœ›+50")
	//call BJDebugMsg(I2S(LoadInteger(YDHT, StringHash("æ­¦å­¦")+GetRandomInt(42, 46), 2)))
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , udg_jianghu[GetRandomInt(1, 18)] , 0 , 0 , 0 , 0 , 0)
	if (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
		if GetRandomReal(1, 100) <= 10. then
		call createitemloc('I0C4' , loc)
		endif
		if GetRandomReal(1, 100) <= 10. then
			call createitemloc('I0C5' , loc)
		endif
		if GetRandomReal(1, 100) <= 10. then
			call createitemloc('I0C8' , loc)
		endif
		if GetRandomReal(1, 100) <= 10. then
			call createitemloc('I0CJ' , loc)
		endif
	else
		if GetRandomReal(1, 100) <= 5. then
			call createitemloc('I0C4' , loc)
		endif
		if GetRandomReal(1, 100) <= 5. then
			call createitemloc('I0C5' , loc)
		endif
		if GetRandomReal(1, 100) <= 5. then
			call createitemloc('I0C8' , loc)
		endif
		if GetRandomReal(1, 100) <= 5. then
			call createitemloc('I0CJ' , loc)
		endif
	endif
	if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
		call createitemloc(YaoCao[9] , loc)
	endif
	set i=0
	loop
		exitwhen i >= 5
		call AdjustPlayerStateBJ(16 * ( 10 - GetNumPlayer() ) / 10, Player(i), PLAYER_STATE_RESOURCE_LUMBER)
		set i=i + 1
	endloop
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "å‡»æ€æ—æœè‹±ï¼Œæ¯ä½ç©å®¶å¥–åŠ±çç¨€" + I2S(16 * ( 10 - GetNumPlayer() ) / 10) + "ä¸ª")
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(gudong[GetRandomInt(4, 6)] , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(gudong[GetRandomInt(1, 6)] , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(gudong[GetRandomInt(1, 6)] , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(1227895897 , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(1227895897 , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(1227895897 , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(1227895897 , loc2)
	call RemoveLocation(loc2)
	set loc2=pu(loc , GetRandomReal(30., 200.) , GetRandomReal(0, 360.))
	call createitemloc(1227895897 , loc2)
	call RemoveLocation(loc2)
	call RemoveLocation(loc)
	set loc=null
	set loc2=null
endfunction
//æ€å¤å¢“å¼Ÿå­
function Tl takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndqv' ) )
endfunction
function Ul takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 25 , 1227895897 , 0 , 0 , 0 , 15 , YaoCao[11])
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] / 4 , gudong[GetRandomInt(1, 6)] , 0 , 0 , 0 , 0 , 0)
endfunction
//FB3æ€å—æµ·é³„ç¥
function Wl takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nsqo' ) )
endfunction
function Xl takes nothing returns nothing
	call BaoWuDiaoLuo(GetKillingUnit() , GetTriggerUnit() , 100 , 1227895095 , 1227895107 , 1227895097 , 0 , 0 , 0)
endfunction
//FB3æ€å¶äºŒå¨˜
function Zl takes nothing returns boolean
	return ( GetUnitTypeId(GetTriggerUnit()) == 'nhrr' )
endfunction
function dd1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 60) <= 20 ) ) then
call createitemloc('I04E' , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 2))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc(1227895096 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227895106 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3æ€æ®µå»¶åº†
function f1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nubw' ) )
endfunction
function g1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 60) <= 30 ) ) then
call createitemloc(1227895878 , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 1))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
else
call createitemloc(1227895108 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3æ€æ¢…è¶…é£
function i1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1702061422 ) )
endfunction
function j1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 60) <= 20 ) ) then
call createitemloc(1227895624 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I03I' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I02X' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3æ€äº‘ä¸­é¹¤
function m1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nomg' ) )
endfunction
function nn1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc(1227895105 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227895094 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
//æ“’é¾™æ§é¹¤
if GetRandomReal(1, 100) <= 10. or ( GetRandomReal(1, 100) <= 20. and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) ) then // INLINED!!
	call createitemloc('I0CC' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3æ€å¼ æ— å¿Œ
function p1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1701672039 ) )
endfunction
function q1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I030' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227895385 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3æ€æ­¦ä¸‰é€š
function t1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1970169187 ) )
endfunction
function u1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I03F' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227895601 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ€é—¨æ´¾å›å¾’å’Œæ­¦æ—æ¶å¾’
function ww1 takes nothing returns boolean
return ( ( ( GetUnitTypeId(GetTriggerUnit()) == 'nfor' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'nnwr' ) ) )
endfunction
function z1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 500) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) ) then
call createitemloc(gudong[GetRandomInt(4, 9)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
if ( ( Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
if ( ( GetUnitTypeId(GetTriggerUnit()) == 'nfor' ) ) then
if ( ( Vd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < $A ) ) then
set Vd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( Vd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "é—¨æ´¾å›å¾’ï¼š" + ( I2S(Vd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "é—¨æ´¾å›å¾’ï¼š" + ( I2S(Vd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
endif
else
if ( ( Ud[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < $A ) ) then
set Ud[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( Ud[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "æ­¦æ—æ¶å¾’ï¼š" + ( I2S(Ud[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "æ­¦æ—æ¶å¾’ï¼š" + ( I2S(Ud[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
endif
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ€ææ¶é¢†ä¸»
function a1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nfov' ) )
endfunction
function B1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
call createitemloc('I02S' , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 6))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 1))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc(gudong[GetRandomInt(4, 9)] , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc(gudong[GetRandomInt(4, 9)] , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc(gudong[GetRandomInt(4, 9)] , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc(gudong[GetRandomInt(4, 9)] , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call SaveLocationHandle(YDHT, id * cx, - $185C9FC2, pu(LoadLocationHandle(YDHT, id * cx, $1769D332) , GetRandomReal(30., 120.) , ( GetRandomReal(0, 360.) )))
call createitemloc('texp' , LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call createitemloc(YaoCao[10] , LoadLocationHandle(YDHT, id * cx, $1769D332))
if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
    call createitemloc(YaoCao[10] , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $185C9FC2))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//è¾¹å¢ƒæ‰è½
function C1 takes nothing returns nothing
if ( ( GetRandomInt(1, 4) == 1 ) ) then
set Zd=1227896396
else
if ( ( GetRandomInt(1, 3) == 1 ) ) then
set Zd=1227896397
else
if ( ( GetRandomInt(1, 2) == 1 ) ) then
set Zd='I06K'
else
set Zd='I02S'
endif
endif
endif
call createitemloc(Zd , v7[$B])
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33è¾¹å¢ƒåˆ·æ–°æ‰è½ï¼š|cFF33FFFF" + GetItemName(bj_lastCreatedItem) ))
call RemoveItem(bj_lastCreatedItem)
endfunction
//è¾¹å¢ƒæ‰è½
function D1 takes nothing returns boolean
return ( ( RectContainsUnit(df, GetTriggerUnit()) ) )
endfunction
function E1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) <= 5 ) ) then
call createitemloc(Zd , LoadLocationHandle(YDHT, id * cx, $1769D332))
if ( ( Zd == 'I02S' ) ) then
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 6))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 1))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ€æ‰«åœ°ç¥åƒ§
function G1 takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nsrh' ) )
endfunction
function H1 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(GetKillingUnit())
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
	set shengwang[i]=shengwang[i] + 100
	call DisplayTextToPlayer(p, 0, 0, "|cff00ff00å‡»æ€æ‰«åœ°ç¥åƒ§ï¼Œè·å¾—æ±Ÿæ¹–å£°æœ›+100")
	if ( GetRandomInt(1, 1000) <= fuyuan[i] or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		call createitemloc(udg_juexue[GetRandomInt(1, 10)] , loc)
		call createitemloc(YaoCao[9] , loc)
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
			if GetRandomReal(1, 100) <= 10. then
				call createitemloc('I0C3' , loc)
			endif
			if GetRandomReal(1, 100) <= 10. then
				call createitemloc('I0C9' , loc)
			endif
			if GetRandomReal(1, 100) <= 10. then
				call createitemloc('I0CD' , loc)
			endif
		else
			if GetRandomReal(1, 100) <= 5. then
				call createitemloc('I0C3' , loc)
			endif
			if GetRandomReal(1, 100) <= 5. then
				call createitemloc('I0C9' , loc)
			endif
			if GetRandomReal(1, 100) <= 5. then
				call createitemloc('I0CD' , loc)
			endif
		endif
		if (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
			call createitemloc(YaoCao[9] , loc)
		endif
		set N7=N7 + 1
	endloop
	call RemoveLocation(loc)
	set u=null
	set p=null
	set loc=null
endfunction
//FB4æ€å—æµ·ç¥å°¼
function l1 takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nelb' ) )
endfunction
function J1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
call createitemloc('I09I' , LoadLocationHandle(YDHT, id * cx, $1769D332))
if ( ( GetRandomInt(1, 50) <= 30 ) ) then
call createitemloc(YaoCao[6] , LoadLocationHandle(YDHT, id * cx, $1769D332))
call createitemloc('I0EQ' , LoadLocationHandle(YDHT, id * cx, $1769D332))
if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
    call createitemloc(YaoCao[6] , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB4æ€å…¬å­™æ­¢
function L1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nfpu' ) )
endfunction
function MM1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 60) <= 25 ) ) then
call createitemloc(1227895089 , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 6))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 2))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
else
if ( ( GetRandomInt(1, 50) <= 30 ) ) then
call createitemloc(1227895091 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227895371 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB4æ€è£˜åƒä»
function O1 takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nmgr' ) )
endfunction
function P1 takes nothing returns nothing
 local location loc=GetUnitLoc(GetTriggerUnit())
	if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		if GetRandomInt(0, 100) <= 5 then
			call createitemloc(1227895090 , loc)
			call SetItemUserData(bj_lastCreatedItem, ( GetRandomInt(1, 6) * $989680 ) + ( GetRandomInt(1, 5) * $F4240 ) + ( GetRandomInt(0, 2) * $3E8 ))
		else
			call createitemloc('I099' , loc)
		endif
		set N7=N7 + 1
	endloop
	call RemoveLocation(loc)
	set loc=null
endfunction
//FB4æ€è£˜åƒå°º
function R1 takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nhfp' ) )
endfunction
function S1 takes nothing returns nothing
 local location loc=GetUnitLoc(GetTriggerUnit())
	if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		if GetRandomInt(0, 100) <= 5 then
			call createitemloc(1227895372 , loc)
		else
			call createitemloc('I09A' , loc)
		endif
		set N7=N7 + 1
	endloop
	call RemoveLocation(loc)
	set loc=null
endfunction
//FB4æ€é•¿é¡»è€é¬¼
function U1 takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nrzb' ) )
endfunction
function V1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) <= 25 ) ) then
call createitemloc('I014' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 75) <= 25 ) ) then
call createitemloc(1227895093 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I00Z' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I010' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB5æ€æç§‹æ°´
function X1 takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852270642 ) )
endfunction
function Y1 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I00V' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I00U' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 7))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 7))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 2))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB5æ€å¤©å±±ç«¥å§¥
function dJ takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852207984 ) )
endfunction
function eJ takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
	if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		// 60%è·å¾—é‡ç”Ÿï¼Œ40%è·å¾—ç¥è¡Œé‹
		if ( ( GetRandomInt(0, 100) <= 60 ) ) then
			call createitemloc('I00W' , LoadLocationHandle(YDHT, id * cx, $1769D332))
		else
			call createitemloc('I00T' , LoadLocationHandle(YDHT, id * cx, $1769D332))
		endif
		// 20%çˆ†ç‰æ‰³æŒ‡
		if ( GetRandomInt(0, 100) <= 20 ) then
			call createitemloc('I0DT' , LoadLocationHandle(YDHT, id * cx, $1769D332))
		endif
		call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
		call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
		call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 7))
		call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
		call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 7))
		call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 2))
		call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
		call SaveInteger(YDHT, id * cx, $44078039, 0)
		call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
		call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
		set N7=N7 + 1
	endloop
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB5æ€æ— å´–å­
function gJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852663652 ) )
endfunction
function hJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I00P' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I00O' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
// æ‰è½çç‘æ£‹å±€
// if GetRandomReal(1, 100)<=3. or (GetRandomReal(1, 100)<=6. and Ce[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==8) then
// 	call createitemloc('I0CA',LoadLocationHandle(YDHT,id*cx,$1769D332))
// endif
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 7))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 7))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 2))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB5æ€é—ªç”µèœ¥èœ´
function jJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853058166 ) )
endfunction
function kJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
call createitemloc(1227895861 , LoadLocationHandle(YDHT, id * cx, $1769D332))
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB5æ€åƒå±±é›ªæ¯æˆ–è€…å¹´å…½
function nJ takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nsbm' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'n00C' ) )
endfunction
function oJ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
	if ( GetRandomInt(1, 1000) <= fuyuan[i] or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		// call createitemloc(1227895860,loc)
		if GetUnitTypeId(u) == 'nsbm' then
			call createitemloc(1227895860 , loc)
		elseif GetUnitTypeId(u) == 'n00C' then
			call createitemloc(1227895860 , loc)
			// if GetRandomInt(1,2)==1 then
			// 	call createitemloc('I0A8',loc)
			// else
			// 	call createitemloc('I0A9',loc)
			// endif
		endif
		set N7=N7 + 1
	endloop
	call RemoveLocation(loc)
	set u=null
	set p=null
	set loc=null
endfunction
//æ€é»„è£³
function qJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1752395892 ) )
endfunction
function rJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
set shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )]=( shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] + $C8 )
call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnit()), 0, 0, "|cff00ff00å‡»æ€é»„è£³ï¼Œè·å¾—æ±Ÿæ¹–å£°æœ›+200")
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 80) <= $A ) ) then
call createitemloc(1227895635 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 70) <= $A ) ) then
call createitemloc('I03M' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 60) <= $A ) ) then
call createitemloc(1227895637 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 50) <= $A ) ) then
call createitemloc(1227895634 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 40) <= $A ) ) then
call createitemloc(1227895632 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 30) <= $A ) ) then
call createitemloc(1227895633 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 20) <= $A ) ) then
call createitemloc(1227895631 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227895636 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
endif
endif
endif
endif
endif
call createitemloc(YaoCao[12] , LoadLocationHandle(YDHT, id * cx, $1769D332))
if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
    call createitemloc(YaoCao[12] , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB6æ€ä»¤ç‹å†²
function tJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1751672179 ) )
endfunction
function uJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I00I' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I00N' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, GetRandomInt(1, 4))
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 3))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB6æ€é£æ¸…æ‰¬
function wJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1851942252 ) )
endfunction
function xJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc(1227895874 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I00G' , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, GetRandomInt(1, 4))
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 3))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB6æ€ç‹¬å­¤æ±‚è´¥
function zJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852142199 ) )
endfunction
function AJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc(1227895873 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I00C' , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, GetRandomInt(1, 4))
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 3))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
call createitemloc(YaoCao[8] , LoadLocationHandle(YDHT, id * cx, $1769D332))
if (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
    call createitemloc(YaoCao[8] , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB6æ€ä¸œæ–¹ä¸è´¥
function BJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1969976430 ) )
endfunction
function bJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 125) <= 25 ) ) then
call createitemloc('I00D' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 100) <= 25 ) ) then
call createitemloc('I00B' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 75) <= 25 ) ) then
call createitemloc('I00F' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I00L' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc(1227894856 , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
endif
endif
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, GetRandomInt(1, 4))
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 3))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ€çŸ®äººå¾—å†³æˆ˜é­ã€æ€çŸ®å­ç‹å¾—æ±Ÿæ¹–å¿ 
function IsAiRen takes nothing returns boolean
    return ( ( GetUnitTypeId(GetTriggerUnit()) == 'hrif' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'Hmkg' ) )
endfunction
function KillAiRen takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local location loc=GetUnitLoc(u)
    if GetUnitTypeId(u) == 'hrif' then
    	if GetRandomReal(0, 30) <= 2 then
    	    call createitemloc('I08Y' , loc)
    	endif
    else
   		call createitemloc('I08V' , loc)
	endif
    call RemoveLocation(loc)
    set loc=null
    set u=null
endfunction
//æ€ç‰›å¦–å¾—æ®‹ç« ç¬¬ä¸€å¼
function cJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'njgb' ) )
endfunction
function DJ takes nothing returns nothing
 local unit u=GetTriggerUnit()
    local location loc=GetUnitLoc(u)
    local integer i=0
    set i=GetRandomInt(1, 10)
    if GetRandomReal(0, 27) <= 3 then
        call createitemloc(udg_canzhang[i] , loc)
    endif
    call RemoveLocation(loc)
    set loc=null
    set u=null
endfunction
//æ€æ¸£å°åº¸åªæ‰è½æ±Ÿæ¹–å¥—
function FJ takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852207203 ) )
endfunction
function GJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
//æ¸£å°åº¸åªæ‰è½æ±Ÿæ¹–å¥—
	if ( ( GetRandomInt(1, 75) <= 25 ) ) then
		call createitemloc('I08X' , LoadLocationHandle(YDHT, id * cx, $1769D332))
	else
		if GetRandomInt(1, 50) <= 30 then
			call createitemloc('I08Z' , LoadLocationHandle(YDHT, id * cx, $1769D332))
		else
			call createitemloc('I090' , LoadLocationHandle(YDHT, id * cx, $1769D332))
		endif
	endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3
//æ€ç†Šã€æ¡ƒèŠ±å²›å“‘ä»†ã€ç­ç«ï¼ˆæ•‘ç«ï¼‰
function JK takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'nfrl' or GetUnitTypeId(GetTriggerUnit()) == 'nvil' or GetUnitTypeId(GetTriggerUnit()) == 'nlv3'
endfunction
function KK takes nothing returns nothing
 local unit u=GetKillingUnit()
 local unit uc=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc=GetUnitLoc(uc)
	if GetUnitTypeId(uc) == 'nfrl' then
		if GetRandomInt(1, 50) <= 3 then
		    call createitemloc('I02C' , loc)
		endif
		if GetRandomInt(1, 50) <= 3 then
		    call createitemloc('I02O' , loc)
		endif
		if ( ( rd[i] == 1 ) ) then
			set ud[i]=ud[i] + 1
			if ud[i] >= 30 then
				set rd[i]=2
				call unitadditembyidswapped(1227895372 , u)
				call PlaySoundOnUnitBJ(Hh, 100, u)
				call DisplayTextToPlayer(p, 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+150å’Œ" + GetItemName(bj_lastCreatedItem) ))
				set shengwang[i]=( shengwang[i] + $96 )
			else
				call DisplayTextToPlayer(p, 0, 0, ( "ç†Šï¼š" + ( I2S(ud[i]) + " / 30" ) ))
			endif
		endif
	elseif GetUnitTypeId(uc) == 'nvil' then
		if LoadInteger(YDHT, StringHash("å“‘ä»†ä»»åŠ¡"), i) == 1 then
			call SaveInteger(YDHT, StringHash("å“‘ä»†"), i, LoadInteger(YDHT, StringHash("å“‘ä»†"), i) + 1)
			if LoadInteger(YDHT, StringHash("å“‘ä»†"), i) >= 10 then
				call SaveInteger(YDHT, StringHash("å“‘ä»†ä»»åŠ¡"), i, 0)
				call SaveInteger(YDHT, StringHash("å“‘ä»†"), i, 0)
				call unitadditembyidswapped('I09V' , u)
				call PlaySoundOnUnitBJ(Hh, 100, u)
				call DisplayTextToPlayer(p, 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—" + GetItemName(bj_lastCreatedItem) ))
			else
				call DisplayTextToPlayer(p, 0, 0, ( "å“‘ä»†ï¼š" + I2S(LoadInteger(YDHT, StringHash("å“‘ä»†"), i)) + " / 10" ))
			endif
		endif
		// å¯»å®æ‘§å¿ƒæŒçˆ†ç‡ç¿»å€
		if GetRandomInt(1, 100) <= 10 or ( (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) and GetRandomInt(1, 100) <= 20 ) then // INLINED!!
			call unitadditembyidswapped('I09K' , u)
		endif
		// å¯»å®æ–°æ‰‹ç¥å™¨çˆ†ç‡ç¿»å€
		if GetRandomInt(1, 100) <= 10 or ( (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) and GetRandomInt(1, 100) <= 20 ) then // INLINED!!
			call unitadditembyidswapped('I0DJ' , u)
		endif
	elseif GetUnitTypeId(uc) == 'nlv3' then
		if GetRandomInt(0, 100) <= 100 - GetNumPlayer() * 10 then
			call AdjustPlayerStateBJ(2, Player(0), PLAYER_STATE_RESOURCE_LUMBER)
			call AdjustPlayerStateBJ(2, Player(1), PLAYER_STATE_RESOURCE_LUMBER)
			call AdjustPlayerStateBJ(2, Player(2), PLAYER_STATE_RESOURCE_LUMBER)
			call AdjustPlayerStateBJ(2, Player(3), PLAYER_STATE_RESOURCE_LUMBER)
			call AdjustPlayerStateBJ(2, Player(4), PLAYER_STATE_RESOURCE_LUMBER)
		endif
		if GetRandomReal(1, 100) <= 2.5 then
			call unitadditembyidswapped('I09I' , u)
		endif
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set p=null
	set loc=null
endfunction
//-------å‰¯æœ¬ç³»ç»Ÿå¼€å§‹-------//
function IsFuBen takes item it returns boolean
	if GetItemTypeId(it) == 'I02F' or GetItemTypeId(it) == 'I03V' or GetItemTypeId(it) == 'I04C' or GetItemTypeId(it) == 'I04I' or GetItemTypeId(it) == 'I04V' or GetItemTypeId(it) == 'I05L' then
		return true
	endif
	return false
endfunction
function ShenMiGuaiWu takes unit u,location loc,integer FBNum,integer gw1,integer gw2,integer gw3 returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	if ( GetRandomInt(1, 100) <= 20 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) ) then // INLINED!!
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFFFCC33è½½å…¥ç¥ç§˜æ€ªç‰©ï¼š|cFF33FFFFæ— ")
	else
		if ( ( GetRandomInt(1, 60) <= 20 ) ) then
			call CreateNUnitsAtLoc(1, gw1, Player(12), loc, bj_UNIT_FACING)
		elseif ( ( GetRandomInt(1, 40) <= 20 ) ) then
			call CreateNUnitsAtLoc(1, gw2, Player(12), loc, bj_UNIT_FACING)
		else
			call CreateNUnitsAtLoc(1, gw3, Player(12), loc, bj_UNIT_FACING)
		endif
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33è½½å…¥ç¥ç§˜æ€ªç‰©ï¼š|cFF33FFFF" + GetUnitName(bj_lastCreatedUnit) ))
		set p8[FBNum]=bj_lastCreatedUnit
	endif
endfunction
function XiYouDiaoLuo takes unit u,integer FBNum,integer dl1,integer dl2,integer dl3,integer dl4 returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	if ( ( GetRandomInt(1, 100) <= 20 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) ) ) then // INLINED!!
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFFFCC33è½½å…¥ç¨€æœ‰æ‰è½ï¼š|cFF33FFFFæ— ")
		set q8[FBNum]='crys'
	else
		if ( ( GetRandomInt(1, 60) <= 15 ) ) then
			set q8[FBNum]=dl1
		elseif ( ( GetRandomInt(1, 45) <= 15 ) ) then
			set q8[FBNum]=dl2
		elseif ( ( GetRandomInt(1, 30) <= 25 ) ) then
			set q8[FBNum]=dl3
		else
			set q8[FBNum]=dl4
		endif
		call createitemloc(q8[FBNum] , v7[$B])
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33è½½å…¥ç¨€æœ‰æ‰è½ï¼š|cFF33FFFF" + GetItemName(bj_lastCreatedItem) ))
		call RemoveItem(bj_lastCreatedItem)
	endif
endfunction
function QiYuanNPC takes unit u,integer FBNum,integer id,integer id2,rect rt1,rect rt2,rect rt3,rect rt4,rect rt5,rect rt6 returns nothing
 local location loc3= null
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	if ( ( GetRandomInt(1, 100) <= 50 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( JIAN_DING) - 1)])) != 0) ) ) then // INLINED!!
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFFFCC33è½½å…¥å¥‡ç¼˜NPCï¼š|cFF33FFFFæ— ")
	else
		if ( id != 'crys' ) then
			if ( ( GetRandomInt(1, 120) <= 20 ) ) then
				set loc3=GetRectCenter(rt1)
			elseif ( ( GetRandomInt(1, 100) <= 20 ) ) then
				set loc3=GetRectCenter(rt2)
			elseif ( ( GetRandomInt(1, 80) <= 20 ) ) then
				set loc3=GetRectCenter(rt3)
			elseif ( ( GetRandomInt(1, 60) <= 20 ) ) then
				set loc3=GetRectCenter(rt4)
			elseif ( ( GetRandomInt(1, 40) <= 20 ) ) then
				set loc3=GetRectCenter(rt5)
			else
				set loc3=GetRectCenter(rt6)
			endif
			if GetRandomInt(1, 2) == 1 then
				call CreateNUnitsAtLoc(1, id, Player(15), loc3, bj_UNIT_FACING)
			else
				call CreateNUnitsAtLoc(1, id2, Player(15), loc3, bj_UNIT_FACING)
			endif
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33è½½å…¥å¥‡ç¼˜NPCï¼š|cFF33FFFF" + GetUnitName(bj_lastCreatedUnit) ))
			set r8[FBNum]=bj_lastCreatedUnit
			call RemoveLocation(loc3)
		endif
	endif
	set loc3=null
endfunction
function EnterFB takes unit u,integer goldnum,rect rt0,rect rt1,rect rt2,integer FBNum,string FBName returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
 local location loc2= null
 local integer array gws
 local integer array dls
 local integer array qys
 local rect array qylocs
	//ç¥ç§˜æ€ªç‰©
	set gws[1]='otau'
	set gws[2]='odkt'
	set gws[3]='uaco'
	set gws[4]=1702258030
	set gws[5]=1700884333
	set gws[6]=1852007777
	set gws[7]=1701672039 // å¼ æ— å¿Œ
set gws[8]=1702061422 // æ¢…è¶…é£
set gws[9]=1970169187 // æ­¦ä¸‰é€š
set gws[10]='nelb'
	set gws[11]='nhfp'
	set gws[12]='nmgr'
	set gws[13]=1853058166
	set gws[14]='nsbm' // èœ˜è››
set gws[15]='nsbm' // å¹´å…½n00Cï¼ŒåŸæ¥æ˜¯nsbm
set gws[16]=1852142199
	set gws[17]=1851942252
	set gws[18]=1751672179
	//ç¨€æœ‰æ‰è½
	set dls[1]='I021'
	set dls[2]='I01L'
	set dls[3]='I01M'
	set dls[4]=1227895110
	set dls[5]=1227895109
	set dls[6]='I02S'
	set dls[7]=1227895111
	set dls[8]=1227895371
	set dls[9]='I02S'
	set dls[10]='I02S'
	set dls[11]=1227895380
	set dls[12]=1227895857
	set dls[13]=1227895859
	set dls[14]='I042'
	set dls[15]='I014'
	set dls[16]='I014'
	set dls[17]='I00Q'
	set dls[18]='I00S'
	set dls[19]='I00R'
	set dls[20]='I00R'
	set dls[21]='I00K'
	set dls[22]='I00M'
	set dls[23]='I00M'
	set dls[24]='I00J'
	set dls[25]='crys'
	set dls[26]='crys'
	set dls[27]='crys'
	set dls[28]='crys'
	//å¥‡ç¼˜NPC
	set qys[1]=1865429068
	set qys[2]='o02T'
	set qys[3]=1865429071
	set qys[4]=1865429059
	set qys[5]=1865429073
	set qys[6]=1865429073
	set qys[7]=1865429076
	set qys[8]='o026'
	set qys[9]=1865429080
	set qys[10]=1865429080
	set qys[11]='crys'
	set qys[12]='crys'
	set qylocs[1]=gf
	set qylocs[2]=hf
	set qylocs[3]=jf
	set qylocs[4]=kf
	set qylocs[5]=mf
	set qylocs[6]=nf
	set qylocs[7]=Af
	set qylocs[8]=af
	set qylocs[9]=Bf
	set qylocs[10]=bf
	set qylocs[11]=Cf
	set qylocs[12]=cf
	set qylocs[13]=Zf
	set qylocs[14]=Zf
	set qylocs[15]=Zf
	set qylocs[16]=Zf
	set qylocs[17]=Zf
	set qylocs[18]=Zf
	set qylocs[19]=Fg
	set qylocs[20]=Fg
	set qylocs[21]=Fg
	set qylocs[22]=Fg
	set qylocs[23]=Fg
	set qylocs[24]=Fg
	set qylocs[25]=Pg
	set qylocs[26]=Pg
	set qylocs[27]=Pg
	set qylocs[28]=Pg
	set qylocs[29]=Pg
	set qylocs[30]=Pg
	set qylocs[31]=Pg
	set qylocs[32]=Pg
	set qylocs[33]=Pg
	set qylocs[34]=Pg
	set qylocs[35]=Pg
	set qylocs[36]=Pg
	if ( xiuxing[i] <= FBNum - 2 ) then
		call AdjustPlayerStateBJ(goldnum, p, PLAYER_STATE_RESOURCE_GOLD)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¿®è¡Œè¾¾åˆ°" + I2S(FBNum - 1) + "æ‰å¯ä»¥è¿›å…¥,ä½ çš„ä¿®è¡Œä¸è¶³ï¼Œè¯·å‰å¾€åœ°å›¾æŒ‡ç¤ºç‚¹ä¿®è¡Œå»å§")
		set loc=GetRectCenter(rt0)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	else
		if ( ( (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
			set loc=GetRectCenter(rt1)
			set loc2=GetRectCenter(rt2)
			call SetUnitPositionLoc(u, loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			if ( ( m8[FBNum] == false ) ) then
				call RemoveUnit(r8[FBNum])
				set q8[FBNum]='crys'
				call RemoveUnit(p8[FBNum])
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFFFCC00å¼€å§‹è½½å…¥åŠ¨æ€å‰¯æœ¬ï¼š|r |cFF99FFCC" + FBName + "|r")
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFcc99ffâ€•â€•â€•â€•â€•â€•â€•â€•â€•â€•")
				call ShenMiGuaiWu(u , loc2 , FBNum , gws[FBNum * 3 - 2] , gws[FBNum * 3 - 1] , gws[FBNum * 3])
				call XiYouDiaoLuo(u , FBNum , dls[FBNum * 4 - 3] , dls[FBNum * 4 - 2] , dls[FBNum * 4 - 1] , dls[FBNum * 4])
				call QiYuanNPC(u , FBNum , qys[FBNum * 2 - 1] , qys[FBNum * 2] , qylocs[FBNum * 6 - 5] , qylocs[FBNum * 6 - 4] , qylocs[FBNum * 6 - 3] , qylocs[FBNum * 6 - 2] , qylocs[FBNum * 6 - 1] , qylocs[FBNum * 6])
				call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cFFFFCC33å°æ€ªæ­¦åŠŸï¼š|cFF33FFFFæš‚æœªåˆ¶ä½œæ­¤ç©æ³•")
				call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cFFFFCC33BOSSæ­¦åŠŸï¼š|cFF33FFFFæš‚æœªåˆ¶ä½œæ­¤ç©æ³•")
				call StartTimerBJ(Hd[FBNum], false, 75.)
				call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF0033å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[FBNum]))) + "ç§’" ) ))
				set m8[FBNum]=true
				call YDWEPolledWaitNull(75.)
				set m8[FBNum]=false
			else
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFFFCC00è¿›å…¥åŠ¨æ€å‰¯æœ¬ï¼š|r |cFF99FFCC" + FBName + "|r")
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, "|cFFcc99ffâ€•â€•â€•â€•â€•â€•â€•â€•â€•â€•")
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33ç¥ç§˜æ€ªç‰©ï¼š|cFF33FFFF" + GetUnitName(p8[FBNum]) ))
				call createitemloc(q8[FBNum] , v7[$B])
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33ç¨€æœ‰æ‰è½ï¼š|cFF33FFFF" + GetItemName(bj_lastCreatedItem) ))
				call RemoveItem(bj_lastCreatedItem)
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, ( "|cFFFFCC33è½½å…¥å¥‡ç¼˜NPCï¼š|cFF33FFFF" + GetUnitName(r8[FBNum]) ))
				call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cFFFFCC33å°æ€ªæ­¦åŠŸï¼š|cFF33FFFFæš‚æœªåˆ¶ä½œæ­¤ç©æ³•")
				call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cFFFFCC33BOSSæ­¦åŠŸï¼š|cFF33FFFFæš‚æœªåˆ¶ä½œæ­¤ç©æ³•")
				call DisplayTimedTextToPlayer(p, 0, 0, 30, ( "|cFFFF0033å‰¯æœ¬é‡ç½®å€’è®¡æ—¶ï¼š|cFF33FFFF" + ( I2S(R2I(TimerGetRemaining(Hd[FBNum]))) + "ç§’" ) ))
			endif
			call RemoveLocation(loc)
			call RemoveLocation(loc2)
		else
			call AdjustPlayerStateBJ(100, p, PLAYER_STATE_RESOURCE_GOLD)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åªèƒ½ç”±ä¸»è§’äº²è‡ªè´­ä¹°å‰å¾€")
		endif
	endif
	set p=null
	set u=null
	set loc=null
	set loc2=null
endfunction
//è¿›å…¥FB
function IL takes nothing returns boolean
	return IsFuBen(GetManipulatedItem())
endfunction
function lL takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local item it= GetManipulatedItem()
	if GetItemTypeId(it) == 'I02F' then
		call EnterFB(u , 100 , Te , Ze , ef , 1 , "é©¬è´¼æ´")
	elseif GetItemTypeId(it) == 'I03V' then
		call EnterFB(u , 300 , Te , yf , zf , 2 , "å´†å³’å±±")
	elseif GetItemTypeId(it) == 'I04C' then
		call EnterFB(u , 1000 , ag , Xf , Yf , 3 , "å¡åŒ—")
	elseif GetItemTypeId(it) == 'I04I' then
		call EnterFB(u , 3000 , Bg , Eg , Dg , 4 , "ç»æƒ…è°·")
	elseif GetItemTypeId(it) == 'I04V' then
		call EnterFB(u , 6000 , Lg , Ng , Og , 5 , "é€é¥å®«")
	elseif GetItemTypeId(it) == 'I05L' then
		call EnterFB(u , 10000 , Rg , Wg , Xg , 6 , "é»‘æœ¨å´–")
	endif
	set u=null
	set it=null
endfunction
function KL takes nothing returns boolean
	return ( ( RectContainsUnit(of, GetTriggerUnit()) ) )
endfunction
function LL takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
	if ( ( GetRandomInt(1, 1000) <= fuyuan[i] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
		set MM7=2
	else
		set MM7=1
	endif
	set N7=1
	loop
		exitwhen N7 > MM7
		if ( ( GetRandomInt(1, 100) >= 98 ) and ( q8[1] != 'crys' ) ) then
			call createitemloc(q8[1] , loc)
		endif
		set N7=N7 + 1
	endloop
	call RemoveLocation(loc)
	set p=null
	set u=null
	set loc=null
endfunction
//-------å‰¯æœ¬ç³»ç»Ÿç»“æŸ-------//
//-------å„ç§å‰¯æœ¬å¼€å§‹-------//
//éŸ¦å°å®èµŒåš
function NL takes nothing returns boolean
    // FIXME leak
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1865429068 ) and ( DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()), GetUnitLoc(udg_hero[( 1 + GetPlayerId(GetTriggerPlayer()) )])) <= 250. ) )
endfunction
function OL takes nothing returns nothing
	set s8=GetTriggerPlayer()
	set t8=true
	call RemoveUnit(GetTriggerUnit())
	call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 30, "|cFFFFCC33éŸ¦å°å®æƒ³é‚€è¯·ä½ åŒä»–èµŒä¸€å±€ï¼Œä½ æ˜¯å¦æ„¿æ„å‘¢ï¼Ÿ|cFF33FFFF15ç§’é’Ÿå†…æ“ä½œé”®ç›˜é€‰æ‹©  \nâ†‘ï¼šåŒæ„å¹¶å°†èº«ä¸Šçš„é’±å…¨éƒ¨ä¸‹æ³¨\nâ†ï¼šåŒæ„å¹¶å°†èº«ä¸Š50%çš„é’±ä¸‹æ³¨\nâ†’ï¼šåŒæ„å¹¶å°†èº«ä¸Š25%çš„é’±ä¸‹æ³¨\nâ†“ï¼šæ‹’ç»")
	call YDWEPolledWaitNull(15.)
	set t8=false
endfunction
function QL takes nothing returns boolean
	return ( ( GetTriggerPlayer() == s8 ) and ( t8 ) )
endfunction
function RL takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	if ( ( GetRandomInt(1, 10) <= 5 ) ) then
		call SetPlayerStateBJ(p, PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(s8, PLAYER_STATE_RESOURCE_GOLD) * 2 ))
		call DisplayTextToPlayer(p, 0, 0, "èµŒèµ¢äº†~")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶å’ŒéŸ¦å°å®èµŒåšèµ¢å¾—äº†å¤§é‡çš„é‡‘é’±ï¼Œåœæ€ªå°±é ä»–äº†")
		//if Ce[i]==4 then
		//	if udg_jdds[i]<1 then
		//		set udg_jdds[i] = udg_jdds[i]+1
		//		call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨å’ŒéŸ¦å°å®èµŒèµ¢äº†"+I2S(udg_jdds[i])+"æ¬¡ï¼ŒèµŒèµ¢2æ¬¡å¯è·å¾—é‰´å®šå¤§å¸ˆå“¦")
		//	else
		//		if udg_jddsbool[i] == false then
		//			set udg_jddsbool[i] = true
		//			if udg_zhangmen[i]==true then
		//			else
		//				call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“é‰´å®šå¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		//			endif
		//			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ"+GetPlayerName(p)+"è·å¾—é‰´å®šå¤§å¸ˆ")
		//			call SetPlayerName(p, "ã€“é‰´å®šå¤§å¸ˆã€“"+GetPlayerName(p))
		//		endif
		//	endif
		//endif
	else
		call SetPlayerStateBJ(p, PLAYER_STATE_RESOURCE_GOLD, 0)
		call DisplayTextToPlayer(p, 0, 0, "èµŒè¾“äº†ï¼ï¼")
		if GetRandomInt(1, 100) <= 50 or (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
		// FIXME leak
			call createitemloc('I0C2' , GetUnitLoc(udg_hero[i]))
		endif
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶å’ŒéŸ¦å°å®è¾“å¾—ä¸€è¸ç³Šæ¶‚ï¼Œå¤§å®¶ç¥ˆç¥·å§")
	endif
	set s8=Player(15)
	set p=null
endfunction
function TL takes nothing returns boolean
	return ( ( GetTriggerPlayer() == s8 ) and ( t8 ) )
endfunction
function UL takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	if ( ( GetRandomInt(1, $A) <= 7 ) ) then
		call SetPlayerStateBJ(p, PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) * 5 / 4 ))
		call DisplayTextToPlayer(p, 0, 0, "èµŒèµ¢äº†~")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶å’ŒéŸ¦å°å®èµŒåšèµ¢å¾—äº†å¤§é‡çš„é‡‘é’±ï¼Œåœæ€ªå°±é ä»–äº†")
		//if Ce[i]==4 then
		//	if udg_jdds[i]<6 then
		//		set udg_jdds[i] = udg_jdds[i]+1
		//	else
		//		if udg_jddsbool[i] == false then
		//			set udg_jddsbool[i] = true
		//			if udg_zhangmen[i]==true then
		//			else
		//				call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“é‰´å®šå¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		//			endif
		//			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ"+GetPlayerName(p)+"è·å¾—é‰´å®šå¤§å¸ˆ")
		//			call SetPlayerName(p, "ã€“é‰´å®šå¤§å¸ˆã€“"+GetPlayerName(p))
		//		endif
		//	endif
		//endif
	else
		call SetPlayerStateBJ(p, PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) * 3 / 4 ))
		call DisplayTextToPlayer(p, 0, 0, "èµŒè¾“äº†ï¼ï¼")
		if GetRandomInt(1, 100) <= 50 or (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
		// FIXME leak
			call createitemloc('I0C2' , GetUnitLoc(udg_hero[i]))
		endif
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶å’ŒéŸ¦å°å®è¾“å¾—ä¸€è¸ç³Šæ¶‚ï¼Œå¤§å®¶ç¥ˆç¥·å§")
	endif
	set s8=Player(15)
	set p=null
endfunction
function WL takes nothing returns boolean
	return ( ( GetTriggerPlayer() == s8 ) and ( t8 ) )
endfunction
function XL takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	if ( ( GetRandomInt(1, $A) <= 6 ) ) then
		call SetPlayerStateBJ(p, PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) * 3 / 2 ))
		call DisplayTextToPlayer(p, 0, 0, "èµŒèµ¢äº†~")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶å’ŒéŸ¦å°å®èµŒåšèµ¢å¾—äº†å¤§é‡çš„é‡‘é’±ï¼Œåœæ€ªå°±é ä»–äº†")
		//if Ce[i]==4 then
		//	if udg_jdds[i]<6 then
		//		set udg_jdds[i] = udg_jdds[i]+1
		//	else
		//		if udg_jddsbool[i] == false then
		//			set udg_jddsbool[i] = true
		//			if udg_zhangmen[i]==true then
		//			else
		//				call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“é‰´å®šå¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		//			endif
		//			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ"+GetPlayerName(p)+"è·å¾—é‰´å®šå¤§å¸ˆ")
		//			call SetPlayerName(p, "ã€“é‰´å®šå¤§å¸ˆã€“"+GetPlayerName(p))
		//		endif
		//	endif
		//endif
	else
		call SetPlayerStateBJ(p, PLAYER_STATE_RESOURCE_GOLD, ( GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) / 2 ))
		call DisplayTextToPlayer(p, 0, 0, "èµŒè¾“äº†ï¼ï¼")
		if GetRandomInt(1, 100) <= 50 or (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
		// FIXME leak
			call createitemloc('I0C2' , GetUnitLoc(udg_hero[i]))
		endif
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶å’ŒéŸ¦å°å®è¾“å¾—ä¸€è¸ç³Šæ¶‚ï¼Œå¤§å®¶ç¥ˆç¥·å§")
	endif
	set s8=Player(15)
	set p=null
endfunction
function ZL takes nothing returns boolean
	return ( ( GetTriggerPlayer() == s8 ) and ( t8 ) )
endfunction
function dM takes nothing returns nothing
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFF66FF00æœ‰ç©å®¶æ”¾å¼ƒå’ŒéŸ¦å°å®èµŒåš")
set s8=Player(15)
endfunction
//FB2ç¨€æœ‰æ‰è½
function iM takes nothing returns boolean
	return ( ( RectContainsUnit(xf, GetTriggerUnit()) ) )
endfunction
function jM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) >= 98 ) and ( q8[2] != 'crys' ) ) then
call createitemloc(q8[2] , LoadLocationHandle(YDHT, id * cx, $1769D332))
if ( ( q8[2] == 'I02S' ) ) then
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 6))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 1))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB2å¥‡ç¼˜NPC
function mM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895639 ) ) // INLINED!!
endfunction
function nM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call RemoveUnit(r8[2])
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, - $3348E012, GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 'A033')
call IssueImmediateOrderById(bj_lastCreatedUnit, $D00C4)
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 3.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function pM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895640 ) ) // INLINED!!
endfunction
function qM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call RemoveUnit(r8[2])
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, - $3348E012, GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093678673)
call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, GetTriggerUnit())
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 3.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//è¿›å…¥å¤å¢“
function sM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function tM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] >= 800 ) and ( fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] >= 15 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Gf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000è¿›å…¥å¤å¢“æ¡ä»¶ï¼š\nç¦ç¼˜15ï¼Œæ±Ÿæ¹–å£°æœ›800")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function vM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function wM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(If))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function yM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function zM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function aM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function BM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Jf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function CM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function cM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Sf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function EM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function FM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Pf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function HM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function IM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Wf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function JM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function KM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Uf))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB3ç¨€æœ‰æ‰è½
function PM takes nothing returns boolean
return ( ( RectContainsUnit(Nf, GetTriggerUnit()) ) )
endfunction
function QM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) <= 5 ) and ( q8[3] != 'crys' ) ) then
call createitemloc(q8[3] , LoadLocationHandle(YDHT, id * cx, $1769D332))
if ( ( q8[3] == 'I02S' ) ) then
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 6))
call SaveInteger(YDHT, id * cx, - $77543A28, 0)
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, 0)
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 1))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//é«˜æ˜Œè¿·å®«
function SM takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227895876 ) )
endfunction
function TM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
if ( ( shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] >= $7D0 ) and ( fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] >= 18 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(zg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000è¿›å…¥é«˜æ˜Œè¿·å®«æ¡ä»¶ï¼š\nç¦ç¼˜18ï¼Œæ±Ÿæ¹–å£°æœ›2000")
endif
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00åªèƒ½ç”±ä¸»è§’äº²è‡ªå‰å¾€")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function VM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function WM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(dg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function YM takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function ZM takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(fg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function eN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function fN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(hg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function hN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function iN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(kg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function kN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function mN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(mg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function oN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function pN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(og))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function rN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function sN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(rg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function uN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function vN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(tg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function xN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function yN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(vg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function AN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function aN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(tg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function bN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function CN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(vg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function DN takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function EN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(og))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//è—ç»é˜
function GN takes nothing returns boolean
return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895880 ) )
endfunction
function HN takes nothing returns boolean
return ( ( GetUnitTypeId(GetFilterUnit()) == 'nsrh' ) )
endfunction
function IN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) == false ) ) then // INLINED!!
call AdjustPlayerStateBJ($4E20, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00åªèƒ½ç”±ä¸»è§’äº²è‡ªå‰å¾€")
else
if ( ( CountUnitsInGroup(wv(cg , Condition(function HN))) == 0 ) ) then
call AdjustPlayerStateBJ($4E20, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ‰«åœ°ç¥åƒ§ç›®å‰ä¸åœ¨è—ç»é˜ï¼Œä½ ç¨ä½œç­‰å¾…å†æ¥å§")
else
if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 3 ) ) then
call AdjustPlayerStateBJ($4E20, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å°šæœªå®Œæˆå†ç»ƒ3ä¹‹å‹‡é—¯åæ¶ä¸èµ¦å²›ä»»åŠ¡")
else
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Cg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFADFF2Fè¿›å…¥è—ç»é˜")
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB4ç¨€æœ‰æ‰è½
function MN takes nothing returns boolean
	return ( ( RectContainsUnit(Gg, GetTriggerUnit()) ) )
endfunction
function NN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) >= 98 ) and ( q8[4] != 'crys' ) ) then
call createitemloc(q8[4] , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//ç»æƒ…è°·åº•ä¹°ä¸¹
function PN takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227895885 ) )
endfunction
function QN takes nothing returns nothing
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
call unitadditembyidswapped(1227895371 , GetTriggerUnit())
else
call AdjustPlayerStateBJ(20, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10., "|CFFFF0000è¯¥é“å…·åªèƒ½ç”±ä¸»è§’äº²è‡ªè´­ä¹°")
endif
endfunction
function SN takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227895884 ) )
endfunction
function TN takes nothing returns nothing
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
call unitadditembyidswapped(1227895372 , GetTriggerUnit())
else
call AdjustPlayerStateBJ(20, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10., "|CFFFF0000è¯¥é“å…·åªèƒ½ç”±ä¸»è§’äº²è‡ªè´­ä¹°")
endif
endfunction
function VN takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227895883 ) )
endfunction
function WN takes nothing returns nothing
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
call unitadditembyidswapped('I02N' , GetTriggerUnit())
else
call AdjustPlayerStateBJ(20, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10., "|CFFFF0000è¯¥é“å…·åªèƒ½ç”±ä¸»è§’äº²è‡ªè´­ä¹°")
endif
endfunction
//ç»æƒ…è°·åº•å¼‚ç§
function YN takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nmpg' ) )
endfunction
function ZN takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetKillingUnit()))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
set u9=( u9 + 1 )
if ( ( u9 >= 7 ) ) then
set u9=0
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) <= 25 ) ) then
call createitemloc('I04Q' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 60) <= 20 ) ) then
call createitemloc('I04O' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call createitemloc('I04N' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I04P' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
endif
set N7=N7 + 1
endloop
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "ä¸‹æ¬¡å‡ºç°çµä¸¹ï¼š" + ( I2S(u9) + " / 7" ) ))
endif
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//è¿›å…¥ç»æƒ…è°·åº•
function eO takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227895882 ) )
endfunction
function fO takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
if ( ( shengwang[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] >= $BB8 ) and ( danpo[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] >= 20 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ig))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000è¿›å…¥ç»æƒ…è°·åº•æ¡ä»¶ï¼š\nèƒ†é­„20ï¼Œæ±Ÿæ¹–å£°æœ›3000")
endif
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00åªèƒ½ç”±ä¸»è§’äº²è‡ªå‰å¾€")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB5ç¨€æœ‰æ‰è½
function kO takes nothing returns boolean
return ( ( RectContainsUnit(Mg, GetTriggerUnit()) ) )
endfunction
function mO takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) >= 98 ) and ( q8[5] != 'crys' ) ) then
call createitemloc(q8[5] , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 7))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 7))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 2))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ¢ç´¢ç…ç¯ç‰æ´
function oO takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227895895 ) )
endfunction
function pO takes nothing returns nothing
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
if ( ( GetRandomInt(1, 60) <= 35 ) ) then
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10., "|CFFFF0000ç»è¿‡ä¸€ç•ªæ¢ç´¢ï¼Œç«Ÿç„¶ä»€ä¹ˆéƒ½æ²¡æœ‰å¾—åˆ°ï¼Œçœ‹æ¥ä½ çš„è¯šæ„è¿˜ä¸å¤Ÿå“¦~")
else
if ( ( GetRandomInt(1, 40) <= $A ) ) then
call unitadditembyidswapped(1227895865 , GetTriggerUnit())
else
if ( ( GetRandomInt(1, 30) <= $A ) ) then
call unitadditembyidswapped(1227895864 , GetTriggerUnit())
else
if ( ( GetRandomInt(1, 20) <= $A ) ) then
call unitadditembyidswapped(1227895863 , GetTriggerUnit())
else
call unitadditembyidswapped(1227895862 , GetTriggerUnit())
endif
endif
endif
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(GetOwningPlayer(GetTriggerUnit())) + ( "åœ¨æ¢ç´¢ç…ç¯ç‰æ´æ—¶ï¼Œæ— æ„ä¸­ç«Ÿç„¶å¾—åˆ°äº†" + GetItemName(bj_lastCreatedItem) ) ))
endif
else
call AdjustPlayerStateBJ($7530, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10., "|CFFFF0000åªèƒ½æœ‰ä¸»è§’äº²è‡ªæ¢ç´¢")
endif
endfunction
//æ¢¦å›å‰æœ
function rO takes nothing returns boolean
return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896133 ) )
endfunction
function sO takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) == false ) ) then // INLINED!!
call AdjustPlayerStateBJ($9C40, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00åªèƒ½ç”±ä¸»è§’äº²è‡ªå‰å¾€")
else
if ( ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 5 ) or ( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 5500 ) ) ) then
call AdjustPlayerStateBJ($9C40, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ¡ä»¶ä¸è¶³")
else
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Vg))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFADFF2Få›åˆ°äº†å‰æœ")
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//FB6ç¨€æœ‰æ‰è½
function xO takes nothing returns boolean
return ( ( RectContainsUnit(Yg, GetTriggerUnit()) ) )
endfunction
function yO takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, 1000) <= fuyuan[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) or ( GetRandomInt(1, 100) <= 30 and (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
set MM7=2
else
set MM7=1
endif
set N7=1
loop
exitwhen N7 > MM7
if ( ( GetRandomInt(1, 100) >= 98 ) and ( q8[6] != 'crys' ) ) then
call createitemloc(q8[6] , LoadLocationHandle(YDHT, id * cx, $1769D332))
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, GetRandomInt(1, 4))
call SaveInteger(YDHT, id * cx, $648579A8, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $180E5D51, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, - $77543A28, GetRandomInt(1, 5))
call SaveInteger(YDHT, id * cx, - $2D2EBEF5, GetRandomInt(1, 8))
call SaveInteger(YDHT, id * cx, 1732931645, GetRandomInt(0, 3))
call SaveInteger(YDHT, id * cx, - $4E51D54A, 0)
call SaveInteger(YDHT, id * cx, $44078039, 0)
call SaveInteger(YDHT, id * cx, - $6F9D2AE1, 0)
call SetItemUserData(bj_lastCreatedItem, ( ( ( ( ( ( ( ( ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) * $5F5E100 ) + ( LoadInteger(YDHT, id * cx, $648579A8) * $989680 ) ) + ( LoadInteger(YDHT, id * cx, - $180E5D51) * $F4240 ) ) + ( LoadInteger(YDHT, id * cx, - $77543A28) * $186A0 ) ) + ( LoadInteger(YDHT, id * cx, - $2D2EBEF5) * $2710 ) ) + ( LoadInteger(YDHT, id * cx, 1732931645) * $3E8 ) ) + ( LoadInteger(YDHT, id * cx, - $4E51D54A) * 100 ) ) + ( LoadInteger(YDHT, id * cx, $44078039) * $A ) ) + LoadInteger(YDHT, id * cx, - $6F9D2AE1) ))
endif
set N7=N7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//å¤§è¾½å›½
function AO takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function aO takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	call SetUnitPosition(udg_hero[i], - 13000, - 15500)
   	call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), - 13000, - 15500, 0)
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|CFF00ff33ä¼ é€è‡³å¤§è¾½å›½")
endfunction
//èšè´¤å±±åº„
function bO takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function CO takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	call SetUnitPosition(udg_hero[i], - 9000, - 14000)
   	call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), - 9000, - 14000, 0)
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|CFF00ff33ä¼ é€è‡³èšè´¤åº„")
//call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000èšè´¤å±±åº„ï¼ˆå½“å‰ç‰ˆæœ¬æš‚æœªå¼€æ”¾æ­¤åœ°å›¾ï¼‰")
endfunction
//å¤§æ¸…è—å®æ´
function DO takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) // INLINED!!
endfunction
function EO takes nothing returns nothing
local integer i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
//call SetUnitPosition(udg_hero[i],2091,-13158)
//call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),2091,-13158,0)
//call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000ä½ å·²è¿›å…¥åˆ°å¤§æ¸…è—å®æ´ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆå‘ç°å§")
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000å¤§æ¸…è—å®æ´ï¼ˆå½“å‰ç‰ˆæœ¬æš‚æœªå¼€æ”¾æ­¤åœ°å›¾ï¼‰")
endfunction
//ç‰çƒå²›
function GO takes nothing returns boolean
	return ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) // INLINED!!
endfunction
function HO takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if xiuxing[i] <= 5 then
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00ä¿®è¡Œè¾¾åˆ°6æ‰å¯ä»¥è¿›å…¥,ä½ çš„ä¿®è¡Œä¸è¶³ï¼Œè¯·å‰å¾€åœ°å›¾æŒ‡ç¤ºç‚¹ä¿®è¡Œå»å§")
	else
		call SetUnitPosition(udg_hero[i], 10943, 6760)
		call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 10943, 6760, 0)
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000ä½ å·²æ·±å…¥åˆ°æµ·å¤–ç‰çƒå²›ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆå‘ç°å§")
		//call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000ç‰çƒå²›ï¼ˆå½“å‰ç‰ˆæœ¬æš‚æœªå¼€æ”¾æ­¤åœ°å›¾ï¼‰")
	endif
endfunction
//ä¸€å“å±…
function lO takes nothing returns boolean
return ( ( GetItemTypeId(GetManipulatedItem()) == 1227897137 ) )
endfunction
function JO takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( xiuxing[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] <= 5 ) ) then
call AdjustPlayerStateBJ($C350, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00ä¿®è¡Œè¾¾åˆ°6æ‰å¯ä»¥è¿›å…¥,ä½ çš„ä¿®è¡Œä¸è¶³ï¼Œè¯·å‰å¾€åœ°å›¾æŒ‡ç¤ºç‚¹ä¿®è¡Œå»å§")
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Zg))
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( UnitHaveItem(GetTriggerUnit() , 1227897138) == false ) ) then
call AdjustPlayerStateBJ($C350, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00éœ€è¦ä¸€å“å±…è¯·å¸–æ‰å¯ä»¥è¿›å…¥")
else
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(vh))
call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit() , 1227897138))
else
call AdjustPlayerStateBJ($C350, Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00åªèƒ½ç”±ä¸»è§’äº²è‡ªè´­ä¹°å‰å¾€")
endif
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//------------------ä¹é˜³çœŸç»ç³»ç»Ÿ----------------------------
//ç‰¹æ®Šäº‹ä»¶ï¼šä¹é˜³çœŸç»ç³»ç»Ÿ
//äº‹ä»¶1ï¼šå¼€å±€5åˆ†é’Ÿå°‘æ—è—ç»é˜å‡ºç°å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­ï¼ˆå¤œé—´éšèº«ï¼‰   å‡»æ€å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­: ä¸¤æœ¬å¥‡æ­¦â€”â€”æ½‡æ¹˜å­çš„ã€Šå¯¿æœ¨é•¿ç”ŸåŠŸã€‹æˆ–å°¹å…‹è¥¿çš„ã€Šé»„æ²™ä¸‡é‡Œé­æ³•ã€‹ å…¨å‡»æ€äº‹ä»¶ç»“æŸ
//äº‹ä»¶2ï¼šäº‹ä»¶1å10~25åˆ†é’Ÿå†…çš„éšæœºæ—¶é—´ï¼Œè‹¥å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­æœªå…¨æ­»ï¼Œä¹é˜³çœŸç»è¢«äºŒäººå·èµ°ï¼Œè§‰è¿œå¤§å¸ˆå’Œå¼ å›å®å»è¿½  å‡»æ€è§‰è¿œå¤§å¸ˆå’Œå¼ å›å®ï¼šå‡ ç‡è·å¾—å¥‡æ­¦ã€Šä¹é˜³çœŸç»æ•£ç¯‡ã€‹ ä¸å‡»æ€äº‹ä»¶ç»“æŸï¼Œå°‘æ—é«˜ä»·å–ã€Šä¹é˜³çœŸç»æ®‹å·ã€‹
//äº‹ä»¶3ï¼šäº‹ä»¶2å10~25åˆ†é’Ÿå†…çš„éšæœºæ—¶é—´ï¼Œå¦‚æœè§‰è¿œå¤§å¸ˆå’Œå¼ å›å®éƒ½è¢«å‡»æ€ï¼Œåˆ™å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­é€ƒèµ°å¹¶å°†ç»ä¹¦è—å…¥ç™½çŒ¿è…¹ä¸­ï¼ŒäºŒäººæ–—æ®´è€Œæ­»   å‡»æ€ç™½çŒ¿â€”â€”å¾—åˆ°ä¼´ä¾£ç™½çŒ¿ äº‹ä»¶ç»“æŸ
//äº‹ä»¶4ï¼šäº‹ä»¶3å10~30åˆ†é’Ÿå†…çš„éšæœºæ—¶ï¼Œ è‹¥ç™½çŒ¿å­˜æ´»ï¼Œå‘ç”Ÿæ›¾é˜¿ç‰›å‰–è…¹å–ä¹¦äº‹ä»¶ï¼Œç™½çŒ¿æ­»äº¡ï¼ŒFB BOSS æ›¿æ¢ä¸ºæ›¾é˜¿ç‰›â€”â€”æ­¤åå¯ä»¥é‡å¤åˆ·æ–°ï¼Œå‡»æ€åè·å¾—ã€Šä¹é˜³çœŸç»æ®‹å·ã€‹
//å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­åœ¨è—ç»é˜å·å–ä¹é˜³ç¥åŠŸ
//å°¹å…‹è¥¿åæ ‡ï¼š6100,-1900
//æ½‡æ¹˜å­åæ ‡ï¼š6100,-2500
//å·ä¹¦æˆåŠŸ
function stealSuccess takes nothing returns nothing
 local unit ykx= LoadUnitHandle(YDHT, GetHandleId(jiuyangTimer1), 0)
 local unit xxz= LoadUnitHandle(YDHT, GetHandleId(jiuyangTimer1), 1)
	if ( IsUnitAliveBJ(ykx) or IsUnitAliveBJ(xxz) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šæ½‡æ¹˜å­å’Œå°¹å…‹è¥¿å°†ä¹é˜³çœŸç»ä»å°‘æ—å¯ºè—ç»é˜ä¸­çªƒå‡ºï¼Œéœ‡æƒŠæ­¦æ—ï¼ï¼å°‘æ—å¯ºå·²æ´¾å‡ºè§‰è¿œå’Œå¼ å›å®ç¼‰æ‹¿æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿ï¼")
		call ExecuteFunc("seekStealers")
	else
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šç”±äºæ½‡æ¹˜å­å’Œå°¹å…‹è¥¿è¢«æ±Ÿæ¹–è‹±é›„å‡»æ€ï¼Œä¹é˜³çœŸç»æœªä»å°‘æ—å¯ºè—ç»é˜ä¸­çªƒå‡ºï¼")
	endif
	call RemoveUnit(ykx)
	call RemoveUnit(xxz)
	call DestroyQuest(defeatStealer)
	call PauseTimer(jiuyangTimer1)
	call DestroyTimer(jiuyangTimer1)
	call DestroyTimerDialog(jiuyangTimerDialog1)
    set ykx=null
    set xxz=null
endfunction
function stealJiuYang takes nothing returns nothing
 local unit ykx= null
 local unit xxz= null
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šå°é“æ¶ˆæ¯ç§°æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿æ½œå…¥å°‘æ—å¯ºè—ç»é˜çªƒå–ä¹é˜³ç¥åŠŸç§˜ç±ï¼Œç›®å‰è¿˜æ— æ³•è¯å®æ¶ˆæ¯çš„çœŸå®æ€§")
	set defeatStealer=CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "å‡»æ€æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿", "ä¼ é—»æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿æ­£åœ¨å°‘æ—å¯ºè—ç»é˜çªƒå–ä¹é˜³çœŸç»ï¼Œç›®å‰å°šä¸çŸ¥çœŸå®æ€§å¦‚ä½•ã€‚å°‘ä¾ ä»¬å¯ä»¥å‰å¾€è—ç»é˜ä¸€æ¢ç©¶ç«Ÿã€‚ï¼ˆæç¤ºï¼šä¸ä¸€å®šè¦å‡»æ€æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿ï¼‰", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	//å°¹å…‹è¥¿
	call CreateNUnitsAtLoc(1, 'nrog', Player(12), Location(6100, - 1900), bj_UNIT_FACING)
	set ykx=bj_lastCreatedUnit
	//æ½‡æ¹˜å­
	call CreateNUnitsAtLoc(1, 'nban', Player(12), Location(6100, - 2500), bj_UNIT_FACING)
	set xxz=bj_lastCreatedUnit
	set jiuyangTimer1=CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(jiuyangTimer1), 0, ykx)
	call SaveUnitHandle(YDHT, GetHandleId(jiuyangTimer1), 1, xxz)
	call TimerStart(jiuyangTimer1, GetRandomInt(600, 1500), false, function stealSuccess)
	set jiuyangTimerDialog1=createTimerDialog(jiuyangTimer1 , "äºŒæ°ç›—ç»ä¹¦")
	set ykx=null
	set xxz=null
endfunction
//å‡»æ€å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­åå‡ ç‡è·å¾—å¥‡æ­¦ï¼šæ½‡æ¹˜å­çš„ã€Šå¯¿æœ¨é•¿ç”ŸåŠŸã€‹æˆ–å°¹å…‹è¥¿çš„ã€Šé»„æ²™ä¸‡é‡Œé­æ³•ã€‹ï¼Œæ±Ÿæ¹–å£°æœ›+1000
function isKillStealer takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'nrog' or GetUnitTypeId(GetTriggerUnit()) == 'nban'
endfunction
function killStealer takes nothing returns nothing
	call dropItem(GetKillingUnit() , 'I0CT' , 'I0CU' , 50)
endfunction
//éšåå¼ æ— å¿Œå°†ç»ä¹¦ä»ç™½çŒ¿è…¹ä¸­å–å‡ºï¼Œç™½çŒ¿æ­»äº¡ï¼Œå‰¯æœ¬7BOSSå˜ä¸ºå¼ æ— å¿Œï¼Œå‡»æ€åå¾—åˆ°ã€Šä¹é˜³çœŸç»æ®‹å·ã€‹
function baiYuanDeath takes nothing returns nothing
	if ( IsUnitAliveBJ(gg_unit_n00M_0131) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šä¼ é—»æœ‰ä¸€åå«æ›¾é˜¿ç‰›çš„æ­¦æ—æ–°ç§€ä»ç™¾å¹´å¤çŒ¿è…¹ä¸­å¾—åˆ°äº†ã€Šä¹é˜³ç¥åŠŸæ®‹å·ã€‹ï¼")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šç™¾å¹´å¤çŒ¿æ­»å»ï¼Œæ›¾é˜¿ç‰›å‡ºç°åœ¨åœ°å›¾ä¸Šï¼")
		call RemoveUnit(gg_unit_n00M_0131)
		call ShowUnit(gg_unit_n00N_0132, true)
	endif
	call PauseTimer(jiuyangTimer3)
	call DestroyTimer(jiuyangTimer3)
	call DestroyTimerDialog(jiuyangTimerDialog3)
endfunction
//ä¸å‡»æ€å°¹å…‹è¥¿å’Œæ½‡æ¹˜å­çš„è¯äºŒäººå°†ç»ä¹¦å·èµ°ï¼Œè§‰è¿œå¤§å¸ˆå’Œå¼ å›å®å»è¿½ç»ä¹¦ï¼Œè‹¥ä¸æ‰“è´¥è§‰è¿œå¤§å¸ˆå’Œå¼ å›å®ï¼Œç»ä¹¦å°†è¢«äºŒäººè¿½å›ï¼Œç»ä¹¦é‡å›å°‘æ—å¯ºè—ç»é˜ä¸­
function seekSuccess takes nothing returns nothing
 local unit jyds= LoadUnitHandle(YDHT, GetHandleId(jiuyangTimer2), 0)
 local unit zjb= LoadUnitHandle(YDHT, GetHandleId(jiuyangTimer2), 1)
	// local integer i = GetRandomInt(1200, 3000)
 local integer i= GetRandomInt(600, 1800)
	if ( IsUnitAliveBJ(jyds) or IsUnitAliveBJ(zjb) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šè§‰è¿œå’Œå¼ å›å®å·²æˆåŠŸç¼‰æ‹¿æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿å¹¶å¤ºå›ä¹é˜³çœŸç»ï¼Œä¹é˜³çœŸç»ç°å·²å½’è¿˜è—ç»é˜ï¼")
		// å°‘æ—å¯ºå‡ºç°è§‰è¿œå–ä¹é˜³çœŸç»æ®‹å·ï¼Œ300æœ¨å¤´ï¼Œä¹é˜³æ•£ç¯‡100æœ¨å¤´
		call CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'o02V', 2844, - 1500, 300)
	else
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šè§‰è¿œå’Œå¼ å›å®è¢«ä¸çŸ¥åæ±Ÿæ¹–äººå£«æ‰“è´¥ï¼Œæ½‡æ¹˜å­å’Œå°¹å…‹è¥¿é€ƒè·‘ï¼")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šæ½‡æ¹˜å­å’Œå°¹å…‹è¥¿äº’æ®´è€Œæ­»ï¼Œä¹é˜³çœŸç»ä¸çŸ¥æ‰€ç»ˆï¼ä¼ é—»æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿å°†çªƒèµ°çš„ä¹é˜³çœŸç»è—å…¥ç™½çŒ¿è…¹ä¸­ï¼")
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ±Ÿæ¹–å°æŠ¥ï¼šç™½çŒ¿åœ¨åœ°å›¾ä¸Šå‡ºç°ï¼ï¼ï¼")
		call ShowUnit(gg_unit_n00M_0131, true)
		set jiuyangTimer3=CreateTimer()
		call TimerStart(jiuyangTimer3, i, false, function baiYuanDeath)
		set jiuyangTimerDialog3=createTimerDialog(jiuyangTimer3 , "æ›¾é˜¿ç‰›å–è…¹ä¸­ä¹¦")
	endif
	call PauseTimer(jiuyangTimer2)
	call DestroyTimer(jiuyangTimer2)
	call DestroyTimerDialog(jiuyangTimerDialog2)
	call RemoveUnit(jyds)
	call RemoveUnit(zjb)
	call DestroyQuest(defeatSeeker)
	set jyds=null
	set zjb=null
endfunction
//è§‰è¿œå¤§å¸ˆåæ ‡ï¼š-1000 -14300
//å¼ å›å®åæ ‡ï¼š-1000 -13300
//å°¹å…‹è¥¿åæ ‡ï¼š-2000 -14300 ä¸­ç«‹æ— æ•ŒNPC
//æ½‡æ¹˜å­åæ ‡ï¼š-2000 -13300 ä¸­ç«‹æ— æ•ŒNPC
function seekStealers takes nothing returns nothing
 local unit ykx= null
 local unit xxz= null
 local unit jyds= null
 local unit zjb= null
 local integer i= GetRandomInt(600, 1500)
	call CreateNUnitsAtLoc(1, 'nrog', Player(12), Location(- 2000, - 14300), bj_UNIT_FACING)
	set ykx=bj_lastCreatedUnit
	call CreateNUnitsAtLoc(1, 'nban', Player(12), Location(- 2000, - 13300), bj_UNIT_FACING)
	set xxz=bj_lastCreatedUnit
	call CreateNUnitsAtLoc(1, 'n00K', Player(12), Location(- 1000, - 14300), bj_UNIT_FACING)
	set jyds=bj_lastCreatedUnit
	call CreateNUnitsAtLoc(1, 'n00L', Player(12), Location(- 1000, - 13300), bj_UNIT_FACING)
	set zjb=bj_lastCreatedUnit
	call UnitAddAbility(ykx, 'Avul')
	call UnitAddAbility(xxz, 'Avul')
	set defeatSeeker=CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "æ‰“è´¥è§‰è¿œå¤§å¸ˆå’Œå¼ å›å®", "ä¼ é—»æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿å·²å°†ä¹é˜³çœŸç»ä»å°‘æ—å¯ºè—ç»é˜çªƒå‡ºï¼Œè§‰è¿œå¤§å¸ˆå’Œå¼ å›å®æ­£åœ¨è¿½èµ¶ã€‚å°‘ä¾ ä»¬å¯¹ä¹é˜³çœŸç»æ„Ÿå…´è¶£å—ï¼Ÿï¼ˆæç¤ºï¼šå¯ä»¥æ‰“è´¥è§‰è¿œå¤§å¸ˆå’Œå¼ å›å®å¸®åŠ©æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿é€ƒè·‘ï¼Œå¦åˆ™ä¹é˜³çœŸç»å°†è¢«è¿½å›è—ç»é˜ï¼‰", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
	set jiuyangTimer2=CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(jiuyangTimer2), 0, jyds)
	call SaveUnitHandle(YDHT, GetHandleId(jiuyangTimer2), 1, zjb)
	call TimerStart(jiuyangTimer2, GetRandomInt(600, 1500), false, function seekSuccess)
	set jiuyangTimerDialog2=createTimerDialog(jiuyangTimer2 , "è¿½å›ç»ä¹¦")
	set ykx=null
	set xxz=null
	set jyds=null
	set zjb=null
endfunction
//è‹¥æ‰“è´¥è§‰è¿œå¤§å¸ˆå’Œå¼ å›å®ï¼Œå¯å‡ ç‡è·å¾—å¥‡æ­¦ã€Šä¹é˜³çœŸç»æ•£ç¯‡ã€‹ï¼Œæ±Ÿæ¹–å£°æœ›-1000
function isKillSeeker takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'n00K' or GetUnitTypeId(GetTriggerUnit()) == 'n00L'
endfunction
function killSeeker takes nothing returns nothing
	//å‡»æ€è€…å£°æœ›-500
	set shengwang[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=IMaxBJ(0, shengwang[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))] - 500)
	call dropItem(GetKillingUnit() , 'I0CV' , 0 , 50)
endfunction
//å¹¶ä¸”åœ¨åœ°å›¾ä¸Šå‡ºç°å‰¯æœ¬7â€”â€”ç™½çŒ¿ï¼Œå‡»æ€åå¾—åˆ°ä¼´ä¾£â€”â€”ç™½çŒ¿
function isKillBaiYuan takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'n00M'
endfunction
function killBaiYuan takes nothing returns nothing
	call dropItem(GetKillingUnit() , 'I0CS' , 0 , 100)
endfunction
//å‡»æ€æ›¾é˜¿ç‰›åå¾—åˆ°ä¹é˜³æ®‹å·
function isKillANiu takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'n00N'
endfunction
function killANiu takes nothing returns nothing
	call dropItem(GetKillingUnit() , 'I0CW' , 'I09Q' , 50)
endfunction
//------------------ä¹é˜³çœŸç»ç³»ç»Ÿç»“æŸ----------------------------
//-------å„ç§å‰¯æœ¬ç»“æŸ-------//
function Instances_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	set Kn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Kn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Kn, Condition(function WI))
	call TriggerAddAction(Kn, function XI)
	set Ln=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ln, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Ln, Condition(function ZI))
	call TriggerAddAction(Ln, function dl)
	// æ€é‡ç‹¼
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isKillWolf))
	call TriggerAddAction(t, function killWolf)
	set Mn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Mn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Mn, Condition(function fl))
	call TriggerAddAction(Mn, function gl)
	set Nn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Nn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Nn, Condition(function il))
	call TriggerAddAction(Nn, function jl)
	set Tn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Tn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Tn, Condition(function al))
	call TriggerAddAction(Tn, function Bl)
	set Un=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Un, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Un, Condition(function cl))
	call TriggerAddAction(Un, function KillTangWenLiang)
	set Vn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Vn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Vn, Condition(function Fl))
	call TriggerAddAction(Vn, function Gl)
	set Wn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Wn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Wn, Condition(function Il))
	call TriggerAddAction(Wn, function ll)
	set Xn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Xn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Xn, Condition(function Kl))
	call TriggerAddAction(Xn, function Ll)
	set Yn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Yn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Yn, Condition(function Nl))
	call TriggerAddAction(Yn, function Ol)
	set Zn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Zn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Zn, Condition(function Ql))
	call TriggerAddAction(Zn, function Rl)
	set do=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(do, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(do, Condition(function Tl))
	call TriggerAddAction(do, function Ul)
	set eo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(eo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(eo, Condition(function Wl))
	call TriggerAddAction(eo, function Xl)
	set fo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(fo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(fo, Condition(function Zl))
	call TriggerAddAction(fo, function dd1)
	set go=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(go, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(go, Condition(function f1))
	call TriggerAddAction(go, function g1)
	set ho=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ho, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(ho, Condition(function i1))
	call TriggerAddAction(ho, function j1)
	set io=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(io, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(io, Condition(function m1))
	call TriggerAddAction(io, function nn1)
	set jo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(jo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(jo, Condition(function p1))
	call TriggerAddAction(jo, function q1)
	set ko=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ko, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(ko, Condition(function t1))
	call TriggerAddAction(ko, function u1)
	set mo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(mo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(mo, Condition(function ww1))
	call TriggerAddAction(mo, function z1)
	set no=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(no, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(no, Condition(function a1))
	call TriggerAddAction(no, function B1)
	set oo=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(oo, 500.)
	call TriggerAddAction(oo, function C1)
	set po=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(po, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(po, Condition(function D1))
	call TriggerAddAction(po, function E1)
	set qo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(qo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(qo, Condition(function G1))
	call TriggerAddAction(qo, function H1)
	set ro=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ro, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(ro, Condition(function l1))
	call TriggerAddAction(ro, function J1)
	set so=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(so, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(so, Condition(function L1))
	call TriggerAddAction(so, function MM1)
	set to=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(to, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(to, Condition(function O1))
	call TriggerAddAction(to, function P1)
	set uo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(uo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(uo, Condition(function R1))
	call TriggerAddAction(uo, function S1)
	set vo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(vo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(vo, Condition(function U1))
	call TriggerAddAction(vo, function V1)
	set wo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(wo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(wo, Condition(function X1))
	call TriggerAddAction(wo, function Y1)
	set xo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(xo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(xo, Condition(function dJ))
	call TriggerAddAction(xo, function eJ)
	set yo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(yo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(yo, Condition(function gJ))
	call TriggerAddAction(yo, function hJ)
	set zo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(zo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(zo, Condition(function jJ))
	call TriggerAddAction(zo, function kJ)
	set Ao=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ao, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Ao, Condition(function nJ))
	call TriggerAddAction(Ao, function oJ)
	set ao=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ao, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(ao, Condition(function qJ))
	call TriggerAddAction(ao, function rJ)
	set Bo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Bo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Bo, Condition(function tJ))
	call TriggerAddAction(Bo, function uJ)
	set bo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(bo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(bo, Condition(function wJ))
	call TriggerAddAction(bo, function xJ)
	set Co=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Co, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Co, Condition(function zJ))
	call TriggerAddAction(Co, function AJ)
	set co=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(co, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(co, Condition(function BJ))
	call TriggerAddAction(co, function bJ)
	set Do=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Do, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Do, Condition(function cJ))
	call TriggerAddAction(Do, function DJ)
	set Do=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Do, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Do, Condition(function IsAiRen))
	call TriggerAddAction(Do, function KillAiRen)
	set Eo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Eo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Eo, Condition(function FJ))
	call TriggerAddAction(Eo, function GJ)
	set Wo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Wo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Wo, Condition(function JK))
	call TriggerAddAction(Wo, function KK)
	set sp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(sp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(sp, Condition(function IL))
	call TriggerAddAction(sp, function lL)
	set tp=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(tp, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(tp, Condition(function KL))
	call TriggerAddAction(tp, function LL)
	set vp=CreateTrigger()
	call TriggerRegisterPlayerSelectionEventBJ(vp, Player(0), true)
	call TriggerRegisterPlayerSelectionEventBJ(vp, Player(1), true)
	call TriggerRegisterPlayerSelectionEventBJ(vp, Player(2), true)
	call TriggerRegisterPlayerSelectionEventBJ(vp, Player(3), true)
	call TriggerRegisterPlayerSelectionEventBJ(vp, Player(4), true)
	call TriggerRegisterPlayerSelectionEventBJ(vp, Player(5), true)
	call TriggerAddCondition(vp, Condition(function NL))
	call TriggerAddAction(vp, function OL)
	set wp=CreateTrigger()
	call TriggerRegisterPlayerKeyEventBJ(wp, Player(0), 0, 3)
	call TriggerRegisterPlayerKeyEventBJ(wp, Player(1), 0, 3)
	call TriggerRegisterPlayerKeyEventBJ(wp, Player(2), 0, 3)
	call TriggerRegisterPlayerKeyEventBJ(wp, Player(3), 0, 3)
	call TriggerRegisterPlayerKeyEventBJ(wp, Player(4), 0, 3)
	call TriggerRegisterPlayerKeyEventBJ(wp, Player(5), 0, 3)
	call TriggerAddCondition(wp, Condition(function QL))
	call TriggerAddAction(wp, function RL)
	set xp=CreateTrigger()
	call TriggerRegisterPlayerKeyEventBJ(xp, Player(0), 0, 0)
	call TriggerRegisterPlayerKeyEventBJ(xp, Player(1), 0, 0)
	call TriggerRegisterPlayerKeyEventBJ(xp, Player(2), 0, 0)
	call TriggerRegisterPlayerKeyEventBJ(xp, Player(3), 0, 0)
	call TriggerRegisterPlayerKeyEventBJ(xp, Player(4), 0, 0)
	call TriggerRegisterPlayerKeyEventBJ(xp, Player(5), 0, 0)
	call TriggerAddCondition(xp, Condition(function TL))
	call TriggerAddAction(xp, function UL)
	set yp=CreateTrigger()
	call TriggerRegisterPlayerKeyEventBJ(yp, Player(0), 0, 1)
	call TriggerRegisterPlayerKeyEventBJ(yp, Player(1), 0, 1)
	call TriggerRegisterPlayerKeyEventBJ(yp, Player(2), 0, 1)
	call TriggerRegisterPlayerKeyEventBJ(yp, Player(3), 0, 1)
	call TriggerRegisterPlayerKeyEventBJ(yp, Player(4), 0, 1)
	call TriggerRegisterPlayerKeyEventBJ(yp, Player(5), 0, 1)
	call TriggerAddCondition(yp, Condition(function WL))
	call TriggerAddAction(yp, function XL)
	set zp=CreateTrigger()
	call TriggerRegisterPlayerKeyEventBJ(zp, Player(0), 0, 2)
	call TriggerRegisterPlayerKeyEventBJ(zp, Player(1), 0, 2)
	call TriggerRegisterPlayerKeyEventBJ(zp, Player(2), 0, 2)
	call TriggerRegisterPlayerKeyEventBJ(zp, Player(3), 0, 2)
	call TriggerRegisterPlayerKeyEventBJ(zp, Player(4), 0, 2)
	call TriggerRegisterPlayerKeyEventBJ(zp, Player(5), 0, 2)
	call TriggerAddCondition(zp, Condition(function ZL))
	call TriggerAddAction(zp, function dM)
	set ap=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(ap, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(ap, Condition(function iM))
	call TriggerAddAction(ap, function jM)
	set Bp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Bp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Bp, Condition(function mM))
	call TriggerAddAction(Bp, function nM)
	set bp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(bp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(bp, Condition(function pM))
	call TriggerAddAction(bp, function qM)
	set Cp=CreateTrigger()
	call TriggerAddRect(Cp , Ff)
	call TriggerAddCondition(Cp, Condition(function sM))
	call TriggerAddAction(Cp, function tM)
	set cp=CreateTrigger()
	call TriggerAddRect(cp , Hf)
	call TriggerAddCondition(cp, Condition(function vM))
	call TriggerAddAction(cp, function wM)
	set Dp=CreateTrigger()
	call TriggerAddRect(Dp , lf)
	call TriggerAddCondition(Dp, Condition(function yM))
	call TriggerAddAction(Dp, function zM)
	set Ep=CreateTrigger()
	call TriggerAddRect(Ep , Kf)
	call TriggerAddCondition(Ep, Condition(function aM))
	call TriggerAddAction(Ep, function BM)
	set Fp=CreateTrigger()
	call TriggerAddRect(Fp , Of)
	call TriggerAddCondition(Fp, Condition(function CM))
	call TriggerAddAction(Fp, function cM)
	set Gp=CreateTrigger()
	call TriggerAddRect(Gp , Qf)
	call TriggerAddCondition(Gp, Condition(function EM))
	call TriggerAddAction(Gp, function FM)
	set Hp=CreateTrigger()
	call TriggerAddRect(Hp , Tf)
	call TriggerAddCondition(Hp, Condition(function HM))
	call TriggerAddAction(Hp, function IM)
	set Ip=CreateTrigger()
	call TriggerAddRect(Ip , Vf)
	call TriggerAddCondition(Ip, Condition(function JM))
	call TriggerAddAction(Ip, function KM)
	set Jp=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(Jp, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Jp, Condition(function PM))
	call TriggerAddAction(Jp, function QM)
	set Kp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Kp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Kp, Condition(function SM))
	call TriggerAddAction(Kp, function TM)
	set Lp=CreateTrigger()
	call TriggerAddRect(Lp , eg)
	call TriggerAddCondition(Lp, Condition(function VM))
	call TriggerAddAction(Lp, function WM)
	set Mp=CreateTrigger()
	call TriggerAddRect(Mp , gg)
	call TriggerAddCondition(Mp, Condition(function YM))
	call TriggerAddAction(Mp, function ZM)
	set Np=CreateTrigger()
	call TriggerAddRect(Np , ig)
	call TriggerAddCondition(Np, Condition(function eN))
	call TriggerAddAction(Np, function fN)
	set Op=CreateTrigger()
	call TriggerAddRect(Op , jg)
	call TriggerAddCondition(Op, Condition(function hN))
	call TriggerAddAction(Op, function iN)
	set Pp=CreateTrigger()
	call TriggerAddRect(Pp , ng)
	call TriggerAddCondition(Pp, Condition(function kN))
	call TriggerAddAction(Pp, function mN)
	set Qp=CreateTrigger()
	call TriggerAddRect(Qp , pg)
	call TriggerAddCondition(Qp, Condition(function oN))
	call TriggerAddAction(Qp, function pN)
	set Rp=CreateTrigger()
	call TriggerAddRect(Rp , qg)
	call TriggerAddCondition(Rp, Condition(function rN))
	call TriggerAddAction(Rp, function sN)
	set Sp=CreateTrigger()
	call TriggerAddRect(Sp , sg)
	call TriggerAddCondition(Sp, Condition(function uN))
	call TriggerAddAction(Sp, function vN)
	set Tp=CreateTrigger()
	call TriggerAddRect(Tp , ug)
	call TriggerAddCondition(Tp, Condition(function xN))
	call TriggerAddAction(Tp, function yN)
	set Up=CreateTrigger()
	call TriggerAddRect(Up , wg)
	call TriggerAddCondition(Up, Condition(function AN))
	call TriggerAddAction(Up, function aN)
	set Vp=CreateTrigger()
	call TriggerAddRect(Vp , xg)
	call TriggerAddCondition(Vp, Condition(function bN))
	call TriggerAddAction(Vp, function CN)
	set Wp=CreateTrigger()
	call TriggerAddRect(Wp , yg)
	call TriggerAddCondition(Wp, Condition(function DN))
	call TriggerAddAction(Wp, function EN)
	set Xp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Xp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Xp, Condition(function GN))
	call TriggerAddAction(Xp, function IN)
	set Zp=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(Zp, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Zp, Condition(function MN))
	call TriggerAddAction(Zp, function NN)
	set dq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(dq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(dq, Condition(function PN))
	call TriggerAddAction(dq, function QN)
	set eq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(eq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(eq, Condition(function SN))
	call TriggerAddAction(eq, function TN)
	set fq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(fq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(fq, Condition(function VN))
	call TriggerAddAction(fq, function WN)
	set gq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(gq, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(gq, Condition(function YN))
	call TriggerAddAction(gq, function ZN)
	set hq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(hq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(hq, Condition(function eO))
	call TriggerAddAction(hq, function fO)
	set jq=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(jq, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(jq, Condition(function kO))
	call TriggerAddAction(jq, function mO)
	set kq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(kq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(kq, Condition(function oO))
	call TriggerAddAction(kq, function pO)
	set mq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(mq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(mq, Condition(function rO))
	call TriggerAddAction(mq, function sO)
	set oq=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(oq, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(oq, Condition(function xO))
	call TriggerAddAction(oq, function yO)
	set pq=CreateTrigger()
	call TriggerAddRect(pq , gh)
	call TriggerAddCondition(pq, Condition(function AO))
	call TriggerAddAction(pq, function aO)
	set qq=CreateTrigger()
	call TriggerAddRect(qq , fh)
	call TriggerAddCondition(qq, Condition(function bO))
	call TriggerAddAction(qq, function CO)
	set rq=CreateTrigger()
	call TriggerAddRect(rq , jh)
	call TriggerAddCondition(rq, Condition(function DO))
	call TriggerAddAction(rq, function EO)
	set sq=CreateTrigger()
	call TriggerAddRect(sq , udg_liuqiu)
	call TriggerAddCondition(sq, Condition(function GO))
	call TriggerAddAction(sq, function HO)
	set tq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(tq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(tq, Condition(function lO))
	call TriggerAddAction(tq, function JO)
	//ç‰¹æ®Šäº‹ä»¶ï¼šæ½‡æ¹˜å­å’Œå°¹å…‹è¥¿åˆ°è—ç»é˜ç›—å–ä¹é˜³ç¥åŠŸç»ä¹¦
	set t=CreateTrigger()
	// call TriggerRegisterTimerEventSingle(t, GetRandomInt(60, 1800))
	call TriggerRegisterTimerEventSingle(t, 300)
	call TriggerAddAction(t, function stealJiuYang)
	//å‡»æ€æ½‡æ¹˜å­å’Œå°¹å…‹è¥¿ï¼Œè·å¾—å¥‡æ­¦ï¼Œäº‹ä»¶ç»“æŸ
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isKillStealer))
	call TriggerAddAction(t, function killStealer)
	//å‡»æ€è§‰è¿œå¤§å¸ˆå’Œå¼ å›å®ï¼Œè·å¾—å¥‡æ­¦ï¼Œäº‹ä»¶ç»“æŸ
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isKillSeeker))
	call TriggerAddAction(t, function killSeeker)
	//å‡»æ€ç™½çŒ¿ï¼Œè·å¾—ä¼´ä¾£ç™½çŒ¿
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isKillBaiYuan))
	call TriggerAddAction(t, function killBaiYuan)
	//å‡»æ€æ›¾é˜¿ç‰›ï¼Œè·å¾—ä¹é˜³æ®‹å·
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isKillANiu))
	call TriggerAddAction(t, function killANiu)
	set t=null
endfunction
//-------------- å†ç»ƒç³»ç»Ÿ ----------------
// å†ç»ƒ1ï¼šå¤§æˆ˜æ±Ÿå—ä¸ƒæ€ª
// å†ç»ƒ2ï¼šåå…«ç½—æ±‰é˜µ
// å†ç»ƒ3ï¼šåæ¶ä¸èµ¦
// å†ç»ƒ4ï¼šæŒ‘æˆ˜å…‰æ˜é¡¶
// å†ç»ƒ5ï¼šåå±±è®ºå‰‘
// å†ç»ƒ6ï¼šå¤é¾™ä¼ å¥‡
//----------------------------------------
//å¤§æˆ˜æ±Ÿå—ä¸ƒæ€ª
function XQ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895630 ) ) // INLINED!!
endfunction
function YQ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetRectCenter(tf)
	if ( GetUnitLevel(u) < 10 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³10çº§æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
		if ( shengwang[i] < 500 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³500æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
		else
			if ( xiuxing[i] >= 1 ) then
				call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä»»åŠ¡äº†")
			else
				if ( J8[i] == 0 ) then
					set J8[i]=1
					call PlaySoundOnUnitBJ(bh, 100, u)
					call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCè¯·å‰å¾€æŒ‘æˆ˜|r|cFFADFF2Fæ±Ÿå—ä¸ƒæ€ª|r\n")
					call PingMinimapLocForForce(ov(p), loc, 5.)
					call RemoveLocation(loc)
				else
					call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCè¯·å‰å¾€æŒ‘æˆ˜|r|cFFADFF2Fæ±Ÿå—ä¸ƒæ€ª|r\n")
				endif
			endif
		endif
	endif
	set u=null
	set p=null
	set loc=null
endfunction
function dR takes nothing returns boolean
	return ( J8[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] == 1 and ( GetUnitTypeId(GetTriggerUnit()) == 'owar' or GetUnitTypeId(GetTriggerUnit()) == 'nw2w' or GetUnitTypeId(GetTriggerUnit()) == 'ohun' or GetUnitTypeId(GetTriggerUnit()) == 'opeo' or GetUnitTypeId(GetTriggerUnit()) == 'nogm' or GetUnitTypeId(GetTriggerUnit()) == 'hsor' or GetUnitTypeId(GetTriggerUnit()) == 'ntkt' ) )
endfunction
function eR takes nothing returns nothing
 local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetUnitTypeId(GetTriggerUnit()) == 'owar' then
		set LLguaiA[i]=1
	endif
	if GetUnitTypeId(GetTriggerUnit()) == 'nw2w' then
		set LLguaiG[i]=1
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( JING_WU) - 1)])) != 0) then // INLINED!!
			if GetRandomReal(1, 100) <= 40. then
				call createitemloc('I0C6' , GetUnitLoc(u))
			endif
		else
			if GetRandomReal(1, 100) <= 20. then
				call createitemloc('I0C6' , GetUnitLoc(u))
			endif
		endif
	endif
	if GetUnitTypeId(GetTriggerUnit()) == 'ohun' then
		set LLguaiB[i]=1
	endif
	if GetUnitTypeId(GetTriggerUnit()) == 'opeo' then
		set LLguaiC[i]=1
	endif
	if GetUnitTypeId(GetTriggerUnit()) == 'nogm' then
		set LLguaiD[i]=1
	endif
	if GetUnitTypeId(GetTriggerUnit()) == 'hsor' then
		set LLguaiE[i]=1
	endif
	if GetUnitTypeId(GetTriggerUnit()) == 'ntkt' then
		set LLguaiF[i]=1
	endif
	if LLguaiA[i] == 1 and LLguaiB[i] == 1 and LLguaiC[i] == 1 and LLguaiD[i] == 1 and LLguaiE[i] == 1 and LLguaiF[i] == 1 and LLguaiG[i] == 1 then
		//set shengwang[i]=shengwang[i]+350
		set xiuxing[i]=1
		if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
			call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 2)
			call SetUnitAcquireRange(GetKillingUnit(), 700)
		endif
		set udg_lilianxishu[i]=1.7
		set danpo[i]=( danpo[i] + 1 )
		set gengu[i]=( gengu[i] + 1 )
		set fuyuan[i]=( fuyuan[i] + 1 )
		set jingmai[i]=( jingmai[i] + 1 )
		set wuxing[i]=( wuxing[i] + 1 )
		set yishu[i]=( yishu[i] + 1 )
		set J8[i]=2
		
		call PlaySoundOnUnitBJ(Hh, 100, u)
		call unitadditembyidswapped(1227895371 , u)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å¤§æˆ˜æ±Ÿå—ä¸ƒæ€ªï¼Œä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œå¥–åŠ±ä¹¾å¤ä¸¹ä¸€ä¸ª")
		if ( GetRandomInt(1, 30) <= fuyuan[i] - 5 ) then
			call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , u)
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
		endif
		// å•é€š5é—¨æ´¾å¥–åŠ±
		if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
			set udg_shuxing[i]=udg_shuxing[i] + 1
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
		endif
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00éŸ©å°è¹ï¼š" + ( I2S(LLguaiE[i]) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å…¨é‡‘å‘ï¼š" + ( I2S(LLguaiC[i]) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å¼ é˜¿ç”Ÿï¼š" + ( I2S(LLguaiF[i]) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å—å¸Œä»ï¼š" + ( I2S(LLguaiB[i]) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00éŸ©å®é©¹ï¼š" + ( I2S(LLguaiD[i]) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æœ±èªï¼š" + ( I2S(LLguaiG[i]) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æŸ¯é•‡æ¶ï¼š" + ( I2S(LLguaiA[i]) + " / 1" ) ))
	endif
	set u=null
	set p=null
endfunction
//åå…«ç½—æ±‰é˜µ
function gR takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895641 ) ) // INLINED!!
endfunction
function hR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetFilterUnit()) == 1852862003 ) )
endfunction
function iR takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction
function jR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	if ( ( GetUnitLevel(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) < 25 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³25çº§æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 1800 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³1800æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 1 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å¿…é¡»å…ˆå®Œæˆå†ç»ƒ1ä»»åŠ¡")
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Te))
	call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 2 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä»»åŠ¡äº†")
	else
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Mf))
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(1200. , LoadLocationHandle(YDHT, id * cx, $5E83114F) , Condition(function hR)), function iR)
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æˆ’å¾‹ä¸»æŒï¼š|r |cFF99FFCCæƒ³è¯æ˜è‡ªå·±çš„èƒ½åŠ›å°±è¦é€šå…³å°‘æ—|r|cFFADFF2Fåå…«ç½—æ±‰é˜µ")
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call TriggerSleepAction(2)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call TriggerSleepAction(4.)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call TriggerSleepAction(6.)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRandomLocInRect(Mf))
	call CreateNUnitsAtLoc(1, 1852862003, Player(12), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	endif
	endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function mR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852862003 ) and ( xiuxing[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] == 1 ) )
endfunction
function nR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	set N8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( N8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	if ( ( N8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 18 ) ) then
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=2
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 3)
		call SetUnitAcquireRange(GetKillingUnit(), 800)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=2.6
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	if udg_runamen[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))] != 11 then
	    call unitadditembyidswapped(1227895642 , GetKillingUnit())
	    call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡åå…«ç½—æ±‰é˜µï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œé—¨æ´¾æ¯•ä¸šå·")
	else
	    call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡åå…«ç½—æ±‰é˜µï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1")
	endif
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "åå…«ç½—æ±‰ï¼š" + ( I2S(N8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 18" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//åæ¶ä¸èµ¦
function sR takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895879 ) ) // INLINED!!
endfunction
function tR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	if ( ( GetUnitLevel(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) < 40 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³40çº§æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 3200 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³3200æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 2 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å¿…é¡»å…ˆå®Œæˆå†ç»ƒ2ä»»åŠ¡")
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(ag))
	call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 3 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä»»åŠ¡äº†")
	else
	if ( ( h9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ag))
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é»„è“‰ï¼š|r|cFFADFF2Fåæ¶ä¸èµ¦ |r|cFF99FFCCå±å®³æ­¦æ—æ±Ÿæ¹–å¤šå¹´ï¼Œä½ é¡»åœ¨|r|cFFADFF2F2åˆ†é’Ÿå†…|r|cFF99FFCCå‡»æ€è¶…è¿‡100åªï¼Œæ‰èƒ½å®Œæˆä»»åŠ¡")
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ag))
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é»„è“‰ï¼š|r|cFFADFF2Fåæ¶ä¸èµ¦ |r|cFF99FFCCå±å®³æ­¦æ—æ±Ÿæ¹–å¤šå¹´ï¼Œä½ é¡»åœ¨|r|cFFADFF2F150ç§’å†…|r|cFF99FFCCå‡»æ€è¶…è¿‡100åªï¼Œæ‰èƒ½å®Œæˆä»»åŠ¡")
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call StartTimerBJ(f9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], false, 150.)
	call CreateTimerDialogBJ(bj_lastStartedTimer, "é—¯å…³å€’è®¡æ—¶:")
	call TimerDialogDisplayForPlayerBJ(true, bj_lastCreatedTimerDialog, GetOwningPlayer(GetTriggerUnit()))
	set g9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=bj_lastCreatedTimerDialog
	set h9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
	set i9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	endif
	endif
	endif
	endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function vR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndtb' ) and ( h9[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function wR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	set i9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( i9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	if ( ( i9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 100 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 4)
		call SetUnitAcquireRange(GetKillingUnit(), 900)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4.2
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set h9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å‹‡é—¯åæ¶ä¸èµ¦å²›ï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œè„±èƒæ¢éª¨ä¸¹1ä¸ªï¼Œä½ å¯ä»¥å‰å¾€è—ç»é˜äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(g9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(f9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call unitadditembyidswapped(1227895374 , GetKillingUnit())
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "åæ¶ä¸èµ¦ï¼š" + ( I2S(i9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 100" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function yR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 1)
	call DestroyTimerDialog(g9[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(bg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set h9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function AR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 2)
	call DestroyTimerDialog(g9[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(bg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set h9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function BR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 3)
	call DestroyTimerDialog(g9[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(bg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set h9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function CR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 4)
	call DestroyTimerDialog(g9[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(bg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set h9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function DR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 5)
	call DestroyTimerDialog(g9[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(bg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set h9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//æŒ‘æˆ˜å…‰æ˜é¡¶
function FR takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895893 ) ) // INLINED!!
endfunction
function GR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	if ( ( GetUnitLevel(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) < 55 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³55çº§æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 5500 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³5500æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 3 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å¿…é¡»å…ˆå®Œæˆå†ç»ƒ3ä»»åŠ¡")
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
	call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 4 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä»»åŠ¡äº†")
	else
	if ( ( T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Jg))
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Jg))
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	set LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	set LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	set LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	set LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	set LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call StartTimerBJ(Z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], false, 240.)
	call CreateTimerDialogBJ(bj_lastStartedTimer, "æ”»æ‰“å…‰æ˜é¡¶å€’è®¡æ—¶:")
	call TimerDialogDisplayForPlayerBJ(true, bj_lastCreatedTimerDialog, GetOwningPlayer(GetTriggerUnit()))
	set dd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=bj_lastCreatedTimerDialog
	set T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
	endif
	endif
	endif
	endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function IR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853056884 ) and ( T9[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function lR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
	set LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 5)
		call SetUnitAcquireRange(GetKillingUnit(), 1000)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=7.
	set T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å‹‡é—¯å…‰æ˜é¡¶ï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é€é¥å®«äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(Z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function KR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nsgb' ) and ( T9[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function LR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
	set LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 5)
		call SetUnitAcquireRange(GetKillingUnit(), 1000)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=7.
	set T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å‹‡é—¯å…‰æ˜é¡¶ï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é€é¥å®«äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(Z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function NR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nsgn' ) and ( T9[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function OR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
	set LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 5)
		call SetUnitAcquireRange(GetKillingUnit(), 1000)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=7.
	set T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å‹‡é—¯å…‰æ˜é¡¶ï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é€é¥å®«äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(Z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function QR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ntkc' ) and ( T9[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function RR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
	set LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 5)
		call SetUnitAcquireRange(GetKillingUnit(), 1000)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=7.
	set T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å‹‡é—¯å…‰æ˜é¡¶ï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é€é¥å®«äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(Z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function TR takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nwzr' ) and ( T9[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function UR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
	set LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) and ( LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 5)
		call SetUnitAcquireRange(GetKillingUnit(), 1000)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=7.
	set T9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å‹‡é—¯å…‰æ˜é¡¶ï¼Œè·å¾—ä¿®è¡Œ+1ï¼Œå…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é€é¥å®«äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(Z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç´«æ‰é¾™ç‹ï¼š" + ( I2S(LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é’ç¿¼è ç‹ï¼š" + ( I2S(LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é‡‘æ¯›ç‹®ç‹ï¼š" + ( I2S(LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ç™½çœ‰é¹°ç‹ï¼š" + ( I2S(LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é˜³é¡¶å¤©ï¼š" + ( I2S(LLguaiE[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä»»åŠ¡å¤±è´¥
function WR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 1)
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Kg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set T9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function YR takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 2)
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Kg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set T9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function dS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 3)
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Kg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set T9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function fS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 4)
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Kg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set T9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function hS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 5)
	call DestroyTimerDialog(dd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Kg, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set T9[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//åå±±è®ºå‰‘
function jS takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895896 ) ) // INLINED!!
endfunction
function kS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	if ( ( GetUnitLevel(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) < 70 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³70çº§æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 7500 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³7500æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] < 4 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å¿…é¡»å…ˆå®Œæˆå†ç»ƒ4ä»»åŠ¡")
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Lg))
	call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	if ( ( xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 5 ) ) then
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä»»åŠ¡äº†")
	else
	if ( ( ed[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Qg))
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Qg))
	call SetUnitPositionLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	set LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	set LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	set LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	set LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 1 )) + " / 1" ) ))
	call StartTimerBJ(fd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], false, 280.)
	call CreateTimerDialogBJ(bj_lastStartedTimer, "åå±±è®ºå‰‘å€’è®¡æ—¶")
	call TimerDialogDisplayForPlayerBJ(true, bj_lastCreatedTimerDialog, GetOwningPlayer(GetTriggerUnit()))
	set gd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=bj_lastCreatedTimerDialog
	set ed[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
	endif
	endif
	endif
	endif
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function nS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1869050475 ) and ( ed[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function oS takes nothing returns nothing
 local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc= null
	if ( ( LLguaiA[i] == 1 ) ) then
		set LLguaiA[i]=2
		if ( ( LLguaiA[i] == 2 ) and ( LLguaiB[i] == 2 ) and ( LLguaiC[i] == 2 ) and ( LLguaiD[i] == 2 ) ) then
			call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
			set xiuxing[i]=5
			if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
				call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 6)
				call SetUnitAcquireRange(GetKillingUnit(), 1100)
			endif
			set udg_lilianxishu[i]=12.
			set ed[i]=false
			set danpo[i]=( danpo[i] + 1 )
			set gengu[i]=( gengu[i] + 1 )
			set fuyuan[i]=( fuyuan[i] + 1 )
			set jingmai[i]=( jingmai[i] + 1 )
			set wuxing[i]=( wuxing[i] + 1 )
			set yishu[i]=( yishu[i] + 1 )
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡åå±±è®ºå‰‘ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é»‘æœ¨å´–äº†")
			// å•é€š5é—¨æ´¾å¥–åŠ±
			if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
				set udg_shuxing[i]=udg_shuxing[i] + 1
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
			endif
			call DestroyTimerDialog(gd[i])
			set loc=GetRectCenter(Rg)
			call SetUnitPositionLoc(udg_hero[i], loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
		endif
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
	endif
	set u=null
	set p=null
	set loc=null
endfunction
function qS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853058150 ) and ( ed[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function rS takes nothing returns nothing
 local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc= null
	if ( ( LLguaiB[i] == 1 ) ) then
		set LLguaiB[i]=2
		if ( ( LLguaiA[i] == 2 ) and ( LLguaiB[i] == 2 ) and ( LLguaiC[i] == 2 ) and ( LLguaiD[i] == 2 ) ) then
			call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
			set xiuxing[i]=5
			if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
				call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 6)
				call SetUnitAcquireRange(GetKillingUnit(), 1100)
			endif
			set udg_lilianxishu[i]=12.
			set ed[i]=false
			set danpo[i]=( danpo[i] + 1 )
			set gengu[i]=( gengu[i] + 1 )
			set fuyuan[i]=( fuyuan[i] + 1 )
			set jingmai[i]=( jingmai[i] + 1 )
			set wuxing[i]=( wuxing[i] + 1 )
			set yishu[i]=( yishu[i] + 1 )
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡åå±±è®ºå‰‘ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é»‘æœ¨å´–äº†")
			// å•é€š5é—¨æ´¾å¥–åŠ±
			if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
				set udg_shuxing[i]=udg_shuxing[i] + 1
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
			endif
			call DestroyTimerDialog(gd[i])
			set loc=GetRectCenter(Rg)
			call SetUnitPositionLoc(udg_hero[i], loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
		endif
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
	endif
	set u=null
	set p=null
	set loc=null
endfunction
function tS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853323879 ) and ( ed[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function uS takes nothing returns nothing
local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc= null
	if ( ( LLguaiC[i] == 1 ) ) then
		set LLguaiC[i]=2
		if ( ( LLguaiA[i] == 2 ) and ( LLguaiB[i] == 2 ) and ( LLguaiC[i] == 2 ) and ( LLguaiD[i] == 2 ) ) then
			call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
			set xiuxing[i]=5
			if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
				call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 6)
				call SetUnitAcquireRange(GetKillingUnit(), 1100)
			endif
			set udg_lilianxishu[i]=12.
			set ed[i]=false
			set danpo[i]=( danpo[i] + 1 )
			set gengu[i]=( gengu[i] + 1 )
			set fuyuan[i]=( fuyuan[i] + 1 )
			set jingmai[i]=( jingmai[i] + 1 )
			set wuxing[i]=( wuxing[i] + 1 )
			set yishu[i]=( yishu[i] + 1 )
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡åå±±è®ºå‰‘ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é»‘æœ¨å´–äº†")
			// å•é€š5é—¨æ´¾å¥–åŠ±
			if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
				set udg_shuxing[i]=udg_shuxing[i] + 1
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
			endif
			call DestroyTimerDialog(gd[i])
			set loc=GetRectCenter(Rg)
			call SetUnitPositionLoc(udg_hero[i], loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
		endif
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
	endif
	set u=null
	set p=null
	set loc=null
endfunction
function wS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853320818 ) and ( ed[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function xS takes nothing returns nothing
local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc= null
	if ( ( LLguaiD[i] == 1 ) ) then
		set LLguaiD[i]=2
		if ( ( LLguaiA[i] == 2 ) and ( LLguaiB[i] == 2 ) and ( LLguaiC[i] == 2 ) and ( LLguaiD[i] == 2 ) ) then
			call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
			set xiuxing[i]=5
			if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
				call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 6)
				call SetUnitAcquireRange(GetKillingUnit(), 1100)
			endif
			set udg_lilianxishu[i]=12.
			set ed[i]=false
			set danpo[i]=( danpo[i] + 1 )
			set gengu[i]=( gengu[i] + 1 )
			set fuyuan[i]=( fuyuan[i] + 1 )
			set jingmai[i]=( jingmai[i] + 1 )
			set wuxing[i]=( wuxing[i] + 1 )
			set yishu[i]=( yishu[i] + 1 )
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡åå±±è®ºå‰‘ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€é»‘æœ¨å´–äº†")
			// å•é€š5é—¨æ´¾å¥–åŠ±
			if LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
				set udg_shuxing[i]=udg_shuxing[i] + 1
				call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
			endif
			call DestroyTimerDialog(gd[i])
			set loc=GetRectCenter(Rg)
			call SetUnitPositionLoc(udg_hero[i], loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
			call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
		endif
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00é»„è¯å¸ˆï¼š" + ( I2S(( LLguaiA[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ¬§é˜³é”‹ï¼š" + ( I2S(( LLguaiB[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00ä¸€ç¯å¤§å¸ˆï¼š" + ( I2S(( LLguaiC[i] - 1 )) + " / 1" ) ))
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š" + ( I2S(( LLguaiD[i] - 1 )) + " / 1" ) ))
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//ä»»åŠ¡å¤±è´¥
function zS takes nothing returns boolean
	return ( ( ed[1] ) )
endfunction
function AS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 1)
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Rf, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Rg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set ed[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function BS takes nothing returns boolean
	return ( ( ed[2] ) )
endfunction
function bS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 2)
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Rf, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Rg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set ed[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function cS takes nothing returns boolean
	return ( ( ed[3] ) )
endfunction
function DS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 3)
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Rf, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Rg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set ed[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function FS takes nothing returns boolean
	return ( ( ed[4] ) )
endfunction
function GS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 4)
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Rf, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Rg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set ed[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function IS takes nothing returns boolean
	return ( ( ed[5] ) )
endfunction
function lS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $63F0AAA2, 5)
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	if ( ( RectContainsUnit(Rf, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)]) ) ) then
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Rg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	endif
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $63F0AAA2) )), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set ed[LoadInteger(YDHT, id * cx, - $63F0AAA2)]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $63F0AAA2)])
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//å¤é¾™ä¼ å¥‡
function KS takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896386 ) ) // INLINED!!
endfunction
function LS takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( GetUnitLevel(u) < 100 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç­‰çº§ä¸è¶³100çº§æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	elseif ( shengwang[i] < 11000 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ±Ÿæ¹–å£°æœ›ä¸è¶³11000æ— æ³•æ¥å–è¯¥ä»»åŠ¡")
	elseif ( xiuxing[i] < 5 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä½ å¿…é¡»å…ˆå®Œæˆå†ç»ƒ5ä»»åŠ¡")
		set loc=GetRectCenter(Rg)
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	elseif ( xiuxing[i] >= 6 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä½ å·²ç»å®Œæˆè¿™ä¸ªä»»åŠ¡äº†")
	elseif ( Rd[i] ) then
		set loc=GetRectCenter(dh)
		call SetUnitPositionLoc(u, loc)
		call PanCameraToTimedLocForPlayer(p, loc, 0)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¥šç•™é¦™ï¼š" + I2S(LLguaiA[i] - 2) + " / 1")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å¶å­¤åŸï¼š" + I2S(LLguaiB[i] - 2) + " / 1")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + I2S(LLguaiC[i] - 2) + " / 1")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00é™†å°å‡¤ï¼š" + I2S(LLguaiD[i] - 2) + " / 1")
		call RemoveLocation(loc)
	else
		set loc=GetRectCenter(dh)
		call SetUnitPositionLoc(u, loc)
		call PanCameraToTimedLocForPlayer(p, loc, 0)
		call RemoveLocation(loc)
		set LLguaiA[i]=2
		set LLguaiB[i]=2
		set LLguaiC[i]=2
		set LLguaiD[i]=2
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¥šç•™é¦™ï¼š0 / 1")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å¶å­¤åŸï¼š0 / 1")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š 0 / 1")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00é™†å°å‡¤ï¼š 0 / 1")
		call StartTimerBJ(fd[i], false, 120.)
		call CreateTimerDialogBJ(bj_lastStartedTimer, "ç´«ç¦å†³æˆ˜å€’è®¡æ—¶")
		call TimerDialogDisplayForPlayerBJ(true, bj_lastCreatedTimerDialog, GetOwningPlayer(GetTriggerUnit()))
		set gd[i]=bj_lastCreatedTimerDialog
		set Rd[i]=true
	endif
	set u=null
	set p=null
	set loc=null
endfunction
function NS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1852794732 ) and ( Rd[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function OS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
	set LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=6
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 7)
		call SetUnitAcquireRange(GetKillingUnit(), 1200)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=20.
	set Rd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å†³æˆ˜ç´«ç¦ä¹‹å·…ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€ä¸€å“å±…äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(fd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Zg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function QS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853252716 ) and ( Rd[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function RS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
	set LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=6
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 7)
		call SetUnitAcquireRange(GetKillingUnit(), 1200)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=20.
	set Rd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å†³æˆ˜ç´«ç¦ä¹‹å·…ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€ä¸€å“å±…äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(fd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Zg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function TS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nrvi' ) and ( Rd[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function US takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
	set LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=6
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 7)
		call SetUnitAcquireRange(GetKillingUnit(), 1200)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=20.
	set Rd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å†³æˆ˜ç´«ç¦ä¹‹å·…ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€ä¸€å“å±…äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(fd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Zg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function WS takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1851944036 ) and ( Rd[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] ) )
endfunction
function XS takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
	if ( ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
	set LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
	if ( ( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) and ( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) ) then
	call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
	set xiuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=6
	if GetUnitAbilityLevel(GetKillingUnit(), 'A03Q') != 0 then
		call SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()), 'Rhri', 7)
		call SetUnitAcquireRange(GetKillingUnit(), 1200)
	endif
	set udg_lilianxishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=20.
	set Rd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=false
	set danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( danpo[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( gengu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( jingmai[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( wuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	set yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( yishu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡å†³æˆ˜ç´«ç¦ä¹‹å·…ï¼Œè·å¾—ä¿®è¡Œ+1å…¨æ€§æ ¼å±æ€§+1ï¼Œä½ å¯ä»¥å‰å¾€ä¸€å“å±…äº†")
	// å•é€š5é—¨æ´¾å¥–åŠ±
	if LoadInteger(YDHT, LoadInteger(YDHT, id * cx, - $5E9EB4B3), StringHash("å•é€šé—¨æ´¾æ•°é‡")) >= 5 then
		set udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=udg_shuxing[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1
		call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|CFF34FF00å•é€š5ä¸ªé—¨æ´¾ï¼Œé¢å¤–è·å¾—1è‡ªç”±å±æ€§")
	endif
	call DestroyTimerDialog(gd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call DestroyTimer(fd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Zg))
	call SetUnitPositionLoc(udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)], LoadLocationHandle(YDHT, id * cx, $5E83114F))
	call PanCameraToTimedLocForPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), LoadLocationHandle(YDHT, id * cx, $5E83114F), 0)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	else
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, "|cFFFFCC00å½“å‰è¿›åº¦ï¼š")
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00æ¥šç•™é¦™ï¼š" + ( I2S(( LLguaiA[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00å¶å­¤åŸï¼š" + ( I2S(( LLguaiB[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00è¥¿é—¨å¹é›ªï¼š" + ( I2S(( LLguaiC[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	call DisplayTextToPlayer(Player(- 1 + LoadInteger(YDHT, id * cx, - $5E9EB4B3)), 0, 0, ( "|cFFFFCC00é™†å°å‡¤ï¼š" + ( I2S(( LLguaiD[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 2 )) + " / 1" ) ))
	endif
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä»»åŠ¡å¤±è´¥
function RenWuFail takes integer i returns nothing
	call DestroyTimerDialog(gd[i])
	if ( RectContainsUnit(eh, udg_hero[i]) ) then
		call SetUnitPosition(udg_hero[i], - 9984, 700)
		call PanCameraToTimedForPlayer(Player(i - 1), - 9984, 700, 0)
	endif
	call DisplayTextToPlayer(Player(i - 1), 0, 0, "|cFFFF0000æ—¶é—´åˆ°ï¼Œä»»åŠ¡å¤±è´¥äº†")
	set Rd[i]=false
	call PlaySoundOnUnitBJ(Gh, 100, udg_hero[i])
endfunction
function ZS takes nothing returns boolean
	return Rd[1]
endfunction
function d5 takes nothing returns nothing
	call RenWuFail(1)
endfunction
function f5 takes nothing returns boolean
	return Rd[2]
endfunction
function g5 takes nothing returns nothing
	call RenWuFail(2)
endfunction
function i5 takes nothing returns boolean
	return Rd[3]
endfunction
function j5 takes nothing returns nothing
	call RenWuFail(3)
endfunction
function m5 takes nothing returns boolean
	return Rd[4]
endfunction
function nn5 takes nothing returns nothing
	call RenWuFail(4)
endfunction
function p5 takes nothing returns boolean
	return Rd[5]
endfunction
function q5 takes nothing returns nothing
	call RenWuFail(5)
endfunction
function Experiences_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	set zr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(zr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(zr, Condition(function XQ))
	call TriggerAddAction(zr, function YQ)
	set Ar=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(Ar, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Ar, Condition(function dR))
	call TriggerAddAction(Ar, function eR)
	set ar=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ar, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ar, Condition(function gR))
	call TriggerAddAction(ar, function jR)
	set Br=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Br, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Br, Condition(function mR))
	call TriggerAddAction(Br, function nR)
	
	set Cr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Cr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Cr, Condition(function sR))
	call TriggerAddAction(Cr, function tR)
	set cr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(cr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(cr, Condition(function vR))
	call TriggerAddAction(cr, function wR)
	set Dr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Dr, f9[1])
	call TriggerAddAction(Dr, function yR)
	set Er=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Er, f9[2])
	call TriggerAddAction(Er, function AR)
	set Fr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Fr, f9[3])
	call TriggerAddAction(Fr, function BR)
	set Gr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Gr, f9[4])
	call TriggerAddAction(Gr, function CR)
	set Hr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Hr, f9[5])
	call TriggerAddAction(Hr, function DR)
	set Ir=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ir, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Ir, Condition(function FR))
	call TriggerAddAction(Ir, function GR)
	set lr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(lr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(lr, Condition(function IR))
	call TriggerAddAction(lr, function lR)
	set Jr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Jr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Jr, Condition(function KR))
	call TriggerAddAction(Jr, function LR)
	set Kr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Kr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Kr, Condition(function NR))
	call TriggerAddAction(Kr, function OR)
	set Lr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Lr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Lr, Condition(function QR))
	call TriggerAddAction(Lr, function RR)
	set Mr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Mr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Mr, Condition(function TR))
	call TriggerAddAction(Mr, function UR)
	set Nr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Nr, Z9[1])
	call TriggerAddAction(Nr, function WR)
	set Pr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Pr, Z9[2])
	call TriggerAddAction(Pr, function YR)
	set Qr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Qr, Z9[3])
	call TriggerAddAction(Qr, function dS)
	set Rr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Rr, Z9[4])
	call TriggerAddAction(Rr, function fS)
	set Sr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Sr, Z9[5])
	call TriggerAddAction(Sr, function hS)
	set Tr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Tr, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Tr, Condition(function jS))
	call TriggerAddAction(Tr, function kS)
	set Ur=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Ur, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Ur, Condition(function nS))
	call TriggerAddAction(Ur, function oS)
	set Vr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Vr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Vr, Condition(function qS))
	call TriggerAddAction(Vr, function rS)
	set Wr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Wr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Wr, Condition(function tS))
	call TriggerAddAction(Wr, function uS)
	set Xr=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Xr, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Xr, Condition(function wS))
	call TriggerAddAction(Xr, function xS)
	set Yr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Yr, fd[1])
	call TriggerAddCondition(Yr, Condition(function zS))
	call TriggerAddAction(Yr, function AS)
	set Zr=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(Zr, fd[2])
	call TriggerAddCondition(Zr, Condition(function BS))
	call TriggerAddAction(Zr, function bS)
	set ds=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(ds, fd[3])
	call TriggerAddCondition(ds, Condition(function cS))
	call TriggerAddAction(ds, function DS)
	set es=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(es, fd[4])
	call TriggerAddCondition(es, Condition(function FS))
	call TriggerAddAction(es, function GS)
	set fs=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(fs, fd[5])
	call TriggerAddCondition(fs, Condition(function IS))
	call TriggerAddAction(fs, function lS)
	set gs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(gs, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(gs, Condition(function KS))
	call TriggerAddAction(gs, function LS)
	set hs=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(hs, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(hs, Condition(function NS))
	call TriggerAddAction(hs, function OS)
	set is=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(is, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(is, Condition(function QS))
	call TriggerAddAction(is, function RS)
	set js=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(js, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(js, Condition(function TS))
	call TriggerAddAction(js, function US)
	set ks=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ks, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(ks, Condition(function WS))
	call TriggerAddAction(ks, function XS)
	set ms=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(ms, fd[1])
	call TriggerAddCondition(ms, Condition(function ZS))
	call TriggerAddAction(ms, function d5)
	set ns=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(ns, fd[2])
	call TriggerAddCondition(ns, Condition(function f5))
	call TriggerAddAction(ns, function g5)
	set os=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(os, fd[3])
	call TriggerAddCondition(os, Condition(function i5))
	call TriggerAddAction(os, function j5)
	set ps=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(ps, fd[4])
	call TriggerAddCondition(ps, Condition(function m5))
	call TriggerAddAction(ps, function nn5)
	set qs=CreateTrigger()
	call TriggerRegisterTimerExpireEvent(qs, fd[5])
	call TriggerAddCondition(qs, Condition(function p5))
	call TriggerAddAction(qs, function q5)
	set t=null
endfunction
//--------------------------
//æ¸¸æˆä¸­çš„ä»»åŠ¡
//--------------------------
//åº—å°äºŒæ–°æ‰‹ä»»åŠ¡
function IJ takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I025' ) ) // INLINED!!
endfunction
function lJ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= null
	if ( ( O7[i] == 0 ) ) then
		if ( ( GetRandomInt(1, 100) <= 35 ) ) then
			set loc=GetRectCenter(Pe)
			set O7[i]=1
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å£¶ä¸Šç­‰å¥³å„¿çº¢ä¸“ç¨‹é€ç»™è¥„é˜³åŸéƒ­é–çš„ï¼Œä½ èƒ½å¸®æˆ‘è·‘ä¸€è¶Ÿå—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€æ­£æ´¾æ­¦æ—ä¸»åŸçš„|cFFADFF2Féƒ­é–|r\n")
			call PingMinimapLocForForce(ov(p), loc, 5.)
			call RemoveLocation(loc)
		elseif ( ( GetRandomInt(1, 70) <= 35 ) ) then
			set loc=GetRectCenter(Qe)
			set O7[i]=2
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCæ—è¾¹æ ‘æ—é‡Œçš„é‡ç‹¼ç»å¸¸æ¥è¢­å‡»æ‘æ°‘ï¼Œä½ èƒ½å¸®åŠ©æˆ‘ä»¬å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2F6åªé‡ç‹¼|r\n")
			call PingMinimapLocForForce(ov(p), loc, 5.)
			call RemoveLocation(loc)
		else
			set O7[i]=3
			set loc=GetRectCenter(Re)
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCå¬è¯´å°‘æ—å¯ºçš„ç»ƒåŠŸæˆ¿å‡çº§ç‰¹åˆ«å¿«ï¼Œä¸ºä½•ä¸å»çœ‹çœ‹å‘¢|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å°‘æ—å¯ºçš„|cFFADFF2Fç»ƒåŠŸæˆ¿|rï¼Œå¯ä»¥é€šè¿‡ä¸»åŸä¼ é€\n")
			call PingMinimapLocForForce(ov(p), loc, 5.)
			call RemoveLocation(loc)
		endif
	elseif ( ( O7[i] == 1 ) ) then
		set loc=GetRectCenter(Pe)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCä½ æ€ä¹ˆè¿˜ä¸å‡ºå‘å•Šï¼Ÿ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€æ­£æ´¾æ­¦æ—ä¸»åŸçš„|cFFADFF2Féƒ­é–|r\n")
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	elseif ( ( O7[i] == 2 ) ) then
		set loc=GetRectCenter(Qe)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCè¯·å¸®åŠ©æˆ‘ä»¬æ€æ­»é‡ç‹¼å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2F6åªé‡ç‹¼|r\n")
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	elseif ( ( O7[i] == 3 ) ) then
		set loc=GetRectCenter(Re)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCå¬è¯´å°‘æ—å¯ºçš„ç»ƒåŠŸæˆ¿å‡çº§ç‰¹åˆ«å¿«ï¼Œä¸ºä½•ä¸å»çœ‹çœ‹å‘¢|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å°‘æ—å¯ºçš„|cFFADFF2Fç»ƒåŠŸæˆ¿|rï¼Œå¯ä»¥é€šè¿‡ä¸»åŸä¼ é€")
		call PingMinimapLocForForce(ov(p), loc, 5.)
		call RemoveLocation(loc)
	elseif ( ( O7[i] == 4 ) ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆæ–°æ‰‹ä»»åŠ¡äº†")
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//éƒ­é–â€”â€”ç¯æˆ’
function KJ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( O7[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 1 ) ) // INLINED!!
endfunction
function LJ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetRandomInt(1, 100) <= 60 then
		call unitadditembyidswapped('I024' , GetTriggerUnit())
	else
		call unitadditembyidswapped('I0CH' , GetTriggerUnit())
	endif
	call AddHeroXP(u, 100, true)
	set shengwang[i]=shengwang[i] + $A
	call PlaySoundOnUnitBJ(Hh, 100, u)
	call DisplayTextToPlayer(p, 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+10å’Œ" + GetItemName(bj_lastCreatedItem) ))
	set O7[i]=4
	set u=null
	set p=null
endfunction
// ç‹¼çš®ä»»åŠ¡
function isWolfSkin takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0DQ' ) ) // INLINED!!
endfunction
function wolfSkin takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
	if wolfSkinFlag[i] == 0 then
		set wolfSkinFlag[i]=1
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCå³å°†å…¥å†¬ï¼Œè¯·å¤§ä¾ å¸®å¿™æä¾›10å¼ ç‹¼çš®|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¯ä»¥æ€å¤šç‚¹ä¸€æ¬¡æ€§äº¤ä»»åŠ¡|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00åº—å°äºŒï¼š|r |cFF99FFCCä½ å·²ç»æ¥å—ä»»åŠ¡äº†|r\n")
	endif
	set u=null
	set p=null
endfunction
//æ€ç‹¼ä»»åŠ¡â€”â€”é’é“œåˆ€
function TI takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nwlt' ) ) // ç‹¼æ­»è§¦å‘
endfunction
function UI takes nothing returns nothing
 local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( O7[i] == 2 ) ) then
		set P7[i]=( P7[i] + 1 )
		if ( ( P7[i] >= 6 ) ) then
			set P7[i]=0
			set O7[i]=4
			if GetRandomInt(1, 100) <= 60 then
				call unitadditembyidswapped('I020' , GetTriggerUnit())
			else
				call unitadditembyidswapped('I0CI' , GetTriggerUnit())
			endif
			call AddHeroXP(GetKillingUnit(), 100, true)
			set shengwang[i]=shengwang[i] + 50
			call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
			call DisplayTextToPlayer(p, 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+50å’Œ" + GetItemName(bj_lastCreatedItem) ))
		else
			call DisplayTextToPlayer(p, 0, 0, ( "é‡ç‹¼ï¼š" + ( I2S(P7[i]) + " / 6" ) ))
		endif
	endif
	if wolfSkinFlag[i] == 1 or wolfSkinFlag[i] == 2 then
		set wolfSkinCount[i]=( wolfSkinCount[i] + 1 )
		call DisplayTextToPlayer(p, 0, 0, ( "ç‹¼çš®æ•°é‡ï¼š" + ( I2S(wolfSkinCount[i]) + " /10" ) ))
		if wolfSkinCount[i] >= 10 then
			// 10ç‹¼çš®ä»»åŠ¡å¯ä»¥æäº¤
			set wolfSkinFlag[i]=2
		endif
	endif
	set u=null
	set p=null
endfunction
// å®Œæˆç‹¼çš®ä»»åŠ¡ï¼Œé è¿‘åº—å°äºŒæäº¤ä»»åŠ¡
function isFinishWolfSkin takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( wolfSkinFlag[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 2 ) ) // INLINED!!
endfunction
function finishWolfSkin takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer count= 0
local integer l__xp= 0
local integer gold= 0
local integer sw= 0
set count=wolfSkinCount[i] / 10 // å–æ•´
set l__xp=1000 * count
	set gold=2000 * count
	set sw=50 * count
	call AddHeroXP(u, l__xp, true) // å¥–åŠ±ç»éªŒ
call AdjustPlayerStateBJ(gold, p, PLAYER_STATE_RESOURCE_GOLD) // å¥–åŠ±é‡‘é’±
set shengwang[i]=shengwang[i] + sw // å¥–åŠ±å£°æœ›
call PlaySoundOnUnitBJ(Hh, 100, u)
	call DisplayTextToPlayer(p, 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+" + I2S(l__xp) + "ã€é‡‘é’±" + I2S(gold) + "ã€æ±Ÿæ¹–å£°æœ›" + I2S(sw) ))
	set wolfSkinFlag[i]=0
	set wolfSkinCount[i]=0
	set u=null
	set p=null
endfunction
//å°‘æ—ç»ƒåŠŸæˆ¿â€”â€”å…»ç²¾è“„é”ä»¤/ä¹”å³°è‰é‹
function NJ takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( O7[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 3 ) ) // INLINED!!
endfunction
function OJ takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetRandomInt(1, 100) <= 60 then
		call unitadditembyidswapped('I06H' , GetTriggerUnit())
	else
		call unitadditembyidswapped('I0DO' , GetTriggerUnit())
	endif
	call AddHeroXP(u, 100, true)
	set shengwang[i]=shengwang[i] + $A
	call PlaySoundOnUnitBJ(Hh, 100, u)
	call DisplayTextToPlayer(p, 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+10å’Œ" + GetItemName(bj_lastCreatedItem) ))
	set O7[i]=4
	set u=null
	set p=null
endfunction
//å¯»æ‰¾ç‰©å“
function IsWuPin takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0BB' // INLINED!!
endfunction
function LookForWuPin takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer id= LoadInteger(YDHT, GetHandleId(p), StringHash("item"))
 local string s
	if ( xunwu[i] == 0 ) then
		if xiuxing[i] <= 2 then
			if GetRandomInt(1, 2) == 1 then
				// 6çƒˆç«è¡£å»æ‰
				set id=ZhuangBei[GetRandomInt(1, 5)]
			else
				// 12æ˜¯éœ“äº‘å»æ‰ï¼Œæœ‰ç‚¹å‘
				if GetRandomInt(1, 18) < 12 then
					set id=ShiPin[GetRandomInt(1, 11)]
				else
					set id=ShiPin[GetRandomInt(13, 18)]
				endif
				
			endif
		elseif xiuxing[i] <= 4 then
			if GetRandomInt(1, 2) == 1 then
				set id=ZhuangBei[GetRandomInt(7, 9)]
			else
				set id=ShiPin[GetRandomInt(9, 33)]
			endif
		else
			if GetRandomInt(1, 3) == 1 then
				set id=ZhuangBei[GetRandomInt(10, 14)]
			else
				set id=ShiPin[GetRandomInt(34, 44)]
			endif
		endif
		set xunwu[i]=1
		call SaveInteger(YDHT, GetHandleId(p), StringHash("item"), id)
		call createitemloc(id , v7[$B])
		set s=GetItemName(bj_lastCreatedItem)
		call RemoveItem(bj_lastCreatedItem)
		call PlaySoundOnUnitBJ(bh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCæˆ‘éœ€è¦" + s + "ï¼Œä½ èƒ½å¸®æˆ‘æ‰¾æ¥ä¹ˆ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©æ¸¸éªå¯»æ‰¾|cFFADFF2F" + s + "|r\n")
	else
		call createitemloc(id , v7[$B])
		set s=GetItemName(bj_lastCreatedItem)
		call RemoveItem(bj_lastCreatedItem)
		call PlaySoundOnUnitBJ(bh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCå¸®æˆ‘æ‰¾åˆ°" + s + "äº†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©æ¸¸éªå¯»æ‰¾|cFFADFF2F" + s + "|r\n")
	endif
	set u=null
	set p=null
endfunction
function IsFangQiWuPin takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0BC' // INLINED!!
endfunction
function FangQiWuPin takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if ( xunwu[i] == 0 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCå½“å‰æ²¡æœ‰æ¥ä»»åŠ¡å“¦|r\n")
	else
		set shengwang[i]=shengwang[i] - 100
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCå ‚å ‚å¤§ä¾ ï¼Œå±…ç„¶æ‰¾ä¸åˆ°å°å¥³å­éœ€è¦çš„ä¸œè¥¿å—|r\n")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ”¾å¼ƒä»»åŠ¡ï¼Œå£°æœ›å‡å°‘100|r\n")
		set xunwu[i]=0
	endif
	set u=null
	set p=null
endfunction
function IsWanChengWuPin takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0BD' // INLINED!!
endfunction
function WanChengWuPin takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer id= LoadInteger(YDHT, GetHandleId(p), StringHash("item"))
	if xunwu[i] == 1 and UnitHaveItem(u , id) and id != 0 then
		call RemoveItem(FetchUnitItem(u , id))
		set shengwang[i]=shengwang[i] + 40 * ( xiuxing[i] + 1 )
		call AddHeroXP(udg_hero[i], 15 * GetHeroLevel(udg_hero[i]) * GetHeroLevel(udg_hero[i]) * ( xiuxing[i] + 1 ), true)
		set xunwu[i]=0
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCè°¢è°¢ä½ çš„å¸®åŠ©|r\n")
		if GetRandomInt(1, 10) <= xiuxing[i] + 1 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å®Œæˆä»»åŠ¡ï¼Œå¥–åŠ±å£°æœ›" + I2S(40 * ( xiuxing[i] + 1 )) + "ç‚¹ï¼Œç»éªŒ" + I2S(15 * GetHeroLevel(udg_hero[i]) * GetHeroLevel(udg_hero[i]) * ( xiuxing[i] + 1 )) + "ç‚¹|r\n")
		else
			call unitadditembyidswapped('I04T' , udg_hero[i])
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å®Œæˆä»»åŠ¡ï¼Œå¥–åŠ±å£°æœ›" + I2S(40 * ( xiuxing[i] + 1 )) + "ç‚¹ï¼Œç»éªŒ" + I2S(15 * GetHeroLevel(udg_hero[i]) * GetHeroLevel(udg_hero[i]) * ( xiuxing[i] + 1 )) + "ç‚¹ï¼Œä¹é˜³ä¸¹ä¸€é¢—|r\n")
		endif
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) then // INLINED!!
			if udg_xbds[i] < 4 then
				set udg_xbds[i]=udg_xbds[i] + 1
				call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨å®Œæˆäº†" + I2S(udg_xbds[i]) + "æ¬¡å¯»å®ä»»åŠ¡ï¼Œå®Œæˆ5æ¬¡å¯è·å¾—å¯»å®å¤§å¸ˆå“¦")
			else
				if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) then // INLINED!!
					call Deputy_setMaster(i , XUN_BAO)
					// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“å¯»å®å¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—å¯»å®å¤§å¸ˆ")
					call SetPlayerName(p, "ã€“å¯»å®å¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
				endif
			endif
		endif
	elseif xunwu[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCè¿˜æ²¡æœ‰æ‰¾åˆ°å°å¥³å­éœ€è¦çš„ä¸œè¥¿å—|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCå½“å‰æ²¡æœ‰æ¥ä»»åŠ¡å“¦|r\n")
	endif
	set u=null
	set p=null
endfunction
// éšæœºå…‘æ¢æ­¦åŠŸç§˜ç±
function isBuyWuGongBook takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0AI' or GetItemTypeId(GetManipulatedItem()) == 'I0AH' or GetItemTypeId(GetManipulatedItem()) == 'I0AJ' ) )
endfunction
function buyWuGongBook takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
	if GetItemTypeId(GetManipulatedItem()) == 'I0AI' then
		call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è¿™æœ¬æ±Ÿæ¹–ç§˜ç±é€ç»™ä½ äº†")
		call unitadditembyidswapped(udg_jianghu[GetRandomInt(1, 18)] , u)
	elseif GetItemTypeId(GetManipulatedItem()) == 'I0AH' then
		call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è¿™æœ¬ç»å­¦ç§˜ç±é€ç»™ä½ äº†")
		call unitadditembyidswapped(udg_juexue[GetRandomInt(1, 10)] , u)
	elseif GetItemTypeId(GetManipulatedItem()) == 'I0AJ' then
		call DisplayTimedTextToPlayer(p, 0, 0, 15, "|CFF00FF00è¿™æœ¬ç»å†…ç§˜ç±é€ç»™ä½ äº†")
		call unitadditembyidswapped(udg_juenei[GetRandomInt(1, 8)] , u)
	endif
	set u=null
	set p=null
endfunction
// é€Ÿæˆ˜é€Ÿå†³ä»»åŠ¡ï¼Œå¥–åŠ±åŠ é€Ÿå‡ºæ€ªç‰©å“
function IsQuickFight takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D1' ) )
endfunction
function QuickFight takes nothing returns nothing
	// local location loc = GetUnitLoc(GetTriggerUnit())
 local unit u=GetTriggerUnit()
	call unitadditembyidswapped('I0D2' , u)
	// call createitemloc('I0D2',loc)
	set u=null
endfunction
// åŠ é€Ÿå‡ºæ€ªç‰©å“ä½¿ç”¨
function IsJiaSuChuGuai takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D2' ) )
endfunction
function JiaSuChuGuai takes nothing returns nothing
 local location loc= GetUnitLoc(GetTriggerUnit())
	// åˆ¤æ–­æ˜¯å¦15æ³¢ä¹‹åã€æ˜¯å¦ç‰¹æ®Šæ¨¡å¼
	if udg_boshu > 15 and udg_boshu <= 26 and udg_teshushijian then
		set udg_sutong=true
		set udg_boshu=26
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033å·²ç»è·³åˆ°26æ³¢ï¼Œè¯·å¤§å®¶æ³¨æ„é˜²å®ˆ")
	else
		call createitemloc('I0D2' , loc)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033ç‰¹æ®Šæ¨¡å¼ä¸‹è¶…è¿‡15æ³¢ã€ä¸è¶…è¿‡26æ³¢æ‰èƒ½è·³")
	endif
	set loc=null
endfunction
// çŒªå¹´æ€çŒªä»»åŠ¡
// function IsKillYang takes nothing returns boolean
// 	return(GetUnitTypeId(GetTriggerUnit())=='nshf')
// endfunction
// function KillYang takes nothing returns nothing
// 	local unit u=GetKillingUnit()
// 	local integer i=GetRandomInt(1,15)
// 	if i==6 then
// 		call unitadditembyidswapped('I0A8',udg_hero[1+GetPlayerId(GetOwningPlayer(u))])
// 		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cfffff000æœ‰ç©å®¶æ‰“æ‰äº†å°çŒªï¼Œè·å¾—äº†çç¨€ç‰©å“ã€æ–°å¹´ã€‘")
// 	elseif i==4 then
// 		call unitadditembyidswapped('I0A9',udg_hero[1+GetPlayerId(GetOwningPlayer(u))])
// 		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cfffff000æœ‰ç©å®¶æ‰“æ‰äº†å°çŒªï¼Œè·å¾—äº†çç¨€ç‰©å“ã€å¿«ä¹ã€‘")
// 	else
// 		call AdjustPlayerStateBJ(88,GetOwningPlayer(u),PLAYER_STATE_RESOURCE_LUMBER)
// 		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cfffff000æœ‰ç©å®¶æ‰“æ‰äº†å°çŒªï¼Œè·å¾—äº†88ä¸ªçç¨€å¸")
// 	endif
// 	set u=null
// endfunction
// ==============ç­‰çº§ç¦åˆ©å•†åº—=====================//

function IsLevelReward takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D4' or GetItemTypeId(GetManipulatedItem()) == 'I0D5' or GetItemTypeId(GetManipulatedItem()) == 'I0D6' or GetItemTypeId(GetManipulatedItem()) == 'I0D7' or GetItemTypeId(GetManipulatedItem()) == 'I0D8' or GetItemTypeId(GetManipulatedItem()) == 'I0D9' or GetItemTypeId(GetManipulatedItem()) == 'I0DA' or GetItemTypeId(GetManipulatedItem()) == 'I0EI' ) )
endfunction
function LevelReward takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=GetPlayerId(p)
	// è·å–ç©å®¶å¯¹åº”çš„åœ°å›¾ç­‰çº§
 local integer level=DzAPI_Map_GetMapLevel(Player(i))
	if ( ( level >= 3 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D4' ) ) and not LoadBoolean(YDHT, i, StringHash("3çº§å¥–åŠ±")) then
        call unitadditembyidswapped(mapLevelReward[1] , u) // å…»ç²¾è“„é”ä»¤ç‰Œ
call unitadditembyidswapped(mapLevelReward[GetRandomInt(2, 3)] , u)
        call SaveBoolean(YDHT, i, StringHash("3çº§å¥–åŠ±"), true)
    elseif ( ( level >= 5 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D6' ) ) and not LoadBoolean(YDHT, i, StringHash("5çº§å¥–åŠ±")) then
        call unitadditembyidswapped('I02T' , u) // å¤§é›
call unitadditembyidswapped(mapLevelReward[GetRandomInt(5, 7)] , u)
        call SaveBoolean(YDHT, i, StringHash("5çº§å¥–åŠ±"), true)
    elseif ( ( level >= 8 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D5' ) ) and not LoadBoolean(YDHT, i, StringHash("8çº§å¥–åŠ±")) then
		call unitadditembyidswapped(mapLevelReward[GetRandomInt(8, 10)] , u)
        call SaveBoolean(YDHT, i, StringHash("8çº§å¥–åŠ±"), true)
    elseif ( ( level >= 10 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D7' ) ) and not LoadBoolean(YDHT, i, StringHash("10çº§å¥–åŠ±")) then
        call unitadditembyidswapped('I019' , u) // ç™½è™ç¬¦
call unitadditembyidswapped(mapLevelReward[GetRandomInt(12, 15)] , u)
        call SaveBoolean(YDHT, i, StringHash("10çº§å¥–åŠ±"), true)
    elseif ( ( level >= 11 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0D8' ) ) and not LoadBoolean(YDHT, i, StringHash("11çº§å¥–åŠ±")) then
        call unitadditembyidswapped('I06Z' , u) // ç»­å‘½
call unitadditembyidswapped(mapLevelReward[GetRandomInt(17, 19)] , u)
        call SaveBoolean(YDHT, i, StringHash("11çº§å¥–åŠ±"), true)
    elseif ( ( level >= 12 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0DA' ) ) and not LoadBoolean(YDHT, i, StringHash("12çº§å¥–åŠ±")) then
		call unitadditembyidswapped(mapLevelReward[GetRandomInt(20, 22)] , u)
        call SaveBoolean(YDHT, i, StringHash("12çº§å¥–åŠ±"), true)
    elseif ( ( level >= 14 or level_award[i + 1] == 1 ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0EI' ) ) and not LoadBoolean(YDHT, i, StringHash("14çº§å¥–åŠ±")) then
		if GetRandomInt(1, 3) <= 2 then
			if GetRandomInt(1, 2) == 1 then
				call AdjustPlayerStateBJ(50000, p, PLAYER_STATE_RESOURCE_GOLD) // å¥–åŠ±5wé‡‘é’±
else
				call AdjustPlayerStateBJ(25, p, PLAYER_STATE_RESOURCE_LUMBER) // å¥–åŠ±25æœ¨å¤´
endif
		else
		call unitadditembyidswapped(mapLevelReward[23] , u)
		endif
        call SaveBoolean(YDHT, i, StringHash("14çº§å¥–åŠ±"), true)
    else
        call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|CFFFE890Då¯èƒ½ä½ ä¸ç¬¦åˆæ¡ä»¶æˆ–è€…å·²ç»é¢†å–è¿‡äº†å“¦ï¼")
    endif
	set u=null
	set p=null
endfunction
// æ‰£é™¤ç§¯åˆ†å¹¶å­˜æ¡£æ–¹æ³•
function jfChange takes integer i,integer l__jf returns nothing
	// ç´¯åŠ æœ¬å±€å¯ç”¨ç§¯åˆ†
	set jf_useMax[i]=jf_useMax[i] + l__jf
	// æ‰£é™¤å¯¹åº”çš„ç§¯åˆ†
	set udg_jf[i]=udg_jf[i] - l__jf
	// ä¿å­˜åˆ°æœåŠ¡å™¨
	call DzAPI_Map_StoreInteger(Player(i) , "jf" , udg_jf[i])
endfunction
//============ç§¯åˆ†å•†åº—=============//
// éšæœºä¸€ä¸ªABæ€§æ ¼åŠ ä¸€:5ç§¯åˆ†ï¼›æ˜æ•™ä¸€å±€ï¼š20ç§¯åˆ†ï¼›ç²¾é’¢å‰‘ï¼š4ç§¯åˆ†ï¼›éšæœºä¸€æœ¬å¥‡æ­¦ï¼š4ç§¯åˆ†ï¼›æ¡ƒèŠ±å²›ä¼ é€ç¬¦ï¼ˆæ°¸ä¹…ç‰ˆï¼‰ï¼š4ç§¯åˆ†ï¼›é‡ç½®é—¨æ´¾ç§°å·ï¼š14ç§¯åˆ†ï¼›å·ä»¤å¤©ä¸‹ï¼š10ç§¯åˆ†
function isJfShop takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0DC' or GetItemTypeId(GetManipulatedItem()) == 'I0DD' or GetItemTypeId(GetManipulatedItem()) == 'I0DE' or GetItemTypeId(GetManipulatedItem()) == 'I0DF' or GetItemTypeId(GetManipulatedItem()) == 'I0DG' or GetItemTypeId(GetManipulatedItem()) == 'I0DH' or GetItemTypeId(GetManipulatedItem()) == 'I0EL' ) )
endfunction
function jfShop takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=GetPlayerId(p)
	// ç²¾é’¢å‰‘4ç§¯åˆ†ã€éšæœºæ€§æ ¼5ç§¯åˆ†ã€éšæœºå¥‡æ­¦4ç§¯åˆ†ã€æ¡ƒèŠ±å²›ä¼ é€4ç§¯åˆ†ã€é‡ç½®é—¨æ´¾ç§°å·14ç§¯åˆ†ã€å·ä»¤å¤©ä¸‹10ç§¯åˆ†ã€åŠ å¼ºå¤©èµ‹15ç§¯åˆ†
 local integer jf1= 4
 local integer jf2= 5
 local integer jf3= 4
 local integer jf4= 4
 local integer jf5= 14
 local integer jf6= 10
 local integer jf7= 15
	if ( ( GetItemTypeId(GetManipulatedItem()) == 'I0DC' ) ) and udg_jf[i] >= jf1 and ( jf_useMax[i] + jf1 ) <= jf_max then
		call unitadditembyidswapped('I01L' , u) // åˆ›å»ºç²¾é’¢å‰‘ç»™ç©å®¶
call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00è·å–ç²¾é’¢å‰‘ï¼Œæ‰£é™¤4ç§¯åˆ†")
		call jfChange(i , jf1)
    elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0EL' ) ) and udg_jf[i] >= jf7 and ( jf_useMax[i] + jf7 ) <= jf_max then
		if bigTalent[i + 1] != 1 and talent_flag[i + 1] == 1 then
        	set bigTalent[i + 1]=1
        	call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00æ¿€æ´»åŠ å¼ºå¤©èµ‹ç³»ç»Ÿ")
        	call jfChange(i , jf7)
		else
			if talent_flag[i + 1] != 1 then
				call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00æ¿€æ´»å¤±è´¥ï¼Œå°šæœªè§£é”å¤©èµ‹ç³»ç»Ÿ")
			else
				call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00å·²ç»æ¿€æ´»ï¼Œä¸èƒ½é‡å¤æ¿€æ´»")
			endif
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0DD' ) ) and udg_jf[i] >= jf2 and ( jf_useMax[i] + jf2 ) <= jf_max then
		if udg_xinggeA[i + 1] == 5 and udg_xinggeB[i + 1] == 5 then
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00ABæ€§æ ¼å·²ç»æ»¡çº§ï¼Œä¸æ‰£é™¤ç§¯åˆ†")
		else
			// éšæœºä¸€ä¸ªABæ€§æ ¼åŠ 1
			if GetRandomInt(1, 2) == 1 then
				if udg_xinggeA[i + 1] < 5 then
					set udg_xinggeA[i + 1]=udg_xinggeA[i + 1] + 1
					call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00Aæ€§æ ¼+1ï¼Œæ‰£é™¤5ç§¯åˆ†")
				else
					if udg_xinggeB[i + 1] < 5 then
						set udg_xinggeB[i + 1]=udg_xinggeB[i + 1] + 1
						call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00Bæ€§æ ¼+1ï¼Œæ‰£é™¤5ç§¯åˆ†")
					endif
				endif
			else
				if udg_xinggeB[i + 1] < 5 then
					set udg_xinggeB[i + 1]=udg_xinggeB[i + 1] + 1
					call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00Bæ€§æ ¼+1ï¼Œæ‰£é™¤5ç§¯åˆ†")
				else
					if udg_xinggeA[i + 1] < 5 then
						set udg_xinggeA[i + 1]=udg_xinggeA[i + 1] + 1
						call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00Aæ€§æ ¼+1ï¼Œæ‰£é™¤5ç§¯åˆ†")
					endif
				endif
			endif
			// é‡ç½®è‹±é›„æ€§æ ¼buff
			call AddCharacterABuff(udg_hero[i + 1] , udg_xinggeA[i + 1])
			call AddCharacterBBuff(udg_hero[i + 1] , udg_xinggeB[i + 1])
			// ç§¯åˆ†å˜æ›´
			call jfChange(i , jf2)
		endif
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0DE' ) ) and udg_jf[i] >= jf3 and ( jf_useMax[i] + jf3 ) <= jf_max then
		if jfQiWu[i] >= jfQiWuLimit[i] then
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|CFFFE890Dä¸€å±€æ¸¸æˆåªèƒ½å…‘æ¢3æœ¬å¥‡æ­¦ï¼Œå•é€š11ä¸ªé—¨æ´¾é¢å¤–å…‘æ¢1æœ¬ï¼")
		else
			// éšæœºä¸€æœ¬å¥‡æ­¦ï¼Œå»æ‰çç‘æ£‹å±€49
			if GetRandomInt(42, 56) < 49 then
				call unitadditembyidswapped(LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(42, 48), 1) , u)
			else
				call unitadditembyidswapped(LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(50, 56), 1) , u)
			endif
			call jfChange(i , jf3)
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00Béšæœºè·å–ä¸€æœ¬å¥‡æ­¦ï¼Œæ‰£é™¤4ç§¯åˆ†")
		endif
		set jfQiWu[i]=jfQiWu[i] + 1
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0DF' ) ) and udg_jf[i] >= jf4 and ( jf_useMax[i] + jf4 ) <= jf_max then
		// æ¡ƒèŠ±å²›ä¼ é€ç¬¦ï¼Œä¸é™æ¬¡æ•°
		call unitadditembyidswapped('I0DI' , u)
		call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00è·å–æ¡ƒèŠ±å²›ä¼ é€ç¬¦ï¼Œæ‰£é™¤4ç§¯åˆ†")
		call jfChange(i , jf4)
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0DG' ) ) and udg_jf[i] >= jf5 and ( jf_useMax[i] + jf5 ) <= jf_max then
		// é‡ç½®é—¨æ´¾ç§°å· FIXME
		call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00é‡ç½®é—¨æ´¾ç§°å·æˆåŠŸï¼Œæ‰£é™¤14ç§¯åˆ†")
		call jfChange(i , jf5)
	elseif ( ( GetItemTypeId(GetManipulatedItem()) == 'I0DH' ) ) and udg_jf[i] >= jf6 and ( jf_useMax[i] + jf6 ) <= jf_max then
		// å·ä»¤
		// call unitadditembyidswapped('I06F',u) 
		if GetUnitLevel(udg_hero[i + 1]) <= 2 then
			call randomMenpai(p , 2)
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00é‡é€‰éšæœºé—¨æ´¾ï¼Œæ‰£é™¤10ç§¯åˆ†")
			call jfChange(i , jf6)
		else
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC003çº§ä»¥ä¸‹æ‰èƒ½é‡æ–°éšæœºé—¨æ´¾")
		endif
		
	else
		call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|CFFFE890Dä¸å¥½æ„æ€ä½ çš„ç§¯åˆ†ä¸å¤Ÿäº†å“¦ï¼Œæˆ–è€…å·²ç»æˆ–è€…å·²ç»è¾¾åˆ°æœ¬å±€ä½¿ç”¨ä¸Šé™50ï¼")
	endif
	set u=null
	set p=null
endfunction

 function isJfShop2 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I0EG' ) )
endfunction
function jfShop2 takes nothing returns nothing
    local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=GetPlayerId(p)
 local integer jf7= 200
call BJDebugMsg("å…‘æ¢å¥–åŠ±ï¼š" + R2S(bonus_wugong[i]))
	
	if ( ( GetItemTypeId(GetManipulatedItem()) == 'I0EG' ) ) and udg_jf[i] >= jf7 then
		if bonus_wugong[i] >= 0.3 then
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00ä¼¤å®³å…‘æ¢å·²è¾¾ä¸Šé™")
		else
			// æ¯æ¬¡è´­ä¹°åŠ 10%æ­¦åŠŸåŠ æˆå’Œ10%çˆ†ä¼¤
			set bonus_wugong[i]=bonus_wugong[i] + .1
			set bonus_baoshang[i]=bonus_baoshang[i] + .1
			// åŠ ä¸Šè´­ä¹°ä¼¤å®³ï¼Œè¿™é‡Œåªè®°å½•å½“å±€å…‘æ¢çš„æ°¸ä¹…åŠ æˆï¼Œåˆå§‹åŒ–è®°å½•å­˜æ¡£çš„åŠ æˆ
			set udg_shanghaijiacheng[i + 1]=udg_shanghaijiacheng[i + 1] + .1
			set udg_baojishanghai[i + 1]=udg_baojishanghai[i + 1] + .1
			// ä¼¤å®³åŠ æˆå­˜æ¡£
			call DzAPI_Map_StoreReal(Player(i) , "wugong" , bonus_wugong[i])
			call DzAPI_Map_StoreReal(Player(i) , "baoshang" , bonus_baoshang[i])
			call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00æ­¦åŠŸä¼¤å®³åŠ 10%ï¼Œæš´å‡»ä¼¤å®³åŠ 10%")
			// æ‰£é™¤å¯¹åº”çš„ç§¯åˆ†
			set udg_jf[i]=udg_jf[i] - jf7
			// ä¿å­˜åˆ°æœåŠ¡å™¨
			call DzAPI_Map_StoreInteger(Player(i) , "jf" , udg_jf[i])
		endif
	else
		call DisplayTimedTextToPlayer(Player(i), 0, 0, 5, "|cFF66CC00ç§¯åˆ†ä¸è¶³")
	endif
	set u=null
	set p=null
endfunction

// å€šå¤©å‰‘ä»»åŠ¡ï¼Œæ•™è®­å¼ æ— å¿Œemtgï¼Œå‡ºç°å¼ æ— å¿ŒåŠ å¼ºç‰ˆe01G
function IsYiTian takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0CZ' // INLINED!!
endfunction
function YiTian takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
	if yitianflag[i] == 0 then
		if udg_runamen[i] == 8 then
			set yitianflag[i]=1
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ç­ç»å¸ˆå¤ªï¼š|r |cFF99FFCCå¸®æˆ‘æ•™è®­ä¸€ä¸‹å¼ æ— å¿Œ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©ç­ç»å¸ˆå¤ªè§£å†³|cFFADFF2Få¼ æ— å¿Œï¼ˆå‰¯æœ¬3ç¥ç§˜æ€ªç‰©ï¼‰|r\n")
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ç­ç»å¸ˆå¤ªï¼š|r |cFF99FFCCä½ ä¸æ˜¯å³¨çœ‰æ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif yitianflag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ç­ç»å¸ˆå¤ªï¼š|r |cFF99FFCCè¿˜æ²¡æ•™è®­å¼ æ— å¿Œå—ï¼Ÿ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©ç­ç»å¸ˆå¤ªè§£å†³|cFFADFF2Få¼ æ— å¿Œï¼ˆå‰¯æœ¬3ç¥ç§˜æ€ªç‰©ï¼‰|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ç­ç»å¸ˆå¤ªï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set u=null
	set p=null
endfunction
function IsWanChengYiTian takes nothing returns boolean
	return ( GetUnitTypeId(GetTriggerUnit()) == 'emtg' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'e01G' )
endfunction
function WanChengYiTian takes nothing returns nothing
 local player p= GetOwningPlayer(GetKillingUnit())
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(GetTriggerUnit())
	if GetUnitTypeId(GetTriggerUnit()) == 'emtg' then
		if yitianflag[i] == 1 then
			set yitianflag[i]=2
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å¼ æ— å¿Œï¼šå°å­ï¼Œåˆšæ‰æˆ‘åªç”¨äº†ä¸‰åˆ†åŠ›")
			call CreateNUnitsAtLoc(1, 'e01G', Player(12), loc, bj_UNIT_FACING)
		endif
	elseif GetUnitTypeId(GetTriggerUnit()) == 'e01G' then
		call createitemloc('I00B' , loc)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00æ•™è®­å¼ æ— å¿Œå®Œæˆï¼Œå¥–åŠ±|cFFFF00CCå€šå¤©å‰‘|r")
	endif
	set p=null
	set loc=null
endfunction
// å…¨çœŸä¸“å±ä»»åŠ¡ï¼Œæ€æ—æœè‹±ndqs
function isQuanZhenOnly takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0E4' // INLINED!!
endfunction
function quanZhenOnly takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
	if quanZhenFlag[i] == 0 then
		if udg_runamen[i] == 5 then
			if GetUnitLevel(udg_hero[i]) >= 90 then
				set quanZhenFlag[i]=1
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCå¤å¢“æ·±å¤„ï¼Œæ—æœè‹±å¥³ä¾ å¯ä»¥ä¸ºä½ è§£æƒ‘|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fæ—æœè‹±ï¼ˆå¤å¢“Bossï¼‰|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCç­‰ä½ 90çº§å†æ¥|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCä½ ä¸æ˜¯å…¨çœŸæ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif quanZhenFlag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCä½ å·²æ¥å—ä»»åŠ¡|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fæ—æœè‹±ï¼ˆå¤å¢“Bossï¼‰|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä¸˜å¤„æœºï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set u=null
	set p=null
endfunction
// æ—æœè‹±å’Œç‹é‡é˜³æ­»äº¡äº‹ä»¶
function isLcyAndWcy takes nothing returns boolean
	return ( GetUnitTypeId(GetTriggerUnit()) == 'ndqs' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'o02Q' )
endfunction
function lcyAndWcy takes nothing returns nothing
 local player p= GetOwningPlayer(GetKillingUnit())
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(GetTriggerUnit())
	if GetUnitTypeId(GetTriggerUnit()) == 'ndqs' then
		if quanZhenFlag[i] == 1 then
			set quanZhenFlag[i]=2
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ç‹é‡é˜³ï¼šä½•æ–¹é¼ è¾ˆï¼Œç«Ÿæ•¢å·è¢­æœè‹±ï¼ï¼")
			call CreateNUnitsAtLoc(1, 'o02Q', Player(12), loc, bj_UNIT_FACING)
		endif
	elseif GetUnitTypeId(GetTriggerUnit()) == 'o02Q' then
		call createitemloc('I0DP' , loc)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä½ çš„å®åŠ›å¾—åˆ°ç‹é‡é˜³è®¤å¯ï¼Œè·å¾—|cFFFF00CCä¸ƒæ˜Ÿé“è¢|r")
	endif
	set p=null
	set loc=null
endfunction
 // æ…•å®¹ä¸“å±ä»»åŠ¡I0DR
 function isMuRongOnly takes nothing returns boolean
 	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0DR' // INLINED!!
 	// return((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I0DR'))
 endfunction
 function muRongOnly takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
	if muRongOnlyFlag[i] == 0 then
		if udg_runamen[i] == 13 then
			if isTitle(i , 26) and GetHeroLevel(udg_hero[i]) > 100 then
				set muRongOnlyFlag[i]=1 // æ…•å®¹ä»»åŠ¡æ ‡è®°å·²å®Œæˆ
call unitadditembyidswapped('I0DS' , u)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ…•å®¹å¤ï¼š|r |cFF99FFCCä½ å°å­æ²¡è®©æˆ‘å¤±æœ›ï¼Œè¿™æ˜¯ä½ çš„å¥–åŠ±ï¼|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ…•å®¹å¤ï¼š|r |cFF99FFCCä½ è¿˜æ²¡æœ‰æ…•å®¹é¾™åŸçš„å®åŠ›æˆ–è€…ç­‰çº§æœªè¶…è¿‡100çº§ï¼Œè¯·ç»§ç»­åŠªåŠ›ï¼|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00æ…•å®¹å¤ï¼š|r |cFF99FFCCä½ ä¸æ˜¯æ…•å®¹ä¸–å®¶ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	else
		call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00æ…•å®¹å¤ï¼š|r |cFF99FFCCä½ å·²å®Œæˆä»»åŠ¡|r\n")
	endif
	set u=null
	set p=null
endfunction
// æ’å±±æ‹‚å°˜I0DUä¸“å±ï¼Œæ•™è®­ç”°ä¼¯å…‰o02U
function isHengShanOnly takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0DW' // INLINED!!
endfunction
function hengShanOnly takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
 local location loc=Location(0, 0)
 local integer rn= 0
	if hengShanOnlyFlag[i] == 0 then
		// å¿…é¡»æ˜¯æ’å±±æ´¾
		if udg_runamen[i] == 7 then
		// GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD) >= 200000 
			if GetHeroLevel(udg_hero[i]) >= 90 then
				set hengShanOnlyFlag[i]=1
				// ç”°ä¼¯å…‰éšæœºå‡ºç°åœ¨é»„è“‰ã€æ—æœè‹±ã€ç­ç»å¸ˆå¤ªé™„è¿‘
				set rn=GetRandomInt(1, 3)
				if rn == 1 then
					set loc=Location(- 3500, 121) // é»„è“‰é™„è¿‘
elseif rn == 2 then
					set loc=Location(- 1165, 11193) // ç­ç»é™„è¿‘
else
					set loc=Location(- 9373, - 2769) // æ—æœè‹±é™„è¿‘
endif
				call CreateNUnitsAtLoc(1, 'o02U', Player(12), loc, bj_UNIT_FACING)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCç”°ä¼¯å…‰ç«Ÿæ•¢æ¬ºè´Ÿä»ªç³å°å¸ˆå¦¹ï¼Œå¸®å¿™æ•™è®­ä¸€é¡¿ã€‚|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ•™è®­|cFFADFF2Fç”°ä¼¯å…‰ï¼ˆéšæœºå‡ºç°åœ¨é»„è“‰ã€æ—æœè‹±ã€ç­ç»å¸ˆå¤ªé™„è¿‘ï¼‰|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ çš„ç­‰çº§æœªè¾¾åˆ°90çº§|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ ä¸æ˜¯æ’å±±æ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif hengShanOnlyFlag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCç”°ä¼¯å…‰ç«Ÿæ•¢æ¬ºè´Ÿä»ªç³å°å¸ˆå¦¹ï¼Œå¸®å¿™æ•™è®­ä¸€é¡¿ã€‚|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ•™è®­|cFFADFF2Fç”°ä¼¯å…‰ï¼ˆéšæœºå‡ºç°åœ¨é»„è“‰ã€æ—æœè‹±ã€ç­ç»å¸ˆå¤ªé™„è¿‘ï¼‰|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set u=null
	set p=null
	set loc=null
endfunction
// åå±±ï¼šå…»å¾å‰‘I0EOï¼Œç­‰çº§å¤§äº90çº§æŒ‘æˆ˜ä»¤ç‹å†²
function isHuaShanOnly takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0DV' // INLINED!!
	// return((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I0DV'))
endfunction
function huaShanOnly takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
 local location loc=Location(1252, - 10800)
	if huaShanOnlyFlag[i] == 0 then
		// å¿…é¡»æ˜¯åå±±æ´¾
		if udg_runamen[i] == 4 then
			if GetUnitLevel(udg_hero[i]) >= 90 then
				set huaShanOnlyFlag[i]=1
				call CreateNUnitsAtLoc(1, 'h00N', Player(12), loc, bj_UNIT_FACING)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCè¯·å¼€å§‹ä½ çš„å†ç»ƒ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ‰“è´¥|cFFADFF2Fä»¤ç‹å†²|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ çš„ç­‰çº§æ²¡åˆ°90çº§|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ ä¸æ˜¯åå±±æ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif huaShanOnlyFlag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCè¯·å¼€å§‹ä½ çš„å†ç»ƒ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ‰“è´¥|cFFADFF2Fä»¤ç‹å†²|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set loc=null
	set u=null
	set p=null
endfunction
//è¡¡å±±ï¼šé•‡å²³å°šæ–¹I0DYï¼Œä»¤ç‹å†²æ¥ä»»åŠ¡ï¼Œæ±Ÿå—æ°´ä¹¡è§£å†³è´¹å½¬n00Sï¼Œå‰‘åŠ é’é¾™å…‰ç¯
function isHengShan2Only takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0E5' // INLINED!!
endfunction
function hengShan2Only takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
 local location loc=Location(- 4022, - 5210)
	if hengshan2OnlyFlag[i] == 0 then
		// å¿…é¡»æ˜¯è¡¡å±±æ´¾
		if udg_runamen[i] == 15 then
			if GetUnitLevel(udg_hero[i]) >= 90 then
				set hengshan2OnlyFlag[i]=1
				call CreateNUnitsAtLoc(1, 'n00S', Player(12), loc, bj_UNIT_FACING)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCå¤§åµ©é˜³æ‰‹è´¹å½¬å‡ºç°åœ¨æ±Ÿå—æ°´ä¹¡ï¼Œå¸®å¿™è§£å†³ä»–|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fè´¹å½¬|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ çš„ç­‰çº§æ²¡åˆ°90çº§|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ ä¸æ˜¯è¡¡å±±æ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif hengshan2OnlyFlag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCå¤§åµ©é˜³æ‰‹è´¹å½¬å‡ºç°åœ¨æ±Ÿå—æ°´ä¹¡ï¼Œå¸®å¿™è§£å†³ä»–|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fè´¹å½¬|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set loc=null
	set u=null
	set p=null
endfunction
//æ³°å±±ï¼šä¸œçµé“å‰‘I0E2ï¼Œä»¤ç‹å†²æ¥ä»»åŠ¡ï¼Œé›é—¨å…³è§£å†³ç‰ç‘å­n00Tï¼Œæ°¸ä¹…è§¦å‘æ³°å±±åå…«ç›˜
function isTaiShanOnly takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0E6' // INLINED!!
endfunction
function taiShanOnly takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
 local location loc=Location(- 5280, 50)
	if taiShanOnlyFlag[i] == 0 then
		// å¿…é¡»æ˜¯æ³°å±±æ´¾
		if udg_runamen[i] == 18 then
			if GetUnitLevel(udg_hero[i]) >= 90 then
				set taiShanOnlyFlag[i]=1
				call CreateNUnitsAtLoc(1, 'n00T', Player(12), loc, bj_UNIT_FACING)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCç‰ç‘å­å‡ºç°åœ¨é›é—¨å…³ï¼Œå¸®å¿™æŠ¢å›æŒé—¨é“å‰‘|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fç‰ç‘å­|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ çš„ç­‰çº§æ²¡åˆ°90çº§|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ ä¸æ˜¯æ³°å±±æ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif taiShanOnlyFlag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCç‰ç‘å­å‡ºç°åœ¨é›é—¨å…³ï¼Œå¸®å¿™æŠ¢å›æŒé—¨é“å‰‘|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fç‰ç‘å­|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä»¤ç‹å†²ï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set loc=null
	set u=null
	set p=null
endfunction
// ä»¤ç‹å†²ã€ç”°ä¼¯å…‰ã€æ´ªå®‰é€šã€è´¹å½¬æ­»äº¡æ‰è½
function isLingHuChongDeath takes nothing returns boolean
	return ( GetUnitTypeId(GetTriggerUnit()) == 'h00N' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'o02U' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'n00R' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'n00S' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'n00T' )
endfunction
function lingHuChongDeath takes nothing returns nothing
 local unit u= GetKillingUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(GetTriggerUnit())
	if GetUnitTypeId(GetTriggerUnit()) == 'h00N' then
		set huaShanOnlyFlag[i]=2 // åå±±å†ç»ƒå®Œæˆ
call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä»¤ç‹å†²ï¼šæ­å–œä½ é€šè¿‡å†ç»ƒï¼Œå¥–åŠ±|cFFFF00CCå…»å¾å‰‘|rä¸€æŠŠ")
		call unitadditembyidswapped('I0E0' , u)
	elseif GetUnitTypeId(GetTriggerUnit()) == 'o02U' then
		set hengShanOnlyFlag[i]=2
		call unitadditembyidswapped('I0DU' , u)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä»¤ç‹å†²ï¼šä½ å·²ç»æ•™è®­äº†ç”°ä¼¯å…‰ï¼Œå¥–åŠ±|cFFFF00CCæ‹‚å°˜|rä¸€æŠŠ")
	elseif GetUnitTypeId(GetTriggerUnit()) == 'n00R' then
		set shenLongOnlyFlag[i]=2
		call unitadditembyidswapped('I0DZ' , u)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00éŸ¦å°å®ï¼šæ„Ÿè°¢ä½ èµ¶è·‘äº†æ´ªå®‰é€šï¼Œå¥–åŠ±|cFFFF00CCæ¯’é¾™é­|rä¸€æŠŠ")
	elseif GetUnitTypeId(GetTriggerUnit()) == 'n00S' then
		set hengshan2OnlyFlag[i]=2
		call unitadditembyidswapped('I0DY' , u)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä»¤ç‹å†²ï¼šå¤šè°¢å°‘ä¾ ä¸ºå¸®å¿™æ€äº†è´¹å½¬ï¼Œå¥–åŠ±|cFFFF00CCé•‡å²³å°šæ–¹|rä¸€æŠŠ")
	elseif GetUnitTypeId(GetTriggerUnit()) == 'n00T' then
		set taiShanOnlyFlag[i]=2
		call unitadditembyidswapped('I0E2' , u)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä»¤ç‹å†²ï¼šå¤šè°¢å°‘ä¾ ä¸ºå¸®å¿™æŠ¢å›æŒé—¨é“å‰‘ï¼Œå¥–åŠ±|cFFFF00CCä¸œçµé“å‰‘|rä¸€æŠŠ")
	endif
	set u=null
	set p=null
	set loc=null
endfunction
// 	ç¥é¾™ï¼šæ¯’é¾™é­I0DZï¼ŒéŸ¦å°å®å–ï¼Œé‡‘é’±20wï¼Œæœ¨å¤´300
function isShenLongOnly takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0E3' // INLINED!!
	// return((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I0E3'))
endfunction
function shenLongOnly takes nothing returns nothing
 local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=1 + GetPlayerId(p)
 local location loc=Location(10524, 324)
	if shenLongOnlyFlag[i] == 0 then
		// å¿…é¡»æ˜¯ç¥é¾™æ•™
		if udg_runamen[i] == 16 or udg_runamen[i] == 17 then
			if GetUnitLevel(udg_hero[i]) >= 40 then
				set shenLongOnlyFlag[i]=1
				// æ¡ƒèŠ±å²›å‡ºç°æ´ªå®‰é€š
				call CreateNUnitsAtLoc(1, 'n00R', Player(12), loc, bj_UNIT_FACING)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00éŸ¦å°å®ï¼š|r |cFF99FFCCæ´ªå®‰é€šè¦æ¥æ‰¾æˆ‘éº»çƒ¦ï¼Œæ±‚å¤§ä¾ å¸®å¿™æ‰“å‘èµ°ï¼Œæ®è¯´ä»–ä»ç¥é¾™å²›å·æ¸¡åˆ°æ¡ƒèŠ±å²›äº†ã€‚|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fæ´ªå®‰é€šï¼ˆæ¡ƒèŠ±å²›ï¼‰|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00éŸ¦å°å®ï¼š|r |cFF99FFCCä½ çš„ç­‰çº§ä¸è¶³40çº§|r\n")
			endif
				else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00éŸ¦å°å®ï¼š|r |cFF99FFCCä½ ä¸æ˜¯ç¥é¾™æ•™ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
		endif
	elseif shenLongOnlyFlag[i] == 1 then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00éŸ¦å°å®ï¼š|r |cFF99FFCCæ´ªå®‰é€šè¦æ¥æ‰¾æˆ‘éº»çƒ¦ï¼Œæ±‚å¤§ä¾ å¸®å¿™æ‰“å‘èµ°ï¼Œæ®è¯´ä»–ä»ç¥é¾™å²›å·æ¸¡åˆ°æ¡ƒèŠ±å²›äº†ã€‚|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCè§£å†³|cFFADFF2Fæ´ªå®‰é€šï¼ˆæ¡ƒèŠ±å²›ï¼‰|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00éŸ¦å°å®ï¼š|r |cFF99FFCCä½ å·²ç»å®Œæˆä»»åŠ¡äº†|r\n")
	endif
	set u=null
	set p=null
	set loc=null
endfunction
//æ€äººç³»ç»Ÿ
function IsYangShou takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0BF' // INLINED!!
endfunction
function KillYangShou takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer id= LoadInteger(YDHT, GetHandleId(p), StringHash("life"))
 local integer j= GetRandomInt(1, xiuxing[i] * 3 + 3)
 local string s
	if ( yangshou[i] == 0 ) then
		set id=udg_yangshou[j]
		set yangshou[i]=1
		call SaveInteger(YDHT, GetHandleId(p), StringHash("life"), id)
		call SaveInteger(YDHT, GetHandleId(p), StringHash("life") * 2, ( j - 1 ) / 3)
		call CreateNUnitsAtLoc(1, id, Player(15), v7[$B], 270.)
		set s=GetUnitName(bj_lastCreatedUnit)
		call RemoveUnit(bj_lastCreatedUnit)
		call PlaySoundOnUnitBJ(bh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCè€å¤«å¤œè§‚å¤©è±¡ï¼Œ" + s + "é˜³å¯¿å·²å°½ï¼Œé€Ÿå»ä¸è€å¤«è§£å†³ä»–|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©æ¸¸éªè§£å†³|cFFADFF2F" + s + "|r\n")
	else
		call CreateNUnitsAtLoc(1, id, Player(15), v7[$B], 270.)
		set s=GetUnitName(bj_lastCreatedUnit)
		call RemoveUnit(bj_lastCreatedUnit)
		call PlaySoundOnUnitBJ(bh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCè§£å†³" + s + "äº†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©æ¸¸éªè§£å†³|cFFADFF2F" + s + "|r\n")
	endif
	set u=null
	set p=null
endfunction
function IsFangQiYangShou takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem()) == 'I0BE' // INLINED!!
endfunction
function FangQiYangShou takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if ( yangshou[i] == 0 ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCå½“å‰æ²¡æœ‰æ¥ä»»åŠ¡|r\n")
	else
		set shengwang[i]=shengwang[i] - 100
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸éªï¼š|r |cFF99FFCCå ‚å ‚å¤§ä¾ ï¼Œç«Ÿè§£å†³ä¸äº†ä¸€ä¸ªå°å–½å•°|r\n")
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ”¾å¼ƒä»»åŠ¡ï¼Œå£°æœ›å‡å°‘100|r\n")
		set yangshou[i]=0
	endif
	set u=null
	set p=null
endfunction
function IsWanChengYangShou takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == LoadInteger(YDHT, GetHandleId(GetOwningPlayer(GetKillingUnit())), StringHash("life")) and yangshou[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == 1
endfunction
function WanChengYangShou takes nothing returns nothing
 local unit u=GetKillingUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer id= LoadInteger(YDHT, GetHandleId(p), StringHash("life"))
 local integer j= GetRandomInt(40, 60)
 local integer l__l= LoadInteger(YDHT, GetHandleId(p), StringHash("life") * 2)
	set shengwang[i]=shengwang[i] + j * ( l__l + 1 )
	call AdjustPlayerStateBJ(5000 * ( l__l + 1 ), p, PLAYER_STATE_RESOURCE_GOLD)
	call AdjustPlayerStateBJ(10 * ( l__l + 1 ), p, PLAYER_STATE_RESOURCE_LUMBER)
	//call AddHeroXP(udg_hero[i],200*GetHeroLevel(udg_hero[i])*GetHeroLevel(udg_hero[i])*(xiuxing[i]+1),true)
	set yangshou[i]=0
	if GetRandomInt(1, 10) <= l__l + 1 then
		call unitadditembyidswapped('I04T' , udg_hero[i])
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å®Œæˆä»»åŠ¡ï¼Œå¥–åŠ±å£°æœ›" + I2S(j * ( l__l + 1 )) + "ç‚¹ï¼Œé‡‘é’±" + I2S(5000 * ( l__l + 1 )) + "ï¼Œçç¨€å¸" + I2S(10 * ( l__l + 1 )) + "ï¼Œä¹é˜³ä¸¹ä¸€é¢—|r\n")
	else
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å®Œæˆä»»åŠ¡ï¼Œå¥–åŠ±å£°æœ›" + I2S(j * ( l__l + 1 )) + "ç‚¹ï¼Œé‡‘é’±" + I2S(5000 * ( l__l + 1 )) + "ï¼Œçç¨€å¸" + I2S(10 * ( l__l + 1 )))
	endif
	set u=null
	set p=null
endfunction
//å¸®éƒ­é–æ±‚å©šä»»åŠ¡ã€å·ç‰ç®«ä»»åŠ¡ã€å¯»æ‰¾æ¨è¿‡
function IsQiuHun takes nothing returns boolean
	return ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I09T' or GetItemTypeId(GetManipulatedItem()) == 'I09U' or GetItemTypeId(GetManipulatedItem()) == 'I09L' or GetItemTypeId(GetManipulatedItem()) == 'I09M' or GetItemTypeId(GetManipulatedItem()) == 'I0AW' or GetItemTypeId(GetManipulatedItem()) == 'I0AT' or GetItemTypeId(GetManipulatedItem()) == 'I0AV' or GetItemTypeId(GetManipulatedItem()) == 'I0EK' ) // INLINED!!
endfunction
function QiuHun_Action takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	if GetItemTypeId(GetManipulatedItem()) == 'I09T' then
		if ( qiuhun[i] == 0 ) then
			set qiuhun[i]=1
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCæˆ‘è¦æ•™éƒ­é–å…„å¼Ÿä¹é˜´çœŸç»å¸®åŠ©ä»–å‘è“‰å„¿æ±‚å©šï¼Œå¯æ˜¯ä¹é˜´çœŸç»çªç„¶æ‰¾ä¸åˆ°äº†|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å‘¨ä¼¯é€šå¯»æ‰¾|cFFADFF2Fä¹é˜´çœŸç»ä¸Šä¸‹å·ï¼ˆä¹é˜´çœŸç»å’Œä¹é˜´ç™½éª¨çˆªï¼‰|r\n")
		else
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCå¸®æˆ‘æ‰¾åˆ°ç»ä¹¦äº†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å‘¨ä¼¯é€šå¯»æ‰¾|cFFADFF2Fä¹é˜´çœŸç»ä¸Šä¸‹å·ï¼ˆä¹é˜´çœŸç»å’Œä¹é˜´ç™½éª¨çˆªï¼‰|r\n")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I0EK' then
	    if ( xidujuexue[i] == 0 ) then
            set xidujuexue[i]=1
            call PlaySoundOnUnitBJ(bh, 100, u)
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCæˆ‘å¬è¯´è€æ¯’ç‰©æŠŠä»–çš„ç»å­¦è¥¿æ¯’æ£æ³•å’Œè›¤èŸ†åŠŸæ•´ç†æˆä¹¦äº†ï¼Œä½ èƒ½å¸®æˆ‘æ‰¾æ¥ä¹ˆï¼Ÿ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å‘¨ä¼¯é€šå¯»æ‰¾|cFFADFF2Fè›¤èŸ†åŠŸå’Œè¥¿æ¯’æ£æ³•|r\n")
        else
            call PlaySoundOnUnitBJ(bh, 100, u)
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCæˆ‘å¬è¯´è€æ¯’ç‰©æŠŠä»–çš„ç»å­¦è¥¿æ¯’æ£æ³•å’Œè›¤èŸ†åŠŸæ•´ç†æˆä¹¦äº†ï¼Œä½ èƒ½å¸®æˆ‘æ‰¾æ¥ä¹ˆï¼Ÿ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å‘¨ä¼¯é€šå¯»æ‰¾|cFFADFF2FcFFADFF2Fè›¤èŸ†åŠŸå’Œè¥¿æ¯’æ£æ³•|r\n")
        endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I0AT' and udg_runamen[i] == 2 then
		if ( zhaoyangguo[i] == 0 ) then
			set zhaoyangguo[i]=1
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å°é¾™å¥³ï¼š|r |cFF99FFCCå°‘ä¾ å¦‚æœè§åˆ°è¿‡å„¿ï¼ŒæŠŠç‰èœ‚äº¤ç»™ä»–ï¼Œä»–å°±çŸ¥é“æˆ‘æ²¡æœ‰æ­»äº†|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å°é¾™å¥³æ‰¾åˆ°|cFFADFF2Fæ¨è¿‡|r\n")
			call unitadditembyidswapped('I0AU' , u)
		elseif ( zhaoyangguo[i] == 1 ) then
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å°é¾™å¥³ï¼š|r |cFF99FFCCè§åˆ°è¿‡å„¿äº†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å°é¾™å¥³æ‰¾åˆ°|cFFADFF2Fæ¨è¿‡|r\n")
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å°é¾™å¥³ï¼š|r |cFF99FFCCæ„Ÿè°¢å°‘ä¾ ç›¸åŠ©ï¼Œå¸®æˆ‘æ‰¾åˆ°äº†è¿‡å„¿|r\n")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I0AV' and udg_runamen[i] == 2 then
		if ( zhaoyangguo[i] == 0 ) then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½ è¿˜æ²¡æœ‰åˆ°å°é¾™å¥³å¤„æ¥ä»»åŠ¡|r\n")
		elseif ( zhaoyangguo[i] == 1 ) then
			if UnitHaveItem(u , 'I0AU') then
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¨è¿‡ï¼š|r |cFF99FFCCå¤ªå¥½äº†ï¼Œå§‘å§‘æ²¡æœ‰æ­»ï¼è°¢è°¢å°‘ä¾ ï¼Œè¿™æœ¬æ®‹ç« é€ç»™ä½ äº†|r\n")
				call RemoveItem(FetchUnitItem(u , 'I0AU'))
				call unitadditembyidswapped('I065' , u)
				set zhaoyangguo[i]=2
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¨è¿‡ï¼š|r |cFF99FFCCå§‘å§‘å·²ç»æ­»å»å¤šå¹´ï¼Œå“ªé‡Œæ¥çš„ç‹‚å°å­åœ¨èƒ¡è¨€ä¹±è¯­|r\n")
			endif
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¨è¿‡ï¼š|r |cFF99FFCCæ„Ÿè°¢å°‘ä¾ ç›¸åŠ©ï¼Œå¸®æˆ‘æ‰¾åˆ°äº†å§‘å§‘|r\n")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I09U' then
		if ( touxiao[i] == 0 ) then
			set touxiao[i]=1
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCé»„è€é‚ªæŠŠæˆ‘å…³åœ¨è¿™å¥½ä¹…ï¼Œå¤©å¤©å¹ç®«çƒ¦æ­»äº†ï¼Œä½ èƒ½å¸®æˆ‘æŠŠä»–çš„ç‰ç®«å·æ¥å—ï¼Ÿ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å‘¨ä¼¯é€šå·åˆ°|cFFADFF2Fç‰ç®«|r\n")
		else
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCå¸®æˆ‘å·åˆ°ç‰ç®«äº†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå¸®åŠ©å‘¨ä¼¯é€šå·åˆ°|cFFADFF2Fç‰ç®«|r\n")
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I09L' then
		if GetUnitAbilityLevel(u, 'A0D1') >= 1 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCå°å­ï¼Œä½ å·²ç»æŒæ¡æ­¤æ­¦åŠŸäº†")
		else
			if UnitHaveItem(u , 'I03I') and GetUnitAbilityLevel(u, 'A07S') >= 1 and wuxing[i] >= 35 then
				call RemoveItem(FetchUnitItem(u , 'I03I'))
				call unitadditembyidswapped('I09J' , u)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCçœ‹ä½ èµ„è´¨ä¸é”™ï¼Œä¹¦çš„è¿™å‡ é¡µå°±æ˜¯æ‘§åšç¥æŠ“çš„ä¿®ä¹ æ³•é—¨|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCå°å­ï¼Œä½ çš„æ¡ä»¶ä¸è¶³|r\n")
			endif
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I0AW' and linganran[i] == 0 then
		if GetUnitAbilityLevel(u, 'A07G') >= 1 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¨è¿‡ï¼š|r |cFF99FFCCå°‘ä¾ ï¼Œä½ å·²ç»æŒæ¡æ­¤æ­¦åŠŸäº†")
		else
			if fuyuan[i] >= 25 and wuxing[i] >= 25 then
				call unitadditembyidswapped('I039' , u)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¨è¿‡ï¼š|r |cFF99FFCCçœ‹ä½ èµ„è´¨ä¸é”™ï¼Œè¿™æœ¬é»¯ç„¶é”€é­‚æŒçš„ç§˜ç±å°±ç»™ä½ äº†|r\n")
				set linganran[i]=1
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¨è¿‡ï¼š|r |cFF99FFCCå°‘ä¾ ï¼Œä½ çš„æ¡ä»¶ä¸è¶³|r\n")
			endif
		endif
	elseif GetItemTypeId(GetManipulatedItem()) == 'I09M' then
		if GetUnitAbilityLevel(u, 'A0D4') >= 1 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š|r |cFF99FFCCå¹´è½»äººï¼Œä½ å·²ç»æŒæ¡æ­¤æ­¦åŠŸäº†")
		else
			if UnitHaveItem(u , 'I02X') and yishu[i] >= 35 then
				call RemoveItem(FetchUnitItem(u , 'I02X'))
				call unitadditembyidswapped('I09H' , u)
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š|r |cFF99FFCCçœ‹ä½ èµ„è´¨ä¸é”™ï¼Œä¹¦çš„è¿™å‡ é¡µå°±æ˜¯åŒ»ç–—ç¯‡çš„ä¿®ä¹ æ³•é—¨|r\n")
			else
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ´ªä¸ƒå…¬ï¼š|r |cFF99FFCCå¹´è½»äººï¼Œä½ çš„æ¡ä»¶ä¸è¶³|r\n")
			endif
		endif
		call ShowUnitHide(gg_unit_n00E_0066)
	endif
	set u=null
	set p=null
endfunction
function IsQiuHunWan takes nothing returns boolean
	return ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( ( qiuhun[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 1 and UnitHaveItem(GetTriggerUnit() , 'I02X') and UnitHaveItem(GetTriggerUnit() , 'I03I') ) or ( touxiao[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 1 and UnitHaveItem(GetTriggerUnit() , 'I0A1') ) or ( xidujuexue[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 1 and UnitHaveItem(GetTriggerUnit() , 'I03C') and UnitHaveItem(GetTriggerUnit() , 'I03O') ) ) // INLINED!!
endfunction
function QiuHunWanCheng takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	//call BJDebugMsg("æœ‰æ²¡æœ‰ï¼Ÿ")
	if qiuhun[i] == 1 and UnitHaveItem(u , 'I02X') and UnitHaveItem(u , 'I03I') then
		set L7[i]=1
		loop
			exitwhen L7[i] > wugongshu[i]
			if ( I7[( i - 1 ) * 20 + L7[i]] != 'AEfk' ) then
				if L7[i] == wugongshu[i] then
					call RemoveItem(FetchUnitItem(u , 'I02X'))
					call RemoveItem(FetchUnitItem(u , 'I03I'))
					call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCä¸é”™å°å­ï¼Œå±…ç„¶è¢«ä½ æ‰¾åˆ°äº†ï¼Œä¸èƒ½è®©ä½ ç™½è·‘ï¼Œæˆ‘æŠŠè¿™é—å¿˜æŠ€èƒ½çš„æ³•é—¨ä¼ ç»™ä½ ï¼Œä»Šåä½ é—å¿˜æŠ€èƒ½å°±ä¸éœ€è¦é—å¿˜ä¹‹çŸ³äº†|r\n")
					set udg_yiwang[i]=true
					set qiuhun[i]=0
					exitwhen true
				endif
			else
				call UnitAddAbility(u, 'A017')
				set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A017'
				call RemoveItem(FetchUnitItem(u , 'I02X'))
				call RemoveItem(FetchUnitItem(u , 'I03I'))
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCä¸é”™å°å­ï¼Œå±…ç„¶è¢«ä½ æ‰¾åˆ°äº†ï¼Œä¸èƒ½è®©ä½ ç™½è·‘ï¼Œæˆ‘è¿™ä¸ƒåäºŒè·¯ç©ºæ˜æ‹³ä¼ ç»™ä½ äº†|r\n")
				call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ­å–œ" + GetPlayerName(p) + "ä¹ å¾—ç©ºæ˜æ‹³")
				set qiuhun[i]=0
				exitwhen true
			endif
			set L7[i]=L7[i] + 1
		endloop
	elseif xidujuexue[i] == 1 and UnitHaveItem(u , 'I03C') and UnitHaveItem(u , 'I03O') then
	    set xidujuexue[i]=0
        call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCä¸é”™å°å­ï¼Œå±…ç„¶è¢«æ‰¾åˆ°äº†|r\n")
        call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCè¿™ä¸ªé“æŒä»¤æ˜¯æˆ‘ä¸Šæ¬¡å’Œè£˜åƒä»è€å„¿è¿‡æ‹›çš„æ—¶å€™å¾—åˆ°çš„ï¼Œå°±é€ç»™ä½ äº†å§|r\n")
        call unitadditembyidswapped('I0EJ' , u)
        call RemoveItem(FetchUnitItem(u , 'I03O'))
        call RemoveItem(FetchUnitItem(u , 'I03C'))
	elseif touxiao[i] == 1 and UnitHaveItem(u , 'I0A1') then
		set L7[i]=1
		loop
			exitwhen L7[i] > wugongshu[i]
			if ( I7[( i - 1 ) * 20 + L7[i]] != 'AEfk' ) then
				if L7[i] == wugongshu[i] then
					call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCå°å­ï¼Œä½ å­¦çš„æ­¦åŠŸå¤ªå¤šäº†ï¼Œé—å¿˜ä¸€äº›å†è¿‡æ¥æ‰¾æˆ‘å§|r\n")
					exitwhen true
				endif
			else
				call UnitAddAbility(u, 'A018')
				set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A018'
				call RemoveItem(FetchUnitItem(u , 'I0A1'))
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCä¸é”™å°å­ï¼Œå±…ç„¶è¢«ä½ å·åˆ°äº†ï¼Œä¸èƒ½è®©ä½ ç™½è·‘ï¼Œæˆ‘æŠŠä»é»„è€é‚ªé‚£å·å­¦çš„ç¢§æµ·æ½®ç”Ÿæ›²ä¼ ç»™ä½ |r\n")
				call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ­å–œ" + GetPlayerName(p) + "ä¹ å¾—ç¢§æµ·æ½®ç”Ÿæ›²")
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCè¿™æŠŠç‰ç®«å…¶å®æ˜¯ä¸€æŠŠéš¾å¾—çš„ç¥å™¨ï¼Œå°±é€ç»™ä½ äº†å§|r\n")
				call unitadditembyidswapped('I09D' , u)
				set touxiao[i]=0
				exitwhen true
			endif
			set L7[i]=L7[i] + 1
		endloop
	endif
	set u=null
	set p=null
endfunction
//---------å¸®éƒ­é–æ±‚å©šç»“æŸ
//-------ä»»åŠ¡ç³»ç»Ÿ-------
//é²æœ‰è„šé€ä¿¡ä»»åŠ¡
function QJ takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895898 ) ) // INLINED!!
endfunction
function RJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 3 ) ) then
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä½ æ— æ³•å†æ¥å–æ­¤ä»»åŠ¡äº†")
else
if ( ( jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
if ( ( GetRandomInt(1, 100) <= 35 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
set jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é²æœ‰è„šï¼š|r |cFF99FFCCä¸å¸®ä¹ƒæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®æ´¾ï¼Œè´Ÿè´£ä¼ é€å„ç§æƒ…æŠ¥|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé€ä¿¡ç»™|cFFADFF2Fé»„è“‰|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( GetRandomInt(1, 70) <= 35 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Xe))
set jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=2
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é²æœ‰è„šï¼š|r |cFF99FFCCä¸å¸®ä¹ƒæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®æ´¾ï¼Œè´Ÿè´£ä¼ é€å„ç§æƒ…æŠ¥|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé€ä¿¡ç»™|cFFADFF2Fè¾¾æ‘©ç¥–å¸ˆ|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
set jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Pe))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é²æœ‰è„šï¼š|r |cFF99FFCCä¸å¸®ä¹ƒæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®æ´¾ï¼Œè´Ÿè´£ä¼ é€å„ç§æƒ…æŠ¥|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé€ä¿¡ç»™|cFFADFF2Féƒ­é–\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
else
if ( ( jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Bg))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é²æœ‰è„šï¼š|r |cFF99FFCCä¸å¸®ä¹ƒæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®æ´¾ï¼Œè´Ÿè´£ä¼ é€å„ç§æƒ…æŠ¥|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé€ä¿¡ç»™|cFFADFF2Fé»„è“‰|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Xe))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é²æœ‰è„šï¼š|r |cFF99FFCCä¸å¸®ä¹ƒæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®æ´¾ï¼Œè´Ÿè´£ä¼ é€å„ç§æƒ…æŠ¥|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé€ä¿¡ç»™|cFFADFF2Fè¾¾æ‘©ç¥–å¸ˆ|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Pe))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00é²æœ‰è„šï¼š|r |cFF99FFCCä¸å¸®ä¹ƒæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®æ´¾ï¼Œè´Ÿè´£ä¼ é€å„ç§æƒ…æŠ¥|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé€ä¿¡ç»™|cFFADFF2Féƒ­é–\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
endif
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function TJ takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( jd[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 1 ) ) // INLINED!!
endfunction
function UJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 0 , 0 , 500)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€ç”Ÿå‘½+500\n")
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 3 , 0 , $C8)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€æ”»å‡»+200")
else
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 0 , 30)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€é˜²å¾¡+30\n")
endif
endif
if ( ( GetRandomInt(1, 50) <= 40 ) ) then
call unitadditembyidswapped(YaoCao[5] , GetTriggerUnit())
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00æ„å¤–è·å¾—äº†ä¸€ä¸ªé”¦ç¯ç¬¼")
endif
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 100, true)
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
set jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + $F )
call FlushChildHashtable(YDHT, id * cx)
endfunction
function WJ takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( jd[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 2 ) ) // INLINED!!
endfunction
function XJ takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 0 , 0 , 500)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€ç”Ÿå‘½+500\n")
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 3 , 0 , $C8)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€æ”»å‡»+200")
else
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 0 , 30)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€é˜²å¾¡+30\n")
endif
endif
if ( ( GetRandomInt(1, 50) <= 40 ) ) then
call unitadditembyidswapped(YaoCao[5] , GetTriggerUnit())
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00æ„å¤–è·å¾—äº†ä¸€ä¸ªé”¦ç¯ç¬¼")
endif
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 100, true)
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
set jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + $F )
call FlushChildHashtable(YDHT, id * cx)
endfunction
function ZJ takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( jd[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 3 ) ) // INLINED!!
endfunction
function dK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 0 , 0 , 500)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€ç”Ÿå‘½+500\n")
else
if ( ( GetRandomInt(1, 50) <= 25 ) ) then
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 3 , 0 , $C8)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€æ”»å‡»+200")
else
call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 0 , 30)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ+100ã€æ±Ÿæ¹–å£°æœ›+15ã€é˜²å¾¡+30\n")
endif
endif
if ( ( GetRandomInt(1, 50) <= 40 ) ) then
call unitadditembyidswapped(YaoCao[5] , GetTriggerUnit())
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00æ„å¤–è·å¾—äº†ä¸€ä¸ªé”¦ç¯ç¬¼")
endif
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 100, true)
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
set jd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( kd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + $F )
call FlushChildHashtable(YDHT, id * cx)
endfunction
function fK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895352 ) ) // INLINED!!
endfunction
//å‡»æ€é‡çŒªé¦–é¢†
function gK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( e8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Se))
set e8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00è€¶å¾‹é½ï¼š|r |cFF99FFCCæˆ‘ä¸€ç”Ÿé…·çˆ±æ‰“çŒï¼Œå¹³æ—¶æœ‰æ—¶é—´å°±ä¼šå‡ºæ¥è¯•è¯•èº«æ‰‹ï¼Œä½ æ„¿æ„ä¸€åŒå‰å¾€å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‡»æ€å±±æ—ä¸­çš„|cFFADFF2Fé‡çŒªé¦–é¢†|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( e8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Se))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00ä½ å·²ç»æ¥ä¸‹ä»»åŠ¡äº†\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‡»æ€å±±æ—ä¸­çš„|cFFADFF2Fé‡çŒªé¦–é¢†|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function iK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895353 ) ) // INLINED!!
endfunction
//æ—è¿œå›¾æŠ¼é•–ä»»åŠ¡
function jK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
if ( ( GetRandomInt(1, 70) <= $A ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Te))
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™å…¨çœŸæ•™çš„ä¸˜æŒé—¨å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å…¨çœŸæ•™çš„|cFFADFF2Fä¸˜å¤„æœº|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( GetRandomInt(1, 60) <= $A ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ue))
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=2
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCå…¨çœŸæ•™å±±ä¸‹é™„è¿‘çš„è±ºç‹¼ç»å¸¸å‡ºæ²¡æ”»å‡»é•–è½¦ï¼Œä½ èƒ½å‰å¾€æ¶ˆç­ä»–ä»¬å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å…¨çœŸæ•™å±±ä¸‹çš„æ€æ­»10åª|cFFADFF2Fè±ºç‹¼|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( GetRandomInt(1, 50) <= $A ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ve))
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=3
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™ç‡•å­åçš„æ…•å®¹å¤å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€ç‡•å­åçš„|cFFADFF2Fæ…•å®¹å¤|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( GetRandomInt(1, 40) <= $A ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(We))
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=4
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCç‡•å­åçš„èå­ç‹ç»å¸¸å‡ºæ²¡æ”»å‡»é•–è½¦ï¼Œä½ èƒ½å‰å¾€æ¶ˆç­ä»–ä»¬å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€ç‡•å­åçš„æ€æ­»3åª|cFFADFF2Fèå­ç‹|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( GetRandomInt(1, 30) <= $A ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Xe))
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=5
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™å°‘æ—å¯ºçš„è¾¾æ‘©ç¥–å¸ˆå§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å°‘æ—å¯ºçš„|cFFADFF2Fè¾¾æ‘©ç¥–å¸ˆ|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( GetRandomInt(1, 20) <= $A ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ye))
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=6
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™é›é—¨å…³çš„ä¹”å³°å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€é›é—¨å…³çš„|cFFADFF2Fä¹”å³°|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=7
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Je))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCè¥¿åŸŸé‚ªæ•™æŒç»­éªšæ‰°æˆ‘ä¸­åŸæ­¦æ—ï¼Œæ˜¯æ—¶å€™ç»™ä»–ä»¬ä¸€ç‚¹é¢œè‰²äº†|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå®ˆä½æ­¦æ—æ­£æ´¾ï¼Œæ€æ­»10åª|cFFADFF2Fè¿›æ”»çš„è¥¿åŸŸæ•™å¾’|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
endif
endif
endif
endif
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Te))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™å…¨çœŸæ•™çš„é‚±æŒé—¨å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å…¨çœŸæ•™çš„|cFFADFF2Fä¸˜å¤„æœº|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ue))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCå…¨çœŸæ•™å±±ä¸‹é™„è¿‘çš„è±ºç‹¼ç»å¸¸å‡ºæ²¡æ”»å‡»é•–è½¦ï¼Œä½ èƒ½å‰å¾€æ¶ˆç­ä»–ä»¬å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å…¨çœŸæ•™å±±ä¸‹çš„æ€æ­»10åª|cFFADFF2Fè±ºç‹¼|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 3 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ve))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™ç‡•å­åçš„æ…•å®¹å¤å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€ç‡•å­åçš„|cFFADFF2Fæ…•å®¹å¤|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 4 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(We))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCç‡•å­åçš„èå­ç‹ç»å¸¸å‡ºæ²¡æ”»å‡»é•–è½¦ï¼Œä½ èƒ½å‰å¾€æ¶ˆç­ä»–ä»¬å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€ç‡•å­åçš„æ€æ­»5åª|cFFADFF2Fèå­ç‹|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 5 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Xe))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™å°‘æ—å¯ºçš„è¾¾æ‘©ç¥–å¸ˆå§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€å°‘æ—å¯ºçš„|cFFADFF2Fè¾¾æ‘©ç¥–å¸ˆ|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 6 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Ye))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCæˆ‘è¿™æœ‰ä¸€å°ä¿¡ï¼Œä½ å¸®æˆ‘é€ç»™é›é—¨å…³çš„ä¹”å³°å§|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå‰å¾€é›é—¨å…³çš„|cFFADFF2Fä¹”å³°|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 7 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Je))
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCè¥¿åŸŸé‚ªæ•™æŒç»­éªšæ‰°æˆ‘ä¸­åŸæ­¦æ—ï¼Œæ˜¯æ—¶å€™ç»™ä»–ä»¬ä¸€ç‚¹é¢œè‰²äº†|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCå®ˆä½æ­¦æ—æ­£æ´¾ï¼Œæ€æ­»10åª|cFFADFF2Fè¿›æ”»çš„è¥¿åŸŸæ•™å¾’|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
endif
endif
endif
endif
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function mK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 1 ) ) // INLINED!!
endfunction
function nK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+20ï¼Œç»éªŒå€¼+300")
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 20 )
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 300, true)
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function pK takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ngns' ) and ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] == 2 ) )
endfunction
function qK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetKillingUnit())
set h8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( h8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( h8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= $A ) ) then
set h8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+25ï¼Œç»éªŒå€¼+300")
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 25 )
call AddHeroXP(GetKillingUnit(), 300, true)
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "è±ºç‹¼ï¼š" + ( I2S(h8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function sK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 3 ) ) // INLINED!!
endfunction
function tK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+20ï¼Œç»éªŒå€¼+300")
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 20 )
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 300, true)
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function vK takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nanb' ) and ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] == 4 ) )
endfunction
function wK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
set i8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( i8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( i8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 3 ) ) then
set i8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+30ï¼Œç»éªŒå€¼+300")
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 30 )
call AddHeroXP(GetKillingUnit(), 300, true)
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "èå­ç‹ï¼š" + ( I2S(i8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 3" ) ))
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function yK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 5 ) ) // INLINED!!
endfunction
function zK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+20ï¼Œç»éªŒå€¼+300")
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 20 )
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 300, true)
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function aK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 6 ) ) // INLINED!!
endfunction
function BK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+20ï¼Œç»éªŒå€¼+300")
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 20 )
call AddHeroXP(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0), 300, true)
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function CK takes nothing returns boolean
return GetKillingUnit() != null and ( ( g8[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] == 7 ) )
endfunction
function cK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
set j8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( j8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( j8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= $A ) ) then
set j8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call PlaySoundOnUnitBJ(Hh, 100, GetKillingUnit())
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+30ï¼Œç»éªŒå€¼+300")
set g8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 30 )
call AddHeroXP(GetKillingUnit(), 300, true)
set qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( GetRandomInt(1, 35) <= ( fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] - 5 ) ) ) then
call unitadditembyidswapped(gudong[GetRandomInt(1, 3)] , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00ä½ çš„è¿æ°”ï¼ˆä¸ç¦ç¼˜æœ‰å…³ï¼‰å¤ªå¥½äº†ï¼Œç«Ÿç„¶æ„å¤–è·å¾—äº†ä¸€ä¸ªå¤è‘£")
endif
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "è¥¿åŸŸé‚ªæ•™ï¼š" + ( I2S(j8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function EK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895364 ) ) // INLINED!!
endfunction
function FK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( qd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 3 ) ) then
if ( ( o8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == false ) ) then
if ( ( GetRandomInt(1, 100) <= 25 ) ) then
call unitadditembyidswapped('I01U' , GetTriggerUnit())
set o8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem) ))
else
if ( ( GetRandomInt(1, 60) <= 20 ) ) then
call unitadditembyidswapped('I01Z' , GetTriggerUnit())
set o8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem) ))
else
if ( ( GetRandomInt(1, 60) <= 30 ) ) then
call unitadditembyidswapped(1227895124 , GetTriggerUnit())
set o8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem) ))
else
call unitadditembyidswapped(1227895109 , GetTriggerUnit())
set o8[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=true
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem) ))
endif
endif
endif
call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
if ( ( GetRandomInt(1, $B4) <= $A ) ) then
call createitemloc(1227895627 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, $AA) <= $A ) ) then
call createitemloc(1227895385 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, $A0) <= $A ) ) then
call createitemloc('I03D' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, $96) <= $A ) ) then
call createitemloc(1227895382 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, $8C) <= $A ) ) then
call createitemloc(1227895624 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, $82) <= $A ) ) then
call createitemloc(1227895621 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 120) <= $A ) ) then
call createitemloc(1227895603 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 110) <= $A ) ) then
call createitemloc('I02W' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 100) <= $A ) ) then
call createitemloc(1227895601 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 90) <= $A ) ) then
call createitemloc('I03G' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 80) <= $A ) ) then
call createitemloc('I02U' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 70) <= $A ) ) then
call createitemloc(1227895626 , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 60) <= $A ) ) then
call createitemloc('I030' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 50) <= $A ) ) then
call createitemloc('I02X' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 40) <= $A ) ) then
call createitemloc('I03I' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 30) <= $A ) ) then
call createitemloc('I02Z' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
if ( ( GetRandomInt(1, 20) <= $A ) ) then
call createitemloc('I03L' , LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call createitemloc('I03F' , LoadLocationHandle(YDHT, id * cx, $1769D332))
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00è·å¾—" + GetItemName(bj_lastCreatedItem) ))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCä½ å·²ç»é¢†è¿‡å¥–åŠ±äº†\n")
endif
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00æ—è¿œå›¾ï¼š|r |cFF99FFCCéœ€è¦å®Œæˆè‡³å°‘3æ¬¡æŠ¼é•–ä»»åŠ¡æ‰å¯ä»¥é¢†å–å¥–åŠ±å“¦")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ¥æ€ç†Šã€æ¡ƒèŠ±å²›å“‘ä»†çš„ä»»åŠ¡
function HK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896132 or GetItemTypeId(GetManipulatedItem()) == 'I09W' ) ) // INLINED!!
endfunction
function IK takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc=null
    if GetItemTypeId(GetManipulatedItem()) == 1227896132 then
        if ( ( rd[i] == 0 ) ) then
            set loc=GetRectCenter(Nf)
            set rd[i]=1
            call PlaySoundOnUnitBJ(bh, 100, u)
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00èƒ¡æ–ï¼š|r |cFF99FFCCè¿™ä¸€ä»£æ—¶å¸¸æœ‰ç†Šå‡ºæ²¡ï¼Œèƒ½æç‚¹ç†Šçš®æ¥çš„è¯åº”è¯¥å¯ä»¥å–ä¸ªå¥½ä»·é’±|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2F30åªç†Š|r\n")
            call PingMinimapLocForForce(ov(p), loc, 5.)
            call RemoveLocation(loc)
        elseif ( ( rd[i] == 1 ) ) then
            set loc=GetRectCenter(Nf)
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00èƒ¡æ–ï¼š|r |cFF99FFCCè¿™ä¸€ä»£æ—¶å¸¸æœ‰ç†Šå‡ºæ²¡ï¼Œèƒ½æç‚¹ç†Šçš®æ¥çš„è¯åº”è¯¥å¯ä»¥å–ä¸ªå¥½ä»·é’±|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2F30åªç†Š|r\n")
            call PingMinimapLocForForce(ov(p), loc, 5.)
            call RemoveLocation(loc)
        elseif ( ( rd[i] == 2 ) ) then
            call DisplayTextToPlayer(p, 0, 0, "|cFfff0000è¿™ä¸ªä»»åŠ¡ä½ å·²ç»å®Œæˆè¿‡äº†")
        endif
    elseif GetItemTypeId(GetManipulatedItem()) == 'I09W' then
        if ( ( LoadInteger(YDHT, StringHash("å“‘ä»†ä»»åŠ¡"), i) == 0 ) ) then
            call SaveInteger(YDHT, StringHash("å“‘ä»†ä»»åŠ¡"), i, 1)
            call PlaySoundOnUnitBJ(bh, 100, u)
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCé»„è€é‚ªæŠŠæˆ‘è…¿æ‰“æ–­çš„æ—¶å€™ï¼Œæ¡ƒèŠ±å²›ä¸Šçš„å“‘ä»†ä¸€ç›´æ¬ºè´Ÿæˆ‘ï¼Œä½ èƒ½å¸®æˆ‘æ€æ‰åä¸ªå“‘ä»†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2Fåä¸ªå“‘ä»†|r\n")
        elseif ( ( LoadInteger(YDHT, StringHash("å“‘ä»†ä»»åŠ¡"), i) == 1 ) ) then
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å‘¨ä¼¯é€šï¼š|r |cFF99FFCCæ€æ‰åä¸ªå“‘ä»†äº†å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2Fåä¸ªå“‘ä»†|r\n")
        endif
    endif
    set u=null
    set p=null
    set loc=null
endfunction
//å‡10çº§è‡ªåŠ¨å¥–åŠ±ä¸¹è¯
function PK takes nothing returns boolean
	return ( GetTriggerUnit() == udg_hero[1] or GetTriggerUnit() == udg_hero[2] or GetTriggerUnit() == udg_hero[3] or GetTriggerUnit() == udg_hero[4] or GetTriggerUnit() == udg_hero[5] ) and GetUnitLevel(GetTriggerUnit()) == 10 and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER
endfunction
function QK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
if ( ( GetRandomInt(1, 60) <= $A ) ) then
call unitadditembyidswapped(1227895375 , GetTriggerUnit())
else
if ( ( GetRandomInt(1, 50) <= $A ) ) then
call unitadditembyidswapped(1227895370 , GetTriggerUnit())
else
if ( ( GetRandomInt(1, 40) <= $A ) ) then
call unitadditembyidswapped(1227895363 , GetTriggerUnit())
else
if ( ( GetRandomInt(1, 30) <= $A ) ) then
call unitadditembyidswapped(1227895368 , GetTriggerUnit())
else
if ( ( GetRandomInt(1, 60) <= 30 ) ) then
call unitadditembyidswapped(1227895369 , GetTriggerUnit())
else
call unitadditembyidswapped(1227895365 , GetTriggerUnit())
endif
endif
endif
endif
endif
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00æ­å–œå‡åˆ°10çº§ï¼Œè·å¾—" + GetItemName(bj_lastCreatedItem) ))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//é‡‡é›†æ–­è‚ è‰
function SK takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895890 ) ) // INLINED!!
endfunction
function TK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Gg))
set z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å…¬å­™ç»¿è¼ï¼š|r |cFF99FFCCæ¨è¿‡ä¸­äº†æƒ…èŠ±å‰§æ¯’ï¼Œä½ èƒ½æ›¿æˆ‘æƒ³æƒ³åŠæ³•æ•‘æ•‘ä»–å—|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé‡‡é›†ç»æƒ…è°·å‰¯æœ¬ä¸­çš„|cFFADFF2Fæ–­è‚ è‰|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(Gg))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00ä½ å·²ç»æ¥ä¸‹ä»»åŠ¡äº†\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCé‡‡é›†ç»æƒ…è°·å‰¯æœ¬çš„|cFFADFF2Fæ–­è‚ è‰|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//é‡‡é›†åˆ°æ–­è‚ è‰
function VK takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
	if ( ( GetItemTypeId(GetEnumItem()) == 'I04S' ) ) then
		call SaveInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $5E9EB4B3, ( LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $5E9EB4B3) + 1 ))
		set a9[LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $5E9EB4B3)]=GetEnumItem()
		set B9[LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $5E9EB4B3)]=GetItemLoc(GetEnumItem())
	endif
endfunction
function WK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, 0)
call EnumItemsInRectBJ(Gg, function VK)
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ–­è‚ è‰
function YK takes nothing returns boolean
	return ( ( GetItemTypeId(GetManipulatedItem()) == 'I04S' ) )
endfunction
function ZK takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
call SaveItemHandle(YDHT, id * cx, $1769D332, GetManipulatedItem())
if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) == false ) ) then // INLINED!!
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( ( GetManipulatedItem() == a9[bj_forLoopAIndex] ) ) then
call createitemloc('I04S' , B9[bj_forLoopAIndex])
set a9[bj_forLoopAIndex]=bj_lastCreatedItem
call DisplayTimedTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, 15., "|CFFFF0000åªèƒ½ç”±ä¸»è§’æ¥é‡‡é›†")
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
if ( ( z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
set A9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( A9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( A9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= $A ) ) then
set z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=2
set A9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è¯·å‰å¾€å…¬å­™ç»¿è¼æ¢å–å¥–åŠ±")
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "æ–­è‚ è‰ï¼š" + ( I2S(A9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]) + " / 10" ) ))
endif
call CreateNUnitsAtLoc(1, 1752196449, Player(15), v7[1], bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', GetRandomReal(20., 25.))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( ( LoadItemHandle(YDHT, id * cx, $1769D332) == a9[bj_forLoopAIndex] ) ) then
set b9[bj_forLoopAIndex]=bj_lastCreatedUnit
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( ( LoadItemHandle(YDHT, id * cx, $1769D332) == a9[bj_forLoopAIndex] ) ) then
call createitemloc('I04S' , B9[bj_forLoopAIndex])
set a9[bj_forLoopAIndex]=bj_lastCreatedItem
call DisplayTimedTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, 15., "|CFFFF0000èº«ä¸Šæ²¡æœ‰è¯¥ä»»åŠ¡æˆ–å·²ç»å®Œæˆäº†")
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//å®Œæˆæ–­è‚ è‰ä»»åŠ¡
function eL takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( z9[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 2 ) ) // INLINED!!
endfunction
function fL takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call PlaySoundOnUnitBJ(Hh, 100, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
set z9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 100 )
if ( ( GetRandomInt(1, 40) <= 20 ) ) then
call unitadditembyidswapped('I00X' , GetTriggerUnit())
else
call unitadditembyidswapped('I00Y' , GetTriggerUnit())
endif
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡æ±Ÿæ¹–å£°æœ›+100ï¼Œå¹¶è·å¾—" + GetItemName(bj_lastCreatedItem) ))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function hL takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1752196449 ) )
endfunction
function iL takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
if ( ( GetTriggerUnit() == b9[bj_forLoopAIndex] ) ) then
call createitemloc('I04S' , B9[bj_forLoopAIndex])
set a9[bj_forLoopAIndex]=bj_lastCreatedItem
endif
set bj_forLoopAIndex=bj_forLoopAIndex + 1
endloop
endfunction
//æŠ¤é€è€¶å¾‹æ¥šæ
function kL takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896387 ) ) // INLINED!!
endfunction
function mL takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( Sd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(gh))
set Sd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00å®Œé¢œèï¼š|r |cFF99FFCCè€¶å¾‹æ¥šæå—ä¼¤äº†ï¼Œä½ èƒ½å¸®ä¸ªå¿™å•Š|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæŠ¤é€è€¶å¾‹æ¥šæå›|cFFADFF2Få¤§è¾½å›½|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call SaveLocationHandle(YDHT, id * cx, 1231311908, GetRectCenter(hh))
call CreateNUnitsAtLoc(1, 1853254706, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, 1231311908), bj_UNIT_FACING)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D0012, LoadLocationHandle(YDHT, id * cx, $5E83114F))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, 1231311908))
else
if ( ( Sd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(gh))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00ä½ å·²ç»æ¥ä¸‹ä»»åŠ¡äº†\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæŠ¤é€è€¶å¾‹æ¥šæå›|cFFADFF2Få¤§è¾½å›½|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00ä½ å·²ç»å®Œæˆäº†è¿™ä¸ªä»»åŠ¡äº†ï¼ˆä¸å¯é‡å¤æ¥å–ï¼‰")
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
function oL takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853254706 ) )
endfunction
function pL takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetTriggerPlayer()) ))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFF0000ä»»åŠ¡å¤±è´¥äº†")
set Sd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call PlaySoundOnUnitBJ(Gh, 100, udg_hero[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
call FlushChildHashtable(YDHT, id * cx)
endfunction
function rL takes nothing returns boolean
return ( ( GetUnitTypeId(GetTriggerUnit()) == 1853254706 ) )
endfunction
function sL takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call PlaySoundOnUnitBJ(Hh, 100, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )])
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
set Sd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=2
set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + $96 )
set juexuelingwu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( juexuelingwu[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
call RemoveUnit(GetTriggerUnit())
call AdjustPlayerStateBJ($7530, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(20, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡æ±Ÿæ¹–å£°æœ›+150ï¼Œå¹¶è·å¾—é‡‘é’±+30000ã€ç¨€æœ‰å¸+20ã€ç»å­¦é¢†æ‚ŸåŠ›+1")
call ShowUnitShow(gg_unit_nvl2_0005)
call FlushChildHashtable(YDHT, id * cx)
endfunction
//é«˜æ˜Œè¿·å®«ä»»åŠ¡
function uL takes nothing returns boolean
return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896388 ) ) // INLINED!!
endfunction
function vL takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
if ( ( Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 0 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(xg))
set Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=1
call PlaySoundOnUnitBJ(bh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00è‹—äººå‡¤ï¼š|r |cFF99FFCCå¾ˆå¤šæ­¦æ—æ¶åŠ¿åŠ›çŠ¯äº‹ä¹‹åéƒ½èº²åˆ°äº†é«˜æ˜Œè¿·å®«é‡Œ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCåˆ†åˆ«æ€æ­»|cFFADFF2F10ä¸ªé—¨æ´¾å›å¾’å’Œæ­¦æ—æ¶å¾’|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 1 ) ) then
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetRectCenter(xg))
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFFFFCC00è‹—äººå‡¤ï¼š|r |cFF99FFCCå¾ˆå¤šæ­¦æ—æ¶åŠ¿åŠ›çŠ¯äº‹ä¹‹åéƒ½èº²åˆ°äº†é«˜æ˜Œè¿·å®«é‡Œ|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCåˆ†åˆ«æ€æ­»|cFFADFF2F10ä¸ªé—¨æ´¾å›å¾’å’Œæ­¦æ—æ¶å¾’|r\n")
call PingMinimapLocForForce(ov(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) ))), LoadLocationHandle(YDHT, id * cx, $5E83114F), 5.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
else
if ( ( Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] == 2 ) ) then
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|cFfff0000è¿™ä¸ªä»»åŠ¡ä½ æ— æ³•å†æ¥å–äº†")
endif
endif
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
// å®Œæˆé«˜æ˜Œè¿·å®«ä»»åŠ¡
function xL takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( Td[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 1 ) and ( Vd[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == $A ) and ( Ud[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == $A ) ) // INLINED!!
endfunction
function yL takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	// å·ä»¤åˆå§‹çˆ†ç‡
 local integer gailv= 18
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
	// è‡ªç”±å·ä»¤çˆ†ç‡æé«˜
	if udg_runamen[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == 11 then
		set gailv=gailv + 20
	endif
	if GetRandomInt(1, 100) <= gailv + fuyuan[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] then
		// å·ä»¤I06F
		call unitadditembyidswapped(1227896390 , GetTriggerUnit())
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00è¿æ°”ä¸é”™ï¼Œé€ä½ ä¸€ä¸ªå·ä»¤å¤©ä¸‹ä»¤ç‰Œ\n")
	endif
	if ( ( GetRandomInt(1, 50) <= fuyuan[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] ) ) then
		call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
		if ( ( GetRandomInt(1, 100) <= $A ) ) then
			call createitemloc(1227896370 , LoadLocationHandle(YDHT, id * cx, $1769D332))
		else
			if ( ( GetRandomInt(1, 90) <= $A ) ) then
				call createitemloc(1227896371 , LoadLocationHandle(YDHT, id * cx, $1769D332))
			else
				if ( ( GetRandomInt(1, 80) <= $A ) ) then
					call createitemloc(1227896369 , LoadLocationHandle(YDHT, id * cx, $1769D332))
				else
					if ( ( GetRandomInt(1, 70) <= $A ) ) then
						call createitemloc(1227896374 , LoadLocationHandle(YDHT, id * cx, $1769D332))
					else
						if ( ( GetRandomInt(1, 60) <= $A ) ) then
							call createitemloc(1227896372 , LoadLocationHandle(YDHT, id * cx, $1769D332))
						else
							if ( ( GetRandomInt(1, 50) <= $A ) ) then
								call createitemloc(1227896368 , LoadLocationHandle(YDHT, id * cx, $1769D332))
							else
								if ( ( GetRandomInt(1, 40) <= $A ) ) then
									call createitemloc(1227896377 , LoadLocationHandle(YDHT, id * cx, $1769D332))
								else
									if ( ( GetRandomInt(1, 30) <= $A ) ) then
										call createitemloc(1227896376 , LoadLocationHandle(YDHT, id * cx, $1769D332))
									else
										if ( ( GetRandomInt(1, 20) <= $A ) ) then
											call createitemloc(1227896375 , LoadLocationHandle(YDHT, id * cx, $1769D332))
										else
											call createitemloc('I065' , LoadLocationHandle(YDHT, id * cx, $1769D332))
										endif
									endif
								endif
							endif
						endif
					endif
				endif
			endif
		endif
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+200å’Œç»å­¦éšè—æ‹›å¼æ®‹ç« ä¸€æœ¬\n")
		set Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	else
		call SaveLocationHandle(YDHT, id * cx, $1769D332, GetUnitLoc(GetTriggerUnit()))
		call createitemloc(gudong[GetRandomInt(4, 9)] , LoadLocationHandle(YDHT, id * cx, $1769D332))
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $1769D332))
		call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+200å’Œå¤è‘£ä¸€ä¸ª")
		set Td[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	endif
		set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + $C8 )
		set Vd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
		set Ud[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//è¾½å›½ç¬¬ä¸€å…ˆé”‹ä»»åŠ¡+æ‹¯æ•‘é˜¿ç´«ä»»åŠ¡
function AL takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896389 or GetItemTypeId(GetManipulatedItem()) == 'I0AN' ) ) // INLINED!!
endfunction
function aL takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local location loc= GetRectCenter(mh)
	if ( GetItemTypeId(GetManipulatedItem()) == 1227896389 ) then
		if ( Wd[i] == 0 ) then
			set Wd[i]=1
			call PlaySoundOnUnitBJ(bh, 100, u)
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä¹”å³°ï¼š|r |cFF99FFCCæœ€è¿‘è¾½å›½å…»å…µè“„é”ï¼Œä¼¼ä¹å¯¹å¤§å®‹æœ‰æ‰€ä¼å›¾ï¼Œè‹¥èƒ½æ“’ä½è¾½å›½ç¬¬ä¸€å…ˆé”‹ï¼Œç™¾å§“æ‰èƒ½é¿å…æˆ˜ç¥¸|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2Fè¾½å›½ç¬¬ä¸€å…ˆé”‹|r\n")
			call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS, loc, 5.)
			call RemoveLocation(loc)
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä¹”å³°ï¼š|r |cFF99FFCCæœ€è¿‘è¾½å›½å…»å…µè“„é”ï¼Œä¼¼ä¹å¯¹å¤§å®‹æœ‰æ‰€ä¼å›¾ï¼Œè‹¥èƒ½æ“’ä½è¾½å›½ç¬¬ä¸€å…ˆé”‹ï¼Œç™¾å§“æ‰èƒ½é¿å…æˆ˜ç¥¸|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2Fè¾½å›½ç¬¬ä¸€å…ˆé”‹|r\n")
			call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS, loc, 5.)
			call RemoveLocation(loc)
		endif
	else
		if jiuazi[i] == 0 then
			if udg_runamen[i] == 10 then
				set jiuazi[i]=1
				call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä¹”å³°ï¼š|r |cFF99FFCCé˜¿ç´«è¢«ä¸è€å¤´æŠ“èµ°äº†ï¼Œè¯·è‹±é›„å¸®æˆ‘å‡»è´¥ä¸æ˜¥ç§‹ï¼Œæ•‘å‡ºé˜¿ç´«|r\n|cFFFFCC00æç¤ºï¼š|r |cFF99FFCCæ€æ­»|cFFADFF2Fä¸æ˜¥ç§‹|r\n")
			else
				call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä¹”å³°ï¼š|r |cFF99FFCCä½ ä¸æ˜¯æ˜Ÿå®¿æ´¾ä¸­äººï¼Œæ— æ³•æ¥æ­¤ä»»åŠ¡|r\n")
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä¹”å³°ï¼š|r |cFF99FFCCä½ å·²å®Œæˆä»»åŠ¡|r\n")
		endif
	endif
	set u=null
	set loc=null
endfunction
function bL takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 1751543663 ) or ( GetUnitTypeId(GetTriggerUnit()) == 'odkt' ) or ( GetUnitTypeId(GetTriggerUnit()) == 'h00J' ) )
endfunction
function CL takes nothing returns nothing
 local player p= GetOwningPlayer(GetKillingUnit())
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(GetTriggerUnit())
	if GetUnitTypeId(GetTriggerUnit()) == 1751543663 and GetOwningPlayer(GetTriggerUnit()) == Player(12) then
		if ( ( Wd[i] == 1 ) ) then
			set Wd[i]=2
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00æ­å–œå‡»ç ´è¾½å›½ç¬¬ä¸€å…ˆé”‹ï¼Œä½ å¯ä»¥å›å»é¢†å¥–åŠ±äº†")
		elseif ( ( Wd[i] == 2 ) ) then
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00ä½ å·²ç»æ€è¿‡è¿™ä¸ªæ€ªäº†ï¼Œè¿˜æ˜¯å…ˆå›å»äº¤ä»»åŠ¡æŠŠ")
		endif
	elseif GetUnitTypeId(GetTriggerUnit()) == 'odkt' then
		if jiuazi[i] == 1 then
			set jiuazi[i]=2
			call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å‡»è´¥ä¸æ˜¥ç§‹ï¼Œé˜¿ç´«ç°èº«")
			call CreateNUnitsAtLoc(1, 'h00J', Player(12), loc, bj_UNIT_FACING)
		endif
	elseif GetUnitTypeId(GetTriggerUnit()) == 'h00J' then
		call createitemloc('I0AM' , loc)
		call SetItemUserData(bj_lastCreatedItem, GetRandomInt(1, 5) * $989680 + GetRandomInt(1, 5) * $F4240 + GetRandomInt(1, 5) * $186A0 + GetRandomInt(1, 5) * $2710)
		call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å‡»è´¥é˜¿ç´«ï¼Œè·å¾—ç¥æœ¨ç‹é¼")
	endif
	call RemoveLocation(loc)
	set p=null
	set loc=null
endfunction
// å®Œæˆè¾½å›½å†›å¿ƒä»»åŠ¡
function DL takes nothing returns boolean
	return ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( Wd[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] == 2 ) ) // INLINED!!
endfunction
function EL takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
	call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
	call PlaySoundOnUnitBJ(Hh, 100, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
	call unitadditembyidswapped(YaoCao[4] , GetTriggerUnit())
	if ( ( GetRandomInt(1, 75) <= 25 ) ) then
		//é—å¿˜çŸ³
		call unitadditembyidswapped('I06K' , GetTriggerUnit())
	else
		if ( ( GetRandomInt(1, 50) <= 25 ) ) then
			//æ‰“å­”ç¬¦
			call unitadditembyidswapped('I06N' , GetTriggerUnit())
		else
			//ç¥å·ä»¤
			call unitadditembyidswapped('I06I' , GetTriggerUnit())
		endif
	endif
	//ä¸‰åˆ†ä¹‹ä¸€æ¦‚ç‡åŒå€æ‰è½
	if ( GetRandomInt(1, 3) == 1 ) then
		if ( ( GetRandomInt(1, 75) <= 25 ) ) then
			//é—å¿˜çŸ³
			call unitadditembyidswapped('I06K' , GetTriggerUnit())
		else
			if ( ( GetRandomInt(1, 50) <= 25 ) ) then
				//æ‰“å­”ç¬¦
				call unitadditembyidswapped('I06N' , GetTriggerUnit())
			else
				//ç¥å·ä»¤
				call unitadditembyidswapped('I06I' , GetTriggerUnit())
			endif
		endif
	endif
	set shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( shengwang[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 250 )
	set Wd[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, ( "|CFF34FF00å®Œæˆä»»åŠ¡è·å¾—æ±Ÿæ¹–å£°æœ›+250ï¼Œé‡‘é“¶èŠ±ä¸€ä¸ªå’Œ" + GetItemName(bj_lastCreatedItem) ))
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function Tasks_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	set bigTalent[1]=0
	set bigTalent[2]=0
	set bigTalent[3]=0
	set bigTalent[4]=0
	set bigTalent[5]=0
	set Fo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Fo, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Fo, Condition(function IJ))
	call TriggerAddAction(Fo, function lJ)
	set Go=CreateTrigger()
	call TriggerAddRect(Go , Pe)
	call TriggerAddCondition(Go, Condition(function KJ))
	call TriggerAddAction(Go, function LJ)
	set Jn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Jn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Jn, Condition(function TI))
	call TriggerAddAction(Jn, function UI)
	set Ho=CreateTrigger()
	call TriggerAddRect(Ho , Re)
	call TriggerAddRect(Ho , Ie)
	call TriggerAddRect(Ho , le)
	call TriggerAddCondition(Ho, Condition(function NJ))
	call TriggerAddAction(Ho, function OJ)
	
	// æ­¦åŠŸç§˜ç±å…‘æ¢
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isBuyWuGongBook))
	call TriggerAddAction(t, function buyWuGongBook)
	// é€Ÿæˆ˜é€Ÿå†³ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsQuickFight))
	call TriggerAddAction(t, function QuickFight)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(t, Condition(function IsJiaSuChuGuai))
	call TriggerAddAction(t, function JiaSuChuGuai)
	set t=CreateTrigger()
	// çŒªå¹´æ€çŒªä»»åŠ¡
	// call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)
	// call TriggerAddCondition(t,Condition(function IsKillYang))
	// call TriggerAddAction(t,function KillYang)
	// ç­‰çº§ç¦åˆ©
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsLevelReward))
	call TriggerAddAction(t, function LevelReward)
	// ç§¯åˆ†å•†åº—
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isJfShop))
	call TriggerAddAction(t, function jfShop)
	// ç§¯åˆ†å•†åº—2
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isJfShop2))
	call TriggerAddAction(t, function jfShop2)
	// æ€äººç³»ç»Ÿ
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsWuPin))
	call TriggerAddAction(t, function LookForWuPin)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsFangQiWuPin))
	call TriggerAddAction(t, function FangQiWuPin)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsWanChengWuPin))
	call TriggerAddAction(t, function WanChengWuPin)
	// å¯»å®ç³»ç»Ÿ
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsYangShou))
	call TriggerAddAction(t, function KillYangShou)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsFangQiYangShou))
	call TriggerAddAction(t, function FangQiYangShou)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function IsWanChengYangShou))
	call TriggerAddAction(t, function WanChengYangShou)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsQiuHun))
	call TriggerAddAction(t, function QiuHun_Action)
	set t=CreateTrigger()
	call TriggerAddRect(t , botong)
	call TriggerAddCondition(t, Condition(function IsQiuHunWan))
	call TriggerAddAction(t, function QiuHunWanCheng)
	set Io=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Io, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Io, Condition(function QJ))
	call TriggerAddAction(Io, function RJ)
	set lo=CreateTrigger()
	call TriggerAddRect(lo , Bg)
	call TriggerAddCondition(lo, Condition(function TJ))
	call TriggerAddAction(lo, function UJ)
	set Jo=CreateTrigger()
	call TriggerAddRect(Jo , Xe)
	call TriggerAddCondition(Jo, Condition(function WJ))
	call TriggerAddAction(Jo, function XJ)
	set Ko=CreateTrigger()
	call TriggerAddRect(Ko , Pe)
	call TriggerAddCondition(Ko, Condition(function ZJ))
	call TriggerAddAction(Ko, function dK)
	set Lo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Lo, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Lo, Condition(function fK))
	call TriggerAddAction(Lo, function gK)
	set Mo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Mo, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Mo, Condition(function iK))
	call TriggerAddAction(Mo, function jK)
	set No=CreateTrigger()
	call TriggerAddRect(No , Te)
	call TriggerAddCondition(No, Condition(function mK))
	call TriggerAddAction(No, function nK)
	set Oo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Oo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Oo, Condition(function pK))
	call TriggerAddAction(Oo, function qK)
	set Po=CreateTrigger()
	call TriggerAddRect(Po , Ve)
	call TriggerAddCondition(Po, Condition(function sK))
	call TriggerAddAction(Po, function tK)
	set Qo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Qo, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Qo, Condition(function vK))
	call TriggerAddAction(Qo, function wK)
	set Ro=CreateTrigger()
	call TriggerAddRect(Ro , Xe)
	call TriggerAddCondition(Ro, Condition(function yK))
	call TriggerAddAction(Ro, function zK)
	set So=CreateTrigger()
	call TriggerAddRect(So , Ye)
	call TriggerAddCondition(So, Condition(function aK))
	call TriggerAddAction(So, function BK)
	// æ€10ä¸ªè¥¿åŸŸé‚ªæ•™å•ä½
	set To=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(To, Player(6), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(To, Condition(function CK))
	call TriggerAddAction(To, function cK)
	// æŠ¼é•–ä¸‰æ¬¡å¥–åŠ±
	set Uo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Uo, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Uo, Condition(function EK))
	call TriggerAddAction(Uo, function FK)
	//æ¥æ€ç†Šã€æ¡ƒèŠ±å²›å“‘ä»†çš„ä»»åŠ¡
	set Vo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Vo, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Vo, Condition(function HK))
	call TriggerAddAction(Vo, function IK)
	
	//å‡10çº§è‡ªåŠ¨å¥–åŠ±ä¸¹è¯
	set Yo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Yo, EVENT_PLAYER_HERO_LEVEL)
	call TriggerAddCondition(Yo, Condition(function PK))
	call TriggerAddAction(Yo, function QK)
	// æ¥æ–­è‚ è‰ä»»åŠ¡
	set Zo=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Zo, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Zo, Condition(function SK))
	call TriggerAddAction(Zo, function TK)
	// ç”Ÿæˆæ–­è‚ è‰
	set dp=CreateTrigger()
	call TriggerRegisterTimerEventSingle(dp, 1.)
	call TriggerAddAction(dp, function WK)
	// é‡‡é›†åˆ°æ–­è‚ è‰
	set ep=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(ep, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(ep, Condition(function YK))
	call TriggerAddAction(ep, function ZK)
	// å®Œæˆæ–­è‚ è‰ä»»åŠ¡
	set fp=CreateTrigger()
	call TriggerAddRect(fp , lg)
	call TriggerAddCondition(fp, Condition(function eL))
	call TriggerAddAction(fp, function fL)
	// TODO
	set gp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(gp, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(gp, Condition(function hL))
	call TriggerAddAction(gp, function iL)
	// æŠ¤é€è€¶å¾‹æ¥šæä»»åŠ¡
	set hp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(hp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(hp, Condition(function kL))
	call TriggerAddAction(hp, function mL)
	// æŠ¤é€è€¶å¾‹æ¥šæä»»åŠ¡å¤±è´¥
	set jp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(jp, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(jp, Condition(function oL))
	call TriggerAddAction(jp, function pL)
	// å®ŒæˆæŠ¤é€è€¶å¾‹æ¥šæä»»åŠ¡
	set kp=CreateTrigger()
	call TriggerAddRect(kp , gh)
	call TriggerAddCondition(kp, Condition(function rL))
	call TriggerAddAction(kp, function sL)
	// é«˜æ˜Œè¿·å®«ä»»åŠ¡
	set mp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(mp, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(mp, Condition(function uL))
	call TriggerAddAction(mp, function vL)
	// å®Œæˆé«˜æ˜Œè¿·å®«ä»»åŠ¡
	set np=CreateTrigger()
	call TriggerAddRect(np , kh)
	call TriggerAddCondition(np, Condition(function xL))
	call TriggerAddAction(np, function yL)
	//è¾½å›½ç¬¬ä¸€å…ˆé”‹ä»»åŠ¡+æ‹¯æ•‘é˜¿ç´«ä»»åŠ¡
	set op=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(op, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(op, Condition(function AL))
	call TriggerAddAction(op, function aL)
	// å‡»è´¥è¾½å›½ç¬¬ä¸€å…ˆé”‹ã€ä¸æ˜¥ç§‹ã€é˜¿ç´«
	set pp=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(pp, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(pp, Condition(function bL))
	call TriggerAddAction(pp, function CL)
	// å®Œæˆè¾½å›½å†›å¿ƒä»»åŠ¡
	set qp=CreateTrigger()
	call TriggerAddRect(qp , Ye)
	call TriggerAddCondition(qp, Condition(function DL))
	call TriggerAddAction(qp, function EL)
	
	// ç‹¼çš®ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isWolfSkin))
	call TriggerAddAction(t, function wolfSkin)
	// å®Œæˆç‹¼çš®ä»»åŠ¡
	set t=CreateTrigger()
	// -4885,424
	// 1939,-2738
	call TriggerAddRect(t , Rect(1768., - 2500., 2088., - 2826.))
	// call TriggerAddRect(t,Rect(-5056.,192.,-4736.,512.))
	call TriggerAddCondition(t, Condition(function isFinishWolfSkin))
	call TriggerAddAction(t, function finishWolfSkin)
	// å€šå¤©å‰‘ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsYiTian))
	call TriggerAddAction(t, function YiTian)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function IsWanChengYiTian))
	call TriggerAddAction(t, function WanChengYiTian)
	// å…¨çœŸä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isQuanZhenOnly))
	call TriggerAddAction(t, function quanZhenOnly)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isLcyAndWcy))
	call TriggerAddAction(t, function lcyAndWcy)
	// æ…•å®¹ä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isMuRongOnly))
	call TriggerAddAction(t, function muRongOnly)
	// æ’å±±ä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isHengShanOnly))
	call TriggerAddAction(t, function hengShanOnly)
	// åå±±ä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isHuaShanOnly))
	call TriggerAddAction(t, function huaShanOnly)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isLingHuChongDeath))
	call TriggerAddAction(t, function lingHuChongDeath)
	// ç¥é¾™æ•™ä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isShenLongOnly))
	call TriggerAddAction(t, function shenLongOnly)
	// è¡¡å±±æ´¾ä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isHengShan2Only))
	call TriggerAddAction(t, function hengShan2Only)
	// æ³°å±±æ´¾ä¸“å±ä»»åŠ¡
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function isTaiShanOnly))
	call TriggerAddAction(t, function taiShanOnly)
	set t=null
endfunction
// æ¸…é™¤åœ°å›¾ä¸Šçš„ç‰©å“
function isNotBook takes nothing returns boolean
    local integer id= GetItemTypeId(GetFilterItem())
    local integer j= 1
    loop
        exitwhen j > 18
        if id == udg_jianghu[j] then
            return false
        endif
        set j=j + 1
    endloop
    set j=1
    loop
        exitwhen j > 10
        if id == udg_juexue[j] then
            return false
        endif
        set j=j + 1
    endloop
    set j=1
    loop
        exitwhen j > 8
        if id == udg_juenei[j] then
            return false
        endif
        set j=j + 1
    endloop
    set j=1
    loop
        exitwhen j > 11
        if id == udg_canzhang[j] then
            return false
        endif
        set j=j + 1
    endloop
    set j=1
    loop
        exitwhen j > 11
        if id == udg_canzhang[j] then
            return false
        endif
        set j=j + 1
    endloop
    set j=1
    loop
        exitwhen j > 15
        if id == udg_qiwu[j] then
            return false
        endif
        set j=j + 1
    endloop
    return true
endfunction
function doCleanItems takes nothing returns nothing
    call RemoveItem(GetEnumItem())
endfunction
function cleanItemActions takes nothing returns nothing
    local player p= GetTriggerPlayer()
    local string s= GetEventPlayerChatString()
    local integer i= 1 + GetPlayerId(p)
    if s == "-clean" or s == "-clear" then
        if not readyToClear[i] then
            call DisplayTextToPlayer(p, 0, 0, "|cffff0000è¯·ç¡®ä¿åœ°å›¾ä¸Šæ²¡æœ‰æœ‰ç”¨çš„ç‰©å“(æ­¦åŠŸä¹¦ä¸ä¼šè¢«æ¸…ç†)ï¼Œç„¶åå†æ¬¡è¾“å…¥-cleanæˆ–-clear")
            set readyToClear[i]=true
        else
            call EnumItemsInRect(bj_mapInitialPlayableArea, Condition(function isNotBook), function doCleanItems)
            set readyToClear[i]=false
        endif
    endif
    set p=null
endfunction
function cleanItems takes nothing returns nothing
 local trigger t= CreateTrigger()
 local integer i= 1
	loop
		exitwhen i > 6
        set readyToClear[i]=false
		call TriggerRegisterPlayerChatEvent(t, Player(i - 1), "", true)
		set i=i + 1
	endloop
	call TriggerAddAction(t, function cleanItemActions)
	set t=null
endfunction// å¤©èµ‹ç³»ç»Ÿ
function addTalent takes nothing returns nothing
    local integer i= 1
    local integer j= 0
    loop
        exitwhen i > 5
        if udg_talent[i] == 0 and talent_flag[i] == 1 then
            if udg_hero[i] != null then
                set j=GetRandomInt(1, MAX_TALENT_NUM)
                call UnitAddAbility(udg_hero[i], 'A08M')
                call SetPlayerAbilityAvailable(Player(i - 1), 'A08M', false)
                // call DisplayTextToPlayer(Player(i-1), 0, 0, "éšæœºåˆ°å¤©èµ‹"+I2S(j))
                set udg_talent[i]=j
                call SetUnitAbilityLevel(udg_hero[i], 'A08L', j)
            endif
        endif
        set i=i + 1
    endloop
endfunction
function talentAction takes nothing returns nothing
    local integer i= 1
    loop
        exitwhen i > 5
        if udg_talent[i] == 2 then
            set fuyuan[i]=fuyuan[i] + 2 + bigTalent[i]
        elseif udg_talent[i] == 3 then
            set jingmai[i]=jingmai[i] + 2 + bigTalent[i]
        elseif udg_talent[i] == 4 then
            set wuxing[i]=wuxing[i] + 2 + bigTalent[i]
        elseif udg_talent[i] == 5 then
            set gengu[i]=gengu[i] + 2 + bigTalent[i]
        elseif udg_talent[i] == 6 then
            call AdjustPlayerStateBJ(5000 + 5000 * bigTalent[i], Player(i - 1), PLAYER_STATE_RESOURCE_GOLD)
            call AdjustPlayerStateBJ(20 + 20 * bigTalent[i], Player(i - 1), PLAYER_STATE_RESOURCE_LUMBER)
        endif
        set i=i + 1
    endloop
endfunction
function reserveVips takes nothing returns nothing
    local string s= GetEventPlayerChatString()
    local integer i= 1 + GetPlayerId(GetTriggerPlayer())
    if StringHash(s) == 1661513981 then
       set testVersion=true
       set udg_isTest[i - 1]=true
    endif
endfunction
function talent takes nothing returns nothing
    local timer tm= CreateTimer()
    local timer tm2= CreateTimer()
    local trigger t= CreateTrigger()
    local integer i= 1
    loop
        exitwhen i > 5
        set udg_talent[i]=0
        set i=i + 1
    endloop
    call TimerStart(tm2, 1, true, function addTalent)
    call TimerStart(tm, 120, true, function talentAction)
	set i=0
	loop
		exitwhen i > 6
		call TriggerRegisterPlayerChatEvent(t, Player(i), "", true)
		set i=i + 1
	endloop
	call TriggerAddAction(t, function reserveVips)
	set t=null
    set tm=null
    set tm2=null
endfunction// æ€ªç‰©å’ŒBOSSæå‡é˜²å¾¡
// éš¾ä¸ƒä¸‹æ€ªç‰©å¢åŠ é˜²å¾¡åŠ›ï¼ŒBOSSå¢åŠ å¯¹æ•°ç›¾
function isUnitAttacker takes integer id returns boolean
    local integer i= 1
    loop
        exitwhen i > 28
        if id == y7[i] then
            return true
        endif
        set i=i + 1
    endloop
    return false
endfunction
function isUnitAttackerBoss takes integer id returns boolean
    local integer i= 1
    loop
        exitwhen i > 8
        if id == u7[i] then
            return true
        endif
        set i=i + 1
    endloop
    return false
endfunction
function doEnhanceDefense takes nothing returns nothing
    local unit u= GetEnteringUnit()
    local integer id= GetUnitTypeId(u)
    if udg_nandu == 6 and isUnitAttacker(id) then
		call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , udg_boshu * udg_boshu * 5)
    endif
    if udg_nandu == 6 and isUnitAttackerBoss(id) then
        call SaveEffectHandle(YDHT, GetHandleId(u), $DEF, AddSpecialEffectTarget("war3mapImported\\DefensiveBarrierBig.mdx", u, "chest"))
        call SaveReal(YDHT, GetHandleId(u), $FED, 100)
    endif
    set u=null
endfunction
// å¯¹æ•°ç›¾å‡ä¼¤
function shieldReduceDamage takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer boss_index= 0
    local real loss= 0
    // éœ€è¦å‰”é™¤å°ä¼¤å®³
    if LoadReal(YDHT, GetHandleId(u), $FED) > 0 and GetEventDamage() > 50 then
        set boss_index=( udg_boshu - 1 ) / 4 + 1
        // call BJDebugMsg(R2S(YDWELogarithmLg(GetEventDamage())))
        set loss=Pow(2, (YDWELogarithm___Log2(((GetEventDamage())*1.0)) * 0.3010300)) * 100 / Pow(2, 9 + boss_index) // INLINED!!
        call EXSetEventDamage(0)
        call SaveReal(YDHT, GetHandleId(u), $FED, LoadReal(YDHT, GetHandleId(u), $FED) - loss)
    endif
    if LoadReal(YDHT, GetHandleId(u), $FED) <= 0 then
        call DestroyEffect(LoadEffectHandle(YDHT, GetHandleId(u), $DEF))
    endif
    set u=null
endfunction
function enhanceDefense takes nothing returns nothing
    local region r= CreateRegion()
    local trigger t= CreateTrigger()
    call RegionAddRect(r, bj_mapInitialPlayableArea)
    call TriggerRegisterEnterRegion(t, r, null)
    call TriggerAddAction(t, function doEnhanceDefense)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddAction(t, function shieldReduceDamage)
    set r=null
    set t=null
endfunction// NPCæç¤º
function createTagForNpc0 takes string text,real x,real y,real size,real zOffset,integer r,integer g,integer b,integer transparency returns nothing
    local texttag last= CreateTextTag()
    local real height= size * 0.023 / 10
    call SetTextTagText(last, text, height)
    call SetTextTagPos(last, x, y, zOffset)
    call SetTextTagColor(last, r * 255 / 100, g * 255 / 100, b * 255 / 100, ( 100 - transparency ) * 255 / 100)
    set last=null
endfunction
function createTagForNpc takes string s,real x,real y returns nothing
    call createTagForNpc0(s , x - 50 , y , 13 , 100 , 100 , 100 , 0 , 50)
endfunction
function npcHint takes nothing returns nothing
    // æ–°æ‰‹æ•™å®˜
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N007_0055, "[ch]1.mdl")
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N012_0095, "[ch]1.mdl")
    // ç§¯åˆ†å•†åº—
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N00P_0084, "[ch]2.mdl")
    // é“å…·å•†åŸ
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N00U_0092, "[ch]3.mdl")
    // ç­‰çº§å¥–åŠ±
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N00F_0085, "[ch]4.mdl")
    // é©¿ç«™
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_o02D_0069, "[ch]5.mdl")
    // å¤è‘£å•†äºº
    call AddSpecialEffectTargetUnitBJ("overhead", GU_DONG_SHANG_REN, "[ch]6.mdl")
    // ç»ƒåŠŸæœ¨æ¡©
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N008_0054, "[ch]7.mdl")
    // å‰¯æœ¬ä¼ é€
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_o00K_0126, "[ch]8.mdl")
    // è´¼å“¥
    call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N00B_0086, "[ch]9.mdl")
    // ç‚¼åˆ¶ä¸¹è¯
    call AddSpecialEffectTargetUnitBJ("overhead", PING_YI_ZHI, "[ch]10.mdl")
    // å†ç»ƒä¼ é€
    call AddSpecialEffectTargetUnitBJ("overhead", SHI_PO_TIAN, "[ch]11.mdl")
    // å®çŸ³å•†äºº
    call AddSpecialEffectTargetUnitBJ("overhead", BAO_SHI_SHANG_REN, "[ch]12.mdl")
    // é€‰æ‹©å‰¯èŒ
    call AddSpecialEffectTargetUnitBJ("overhead", nt, "[ch]13.mdl")
    // æ–°æ‰‹ä»»åŠ¡
    call AddSpecialEffectTargetUnitBJ("overhead", Ts, "[ch]14.mdl")
endfunction// å±•ç¤ºBOSSè¡€é‡
function showHealthPointAction takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetTriggerPlayer())
    if showHint[i] and IsUnitEnemy(GetTriggerUnit(), GetTriggerPlayer()) and GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) >= 999999 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "å•ä½" + GetUnitName(GetTriggerUnit()) + "|rçš„è¡€é‡ä¸º" + R2S(GetWidgetLife(GetTriggerUnit())) + " / " + R2S(GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)))
    endif
    if showHint[i] and LoadReal(YDHT, GetHandleId(GetTriggerUnit()), $FED) > 0 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "å•ä½" + GetUnitName(GetTriggerUnit()) + "|rçš„æŠ¤ç›¾ç™¾åˆ†æ¯”ä¸º" + R2S(LoadReal(YDHT, GetHandleId(GetTriggerUnit()), $FED)) + " %")
    endif
endfunction
function toggleHint takes nothing returns nothing
    local player p= GetTriggerPlayer()
    local string s= GetEventPlayerChatString()
    if s == "qxts" then
        call DisplayTextToPlayer(p, 0, 0, "|cffffff00å–æ¶ˆè¡€é‡æç¤º")
        set showHint[1 + GetPlayerId(p)]=false
    endif
    if s == "kqts" then
        call DisplayTextToPlayer(p, 0, 0, "|cffffff00å¼€å¯è¡€é‡æç¤º")
        set showHint[1 + GetPlayerId(p)]=true
    endif
    if s == "maxDiff" and udg_isTest[GetPlayerId(p)] then
        set udg_nandu=6
        call DisplayTextToPlayer(p, 0, 0, "|cffffff00éš¾åº¦è®¾ç½®ä¸º7")
    endif
    set p=null
endfunction
function showHealthPoint takes nothing returns nothing
    local trigger t= CreateTrigger()
    local integer i= 1
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SELECTED)
    call TriggerAddAction(t, function showHealthPointAction)
    loop
        exitwhen i > 5
        set showHint[i]=true
        set i=i + 1
    endloop
	set i=0
	loop
		exitwhen i > 6
		call TriggerRegisterPlayerChatEvent(t, Player(i), "", true)
		set i=i + 1
	endloop
	call TriggerAddAction(t, function toggleHint)
endfunction
function townPortal takes nothing returns nothing
endfunction
function BlizzardEventSystem takes nothing returns nothing
    //local trigger t = CreateTrigger()
    //call BJDebugMsg("åŠ è½½æš´é›ªäº‹ä»¶ç³»ç»Ÿ")
    //call DzTriggerRegisterKeyEvent(t, 'G', 1, true, "townPortal")
    //set t = null
endfunction
function EverySecond_Conditions takes nothing returns boolean
 local integer i= 1
 local string s= ""
 local timer t
 local timerdialog l__tg
	set passed_time=passed_time + 1
	if passed_time == 40 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|cfffff000æ¬¢è¿æ¥åˆ°|cffff00deå†³æˆ˜æ±Ÿæ¹–|r")
		// è·å–æœåŠ¡å™¨å…¨å±€å­˜æ¡£ï¼Œä¿¡æ¯æç¤º
		set info=DzAPI_Map_GetMapConfig("info")
		if info != "æ— " then
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFå…¬å‘Šï¼š|r|cffff00de" + info + "|r")
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFå…¬å‘Šï¼š|r|cffff00de" + info + "|r")
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFå…¬å‘Šï¼š|r|cffff00de" + info + "|r")
		endif
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|ræŒ‰|CFF00EE00F9|rè¿›å…¥ä»»åŠ¡é¢æ¿å¯æŸ¥çœ‹æ¸¸æˆå„ä¸ªç³»ç»Ÿ|r")
	elseif passed_time == 60 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|ré€‰æ‹©äººç‰©åç›´æ¥å›åŸï¼ˆhgï¼‰å¯ä»¥é€‰æ‹©è‡ªç”±é—¨æ´¾|r")
	elseif passed_time == 80 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|råŸºåœ°å³ä¾§çš„NPC|CFF00EE00æ–°æ‰‹æ•™å®˜|rå¤„æŸ¥çœ‹æ¸¸æˆä¸­çš„ç‰¹æ®Šç©æ³•|r")
		call PingMinimapForForce(bj_FORCE_ALL_PLAYERS, 398, - 689, 5)
	elseif passed_time == 120 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|ræ¸¸æˆå¼€å§‹2åˆ†é’Ÿå†…è¾“å…¥|CFF00EE00sw|rå¯æ¿€æ´»è¯•ç©æ¨¡å¼ï¼Œä¸€å°æ—¶å†…ä¸åˆ·è¿›æ”»æ€ª|r")
	elseif passed_time == 160 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|rå†ç»ƒæ˜¯æ¸¸æˆä¸­çš„ä¸»çº¿ä»»åŠ¡ï¼Œæƒ³å¿«ç‚¹æå‡ä¼¤å®³ï¼Œè¯·æŠ“ç´§æ—¶é—´å†ç»ƒå“¦|r")
	elseif passed_time == 180 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|rå£°æœ›æ˜¯å½±å“å†ç»ƒè¿›åº¦æœ€é‡è¦çš„å±æ€§ï¼Œå¯ä»¥é€šè¿‡å·ä»¤å¤©ä¸‹ä»¤åˆ·ç»ƒåŠŸæˆ¿æé«˜å£°æœ›è·å–é€Ÿåº¦|r")
	elseif passed_time == 200 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|rå‰æœŸåš|CFF00EE00è¾½å›½ç¬¬ä¸€å…ˆé”‹|rä»»åŠ¡ã€å‡»æ€|CFF00EE00æ—æœè‹±|rå’Œ|CFF00EE00æ‰«åœ°ç¥åƒ§|rå¯ä»¥è·å¾—ä¸é”™çš„å£°æœ›|r")
	elseif passed_time == 220 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|r|CFF00EE004ä¸ªé—¨æ´¾æŠ€èƒ½|rå‡çº§åˆ°|CFF00EE006é‡|råå¯ä»¥è·å¾—æŒé—¨ï¼ˆå”é—¨å…­åˆç»ä¸º1é‡ï¼Œæ˜æ•™ä¹¾å¤å¤§æŒªç§»ä¸º4é‡ï¼‰|r")
	elseif passed_time == 240 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|ræ­é…æŸäº›æ­¦åŠŸåˆ°è¾¾ç‰¹å®šé‡æ•°å¯ä»¥è·å¾—ç§°å·ï¼Œæ¸¸æˆä¸­æœ‰å¤šè¾¾|CFF00EE0060å¤šç§|rç§°å·ï¼ˆ|CFF00EE00æ–°æ‰‹æ•™å®˜|rå¤„æŸ¥çœ‹ï¼‰|r")
	elseif passed_time == 280 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|r|CFF00EE00ç§°å·|rå¯ä»¥å¤§å¹…æå‡å±æ€§ï¼Œéƒ¨åˆ†ç§°å·è¿˜å¯ä»¥ä½¿ç‰¹å®šæ­¦åŠŸå˜å¼º|r")
	elseif passed_time == 320 then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|rå†ç»ƒ5åå¯ä»¥åˆ°NPC|CFF00EE00æ¸¸å¦ä¹‹|rå¤„è‡ªåˆ›æ­¦åŠŸ")
		call PingMinimapForForce(bj_FORCE_ALL_PLAYERS, - 9000, - 13169, 5)
		if tiaoZhanIndex == 3 then
			set udg_boshu=28
			call SetPlayerTechResearched(Player(12), 'R001', 50)
			call SetPlayerTechResearched(Player(6), 'R001', 50)
			call SetPlayerTechResearched(Player(15), 'R001', 50)
			call setDifficultyAndExpRate(6)
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|CFF00FFFFæç¤ºï¼š|rå·²è‡ªåŠ¨æå‡è‡³æœ€é«˜éš¾åº¦")
		endif
	endif
	// æ¯ç§’ä¸ºæœ€ç»ˆbossæ¸…é™¤ä¸€æ¬¡è´Ÿé¢çŠ¶æ€
	if ModuloInteger(passed_time, 1) == 0 and udg_boss[7] != null then
		call UnitRemoveBuffs(udg_boss[7], true, true)
	endif
	
	if tiaoZhanIndex == 3 and passed_time == next_endless_time then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ— å°½BOSSå³å°†å‘èµ·è¿›æ”»ï¼Œè¯·ä½œå¥½é˜²å®ˆå‡†å¤‡")
		call CreateNUnitsAtLocFacingLocBJ(1, u7[8], Player(6), v7[6], v7[4])
		set udg_boss[7]=bj_lastCreatedUnit
		set t=CreateTimer()
		call TimerStart(t, 20, true, function BOSSChengZhang)
		set endless_timer=CreateTimer()
		set l__tg=CreateTimerDialogBJ(endless_timer, "|CFF00FFFFæ— å°½BOSSæ—¶é—´ï¼š")
		call TimerDialogDisplay(l__tg, true)
		call SaveInteger(YDHT, GetHandleId(endless_timer), 0, endless_count)
		call SaveTimerDialogHandle(YDHT, GetHandleId(endless_timer), 1, l__tg)
		call TimerStart(endless_timer, 300, false, function endlessFail)
		
		call GroupAddUnit(w7, bj_lastCreatedUnit)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D000F, v7[4])
		set next_endless_time=passed_time + 600
	endif
	
	loop
	exitwhen i > 5
		// å® ç‰©æŠ€èƒ½ è´¦å·ä¿¡æ¯
		if P4[i] != null and IsUnitAliveBJ(P4[i]) then
			set s="åœ°å›¾ç­‰çº§ï¼š|cff00ff00" + I2S(DzAPI_Map_GetMapLevel(Player(i - 1))) + "|r"
			set s=s + "ï½œæ’åï¼š|cff00ff00" + I2S(DzAPI_Map_GetMapLevelRank(Player(i - 1))) + "|r|n"
			set s=s + "å•é€šé—¨æ´¾ï¼š|cff00ff00" + I2S(LoadInteger(YDHT, i, StringHash("å•é€šé—¨æ´¾æ•°é‡"))) + "|r"
			set s=s + "ï½œå¤šé€šé—¨æ´¾ï¼š|cff00ff00" + I2S(LoadInteger(YDHT, i, StringHash("å¤šé€šé—¨æ´¾æ•°é‡"))) + "|r|n"
			set s=s + "æœ€å¤§æ— å°½BOSSæ•°ï¼š|cff00ff00" + I2S(decryptInt((DzAPI_Map_GetServerValue((Player(i - 1) ), "S" + ( "endless"))) , Player(i - 1))) + "|r" // INLINED!!
			call YDWESetUnitAbilityDataString(P4[i] , 'A0EO' , 1 , 218 , s)
		endif
		
		// ç¢§æ³¢å¿ƒç»ç‚¹æ•°
		if Player(i - 1) == GetLocalPlayer() then
			call DzFrameSetText(s__Frame_id[(bibo_text)], (I2S(LoadInteger(YDHT, GetHandleId(udg_hero[i]), BI_BO_POINT)))) // INLINED!!
		endif
		// æ¯éš”30ç§’åˆ‡æ¢ä¸€æ¬¡æ½®èµ·æ½®è½çš„çŠ¶æ€
		if ModuloInteger(passed_time, 30) == 0 then
			set tide_rising[i]=not tide_rising[i]
		endif
		if GetUnitAbilityLevel(udg_hero[i], BI_BO_XIN_JING) >= 1 then
			set s="|cffffff00æ¡ƒèŠ±å²›å¿ƒæ³•|r|n"
			set s=s + "é»„è¯å¸ˆçºªå¿µäº¡å¦»æ‰€åˆ›çš„ç¢§æµ·æ½®ç”Ÿæ›²è°±ä¸­æ¼”å˜è€Œæ¥,â€œå¤§æµ·æµ©æ·¼,ä¸‡é‡Œæ— æ³¢,æ´ªæ¶›æ±¹æ¶Œ,ç™½æµªè¿å±±,æå°½å˜å¹»,éšä¼å‡¶é™©â€ã€‚|n"
			set s=s + "æ¯éš”30ç§’åˆ‡æ¢ä¸€æ¬¡æ½®èµ·å’Œæ½®è½çŠ¶æ€ï¼šæ½®èµ·æ—¶ä½¿ç”¨ï¼Œæ¶ˆè€—5ç‚¹å¿ƒç»ç‚¹æ•°ï¼Œæ°¸ä¹…å¢åŠ æ‹›å¼ä¼¤å®³ã€å†…åŠ›å’ŒçœŸå®ä¼¤å®³ï¼Œæ½®è½æ—¶ä½¿ç”¨ï¼Œæ¶ˆè€—3ç‚¹å¿ƒç»ç‚¹æ•°ï¼Œæš‚æ—¶æå‡æ”»é€Ÿå’Œç§»é€Ÿã€‚ï¼ˆå‰©ä½™ç‚¹æ•°è§å°åœ°å›¾å·¦ä¸Šè§’ï¼‰|n"
			set s=s + "æ¯å‡»æ€Nä¸ªæ•Œäººè·å¾—1ç‚¹å¿ƒç»ç‚¹æ•°ï¼ŒNç­‰äºå½“å‰å¿ƒç»ç‚¹æ•°ï¼ˆæœ€å°ä¸º10ï¼‰|n|n"
			if tide_rising[i] then
				set s=s + "å½“å‰çŠ¶æ€ï¼š|cffdddd00æ½®èµ·|r|n"
			else
				set s=s + "å½“å‰çŠ¶æ€ï¼š|cff00dd00æ½®è½|r|n"
			endif
			set s=s + "|cff808080|n|r|cffadff2fæœç”¨ä¹èŠ±ç‰éœ²ä¸¸ï¼š|rå¿ƒç»ç‚¹æ•°+10|n|cffadff2f+å¥‡é—¨æœ¯æ•°ï¼š|rå‡»æ€æ•Œäººè·å¾—å¿ƒç»ç‚¹æ•°ç¿»å€|n|cffadff2f+æ‰“ç‹—æ£’æ³•ï¼š|rCDå‡åŠ|n"
			call YDWESetUnitAbilityDataString(udg_hero[i] , BI_BO_XIN_JING , 1 , 218 , s)
		endif
		set i=i + 1
	endloop
	set t=null
	return false
endfunction
function EverySecond takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	call TriggerRegisterTimerEventPeriodic(t, 1.)
	call TriggerAddCondition(t, Condition(function EverySecond_Conditions))
	set t=null
endfunction
// å® ç‰©æŠ€èƒ½
// æ‚Ÿç©ºï¼šçŒ´å­çŒ´å­™
function isSonOfMonkey takes nothing returns boolean
	return GetSpellAbilityId() == 'A0BD'
endfunction
function sonOfMonkey takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1
 local integer imax= GetRandomInt(5, 8)
 local unit l__ut= null
	if GetRandomInt(1, 100) <= 50 then
		set shengwang[1 + GetPlayerId(p)]=shengwang[1 + GetPlayerId(p)] + 100
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|cfffff000ç©å®¶" + GetPlayerName(p) + "çš„æ‚Ÿç©ºå‘åŠ¨äº†|CFF00EE00çŒ´å­çŒ´å­™|ræŠ€èƒ½ï¼Œ|CFF00EE00å£°æœ›|rå¢åŠ 100ç‚¹|r")
	else
		set shoujiajf[1 + GetPlayerId(p)]=shoujiajf[1 + GetPlayerId(p)] + 100
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|cfffff000ç©å®¶" + GetPlayerName(p) + "çš„æ‚Ÿç©ºå‘åŠ¨äº†|CFF00EE00çŒ´å­çŒ´å­™|ræŠ€èƒ½ï¼Œ|CFF00EE00å®ˆå®¶ç§¯åˆ†|rå¢åŠ 100ç‚¹|r")
	endif
	loop
	exitwhen i > imax
		set l__ut=CreateUnit(p, 'n00X', - 768. + GetRandomReal(- 100, 100), - 768. + GetRandomReal(- 100, 100), 270.)
		call IssueTargetOrderById(l__ut, $D0038, udg_ZhengPaiWL)
		set i=i + 1
	endloop
	set u=null
	set p=null
	set l__ut=null
 // æ­£æ´¾æ­¦æ—æ‰€åœ¨ä½ç½® -768.,-768
endfunction
// ä¸€é”®æ‹¾å–
function isFastPickup takes nothing returns boolean
	return GetSpellAbilityId() == 'A0EB'
endfunction
function doPickup takes nothing returns nothing
	call UnitAddItem(pickingUnit, GetEnumItem())
endfunction
function fastPickup takes nothing returns nothing
    local rect r= null
    set pickingUnit=GetTriggerUnit()
    set r=Rect(GetUnitX(pickingUnit) - 300, GetUnitY(pickingUnit) - 300, GetUnitX(pickingUnit) + 300, GetUnitY(pickingUnit) + 300)
    call EnumItemsInRect(r, null, function doPickup)
    call RemoveRect(r)
    set r=null
endfunction
// ä¸€é”®ä¸¢å¼ƒ
function isFastDrop takes nothing returns boolean
    return GetSpellAbilityId() == 'A0EC'
endfunction
function fastDrop takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer i=0
    loop
        exitwhen i >= 6
            call UnitRemoveItemFromSlot(u, i)
        set i=i + 1
    endloop
    set u=null
endfunction
function initPetSkill takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isSonOfMonkey))
	call TriggerAddAction(t, function sonOfMonkey)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isFastPickup))
	call TriggerAddAction(t, function fastPickup)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isFastDrop))
	call TriggerAddAction(t, function fastDrop)
	
	set t=null
endfunction
function toggleFuncBoard takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggle(zwidget[3])
	endif
endfunction
function toggleAttrBoard takes nothing returns nothing
 local integer i= 1 + GetPlayerId(DzGetTriggerUIEventPlayer())
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call DzFrameSetText(s__Frame_id[(zwidget[102])], (I2S(IMinBJ(R2I(( udg_baojilv[i] * 100. )), 100)) + "%")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[104])], (I2S(R2I(( udg_baojishanghai[i] * 100. ))) + "%")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[106])], (I2S(R2I(( udg_shanghaijiacheng[i] * 100. ))) + "%")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[108])], (I2S(IMinBJ(R2I(( udg_shanghaixishou[i] * 100. )), 80)) + "%")) // INLINED!!
		
		call DzFrameSetText(s__Frame_id[(zwidget[110])], (I2S(gengu[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[112])], (I2S(wuxing[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[114])], (I2S(jingmai[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[116])], (I2S(fuyuan[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[118])], (I2S(danpo[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[120])], (I2S(yishu[i]))) // INLINED!!
		
		call DzFrameSetText(s__Frame_id[(zwidget[122])], (I2S(juexuelingwu[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[124])], (I2S(xiuxing[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[126])], ("ç¬¬" + I2S(wugongxiuwei[i]) + "å±‚")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[128])], (I2S(shengwang[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[130])], (I2S(shoujiajf[i]))) // INLINED!!
		if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
			call DzFrameSetText(s__Frame_id[(zwidget[132])], (I2S(yongdanshu[i]) + " / 10")) // INLINED!!
		else
			call DzFrameSetText(s__Frame_id[(zwidget[132])], (I2S(yongdanshu[i]) + " / 15")) // INLINED!!
		endif
		
		call s__Frame_toggle(zwidget[14])
	endif
endfunction
function toggleOpenButton takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[1],"ReplaceableTextures\\CommandButtons\\BTNtab.blp" , "ReplaceableTextures\\CommandButtons\\BTNtab.blp")
	endif
endfunction
function toggleWidget5 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[5],"war3mapImported\\achievement01.tga" , "war3mapImported\\achievement02.tga")
	endif
endfunction
function toggleWidget6 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[6],"war3mapImported\\achievement01.tga" , "war3mapImported\\achievement02.tga")
	endif
endfunction
function toggleWidget7 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[7],"war3mapImported\\non_open01.tga" , "war3mapImported\\non_open02.tga")
	endif
endfunction
function toggleWidget8 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[8],"war3mapImported\\non_open01.tga" , "war3mapImported\\non_open02.tga")
	endif
endfunction
function toggleWidget9 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[9],"war3mapImported\\non_open01.tga" , "war3mapImported\\non_open02.tga")
	endif
endfunction
function toggleWidget10 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[10],"war3mapImported\\non_open01.tga" , "war3mapImported\\non_open02.tga")
	endif
endfunction
function toggleWidget11 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[11],"war3mapImported\\non_open01.tga" , "war3mapImported\\non_open02.tga")
	endif
endfunction
function toggleWidget12 takes nothing returns nothing
	if DzGetTriggerUIEventPlayer() == GetLocalPlayer() then
		call s__Frame_toggerHover(zwidget[12],"ReplaceableTextures\\CommandButtons\\BTNesc.blp" , "ReplaceableTextures\\CommandButtons\\BTNesc.blp")
	endif
endfunction
function doToggleQimenStatus takes nothing returns nothing
 local integer i= S2I(DzGetTriggerSyncData())
	set qimen_status[i]=qimen_status[i] + 1
	if qimen_status[i] == 3 then
		set qimen_status[i]=0
	endif
	if Player(i - 1) == GetLocalPlayer() then
		if qimen_status[i] == 0 then
			// call qimen_button.setText("ä¼¤å®³")
			call DzFrameSetTexture(s__Frame_id[(qimen_widget)], ("war3mapImported\\qm_sh.tga"), 0) // INLINED!!
		elseif qimen_status[i] == 1 then
			// call qimen_button.setText("å…­å›´")
			call DzFrameSetTexture(s__Frame_id[(qimen_widget)], ("war3mapImported\\qm_lw.tga"), 0) // INLINED!!
		elseif qimen_status[i] == 2 then
			// call qimen_button.setText("æŠ¤ä½“")
			call DzFrameSetTexture(s__Frame_id[(qimen_widget)], ("war3mapImported\\qm_ht.tga"), 0) // INLINED!!
		endif
	endif
endfunction
function toggleQimenStatus takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetTriggerPlayer())
	// call doToggleQimenStatus(i)
	call DzSyncData("qimen", I2S(i))
endfunction
function pressEsc takes nothing returns nothing
 local integer i= 1 + GetPlayerId(DzGetTriggerKeyPlayer())
	if DzGetTriggerKeyPlayer() == GetLocalPlayer() then
		call DzFrameSetText(s__Frame_id[(zwidget[102])], (I2S(IMinBJ(R2I(( udg_baojilv[i] * 100. )), 100)) + "%")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[104])], (I2S(R2I(( udg_baojishanghai[i] * 100. ))) + "%")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[106])], (I2S(R2I(( udg_shanghaijiacheng[i] * 100. ))) + "%")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[108])], (I2S(IMinBJ(R2I(( udg_shanghaixishou[i] * 100. )), 80)) + "%")) // INLINED!!
		
		call DzFrameSetText(s__Frame_id[(zwidget[110])], (I2S(gengu[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[112])], (I2S(wuxing[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[114])], (I2S(jingmai[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[116])], (I2S(fuyuan[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[118])], (I2S(danpo[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[120])], (I2S(yishu[i]))) // INLINED!!
		
		call DzFrameSetText(s__Frame_id[(zwidget[122])], (I2S(juexuelingwu[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[124])], (I2S(xiuxing[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[126])], ("ç¬¬" + I2S(wugongxiuwei[i]) + "å±‚")) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[128])], (I2S(shengwang[i]))) // INLINED!!
		call DzFrameSetText(s__Frame_id[(zwidget[130])], (I2S(shoujiajf[i]))) // INLINED!!
		if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
			call DzFrameSetText(s__Frame_id[(zwidget[132])], (I2S(yongdanshu[i]) + " / 10")) // INLINED!!
		else
			call DzFrameSetText(s__Frame_id[(zwidget[132])], (I2S(yongdanshu[i]) + " / 15")) // INLINED!!
		endif
		call DzFrameSetText(s__Frame_id[(zwidget[134])], (I2S(special_attack[i]))) // INLINED!!
		
		call s__Frame_toggle(zwidget[14])
	endif
endfunction
function releaseEsc takes nothing returns nothing
	if DzGetTriggerKeyPlayer() == GetLocalPlayer() then
		call s__Frame_hide(zwidget[14])
	endif
endfunction
function pressTab takes nothing returns nothing
	if DzGetTriggerKeyPlayer() == GetLocalPlayer() then
		call s__Frame_toggle(zwidget[3])
	endif
endfunction
function drawUI_Conditions takes nothing returns boolean
 local integer index= 100
 local integer ff1= DzFrameGetHeroBarButton(1)
 local integer ff2= DzFrameGetHeroBarButton(2)
 local integer ff3= DzFrameGetHeroBarButton(3)
 local integer fh1= DzFrameGetHeroHPBar(1)
 local integer fh2= DzFrameGetHeroHPBar(2)
 local integer fh3= DzFrameGetHeroHPBar(3)
 local integer fm1= DzFrameGetHeroManaBar(1)
 local integer fm2= DzFrameGetHeroManaBar(2)
 local integer fm3= DzFrameGetHeroManaBar(3)
	
	call DzFrameSetSize(ff1, 0.03, 0.04)
	call DzFrameSetSize(ff2, 0.03, 0.04)
	call DzFrameSetSize(ff3, 0.03, 0.04)
	
	call DzFrameClearAllPoints(fh1)
	call DzFrameClearAllPoints(fh2)
	call DzFrameClearAllPoints(fh3)
	call DzFrameClearAllPoints(fm1)
	call DzFrameClearAllPoints(fm2)
	call DzFrameClearAllPoints(fm3)
	
	call DzFrameSetSize(fh1, 0.01, 0.01)
	call DzFrameSetSize(fh2, 0.01, 0.01)
	call DzFrameSetSize(fh3, 0.01, 0.01)
	call DzFrameSetSize(fm1, 0.01, 0.01)
	call DzFrameSetSize(fm2, 0.01, 0.01)
	call DzFrameSetSize(fm3, 0.01, 0.01)
	
	call DzFrameSetPoint(fh1, 6, DzGetGameUI(), 8, .1, .22)
	call DzFrameSetPoint(fh2, 6, DzGetGameUI(), 8, .1, .22)
	call DzFrameSetPoint(fh3, 6, DzGetGameUI(), 8, .1, .22)
	call DzFrameSetPoint(fm1, 6, DzGetGameUI(), 8, .1, .22)
	call DzFrameSetPoint(fm2, 6, DzGetGameUI(), 8, .1, .22)
	call DzFrameSetPoint(fm3, 6, DzGetGameUI(), 8, .1, .22)
	
	call DzLoadToc("ui\\custom.toc")
	
	// åˆ›å»ºåŠŸèƒ½å¼€å¯æŒ‰é’®èƒŒæ™¯
	//set zwidget[1] = Frame.newImage1(GUI, "ReplaceableTextures\\CommandButtons\\BTNtab.blp", 0.03, 0.04)
	//call zwidget[1].setPoint(1, Frame.getFrame(DzFrameGetHeroBarButton(3)), 7, 0.0, -0.012)
	//call zwidget[1].setAlpha(255)
	
	
	// åˆ›å»ºåŠŸèƒ½å¼€å¯æŒ‰é’®
	//set zbutton[1] = Frame.newTextButton(zwidget[1])
	//call zbutton[1].setAllPoints(zwidget[1])
	//call zbutton[1].regEvent(FRAME_EVENT_PRESSED, function toggleFuncBoard)
	
	//call DzFrameSetScript(udg_UI_Gn_AN[1], 2, "Trig_GN_JiemianAActions", false)
	//call DzFrameSetScript(udg_UI_Gn_AN[1], 3, "Trig_GN_JiemianBActions", false)
	//call DzFrameSetScript(udg_UI_Gn_AN[1], 1, "Trig_GN_JiemianCActions", false)
	// åŠŸèƒ½ç•Œé¢
	set zwidget[3]=s__Frame_newImage1(GUI , "war3mapImported\\jz01.tga" , 0.3 , 0.3)
	call DzFrameSetPoint(s__Frame_id[(zwidget[3])], (4 ), s__Frame_id[( GUI )], ( 4 ), (( 0.0 )*1.0), (( 0.08)*1.0)) // INLINED!!
	call s__Frame_hide(zwidget[3])
	
	// å…³é—­æŒ‰é’®è´´å›¾
	set zwidget[4]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\close.tga" , 0.02 , 0.02)
	call DzFrameSetPoint(s__Frame_id[(zwidget[4])], (4 ), s__Frame_id[( zwidget[3] )], ( 2 ), (( - 0.01 )*1.0), (( - 0.01)*1.0)) // INLINED!!
	
	// å…³é—­æŒ‰é’®
	set zbutton[2]=s__Frame_newTextButton(zwidget[4])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[2])], s__Frame_id[(zwidget[4])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[2])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	
	// ä»»åŠ¡é¢æ¿
	set zwidget[5]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\achievement01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[5])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.021)*1.0)) // INLINED!!
	
	set zbutton[3]=s__Frame_newTextButton(zwidget[5])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[3])], s__Frame_id[(zwidget[5])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[3])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[3])], (FRAME_MOUSE_ENTER ), ( function toggleWidget5), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[3])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget5), false) // INLINED!!
	
	// åœ°å›¾æˆå°±
	set zwidget[6]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\achievement01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[6])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.061)*1.0)) // INLINED!!
	
	set zbutton[4]=s__Frame_newTextButton(zwidget[6])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[4])], s__Frame_id[(zwidget[6])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[4])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[4])], (FRAME_MOUSE_ENTER ), ( function toggleWidget6), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[4])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget6), false) // INLINED!!
	
	set zwidget[7]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\non_open01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[7])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.101)*1.0)) // INLINED!!
	
	set zbutton[5]=s__Frame_newTextButton(zwidget[7])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[5])], s__Frame_id[(zwidget[7])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[5])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[5])], (FRAME_MOUSE_ENTER ), ( function toggleWidget7), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[5])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget7), false) // INLINED!!
	
	set zwidget[8]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\non_open01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[8])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.141)*1.0)) // INLINED!!
	
	set zbutton[6]=s__Frame_newTextButton(zwidget[8])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[6])], s__Frame_id[(zwidget[8])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[6])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[6])], (FRAME_MOUSE_ENTER ), ( function toggleWidget8), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[6])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget8), false) // INLINED!!
	
	set zwidget[9]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\non_open01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[9])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.181)*1.0)) // INLINED!!
	
	set zbutton[7]=s__Frame_newTextButton(zwidget[9])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[7])], s__Frame_id[(zwidget[9])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[7])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[7])], (FRAME_MOUSE_ENTER ), ( function toggleWidget9), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[7])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget9), false) // INLINED!!
	
	set zwidget[10]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\non_open01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[10])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.221)*1.0)) // INLINED!!
	
	set zbutton[8]=s__Frame_newTextButton(zwidget[10])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[8])], s__Frame_id[(zwidget[10])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[8])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[8])], (FRAME_MOUSE_ENTER ), ( function toggleWidget10), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[8])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget10), false) // INLINED!!
	
	set zwidget[11]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\non_open01.tga" , 0.04 , 0.015)
	call DzFrameSetPoint(s__Frame_id[(zwidget[11])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.035 )*1.0), (( - 0.261)*1.0)) // INLINED!!
	
	set zbutton[9]=s__Frame_newTextButton(zwidget[11])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[9])], s__Frame_id[(zwidget[11])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[9])], (FRAME_EVENT_PRESSED ), ( function toggleFuncBoard), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[9])], (FRAME_MOUSE_ENTER ), ( function toggleWidget11), false) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[9])], (FRAME_MOUSE_LEAVE ), ( function toggleWidget11), false) // INLINED!!
	
	// åˆ›å»ºå±æ€§å¼€å¯æŒ‰é’®èƒŒæ™¯
	set zwidget[12]=s__Frame_newImage1(GUI , "ReplaceableTextures\\CommandButtons\\BTNesc.blp" , 0.03 , 0.04)
	call DzFrameSetPoint(s__Frame_id[(zwidget[12])], (1 ), s__Frame_id[( s__Frame_getFrame(DzFrameGetHeroBarButton(3)) )], ( 7 ), (( 0.0 )*1.0), (( - 0.064)*1.0)) // INLINED!!
	call DzFrameSetAlpha(s__Frame_id[(zwidget[12])], (255)) // INLINED!!
	
	// åˆ›å»ºå±æ€§ä»‹ç»
	//set zwidget[13]= Frame.newText1(zwidget[12], "å±æ€§", "TXA10")
	//call zwidget[13].setPoint(4, zwidget[12], 4, 0, 0)
	
	
	// å±æ€§ç•Œé¢
	set zwidget[14]=s__Frame_newImage1(GUI , "war3mapImported\\blackback.tga" , 0.3 , 0.3)
	call DzFrameSetPoint(s__Frame_id[(zwidget[14])], (4 ), s__Frame_id[( GUI )], ( 4 ), (( 0.0 )*1.0), (( 0.08)*1.0)) // INLINED!!
	call s__Frame_hide(zwidget[14])
	
	// æ˜¾ç¤ºå±æ€§
	set attrStr[1]="æš´å‡»ç‡ï¼š"
	set attrStr[2]="0%"
	set attrStr[3]="æš´å‡»ä¼¤å®³ï¼š"
	set attrStr[4]="0%"
	set attrStr[5]="ä¼¤å®³åŠ æˆï¼š"
	set attrStr[6]="0%"
	set attrStr[7]="ä¼¤å®³å¸æ”¶ï¼š"
	set attrStr[8]="0%"
	set attrStr[9]="æ ¹éª¨ï¼š"
	set attrStr[10]="0"
	set attrStr[11]="æ‚Ÿæ€§ï¼š"
	set attrStr[12]="0"
	set attrStr[13]="ç»è„‰ï¼š"
	set attrStr[14]="0"
	set attrStr[15]="ç¦ç¼˜ï¼š"
	set attrStr[16]="0"
	set attrStr[17]="èƒ†é­„ï¼š"
	set attrStr[18]="0"
	set attrStr[19]="åŒ»æœ¯ï¼š"
	set attrStr[20]="0"
	set attrStr[21]="ç»å­¦é¢†æ‚Ÿï¼š"
	set attrStr[22]="0"
	set attrStr[23]="ä¿®è¡Œï¼š"
	set attrStr[24]="0"
	set attrStr[25]="æ­¦å­¦ä¿®ä¸ºï¼š"
	set attrStr[26]="0"
	set attrStr[27]="æ±Ÿæ¹–å£°æœ›ï¼š"
	set attrStr[28]="0"
	set attrStr[29]="å®ˆå®¶ç§¯åˆ†ï¼š"
	set attrStr[30]="0"
	set attrStr[31]="ç”¨ä¸¹æ•°é‡ï¼š"
	set attrStr[32]="0"
	set attrStr[33]="ç‰¹æ®Šæ”»å‡»"
	set attrStr[34]="0"
	
	set index=101
	loop
	exitwhen index > 134
		set zwidget[index]=s__Frame_newText1(zwidget[14] , attrStr[index - 100] , "TXA15")
		if ModuloInteger(index, 2) == 0 then
			call DzFrameSetPoint(s__Frame_id[(zwidget[index])], (TOPLEFT ), s__Frame_id[( zwidget[14] )], ( TOPLEFT ), (( 0.01 + 0.07 * ModuloInteger(index - 101, 4) )*1.0), (( ( index - 97 ) / 4 * ( - 0.03 ))*1.0)) // INLINED!!
		else
			call DzFrameSetPoint(s__Frame_id[(zwidget[index])], (TOPLEFT ), s__Frame_id[( zwidget[14] )], ( TOPLEFT ), (( 0.01 + 0.075 * ModuloInteger(index - 101, 4) )*1.0), (( ( index - 97 ) / 4 * ( - 0.03 ))*1.0)) // INLINED!!
		endif
		if ModuloInteger(index, 2) == 0 then
			call DzFrameSetTextColor(s__Frame_id[(zwidget[index])], DzGetColor(255, (255 ), ( 255 ), ( 255))) // INLINED!!
		else
			if index <= 108 then
				call DzFrameSetTextColor(s__Frame_id[(zwidget[index])], DzGetColor(255, (0 ), ( 230 ), ( 230))) // INLINED!!
			elseif index <= 120 then
				call DzFrameSetTextColor(s__Frame_id[(zwidget[index])], DzGetColor(255, (230 ), ( 230 ), ( 0))) // INLINED!!
			else
				call DzFrameSetTextColor(s__Frame_id[(zwidget[index])], DzGetColor(255, (230 ), ( 0 ), ( 230))) // INLINED!!
			endif
		endif
		set index=index + 1
	endloop
	
	
	// åˆ›å»ºå±æ€§å¼€å¯æŒ‰é’®
	set zbutton[10]=s__Frame_newTextButton(zwidget[12])
	call DzFrameSetAllPoints(s__Frame_id[(zbutton[10])], s__Frame_id[(zwidget[12])]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(zbutton[10])], (FRAME_EVENT_PRESSED ), ( function toggleAttrBoard), false) // INLINED!!
	
	set zwidget[1000]=s__Frame_newText1(zwidget[3] , "æ€ç‹¼ä»»åŠ¡ï¼ˆ5/6ï¼‰" , "TXA15")
	call DzFrameSetPoint(s__Frame_id[(zwidget[1000])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.11 )*1.0), (( - 0.035)*1.0)) // INLINED!!
	call DzFrameSetTextColor(s__Frame_id[(zwidget[1000])], DzGetColor(255, (0 ), ( 0 ), ( 0))) // INLINED!!
	
	set zwidget[1001]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\doing.tga" , 0.044 , 0.033)
	call DzFrameSetPoint(s__Frame_id[(zwidget[1001])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.235 )*1.0), (( - 0.027)*1.0)) // INLINED!!
	
	set zwidget[1002]=s__Frame_newText1(zwidget[3] , "ç‹¼çš®ä»»åŠ¡ï¼ˆ15/10ï¼‰" , "TXA15")
	call DzFrameSetPoint(s__Frame_id[(zwidget[1002])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.11 )*1.0), (( - 0.09)*1.0)) // INLINED!!
	call DzFrameSetTextColor(s__Frame_id[(zwidget[1002])], DzGetColor(255, (0 ), ( 0 ), ( 0))) // INLINED!!
	
	set zwidget[1003]=s__Frame_newImage1(zwidget[3] , "war3mapImported\\done.tga" , 0.044 , 0.033)
	call DzFrameSetPoint(s__Frame_id[(zwidget[1003])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.235 )*1.0), (( - 0.082)*1.0)) // INLINED!!
	
	set zwidget[1004]=s__Frame_newText1(zwidget[3] , "ç‹¼çš®ä»»åŠ¡ï¼ˆ15/10ï¼‰" , "TXA15")
	call DzFrameSetPoint(s__Frame_id[(zwidget[1004])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.11 )*1.0), (( - 0.145)*1.0)) // INLINED!!
	call DzFrameSetTextColor(s__Frame_id[(zwidget[1004])], DzGetColor(255, (0 ), ( 0 ), ( 0))) // INLINED!!
	
	set zwidget[1006]=s__Frame_newText1(zwidget[3] , "ç‹¼çš®ä»»åŠ¡ï¼ˆ15/10ï¼‰" , "TXA15")
	call DzFrameSetPoint(s__Frame_id[(zwidget[1006])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.11 )*1.0), (( - 0.2)*1.0)) // INLINED!!
	call DzFrameSetTextColor(s__Frame_id[(zwidget[1006])], DzGetColor(255, (0 ), ( 0 ), ( 0))) // INLINED!!
	
	set zwidget[1008]=s__Frame_newText1(zwidget[3] , "ç‹¼çš®ä»»åŠ¡ï¼ˆ15/10ï¼‰" , "TXA15")
	call DzFrameSetPoint(s__Frame_id[(zwidget[1008])], (TOPLEFT ), s__Frame_id[( zwidget[3] )], ( TOPLEFT ), (( 0.11 )*1.0), (( - 0.255)*1.0)) // INLINED!!
	call DzFrameSetTextColor(s__Frame_id[(zwidget[1008])], DzGetColor(255, (0 ), ( 0 ), ( 0))) // INLINED!!
	
	
	set bibo_image=s__Frame_newImage1(GUI , "ReplaceableTextures\\CommandButtons\\PASBTNbibodian.blp" , 0.02 , 0.02)
	call DzFrameSetPoint(s__Frame_id[(bibo_image)], (1 ), s__Frame_id[( zwidget[12] )], ( 7 ), (( 0.04 )*1.0), (( - 0.08)*1.0)) // INLINED!!
	call DzFrameSetAlpha(s__Frame_id[(bibo_image)], (255)) // INLINED!!
	call s__Frame_hide(bibo_image)
	
	set bibo_text=s__Frame_newText1(bibo_image , "200" , "TXA10")
	call DzFrameSetPoint(s__Frame_id[(bibo_text)], (TOPRIGHT ), s__Frame_id[( bibo_image )], ( TOPRIGHT ), (( 0 )*1.0), (( 0)*1.0)) // INLINED!!
	call DzFrameSetTextColor(s__Frame_id[(bibo_text)], DzGetColor(255, (255 ), ( 255 ), ( 0))) // INLINED!!
	
	set qimen_widget=s__Frame_newImage1(GUI , "war3mapImported\\qm_sh.tga" , 0.04 , 0.02)
	call DzFrameSetPoint(s__Frame_id[(qimen_widget)], (TOPLEFT ), s__Frame_id[( zwidget[12] )], ( BOTTOM ), (( 0.065 )*1.0), (( - 0.08)*1.0)) // INLINED!!
	call s__Frame_hide(qimen_widget)
	
	set qimen_button=s__Frame_newTextButton(qimen_widget)
	call DzFrameSetAllPoints(s__Frame_id[(qimen_button)], s__Frame_id[(qimen_widget)]) // INLINED!!
	call DzFrameSetScriptByCode(s__Frame_id[(qimen_button)], (FRAME_EVENT_PRESSED ), ( function toggleQimenStatus), false) // INLINED!!
	
	// set qimen_text = Frame.newText1(qimen_button, "ä¼¤å®³", "TXA12")
	// call qimen_text.setAllPoints(qimen_button)
	
	
	// æŒ‰ESCæŸ¥çœ‹äººç‰©å±æ€§
	// 27 = ESC, 9 = TAB
	call DzTriggerRegisterKeyEventByCode(null, 27, 1, false, function pressEsc)
	//call DzTriggerRegisterKeyEventByCode(null, 27, 0, false, function releaseEsc)
	
	// æŒ‰TABæŸ¥çœ‹ä»»åŠ¡
	//call DzTriggerRegisterKeyEventByCode(null, 9, 1, false, function pressTab)
	
	return false
endfunction
function initUI takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	call TriggerRegisterTimerEventSingle(t, 1.)
	call TriggerAddCondition(t, Condition(function drawUI_Conditions))
	
	set t=CreateTrigger()
	call DzTriggerRegisterSyncData(t, "qimen", false)
	call TriggerAddAction(t, function doToggleQimenStatus)
	set t=null
endfunction
//-------å„ç§ä¸¹è¯å¼€å§‹-------//
// æç¤ºè¾¾åˆ°å±æ€§ä¸¹è¯ä½¿ç”¨ä¸Šé™
function reachDanLimitHint takes integer itemId,unit u returns nothing
    call unitadditembyidswapped(itemId , u)
    call PlaySoundOnUnitBJ(Gh, 100, u)
    call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä½ åœ¨æœ¬æ¬¡æ¸¸æˆé‡Œå·²ç»è¾¾åˆ°äº†ä½¿ç”¨å±æ€§ä¸¹ä¸Šé™ï¼Œæ— æ³•å†ä½¿ç”¨æœ¬ç±»é“å…·")
endfunction
//å±æ€§ä¸¹
function VO takes nothing returns boolean
	return GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER and ( GetItemTypeId(GetManipulatedItem()) == 1227895375 or GetItemTypeId(GetManipulatedItem()) == 1227895370 or GetItemTypeId(GetManipulatedItem()) == 1227895363 or GetItemTypeId(GetManipulatedItem()) == 1227895368 or GetItemTypeId(GetManipulatedItem()) == 1227895369 or GetItemTypeId(GetManipulatedItem()) == 1227895365 )
endfunction
function WO takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( yongdanshu[i] < 10 ) or ( yongdanshu[i] < 15 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) ) then // INLINED!!
		set yongdanshu[i]=yongdanshu[i] + 1
		call PlaySoundOnUnitBJ(Eh, 100, u)
		if GetItemTypeId(GetManipulatedItem()) == 1227895375 then
            set yishu[i]=yishu[i] + 1
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCåŒ»æœ¯+1|r")
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰åŒ»æœ¯ä¸ºï¼š|r|cFF99FFCC" + I2S(yishu[i]))
        elseif GetItemTypeId(GetManipulatedItem()) == 1227895370 then
            set wuxing[i]=wuxing[i] + 1
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ‚Ÿæ€§+1|r")
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰æ‚Ÿæ€§ä¸ºï¼š|r|cFF99FFCC" + I2S(wuxing[i]))
        elseif GetItemTypeId(GetManipulatedItem()) == 1227895363 then
            set gengu[i]=gengu[i] + 1
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ ¹éª¨+1|r")
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰æ ¹éª¨ä¸ºï¼š|r|cFF99FFCC" + I2S(gengu[i]))
        elseif GetItemTypeId(GetManipulatedItem()) == 1227895368 then
            set fuyuan[i]=fuyuan[i] + 1
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç¦ç¼˜+1|r")
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰ç¦ç¼˜ä¸ºï¼š|r|cFF99FFCC" + I2S(fuyuan[i]))
        elseif GetItemTypeId(GetManipulatedItem()) == 1227895369 then
            set jingmai[i]=jingmai[i] + 1
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»è„‰+1|r")
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰ç»è„‰ä¸ºï¼š|r|cFF99FFCC" + I2S(jingmai[i]))
        elseif GetItemTypeId(GetManipulatedItem()) == 1227895365 then
            set danpo[i]=danpo[i] + 1
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCèƒ†é­„+1|r")
            call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00å½“å‰èƒ†é­„ä¸ºï¼š|r|cFF99FFCC" + I2S(danpo[i]))
        endif
		if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
		    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 10" ) ))
		else
		    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 15" ) ))
		endif
	else
	    call reachDanLimitHint(GetItemTypeId(GetManipulatedItem()) , u)
	endif
	set u=null
	set p=null
endfunction
//ä¹¾å¤ä¸¹
function r0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895371 ) )
endfunction
function s0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( yongdanshu[i] < $A ) ) or ( yongdanshu[i] < 15 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) ) then // INLINED!!
		call DialogSetMessage(v8[i], "è¯·é€‰æ‹©è¦å‡1çš„å±æ€§")
		call DialogAddButtonBJ(v8[i], "æ ¹éª¨")
		set w8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "æ‚Ÿæ€§")
		set y8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "ç¦ç¼˜")
		set z8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "èƒ†é­„")
		set A8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "åŒ»æœ¯")
		set a8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "ç»è„‰")
		set x8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "å–æ¶ˆ")
		set B8[i]=bj_lastCreatedButton
		call DialogDisplay(p, v8[i], true)
		set b8[i]=true
	else
		call reachDanLimitHint(GetItemTypeId(GetManipulatedItem()) , u)
	endif
	set u=null
	set p=null
endfunction
function u0 takes nothing returns boolean
	return ( ( b8[( 1 + GetPlayerId(GetTriggerPlayer()) )] ) )
endfunction
function v0 takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	set b8[i]=false
	if ( ( GetClickedButton() == B8[i] ) ) then
		call unitadditembyidswapped(1227895371 , P4[i])
		call DialogClear(v8[i])
	else
		if ( ( GetClickedButton() == w8[i] ) ) then
			set gengu[i]=( gengu[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCæ ¹éª¨-1|r")
		elseif ( ( GetClickedButton() == y8[i] ) ) then
			set wuxing[i]=( wuxing[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCæ‚Ÿæ€§-1|r")
		elseif ( ( GetClickedButton() == z8[i] ) ) then
			set fuyuan[i]=( fuyuan[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCç¦ç¼˜-1|r")
		elseif ( ( GetClickedButton() == A8[i] ) ) then
			set danpo[i]=( danpo[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCèƒ†é­„-1|r")
		elseif ( ( GetClickedButton() == a8[i] ) ) then
			set yishu[i]=( yishu[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCåŒ»æœ¯-1|r")
		elseif ( ( GetClickedButton() == x8[i] ) ) then
			set jingmai[i]=( jingmai[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCç»è„‰-1|r")
		endif
		call DialogClear(v8[i])
		call DialogSetMessage(D8[i], "è¯·é€‰æ‹©è¦åŠ 3çš„å±æ€§")
		call DialogAddButtonBJ(D8[i], "æ ¹éª¨")
		set w8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(D8[i], "æ‚Ÿæ€§")
		set y8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(D8[i], "ç¦ç¼˜")
		set z8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(D8[i], "èƒ†é­„")
		set A8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(D8[i], "åŒ»æœ¯")
		set a8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(D8[i], "ç»è„‰")
		set x8[i]=bj_lastCreatedButton
		call DialogDisplay(p, D8[i], true)
		set C8[i]=true
	endif
	set p=null
endfunction
function x0 takes nothing returns boolean
	return ( ( C8[( 1 + GetPlayerId(GetTriggerPlayer()) )] ) )
endfunction
function y0 takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	set C8[i]=false
	if ( ( GetClickedButton() == w8[i] ) ) then
		set gengu[i]=( gengu[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCæ ¹éª¨+3|r")
	elseif ( ( GetClickedButton() == y8[i] ) ) then
		set wuxing[i]=( wuxing[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCæ‚Ÿæ€§+3|r")
	elseif ( ( GetClickedButton() == z8[i] ) ) then
		set fuyuan[i]=( fuyuan[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCç¦ç¼˜+3|r")
	elseif ( ( GetClickedButton() == A8[i] ) ) then
		set danpo[i]=( danpo[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCèƒ†é­„+3|r")
	elseif ( ( GetClickedButton() == a8[i] ) ) then
		set yishu[i]=( yishu[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCåŒ»æœ¯+3|r")
	elseif ( ( GetClickedButton() == x8[i] ) ) then
		set jingmai[i]=( jingmai[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCç»è„‰+3|r")
	endif
	call DialogClear(D8[i])
	set yongdanshu[i]=( yongdanshu[i] + 1 )
	call PlaySoundOnUnitBJ(Eh, 100, udg_hero[i])
	if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
	    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 10" ) ))
	else
	    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 15" ) ))
	endif
	set p=null
endfunction
function A0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895372 ) )
endfunction
function a0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( yongdanshu[i] < $A ) or ( yongdanshu[i] < 15 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) ) then // INLINED!!
		if ( ( GetRandomInt(1, 5) == 3 ) ) then
			if ( ( GetRandomInt(1, 6) == 1 ) ) then
				set yishu[i]=( yishu[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCåŒ»æœ¯+1|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰åŒ»æœ¯ä¸ºï¼š|r|cFF99FFCC" + I2S(yishu[i]) ))
			elseif ( ( GetRandomInt(1, 5) == 2 ) ) then
				set wuxing[i]=( wuxing[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ‚Ÿæ€§+1|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ‚Ÿæ€§ä¸ºï¼š|r|cFF99FFCC" + I2S(wuxing[i]) ))
			elseif ( ( GetRandomInt(1, 4) == 3 ) ) then
				set gengu[i]=( gengu[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ ¹éª¨+1|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ ¹éª¨ä¸ºï¼š|r|cFF99FFCC" + I2S(gengu[i]) ))
			elseif ( ( GetRandomInt(1, 3) == 2 ) ) then
				set fuyuan[i]=( fuyuan[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç¦ç¼˜+1|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç¦ç¼˜ä¸ºï¼š|r|cFF99FFCC" + I2S(fuyuan[i]) ))
			elseif ( ( GetRandomInt(1, 2) == 2 ) ) then
				set jingmai[i]=( jingmai[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»è„‰+1|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç»è„‰ä¸ºï¼š|r|cFF99FFCC" + I2S(jingmai[i]) ))
			else
				set danpo[i]=( danpo[i] + 1 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCèƒ†é­„+1|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰èƒ†é­„ä¸ºï¼š|r|cFF99FFCC" + I2S(danpo[i]) ))
			endif
		elseif ( ( GetRandomInt(1, 4) == 3 ) ) then
			if ( ( GetRandomInt(1, 6) == 1 ) ) then
				set yishu[i]=( yishu[i] + 3 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCåŒ»æœ¯+3|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰åŒ»æœ¯ä¸ºï¼š|r|cFF99FFCC" + I2S(yishu[i]) ))
			elseif ( ( GetRandomInt(1, 5) == 2 ) ) then
				set wuxing[i]=( wuxing[i] + 3 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ‚Ÿæ€§+3|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ‚Ÿæ€§ä¸ºï¼š|r|cFF99FFCC" + I2S(wuxing[i]) ))
			elseif ( ( GetRandomInt(1, 4) == 3 ) ) then
				set gengu[i]=( gengu[i] + 3 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ ¹éª¨+3|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ ¹éª¨ä¸ºï¼š|r|cFF99FFCC" + I2S(gengu[i]) ))
			elseif ( ( GetRandomInt(1, 3) == 2 ) ) then
				set fuyuan[i]=( fuyuan[i] + 3 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç¦ç¼˜+3|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç¦ç¼˜ä¸ºï¼š|r|cFF99FFCC" + I2S(fuyuan[i]) ))
			elseif ( ( GetRandomInt(1, 2) == 2 ) ) then
				set jingmai[i]=( jingmai[i] + 3 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»è„‰+3|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç»è„‰ä¸ºï¼š|r|cFF99FFCC" + I2S(jingmai[i]) ))
			else
				set danpo[i]=( danpo[i] + 3 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCèƒ†é­„+3|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰èƒ†é­„ä¸ºï¼š|r|cFF99FFCC" + I2S(danpo[i]) ))
			endif
		else
			if ( ( GetRandomInt(1, 6) == 1 ) ) then
				set yishu[i]=( yishu[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCåŒ»æœ¯+2|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰åŒ»æœ¯ä¸ºï¼š|r|cFF99FFCC" + I2S(yishu[i]) ))
			elseif ( ( GetRandomInt(1, 5) == 2 ) ) then
				set wuxing[i]=( wuxing[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ‚Ÿæ€§+2|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ‚Ÿæ€§ä¸ºï¼š|r|cFF99FFCC" + I2S(wuxing[i]) ))
			elseif ( ( GetRandomInt(1, 4) == 3 ) ) then
				set gengu[i]=( gengu[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ ¹éª¨+2|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ ¹éª¨ä¸ºï¼š|r|cFF99FFCC" + I2S(gengu[i]) ))
			elseif ( ( GetRandomInt(1, 3) == 2 ) ) then
				set fuyuan[i]=( fuyuan[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç¦ç¼˜+2|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç¦ç¼˜ä¸ºï¼š|r|cFF99FFCC" + I2S(fuyuan[i]) ))
			elseif ( ( GetRandomInt(1, 2) == 2 ) ) then
				set jingmai[i]=( jingmai[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»è„‰+2|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç»è„‰ä¸ºï¼š|r|cFF99FFCC" + I2S(jingmai[i]) ))
			else
				set danpo[i]=( danpo[i] + 2 )
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCèƒ†é­„+2|r")
				call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰èƒ†é­„ä¸ºï¼š|r|cFF99FFCC" + I2S(danpo[i]) ))
			endif
		endif
		call PlaySoundOnUnitBJ(Eh, 100, u)
		set yongdanshu[i]=( yongdanshu[i] + 1 )
		if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
		    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 10" ) ))
		else
		    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 15" ) ))
		endif
	else
	    call reachDanLimitHint(GetItemTypeId(GetManipulatedItem()) , u)
	endif
	set u=null
	set p=null
endfunction
//è„±èƒæ¢éª¨ä¸¹
function b0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227895374 ) )
endfunction
function C0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( yongdanshu[i] < $A ) ) or ( yongdanshu[i] < 15 and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) ) then // INLINED!!
		call DialogSetMessage(v8[i], "è¯·é€‰æ‹©è¦+6çš„å±æ€§")
		call DialogAddButtonBJ(v8[i], "æ ¹éª¨")
		set w8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "æ‚Ÿæ€§")
		set y8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "ç¦ç¼˜")
		set z8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "èƒ†é­„")
		set A8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "åŒ»æœ¯")
		set a8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "ç»è„‰")
		set x8[i]=bj_lastCreatedButton
		call DialogAddButtonBJ(v8[i], "å–æ¶ˆ")
		set B8[i]=bj_lastCreatedButton
		call DialogDisplay(p, v8[i], true)
		set c8[i]=true
	else
		call reachDanLimitHint(GetItemTypeId(GetManipulatedItem()) , u)
	endif
	set u=null
	set p=null
endfunction
function D0 takes nothing returns boolean
	return ( ( c8[( 1 + GetPlayerId(GetTriggerPlayer()) )] ) )
endfunction
function E0 takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local integer i= 1 + GetPlayerId(p)
	set c8[i]=false
	if ( ( GetClickedButton() == B8[i] ) ) then
		call unitadditembyidswapped(1227895374 , udg_hero[i])
		call DialogClear(v8[i])
	else
		if ( ( GetClickedButton() == w8[i] ) ) then
			set gengu[i]=( gengu[i] + 6 )
			set wuxing[i]=( wuxing[i] - 1 )
			set fuyuan[i]=( fuyuan[i] - 1 )
			set yishu[i]=( yishu[i] - 1 )
			set jingmai[i]=( jingmai[i] - 1 )
			set danpo[i]=( danpo[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCæ ¹éª¨+6|r")
		elseif ( ( GetClickedButton() == y8[i] ) ) then
			set wuxing[i]=( wuxing[i] + 6 )
			set gengu[i]=( gengu[i] - 1 )
			set fuyuan[i]=( fuyuan[i] - 1 )
			set yishu[i]=( yishu[i] - 1 )
			set jingmai[i]=( jingmai[i] - 1 )
			set danpo[i]=( danpo[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCæ‚Ÿæ€§+6|r")
		elseif ( ( GetClickedButton() == z8[i] ) ) then
			set fuyuan[i]=( fuyuan[i] + 6 )
			set gengu[i]=( gengu[i] - 1 )
			set wuxing[i]=( wuxing[i] - 1 )
			set yishu[i]=( yishu[i] - 1 )
			set jingmai[i]=( jingmai[i] - 1 )
			set danpo[i]=( danpo[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCç¦ç¼˜+6|r")
		elseif ( ( GetClickedButton() == A8[i] ) ) then
			set danpo[i]=( danpo[i] + 6 )
			set gengu[i]=( gengu[i] - 1 )
			set wuxing[i]=( wuxing[i] - 1 )
			set fuyuan[i]=( fuyuan[i] - 1 )
			set yishu[i]=( yishu[i] - 1 )
			set jingmai[i]=( jingmai[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCèƒ†é­„+6|r")
		elseif ( ( GetClickedButton() == a8[i] ) ) then
			set yishu[i]=( yishu[i] + 6 )
			set gengu[i]=( gengu[i] - 1 )
			set wuxing[i]=( wuxing[i] - 1 )
			set fuyuan[i]=( fuyuan[i] - 1 )
			set jingmai[i]=( jingmai[i] - 1 )
			set danpo[i]=( danpo[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCåŒ»æœ¯+6|r")
		elseif ( ( GetClickedButton() == x8[i] ) ) then
			set gengu[i]=( gengu[i] - 1 )
			set wuxing[i]=( wuxing[i] - 1 )
			set fuyuan[i]=( fuyuan[i] - 1 )
			set yishu[i]=( yishu[i] - 1 )
			set jingmai[i]=( jingmai[i] + 6 )
			set danpo[i]=( danpo[i] - 1 )
			call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCç»è„‰+6|r")
		endif
		call DialogClear(v8[i])
		call DisplayTextToPlayer(p, 0, 0, "|cFF99FFCCå…¶å®ƒå±æ€§-1|r")
		set yongdanshu[i]=( yongdanshu[i] + 1 )
		call PlaySoundOnUnitBJ(Eh, 100, udg_hero[i])
		if not (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
		    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 10" ) ))
		else
		    call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰å·²ç»æœç”¨å±æ€§ä¸¹æ•°é‡ï¼š|r|cFF99FFCC" + ( I2S(yongdanshu[i]) + " / 15" ) ))
		endif
	endif
	set p=null
endfunction
//é»‘ç‰æ–­ç»­è†
function G0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I04P' ) )
endfunction
function H0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	// ä¸«é¬Ÿä¹Ÿå¯ä»¥æ— é™åƒï¼Œä¸ç„¶å…ˆåƒå†ä¸«é¬Ÿå°±ä¸èƒ½éƒ¡ä¸»äº†
	if v9[i] == false or (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) or (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) then // INLINED!!
		set v9[i]=true
		call PlaySoundOnUnitBJ(Eh, 100, u)
		call ModifyHeroStat(2, udg_hero[i], 0, 50)
		call DisplayTextToPlayer(Player(- 1 + ( i )), 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCçœŸå®ä¼¤å®³æå‡50|r")
		if (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) then // INLINED!!
			call Deputy_setMaster(i , YA_HUAN)
			// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“éƒ¡ä¸»ã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—éƒ¡ä¸»")
			call SetPlayerName(p, "ã€“éƒ¡ä¸»ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		endif
	else
		call unitadditembyidswapped(GetItemTypeId(GetManipulatedItem()) , u)
		call PlaySoundOnUnitBJ(Gh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½ å·²ç»ä½¿ç”¨è¿‡æœ¬é“å…·äº†ï¼Œæ¯ä¸ªè§’è‰²åªèƒ½ä½¿ç”¨æœ€å¤š1ä¸ª")
	endif
	set u=null
	set p=null
endfunction
//å¤©ç‹ä¿å‘½ä¸¹
function l0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I04O' ) )
endfunction
function J0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( w9[i] == false or (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) ) ) then // INLINED!!
		set w9[i]=true
		call PlaySoundOnUnitBJ(Eh, 100, u)
		call UnitAddAbility(udg_hero[i], 1093678923)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ°”è¡€æå‡20000|r")
	else
		call unitadditembyidswapped(GetItemTypeId(GetManipulatedItem()) , u)
		call PlaySoundOnUnitBJ(Gh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½ å·²ç»ä½¿ç”¨è¿‡æœ¬é“å…·äº†ï¼Œæ¯ä¸ªè§’è‰²åªèƒ½ä½¿ç”¨æœ€å¤š1ä¸ª")
	endif
	set u=null
	set p=null
endfunction
//ç”Ÿç”Ÿé€ åŒ–ä¸¹
function L0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I04N' ) )
endfunction
function M0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( y9[i] == false or (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) ) ) then // INLINED!!
		set y9[i]=true
		call PlaySoundOnUnitBJ(Eh, 100, u)
		call ModifyHeroStat(1, udg_hero[i], 0, 40)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCå†…åŠ›æå‡40|r")
	else
		call unitadditembyidswapped(GetItemTypeId(GetManipulatedItem()) , u)
		call PlaySoundOnUnitBJ(Gh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½ å·²ç»ä½¿ç”¨è¿‡æœ¬é“å…·äº†ï¼Œæ¯ä¸ªè§’è‰²åªèƒ½ä½¿ç”¨æœ€å¤š1ä¸ª")
	endif
	set u=null
	set p=null
endfunction
//ä¹èŠ±ç‰éœ²ä¸¸
function O0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I04Q' ) )
endfunction
function P0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( x9[i] == false or (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( YA_HUAN) - 1)])) != 0) ) ) then // INLINED!!
		set x9[i]=true
		call PlaySoundOnUnitBJ(Eh, 100, u)
		set juexuelingwu[i]=( juexuelingwu[i] + 1 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»å­¦é¢†æ‚ŸåŠ›+1|r")
		// ç¢§æ³¢å¿ƒç»+ä¹èŠ±ç‰éœ²ä¸¸ ç¢§æ³¢ç‚¹æ•°+10
		if GetUnitAbilityLevel(udg_hero[i], BI_BO_XIN_JING) >= 1 then
			call SaveInteger(YDHT, GetHandleId(udg_hero[i]), BI_BO_POINT, LoadInteger(YDHT, GetHandleId(udg_hero[i]), BI_BO_POINT) + 10)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨ä¹èŠ±ç‰éœ²ä¸¸|r|cFF99FFCCç¢§æ³¢å¿ƒç»ç‚¹æ•°+10|r")
		endif
	else
		call unitadditembyidswapped(GetItemTypeId(GetManipulatedItem()) , u)
		call PlaySoundOnUnitBJ(Gh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½ å·²ç»ä½¿ç”¨è¿‡æœ¬é“å…·äº†ï¼Œæ¯ä¸ªè§’è‰²åªèƒ½ä½¿ç”¨æœ€å¤š1ä¸ª")
	endif
	set u=null
	set p=null
endfunction
//ç»å…ƒä¸¹
function R0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896406 ) )
endfunction
function S0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	call PlaySoundOnUnitBJ(Eh, 100, u)
	set juexuelingwu[i]=( juexuelingwu[i] + 2 )
	call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»å­¦é¢†æ‚ŸåŠ›+2|r")
	set u=null
	set p=null
endfunction
//å¤§è¿˜ä¸¹
function U0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896407 ) )
endfunction
function V0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	call PlaySoundOnUnitBJ(Eh, 100, u)
	call ModifyHeroStat(1, udg_hero[i], 0, 100)
	call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCå†…åŠ›æå‡100|r")
	set u=null
	set p=null
endfunction
//æ— æä¸¹
function X0 takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896408 ) )
endfunction
function Y0 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	call PlaySoundOnUnitBJ(Eh, 100, u)
	call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ‰€æœ‰æ­¦åŠŸCDæ—¶é—´æ¸…é™¤|r")
	call UnitResetCooldown(udg_hero[i])
	set u=null
	set p=null
endfunction
//ç»­å‘½å…«ä¸¸
function dP takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 'I06Z' ) )
endfunction
function eP takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( ge[i] ) ) then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å·²ç»ä½¿ç”¨è¿‡æœ¬é“å…·äº†ï¼Œé‡å¤ä½¿ç”¨æ— æ•ˆæœ")
		call unitadditembyidswapped(GetItemTypeId(GetManipulatedItem()) , u)
	else
		call PlaySoundOnUnitBJ(Eh, 100, u)
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCå¤æ´»æ—¶é—´å‡åŠ|r")
		set ge[i]=true
	endif
	set u=null
	set p=null
endfunction
//é€šçŠ€åœ°é¾™ä¸¸
function gP takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896624 ) )
endfunction
function hP takes nothing returns nothing
	set ie=( ie + 60 )
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10., "|cFFFFCC00ä½¿ç”¨é€šçŠ€åœ°é¾™ä¸¸æˆåŠŸ|r|cFF99FFCCå»¶è¿Ÿä¸‹æ³¢è¿›æ”»æ€ªç‰©60ç§’|r")
endfunction
//ç™½äº‘ç†Šèƒ†ä¸¸
function jP takes nothing returns boolean
	return ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and ( GetItemTypeId(GetManipulatedItem()) == 1227896409 ) )
endfunction
function kP takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( GetRandomInt(1, 6) == 1 ) ) then
		set yishu[i]=( yishu[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCåŒ»æœ¯+3|r")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰åŒ»æœ¯ä¸ºï¼š|r|cFF99FFCC" + I2S(yishu[i]) ))
	elseif ( ( GetRandomInt(1, 5) == 2 ) ) then
		set wuxing[i]=( wuxing[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ‚Ÿæ€§+3|r")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ‚Ÿæ€§ä¸ºï¼š|r|cFF99FFCC" + I2S(wuxing[i]) ))
	elseif ( ( GetRandomInt(1, 4) == 3 ) ) then
		set gengu[i]=( gengu[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCæ ¹éª¨+3|r")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰æ ¹éª¨ä¸ºï¼š|r|cFF99FFCC" + I2S(gengu[i]) ))
	elseif ( ( GetRandomInt(1, 3) == 2 ) ) then
		set fuyuan[i]=( fuyuan[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç¦ç¼˜+3|r")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç¦ç¼˜ä¸ºï¼š|r|cFF99FFCC" + I2S(fuyuan[i]) ))
	elseif ( ( GetRandomInt(1, 2) == 2 ) ) then
		set jingmai[i]=( jingmai[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCç»è„‰+3|r")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰ç»è„‰ä¸ºï¼š|r|cFF99FFCC" + I2S(jingmai[i]) ))
	else
		set danpo[i]=( danpo[i] + 3 )
		call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00ä½¿ç”¨æˆåŠŸ|r|cFF99FFCCèƒ†é­„+3|r")
		call DisplayTextToPlayer(p, 0, 0, ( "|cFFFFCC00å½“å‰èƒ†é­„ä¸ºï¼š|r|cFF99FFCC" + I2S(danpo[i]) ))
	endif
	set u=null
	set p=null
endfunction
//ä¼ åŠŸä¸¹
function nP takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 1093679447 ) )
endfunction
function oP takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local unit l__ut= GetSpellTargetUnit()
 local integer j= GetPlayerId(GetOwningPlayer(l__ut))
	call DialogSetMessage(je[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], "è¯·é€‰æ‹©æƒ³è¢«ä¼ æˆçš„æ­¦åŠŸ")
	set te[i]=j
	if ( I7[j * 20 + 1] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 1]))
		set ke[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 2] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 2]))
		set ne[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 3] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 3]))
		set oe[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 4] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 4]))
		set pe[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 5] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 5]))
		set qe[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 6] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 6]))
		set me[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 7] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 7]))
		set re[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 8] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 8]))
		set rre[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 9] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 9]))
		set re9[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 10] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 10]))
		set re10[i]=bj_lastCreatedButton
	endif
	if ( I7[j * 20 + 11] != 'AEfk' ) then
		call DialogAddButtonBJ(je[i], GetObjectName(I7[j * 20 + 11]))
		set re11[i]=bj_lastCreatedButton
	endif
	call DialogAddButtonBJ(je[i], "å–æ¶ˆ")
	set se[i]=bj_lastCreatedButton
	call DialogDisplay(p, je[i], true)
	set u=null
	set p=null
	set l__ut=null
endfunction
function QiuJiao takes player p,integer num returns nothing
 local integer i= 1 + GetPlayerId(p)
	set L7[i]=1
	loop
	exitwhen L7[i] > wugongshu[i]
	
	// if I7[te[i]*20+num] == 'A0DP' or I7[te[i]*20+num] == 'A0B6' then
	// é“æŒå½’å…ƒåçº³å¯ä»¥å·
	if I7[te[i] * 20 + num] == 'A0B6' then
	    call unitadditembyidswapped(1227896625 , P4[i])
    	call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033è¿™ä¸ªæ­¦åŠŸå¤ªé«˜æ·±äº†ï¼Œçœ‹èµ·æ¥å­¦ä¸ä¼šçš„æ ·å­")
    	return
	endif
	if ( I7[( i - 1 ) * 20 + L7[i]] != 'AEfk' ) then
		if ( L7[i] == wugongshu[i] ) then
			call unitadditembyidswapped(1227896625 , P4[i])
			call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
			exitwhen true
		endif
	else
		if I7[( i - 1 ) * 20 + 1] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 2] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 3] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 4] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 5] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 6] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 7] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 8] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 9] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 10] != I7[te[i] * 20 + num] and I7[( i - 1 ) * 20 + 11] != I7[te[i] * 20 + num] then
			call UnitAddAbility(udg_hero[i], I7[te[i] * 20 + num])
			call UnitMakeAbilityPermanent(udg_hero[i], true, I7[te[i] * 20 + num])
			set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]=I7[te[i] * 20 + num]
			call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( "|CFFFF0033ä¼ é—»" + ( GetPlayerName(p) + ( ( "å‘" + ( GetPlayerName(Player(- 1 + ( ( te[i] + 1 ) ))) + "è™šå¿ƒæ±‚æ•™ï¼ŒæˆåŠŸçš„å­¦ä¼šäº†" ) ) + GetObjectName(I7[te[i] * 20 + num]) ) ) ))
			if I7[te[i] * 20 + num] == QI_MEN_SHU_SHU then
				if p == GetLocalPlayer() then
					call s__Frame_show(qimen_widget)
				endif
			endif
			set S9=1
			loop
				exitwhen S9 > 20
				if ( ( I7[te[i] * 20 + num] == MM9[S9] ) ) then
					set udg_shanghaijiacheng[i]=( udg_shanghaijiacheng[i] + udg_jueneishjc[S9] )
					call ModifyHeroStat(1, udg_hero[i], 0, udg_jueneiminjie[S9])
					set udg_baojilv[i]=( udg_baojilv[i] + udg_jueneibaojilv[S9] )
					set juexuelingwu[i]=( juexuelingwu[i] + udg_jueneijxlw[S9] )
					set udg_shanghaixishou[i]=( udg_shanghaixishou[i] + udg_jueneishxs[S9] )
				endif
				set S9=S9 + 1
			endloop
			exitwhen true
		else
			call DisplayTextToPlayer(p, 0, 0, "|CFFFF0033ä½ å·²ç»å­¦ä¼šè¿™ç§æ­¦åŠŸäº†")
			call unitadditembyidswapped(1227896625 , P4[i])
			exitwhen true
		endif
	endif
	set L7[i]=L7[i] + 1
	endloop
endfunction
function qP takes nothing returns nothing
 local unit u= udg_hero[( 1 + GetPlayerId(GetTriggerPlayer()) )]
 local integer i= 1 + GetPlayerId(GetTriggerPlayer())
 local player p= GetTriggerPlayer()
	if ( ( GetClickedButton() == ke[i] ) ) then
		call QiuJiao(p , 1)
	elseif ( ( GetClickedButton() == ne[i] ) ) then
		call QiuJiao(p , 2)
	elseif ( ( GetClickedButton() == oe[i] ) ) then
		call QiuJiao(p , 3)
	elseif ( ( GetClickedButton() == pe[i] ) ) then
		call QiuJiao(p , 4)
	elseif ( ( GetClickedButton() == qe[i] ) ) then
		call QiuJiao(p , 5)
	elseif ( ( GetClickedButton() == me[i] ) ) then
		call QiuJiao(p , 6)
	elseif ( ( GetClickedButton() == re[i] ) ) then
		call QiuJiao(p , 7)
	elseif ( ( GetClickedButton() == rre[i] ) ) then
		call QiuJiao(p , 8)
	elseif ( ( GetClickedButton() == re9[i] ) ) then
		call QiuJiao(p , 9)
	elseif ( ( GetClickedButton() == re10[i] ) ) then
		call QiuJiao(p , 10)
	elseif ( ( GetClickedButton() == re11[i] ) ) then
		call QiuJiao(p , 11)
	elseif ( ( GetClickedButton() == se[i] ) ) then
		call unitadditembyidswapped(1227896625 , P4[i])
	endif
	call DialogClear(je[i])
	set u=null
	set p=null
endfunction
//åé¦™è½¯ç­‹æ•£
function sP takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A09X' ) )
endfunction
function tP takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function uP takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
	call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163, GetEnumUnit())
	call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $247CC5E5, GetUnitLoc(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163)))
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB)), LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $247CC5E5), bj_UNIT_FACING)
	call UnitAddAbility(bj_lastCreatedUnit, 1093679450)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D006B, LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163))
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call ShowUnitHide(bj_lastCreatedUnit)
	call RemoveLocation(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $247CC5E5))
endfunction
function vP takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetSpellTargetLoc())
	call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(800. , LoadLocationHandle(YDHT, id * cx, $5E83114F) , Condition(function tP)), function uP)
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä¸‰å°¸è„‘ç¥ä¸¹
function xP takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0A0' ) )
endfunction
function yP takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function zP takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
	call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163, GetEnumUnit())
	call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $247CC5E5, GetUnitLoc(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163)))
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB)), LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $247CC5E5), bj_UNIT_FACING)
	call UnitAddAbility(bj_lastCreatedUnit, 1093681457)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D00DD, LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $270B8163))
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call ShowUnitHide(bj_lastCreatedUnit)
	call RemoveLocation(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $247CC5E5))
endfunction
function AP takes nothing returns nothing
 local location loc= GetSpellTargetLoc()
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600. , loc , Condition(function yP)), function zP)
	call RemoveLocation(loc)
	set loc=null
endfunction
//ä¸ƒæ˜Ÿæµ·æ£ 
function BP takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A0A3' )
endfunction
function bP takes nothing returns nothing
 local unit u= GetSpellTargetUnit()
	call YDWEPolledWaitNull(.3)
	call percentDamage(u , 30 , false)
	set u=null
endfunction
//-------å„ç§ä¸¹è¯ç»“æŸ-------//
//----------ç‚¼ä¸¹ç³»ç»Ÿå¼€å§‹----------//
function isLianDanItem takes item it returns boolean
	return ( GetItemTypeId(it) == 'I07L' or GetItemTypeId(it) == 'I07M' or GetItemTypeId(it) == 'I07N' or GetItemTypeId(it) == 'I07O' or GetItemTypeId(it) == 'I07P' or GetItemTypeId(it) == 'I07Q' or GetItemTypeId(it) == 'I07R' or GetItemTypeId(it) == 'I07J' or GetItemTypeId(it) == 'I07I' or GetItemTypeId(it) == 'I07K' or GetItemTypeId(it) == 'I05K' )
endfunction
function CorresDan takes integer dan returns integer
	if ( dan == 'I07L' ) then
		return 'I06Y'
	elseif ( dan == 'I07N' ) then
		return 'I071'
	elseif ( dan == 'I07I' ) then
		return 'I06W'
	elseif ( dan == 'I07P' ) then
		return 'I074'
	elseif ( dan == 'I07Q' ) then
		return 'I06V'
	elseif ( dan == 'I07R' ) then
		return 'I075'
	elseif ( dan == 'I07K' ) then
		return 'I073'
	elseif ( dan == 'I05K' ) then
		return 'I072'
	elseif ( dan == 'I07J' ) then
		return 'I070'
	elseif ( dan == 'I07M' ) then
		return 'I06X'
	elseif ( dan == 'I07O' ) then
		return 'I06Z'
	endif
	return 0
endfunction
function EP takes nothing returns boolean
	if ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and isLianDanItem(GetManipulatedItem()) then
    	if not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) and UnitHaveItem(udg_hero[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] , 'I0AM') == false then // INLINED!!
    		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00ä½ ä¸æ˜¯ç‚¼ä¸¹å¸ˆï¼Œå¹¶ä¸”æœªæºå¸¦ç¥æœ¨ç‹é¼ï¼Œä¸å¯ä»¥ç‚¼åˆ¶ä¸¹è¯")
    		call AdjustPlayerStateBJ(2000, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
    		return false
    	else
    	    return true
        endif
    endif
    return false
endfunction
function LianSomeDan takes unit u,item it,integer dan,integer l__ys,integer y1,integer y2,integer yy returns nothing
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j= 0
 local integer yin= 0
 local integer yang= 0
 local integer que= 0
	if ( GetItemTypeId(it) == dan ) then
		if ( yishu[i] < l__ys ) then
			call AdjustPlayerStateBJ(2000, p, PLAYER_STATE_RESOURCE_GOLD)
			call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cffff0000åŒ»æœ¯ä¸è¶³ï¼")
		elseif ( UnitHaveItem(u , yy) == false ) then
			call AdjustPlayerStateBJ(2000, p, PLAYER_STATE_RESOURCE_GOLD)
			call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cffff0000ç¼ºå°‘ç‚¼åˆ¶ä¸¹è¯çš„è¯å¼•ï¼")
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cff00ff00ç‚¼åˆ¶ä¸¹è¯ä¸­.......")
			set j=1
			loop
			exitwhen j > 6
				if ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[11] ) ) then
					set yin=yin + 5
					set yang=yang + 1
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[9] ) ) then
					set yang=yang + 4
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[10] ) ) then
					set yin=yin + 3
					set yang=yang + 4
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[8] ) ) then
					set yin=yin + 4
					set yang=yang + 3
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[7] ) ) then
					set yin=yin + 4
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[12] ) ) then
					set yin=yin + 1
					set yang=yang + 5
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[6] ) ) then
					set yin=yin + 2
					set yang=yang + 3
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[1] ) ) then
					set yin=yin + 2
					set yang=yang + 1
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[2] ) ) then
					set yin=yin + 1
					set yang=yang + 2
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[3] ) ) then
					set yin=yin + 3
					set yang=yang - 1
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[4] ) ) then
					set yin=yin - 1
					set yang=yang + 3
					call RemoveItem(UnitItemInSlotBJ(u, j))
				elseif ( ( GetItemTypeId(UnitItemInSlotBJ(u, j)) == YaoCao[5] ) ) then
					set yin=yin + 3
					set yang=yang + 2
					call RemoveItem(UnitItemInSlotBJ(u, j))
				endif
				set j=j + 1
			endloop
			if ( yin >= y1 ) then
			else
				set que=y1 - yin
				call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cff00ff33é˜´æ€§ç¼º" + I2S(y1 - yin) + "ï¼Œç‚¼åˆ¶æˆåŠŸç‡é™ä½äº†" + I2S(( y1 - yin ) * 5) + "%")
			endif
			if ( yang >= y2 ) then
			else
				set que=que + y2 - yang
				call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cff00ff33é˜³æ€§ç¼º" + I2S(y2 - yang) + "ï¼Œç‚¼åˆ¶æˆåŠŸç‡é™ä½äº†" + I2S(( y2 - yang ) * 5) + "%")
			endif
			if (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
				set que=que - 4
				call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cff00ff33ç”±äºä½ æ˜¯ç‚¼ä¸¹å¤§å¸ˆï¼Œç‚¼åˆ¶æˆåŠŸç‡æé«˜20%")
			endif
			if ( GetRandomInt(1, 20) <= 20 - que ) then
				call unitadditembyidswapped(CorresDan(dan) , u)
				call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cff00ffffæ­å–œç‚¼åˆ¶æˆåŠŸï¼")
				set biYuAddition[i]=biYuAddition[i] + 0.5
				set udg_ldds[i]=udg_ldds[i] + 1
				if ( udg_ldds[i] <= 5 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
					call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨ç‚¼æˆç¬¬" + I2S(udg_ldds[i]) + "é¢—ä¸¹è¯ï¼Œç‚¼æˆ5é¢—å¯è·å¾—å¤§å¸ˆå“¦")
				endif
				if ( udg_ldds[i] == 5 ) and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
				    call Deputy_setMaster(i , LIAN_DAN)
					// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“ç‚¼ä¸¹å¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
					call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—ç‚¼ä¸¹å¤§å¸ˆ")
					call SetPlayerName(p, "ã€“ç‚¼ä¸¹å¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
				endif
			else
				call DisplayTimedTextToPlayer(p, 0, 0, 5., "|cffff0000ç‚¼åˆ¶å¤±è´¥ï¼")
			endif
		endif
	endif
	set u=null
	set p=null
endfunction
function FP takes nothing returns nothing
 local unit u= GetTriggerUnit()
	call LianSomeDan(u , GetManipulatedItem() , 'I07L' , 26 , 18 , 18 , YaoCao[8])
	call LianSomeDan(u , GetManipulatedItem() , 'I07N' , 15 , 10 , 10 , YaoCao[5])
	call LianSomeDan(u , GetManipulatedItem() , 'I07I' , 24 , 15 , 20 , YaoCao[9])
	call LianSomeDan(u , GetManipulatedItem() , 'I07P' , 15 , 18 , 19 , YaoCao[3])
	call LianSomeDan(u , GetManipulatedItem() , 'I07Q' , 30 , 10 , 24 , YaoCao[12])
	call LianSomeDan(u , GetManipulatedItem() , 'I07R' , 26 , 24 , 8 , YaoCao[11])
	call LianSomeDan(u , GetManipulatedItem() , 'I07K' , 22 , 20 , 12 , YaoCao[7])
	call LianSomeDan(u , GetManipulatedItem() , 'I05K' , 15 , 15 , 5 , YaoCao[2])
	call LianSomeDan(u , GetManipulatedItem() , 'I07J' , 15 , 12 , 12 , YaoCao[10])
	call LianSomeDan(u , GetManipulatedItem() , 'I07M' , 16 , 5 , 16 , YaoCao[4])
	call LianSomeDan(u , GetManipulatedItem() , 'I07O' , 22 , 15 , 15 , YaoCao[6])
	set u=null
endfunction
//----------ç‚¼ä¸¹ç³»ç»Ÿç»“æŸ----------//
function ElixirSystem_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(t, Condition(function VO))
	call TriggerAddAction(t, function WO)
	set Cq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Cq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Cq, Condition(function r0))
	call TriggerAddAction(Cq, function s0)
	set cq=CreateTrigger()
	call TriggerRegisterDialogEvent(cq, v8[1])
	call TriggerRegisterDialogEvent(cq, v8[2])
	call TriggerRegisterDialogEvent(cq, v8[3])
	call TriggerRegisterDialogEvent(cq, v8[4])
	call TriggerRegisterDialogEvent(cq, v8[5])
	call TriggerAddCondition(cq, Condition(function u0))
	call TriggerAddAction(cq, function v0)
	set Dq=CreateTrigger()
	call TriggerRegisterDialogEvent(Dq, D8[1])
	call TriggerRegisterDialogEvent(Dq, D8[2])
	call TriggerRegisterDialogEvent(Dq, D8[3])
	call TriggerRegisterDialogEvent(Dq, D8[4])
	call TriggerRegisterDialogEvent(Dq, D8[5])
	call TriggerAddCondition(Dq, Condition(function x0))
	call TriggerAddAction(Dq, function y0)
	set Eq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Eq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Eq, Condition(function A0))
	call TriggerAddAction(Eq, function a0)
	set Fq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Fq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Fq, Condition(function b0))
	call TriggerAddAction(Fq, function C0)
	set Gq=CreateTrigger()
	call TriggerRegisterDialogEvent(Gq, v8[1])
	call TriggerRegisterDialogEvent(Gq, v8[2])
	call TriggerRegisterDialogEvent(Gq, v8[3])
	call TriggerRegisterDialogEvent(Gq, v8[4])
	call TriggerRegisterDialogEvent(Gq, v8[5])
	call TriggerAddCondition(Gq, Condition(function D0))
	call TriggerAddAction(Gq, function E0)
	set Hq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Hq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Hq, Condition(function G0))
	call TriggerAddAction(Hq, function H0)
	set Iq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Iq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Iq, Condition(function l0))
	call TriggerAddAction(Iq, function J0)
	set lq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(lq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(lq, Condition(function L0))
	call TriggerAddAction(lq, function M0)
	set Jq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Jq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Jq, Condition(function O0))
	call TriggerAddAction(Jq, function P0)
	set Kq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Kq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Kq, Condition(function R0))
	call TriggerAddAction(Kq, function S0)
	set Lq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Lq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Lq, Condition(function U0))
	call TriggerAddAction(Lq, function V0)
	set Mq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Mq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Mq, Condition(function X0))
	call TriggerAddAction(Mq, function Y0)
	set Nq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Nq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Nq, Condition(function dP))
	call TriggerAddAction(Nq, function eP)
	set Oq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Oq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Oq, Condition(function gP))
	call TriggerAddAction(Oq, function hP)
	set Pq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Pq, EVENT_PLAYER_UNIT_USE_ITEM)
	call TriggerAddCondition(Pq, Condition(function jP))
	call TriggerAddAction(Pq, function kP)
	set Qq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Qq, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(Qq, Condition(function nP))
	call TriggerAddAction(Qq, function oP)
	set Rq=CreateTrigger()
	call TriggerRegisterDialogEvent(Rq, je[1])
	call TriggerRegisterDialogEvent(Rq, je[2])
	call TriggerRegisterDialogEvent(Rq, je[3])
	call TriggerRegisterDialogEvent(Rq, je[4])
	call TriggerRegisterDialogEvent(Rq, je[5])
	call TriggerAddAction(Rq, function qP)
	set Sq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Sq, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(Sq, Condition(function sP))
	call TriggerAddAction(Sq, function vP)
	set Tq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Tq, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(Tq, Condition(function xP))
	call TriggerAddAction(Tq, function AP)
	set Uq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Uq, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(Uq, Condition(function BP))
	call TriggerAddAction(Uq, function bP)
	set Wq=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Wq, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(Wq, Condition(function EP))
	call TriggerAddAction(Wq, function FP)
	set t=null
endfunction
// åŸºäºæ¸¸æˆæ—¶é—´çš„æ´»åŠ¨ç³»ç»Ÿ
function InitArray takes nothing returns nothing
	set NORMALMON[1]=31
	set NORMALMON[2]=28
	set NORMALMON[3]=31
	set NORMALMON[4]=30
	set NORMALMON[5]=31
	set NORMALMON[6]=30
	set NORMALMON[7]=31
	set NORMALMON[8]=31
	set NORMALMON[9]=30
	set NORMALMON[10]=31
	set NORMALMON[11]=30
	set NORMALMON[12]=31
    set WEEKSTR[0]="æ—¥"
    set WEEKSTR[1]="ä¸€"
    set WEEKSTR[2]="äºŒ"
    set WEEKSTR[3]="ä¸‰"
    set WEEKSTR[4]="å››"
    set WEEKSTR[5]="äº”"
    set WEEKSTR[6]="å…­"
endfunction
function MathMod takes integer dividend,integer divisor returns integer
    local integer modulus= dividend - ( dividend / divisor ) * divisor
    if ( modulus < 0 ) then
        set modulus=modulus + divisor
    endif
    return modulus
endfunction
function MathFloor takes real a returns integer
	return R2I(a)
endfunction
//  åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´
function IsLeapYear takes integer y returns boolean
	if MathMod(y , 4) == 0 then
		if MathMod(y , 100) == 0 then
            if MathMod(y , 400) == 0 then
                return true
            else
                return false
            endif
		endif
		return true
	endif
	return false
endfunction
function Time_UpdateDate takes integer y,integer remainSec,integer dayBy2015 returns nothing
 local boolean bIsLeap= IsLeapYear(y)
    local real dayNum= I2R(remainSec) / ( 24 * 60 * 60 )
 local integer totalDay= (R2I(((dayNum)*1.0))) // INLINED!!
    local integer totalDayBase= 0
 local integer totalMonDay= 0
 local integer curMonDay= 0
 local integer m= 1
	if ( dayNum - I2R(totalDay) ) > 0 then
		set totalDay=totalDay + 1
	endif
	if totalDay == 0 then
		set totalDay=1
	endif
    set dayBy2015=dayBy2015 + totalDay
	loop
	exitwhen m > 12
		if bIsLeap and m == 2 then
			set curMonDay=NORMALMON[m] + 1
		else
			set curMonDay=NORMALMON[m]
		endif
        if totalDay <= curMonDay then
            set udg_Year=y
			set udg_Mon=m
			set udg_Day=totalDay
			set udg_Hour=MathMod((R2I(((remainSec / ( 60 * 60 ))*1.0))) , 24) // INLINED!!
			set udg_Min=MathMod((R2I(((remainSec / 60)*1.0))) , 60) // INLINED!!
			set udg_Sec=MathMod(remainSec , 60)
            set m=100
        endif
		set m=m + 1
        set totalDay=totalDay - curMonDay
	endloop
	set udg_Week=MathMod(MathMod(dayBy2015 , 7) + BASE2015_WEEKDAY , 7)
endfunction
function GetDate takes integer now returns nothing
 local integer remain= now - BASE2015_SEC + BJTIME
 local integer y= 2016
 local integer baseRemain= 0
    local integer dayBy2015= 0
    local integer baseDayBy2015= 0
	loop
	exitwhen y > 3000
		set baseRemain=remain
        set baseDayBy2015=dayBy2015
		if IsLeapYear(y) then
			set remain=remain - LeapSeconds
            set dayBy2015=dayBy2015 + 366
		else
			set remain=remain - NormalSeconds
            set dayBy2015=dayBy2015 + 365
		endif
		if remain < 0 then
			call Time_UpdateDate(y , baseRemain , baseDayBy2015)
			set y=10000
		endif
		set y=y + 1
	endloop
endfunction
function ShowDataByTime takes integer time returns nothing
    if not udg_bIsInit then
        call InitArray()
        set udg_bIsInit=true
    endif
    if time == 0 then
        set time=DzAPI_Map_GetGameStartTime()
    endif
    call GetDate(time)
    call BJDebugMsg("ç°åœ¨æ—¶é—´ä¸º" + I2S(udg_Year) + "å¹´" + I2S(udg_Mon) + "æœˆ" + I2S(udg_Day) + "æ—¥" + I2S(udg_Hour) + "æ—¶" + I2S(udg_Min) + "åˆ†" + I2S(udg_Sec) + "ç§’  " + "æ˜ŸæœŸ" + WEEKSTR[udg_Week])
endfunction
function UpdateTimeAllTimer takes nothing returns nothing
    set udg_ServerTime=udg_ServerTime + 1
    call GetDate(udg_ServerTime)
endfunction
function UpdateTimeAll takes nothing returns nothing
    local timer t= CreateTimer()
    call InitArray()
    set udg_ServerTime=DzAPI_Map_GetGameStartTime()
    call GetDate(udg_ServerTime)
    call TimerStart(t, 1, true, function UpdateTimeAllTimer)
    set t=null
endfunction
function checkActivityAddition takes nothing returns nothing
    local integer time= DzAPI_Map_GetGameStartTime()
    if not udg_bIsInit then
        call InitArray()
        set udg_bIsInit=true
    endif
    call GetDate(time)
    call BJDebugMsg("ç°åœ¨æ—¶é—´ä¸º" + I2S(udg_Year) + "å¹´" + I2S(udg_Mon) + "æœˆ" + I2S(udg_Day) + "æ—¥" + I2S(udg_Hour) + "æ—¶" + I2S(udg_Min) + "åˆ†" + I2S(udg_Sec) + "ç§’  " + "æ˜ŸæœŸ" + WEEKSTR[udg_Week])
    if udg_Year == 2019 and udg_Mon == 5 and ( udg_Day >= 1 and udg_Day <= 7 ) then
        set activityPointAddition=1
    endif
endfunction
//===============najitest===============
//=====================================@å…±ç”¨å‡½æ•°å¼€å§‹=====================================
function ID2S_naji takes integer i_naji returns string
    local integer z_naji
    local integer n_naji=0
    set Sdummy_naji[100]=""
    if Bid_naji == false then
        return Sdummy_naji[100]
    endif
    if i_naji != 0 then
        loop
            set z_naji=i_naji - ( i_naji / 256 ) * 256
            set i_naji=i_naji / 256
            set Sdummy_naji[100]=SubString(StringList_naji, z_naji, z_naji + 1) + Sdummy_naji[100]
            set n_naji=n_naji + 1
            exitwhen n_naji == 4
        endloop
        set Sdummy_naji[100]="'" + Sdummy_naji[100] + "'"
    else
        set Sdummy_naji[100]="null"
    endif
    return Sdummy_naji[100]
endfunction
function S2ID_naji takes string s_naji returns integer
    local integer l_naji=StringLength(s_naji)
    local integer i_naji=0
    local integer z_naji=0
    local integer n_naji=1
    local integer result_naji=0
    loop
        exitwhen z_naji > l_naji - 1
        set n_naji=R2I(Pow(256, l_naji - 1 - z_naji))
        set i_naji=1
        loop
            exitwhen i_naji > 255
            if SubString(s_naji, z_naji, z_naji + 1) == SubString(StringList_naji, i_naji, i_naji + 1) then
                set result_naji=result_naji + i_naji * n_naji
                set i_naji=256
            endif
            set i_naji=i_naji + 1
        endloop
        set z_naji=z_naji + 1
    endloop
    return result_naji
endfunction
function IDidentify_naji takes integer i_naji returns string
    local integer l_naji
    local integer a_naji=0
    local integer z_naji
    local integer n_naji=0
    local integer result=0
    set Sdummy_naji[100]=""
    if i_naji != 0 then
        loop
            set z_naji=i_naji - ( i_naji / 256 ) * 256
            set i_naji=i_naji / 256
            set Sdummy_naji[100]=SubString(StringList_naji, z_naji, z_naji + 1) + Sdummy_naji[100]
            set n_naji=n_naji + 1
            exitwhen n_naji == 4
        endloop
    else
        set Sdummy_naji[100]="null"
        return Sdummy_naji[100]
    endif
    set l_naji=StringLength(Sdummy_naji[100])
    set n_naji=1
    set z_naji=0
    loop
        exitwhen z_naji > l_naji - 1
        set n_naji=R2I(Pow(256, l_naji - 1 - z_naji))
        set a_naji=1
        loop
            exitwhen a_naji > 255
            if SubString(Sdummy_naji[100], z_naji, z_naji + 1) == SubString(StringList_naji, a_naji, a_naji + 1) then
                set result=result + a_naji * n_naji
                set a_naji=256
            endif
            set a_naji=a_naji + 1
        endloop
        set z_naji=z_naji + 1
    endloop
    return GetObjectName(result)
endfunction
function Distance_naji takes real x1_naji,real y1_naji,real x2_naji,real y2_naji returns real
    return SquareRoot(( y2_naji - y1_naji ) * ( y2_naji - y1_naji ) + ( x2_naji - x1_naji ) * ( x2_naji - x1_naji ))
endfunction
function Angle_naji takes real x1_naji,real y1_naji,real x2_naji,real y2_naji returns real
    local real r_naji
    set r_naji=57.29582 * Atan2(y2_naji - y1_naji, x2_naji - x1_naji)
    if r_naji < 0 then
        return 360 + r_naji
    endif
    return r_naji
endfunction
function DialogResetA3_naji takes nothing returns nothing
    call DialogClear(Dnaji_naji[2])
    if IsMapFlagSet(MAP_OBSERVERS_ON_DEATH) then
        set Button_naji[1]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFå¤±è´¥æ—¶ä½œä¸ºè§‚çœ‹è€…|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF1ï¼‰|r", 768)
    else
        set Button_naji[1]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFå¤±è´¥æ—¶ä½œä¸ºè§‚çœ‹è€…|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF1ï¼‰|r", 768)
    endif
    if IsMapFlagSet(MAP_LOCK_RESOURCE_TRADING) then
        set Button_naji[2]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFé”å®šèµ„æºäº¤æ˜“|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF2ï¼‰|r", 769)
    else
        set Button_naji[2]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFé”å®šèµ„æºäº¤æ˜“|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF2ï¼‰|r", 769)
    endif
    if IsMapFlagSet(MAP_RESOURCE_TRADING_ALLIES_ONLY) then
        set Button_naji[3]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFé™å®šç›Ÿå‹èµ„æºäº¤æ˜“|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF3ï¼‰|r", 770)
    else
        set Button_naji[3]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFé™å®šç›Ÿå‹èµ„æºäº¤æ˜“|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF3ï¼‰|r", 770)
    endif
    if IsMapFlagSet(MAP_LOCK_ALLIANCE_CHANGES) then
        set Button_naji[4]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFé”å®šè”ç›Ÿè®¾ç½®|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF4ï¼‰|r", 771)
    else
        set Button_naji[4]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFé”å®šè”ç›Ÿè®¾ç½®|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF4ï¼‰|r", 771)
    endif
    if IsMapFlagSet(MAP_ALLIANCE_CHANGES_HIDDEN) then
        set Button_naji[5]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFéšè—è”ç›Ÿè®¾ç½®|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF5ï¼‰|r", 772)
    else
        set Button_naji[5]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFéšè—è”ç›Ÿè®¾ç½®|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF5ï¼‰|r", 772)
    endif
    set Button_naji[100]=DialogAddButton(Dnaji_naji[2], "|cff00FFFFå–æ¶ˆ|cff00FF00ï¼ˆEscï¼‰|r", 512)
endfunction
function DialogResetA2_naji takes nothing returns nothing
    call DialogClear(Dnaji_naji[1])
    if Bxy_naji then
        set Button_naji[1]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFåæ ‡å‚æ•°|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF1ï¼‰|r", 768)
    else
        set Button_naji[1]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFåæ ‡å‚æ•°|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF1ï¼‰|r", 768)
    endif
    if Bid_naji then
        set Button_naji[2]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFIDå‚æ•°|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF2ï¼‰|r", 769)
    else
        set Button_naji[2]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFIDå‚æ•°|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF2ï¼‰|r", 769)
    endif
    if Bpn_naji then
        set Button_naji[3]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFç©å®¶åå‚æ•°|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF3ï¼‰|r", 770)
    else
        set Button_naji[3]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFç©å®¶åå‚æ•°|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF3ï¼‰|r", 770)
    endif
    if Bir_naji then
        set Button_naji[4]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFæ•°å€¼æ˜¾ç¤º|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ•´æ•°|cffFFFF00ï¼‰|cff00FF00ï¼ˆF4ï¼‰|r", 771)
    else
        set Button_naji[4]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFæ•°å€¼æ˜¾ç¤º|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å®æ•°|cffFFFF00ï¼‰|cff00FF00ï¼ˆF4ï¼‰|r", 771)
    endif
    if Bddm_naji then
        set Button_naji[5]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFä¼¤å®³æ˜¾ç¤ºç±»å‹|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ¸¸æˆæ–‡æœ¬|cffFFFF00ï¼‰|cff00FF00ï¼ˆF5ï¼‰|r", 772)
    else
        set Button_naji[5]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFä¼¤å®³æ˜¾ç¤ºç±»å‹|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000é£˜æµ®æ–‡å­—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF5ï¼‰|r", 772)
    endif
    set Button_naji[0]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFè¿”å›ä¸Šä¸€å±‚|cff00FF00ï¼ˆspaceï¼‰|r", 32)
    set Button_naji[100]=DialogAddButton(Dnaji_naji[1], "|cff00FFFFå–æ¶ˆ|cff00FF00ï¼ˆEscï¼‰|r", 512)
endfunction
function DialogResetA_naji takes nothing returns nothing
    call DialogClear(Dnaji_naji[0])
    if IsTriggerEnabled(Ttest_naji[2]) then
        set Button_naji[1]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFæŠ€èƒ½ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF1ï¼‰|r", 768)
    else
        set Button_naji[1]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFæŠ€èƒ½ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF1ï¼‰|r", 768)
    endif
    if IsTriggerEnabled(Ttest_naji[15]) then
        set Button_naji[2]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå‘½ä»¤ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF2ï¼‰|r", 769)
    else
        set Button_naji[2]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå‘½ä»¤ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF2ï¼‰|r", 769)
    endif
    if IsTriggerEnabled(Ttest_naji[17]) then
        set Button_naji[3]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå¯¿å‘½ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF3ï¼‰|r", 770)
    else
        set Button_naji[3]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå¯¿å‘½ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF3ï¼‰|r", 770)
    endif
    if IsTriggerEnabled(Ttest_naji[26]) then
        set Button_naji[4]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFä¼¤å®³ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF4ï¼‰|r", 771)
    else
        set Button_naji[4]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFä¼¤å®³ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF4ï¼‰|r", 771)
    endif
    if IsTriggerEnabled(Ttest_naji[4]) then
        set Button_naji[5]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFæŠ€èƒ½æ— å†·å´ä¸è€—é­”|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF5ï¼‰|r", 772)
    else
        set Button_naji[5]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFæŠ€èƒ½æ— å†·å´ä¸è€—é­”|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF5ï¼‰|r", 772)
    endif
    if IsTriggerEnabled(Ttest_naji[71]) then
        set Button_naji[8]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFç¾¤ä½“æ–½æ³•|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF6ï¼‰|r", 773)
    else
        set Button_naji[8]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFç¾¤ä½“æ–½æ³•|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF6ï¼‰|r", 773)
    endif
    //=========================ä»¥ä¸‹éƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
    if IsTriggerEnabled(Ttest_naji[7]) then
        set Button_naji[6]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå¥æŸ„ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000æ˜¾ç¤º|cffFFFF00ï¼‰|cff00FF00ï¼ˆF7ï¼‰|r", 774)
    else
        set Button_naji[6]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå¥æŸ„ä¿¡æ¯|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000éšè—|cffFFFF00ï¼‰|cff00FF00ï¼ˆF7ï¼‰|r", 774)
    endif
    //=========================ä»¥ä¸Šéƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
    if IsTriggerEnabled(Ttest_naji[61]) then
        set Button_naji[7]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå…¬å…±èŠå¤©ç³»ç»Ÿ|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å¼€å¯|cffFFFF00ï¼‰|cff00FF00ï¼ˆF8ï¼‰|r", 775)
    else
        set Button_naji[7]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå…¬å…±èŠå¤©ç³»ç»Ÿ|cffFFFF00ï¼ˆå½“å‰çŠ¶æ€ï¼š|cffFF0000å…³é—­|cffFFFF00ï¼‰|cff00FF00ï¼ˆF8ï¼‰|r", 775)
    endif
    set Button_naji[0]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFç³»ç»Ÿä¿¡æ¯è°ƒæ•´|cff00FF00ï¼ˆspaceï¼‰|r", 32)
    set Button_naji[100]=DialogAddButton(Dnaji_naji[0], "|cff00FFFFå–æ¶ˆ|cff00FF00ï¼ˆEscï¼‰|r", 512)
endfunction
//=====================================@å…±ç”¨å‡½æ•°ç»“æŸ=====================================
//=====================================#åŠŸèƒ½å‡½æ•°å¼€å§‹=====================================
function TestA82_naji takes nothing returns nothing
    call ExecuteFunc(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
endfunction
function TestA81_naji takes nothing returns nothing
    local integer i_naji
    if StringLength(GetEventPlayerChatString()) <= 6 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å‚æ•°è¾“å…¥é”™è¯¯ï¼ä½æ•°ä¸è¶³æ— æ³•åˆ¤æ–­è¿›åˆ¶ç±»å‹|r")
    elseif StringLength(GetEventPlayerChatString()) == 7 then
        set i_naji=S2ID_naji(SubString(GetEventPlayerChatString(), 3, 7))
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0" + SubString(GetEventPlayerChatString(), 3, 7) + "|râ†’|cffFFFF00" + I2S(i_naji) + "|r")
    else
        set i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0" + SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())) + "|râ†’|cffFFFF00" + ID2S_naji(i_naji) + "|r")
    endif
endfunction
function TestA80_naji takes nothing returns nothing
    local group g_naji
    local unit u_naji
    local real x_naji
    local real y_naji
    local integer z_naji=StringLength(GetEventPlayerChatString()) - 1
    set g_naji=CreateGroup()
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            loop
                set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), z_naji, z_naji + 1)
                if Sdummy_naji[1] == "," then
                    if z_naji == 4 then
                        set x_naji=GetUnitX(u_naji)
                    else
                        set x_naji=S2R(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
                    endif
                    if z_naji == StringLength(GetEventPlayerChatString()) - 1 then
                        set y_naji=GetUnitY(u_naji)
                    else
                        set y_naji=S2R(SubString(GetEventPlayerChatString(), z_naji + 1, StringLength(GetEventPlayerChatString())))
                    endif
                    exitwhen true
                endif
                set z_naji=z_naji - 1
                if z_naji <= 0 then
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å‚æ•°ä¸è¶³ï¼è¯·è¾“å…¥|cffFFFF002|cffFF0000ä½å‚æ•°|r")
                    call DestroyGroup(g_naji)
                    set g_naji=null
                    set u_naji=null
                    return
                endif
            endloop
            call SetUnitX(u_naji, x_naji)
            call SetUnitY(u_naji, y_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00ç©å®¶é€‰æ‹©å•ä½çš„æ‰€æœ‰å•ä½çš„åæ ‡æ›´æ”¹ä¸º|cffFF0000(" + R2S(x_naji) + "," + R2S(y_naji) + ")|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
endfunction
function TestA79_naji takes nothing returns nothing
    local group g_naji
    local unit u_naji
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    local item it_naji
    if i_naji < 0 or i_naji >= 7 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å‚æ•°è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~6|cffFF0000é—´çš„æ•´æ•°|r")
        return
    elseif i_naji == 0 then
        set i_naji=1
    endif
    set g_naji=CreateGroup()
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    set u_naji=FirstOfGroup(g_naji)
    if u_naji != null then
        if UnitItemInSlot(u_naji, i_naji - 1) != null then
            set it_naji=UnitItemInSlot(u_naji, i_naji - 1)
            if GetItemType(it_naji) == ITEM_TYPE_PERMANENT then
                set Sdummy_naji[0]="æ°¸ä¹…"
            endif
            if GetItemType(it_naji) == ITEM_TYPE_CHARGED then
                set Sdummy_naji[0]="å¯å…"
            endif
            if GetItemType(it_naji) == ITEM_TYPE_POWERUP then
                set Sdummy_naji[0]="èƒ½é‡æå‡"
            endif
            if GetItemType(it_naji) == ITEM_TYPE_ARTIFACT then
                set Sdummy_naji[0]="äººé€ "
            endif
            if GetItemType(it_naji) == ITEM_TYPE_PURCHASABLE then
                set Sdummy_naji[0]="å¯è´­ä¹°"
            endif
            if GetItemType(it_naji) == ITEM_TYPE_CAMPAIGN then
                set Sdummy_naji[0]="æˆ˜å½¹"
            endif
            if GetItemType(it_naji) == ITEM_TYPE_MISCELLANEOUS then
                set Sdummy_naji[0]="æ··æ‚"
            endif
            if GetItemType(it_naji) == ITEM_TYPE_UNKNOWN then
                set Sdummy_naji[0]="æœªçŸ¥"
            endif
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "===============*****===============")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ç‰©å“åç§°ï¼š|cffFFFF00" + GetItemName(it_naji) + "|r")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ID256è¿›åˆ¶/10è¿›åˆ¶ï¼š|cffFFFF00" + ID2S_naji(GetItemTypeId(it_naji)) + "/" + I2S(GetItemTypeId(it_naji)) + "|r")
            //=========================ä»¥ä¸‹éƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0å­˜å‚¨åœ°å€ï¼š|cffFFFF00" + I2S(GetHandleId(it_naji)) + "|r")
            //=========================ä»¥ä¸Šéƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0æ‰€å±ç©å®¶/cjç´¢å¼•ï¼š|cffFFFF00" + GetPlayerName(GetItemPlayer(it_naji)) + "/" + I2S(GetPlayerId(GetItemPlayer(it_naji))) + "|r")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0åæ ‡ï¼š|cffFFFF00(" + R2S(GetItemX(it_naji)) + "," + R2S(GetItemY(it_naji)) + ")|r")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ç‰©å“åˆ†ç±»ï¼š|cffFFFF00" + Sdummy_naji[0] + "|r")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ç‰©å“ç­‰çº§ï¼š|cffFFFF00" + I2S(GetItemLevel(it_naji)) + "|r")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0è‡ªå®šä¹‰å€¼ï¼š|cffFFFF00" + I2S(GetItemUserData(it_naji)) + "|r")
            set Sdummy_naji[0]=" "
            if IsItemPowerup(it_naji) then
                set Sdummy_naji[0]=Sdummy_naji[0] + "æ‹¾å–è‡ªåŠ¨ä½¿ç”¨ï¼Œ"
            endif
            if IsItemSellable(it_naji) then
                set Sdummy_naji[0]=Sdummy_naji[0] + "å¯å‡ºå”®ï¼Œ"
            endif
            if IsItemPawnable(it_naji) then
                set Sdummy_naji[0]=Sdummy_naji[0] + "å¯æŠµæŠ¼ï¼Œ"
            endif
            if IsItemVisible(it_naji) then
                set Sdummy_naji[0]=Sdummy_naji[0] + "å¯è§ï¼Œ"
            endif
            if IsItemInvulnerable(it_naji) then
                set Sdummy_naji[0]=Sdummy_naji[0] + "æ— æ•Œçš„ï¼Œ"
            endif
            set Sdummy_naji[0]=SubString(Sdummy_naji[0], 1, StringLength(Sdummy_naji[0]) - 2)
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0å¯è¯†åˆ«çŠ¶æ€ï¼š|cffFFFF00" + Sdummy_naji[0] + "||r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¯¥å•ä½|cffFFFF00ç¬¬" + I2S(i_naji) + "æ ¼ç‰©å“æ |cffFF0000ä¸å­˜åœ¨ç‰©å“|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
    set it_naji=null
endfunction
function TestA78_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if IsUnitInGroup(FirstOfGroup(g_naji), Gcd_naji[1]) then
            call GroupRemoveUnit(Gcd_naji[1], FirstOfGroup(g_naji))
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²å–æ¶ˆç©å®¶é€‰æ‹©å•ä½çš„|cffFF0000æŠ€èƒ½æ— å†·å´ä¸è€—è“åˆ¤å®š|r")
        else
            call SetUnitState(FirstOfGroup(g_naji), UNIT_STATE_MANA, GetUnitState(FirstOfGroup(g_naji), UNIT_STATE_MAX_MANA))
            call UnitResetCooldown(FirstOfGroup(g_naji))
            call GroupAddUnit(Gcd_naji[1], FirstOfGroup(g_naji))
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²å¯åŠ¨ç©å®¶é€‰æ‹©å•ä½çš„|cffFF0000æŠ€èƒ½æ— å†·å´ä¸è€—è“åˆ¤å®š|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
endfunction
function TestA77_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if IsUnitInGroup(FirstOfGroup(g_naji), Gms_naji) then
            call GroupRemoveUnit(Gms_naji, FirstOfGroup(g_naji))
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²å–æ¶ˆç©å®¶é€‰æ‹©å•ä½çš„|cffFF0000ç¾¤ä½“æ–½æ³•åˆ¤å®š|r")
        else
            call GroupAddUnit(Gms_naji, FirstOfGroup(g_naji))
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²å¯åŠ¨ç©å®¶é€‰æ‹©å•ä½çš„|cffFF0000ç¾¤ä½“æ–½æ³•åˆ¤å®š|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
endfunction
function TestA76_naji takes nothing returns nothing
    local unit u_naji
    local group g_naji
    local integer i_naji
    local integer z_naji
    local integer n_naji
    local real r_naji
    local boolean b_naji
    local location p_naji=GetSpellTargetLoc()
    if IsUnitInGroup(GetTriggerUnit(), Gms_naji) and ( GetSpellTargetUnit() != null or p_naji != null ) then
        set i_naji=GetUnitCurrentOrder(GetTriggerUnit())
        set z_naji=GetSpellAbilityId()
        set n_naji=GetUnitAbilityLevel(GetTriggerUnit(), z_naji)
        if GetSpellTargetUnit() != null then
            set g_naji=CreateGroup()
            set b_naji=IsUnitEnemy(GetSpellTargetUnit(), GetTriggerPlayer())
            call GroupEnumUnitsInRange(g_naji, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Distance_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetUnitX(GetSpellTargetUnit()) , GetUnitY(GetSpellTargetUnit())), null)
            loop
                exitwhen FirstOfGroup(g_naji) == null
                if IsUnitType(FirstOfGroup(g_naji), UNIT_TYPE_DEAD) == false and FirstOfGroup(g_naji) != GetSpellTargetUnit() and b_naji == IsUnitEnemy(FirstOfGroup(g_naji), GetTriggerPlayer()) then
                    set u_naji=CreateUnit(GetTriggerPlayer(), 'nvul', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Angle_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetUnitX(FirstOfGroup(g_naji)) , GetUnitY(FirstOfGroup(g_naji))))
                    call UnitAddAbility(u_naji, 'Aloc')
                    call UnitAddAbility(u_naji, 'Abun')
                    call UnitAddAbility(u_naji, 'AIbm')
                    call UnitAddAbility(u_naji, 'AI2m')
                    call UnitAddAbility(u_naji, 'AImb')
                    call UnitAddAbility(u_naji, 'AImz')
                    call UnitAddAbility(u_naji, 'AImv')
                    call UnitRemoveAbility(u_naji, 'Awan')
                    if UnitAddAbility(u_naji, 'Arav') then
                        call UnitRemoveAbility(u_naji, 'Arav')
                    endif
                    call SetUnitState(u_naji, UNIT_STATE_MANA, GetUnitState(u_naji, UNIT_STATE_MAX_MANA))
                    call ShowUnit(u_naji, false)
                    call UnitApplyTimedLife(u_naji, 'BTLF', 10)
                    call SetUnitUseFood(u_naji, false)
                    call SetUnitPathing(u_naji, false)
                    call h__SetUnitMoveSpeed(u_naji, 522)
                    call SetUnitTurnSpeed(u_naji, 1)
                    call SetUnitFlyHeight(u_naji, GetUnitFlyHeight(GetTriggerUnit()), 0)
                    call UnitAddType(u_naji, UNIT_TYPE_ANCIENT)
                    call UnitAddType(u_naji, UNIT_TYPE_PEON)
                    call UnitAddAbility(u_naji, z_naji)
                    call SetUnitAbilityLevel(u_naji, z_naji, n_naji)
                    call IssueTargetOrderById(u_naji, i_naji, FirstOfGroup(g_naji))
                endif
                call GroupRemoveUnit(g_naji, FirstOfGroup(g_naji))
            endloop
            call DestroyGroup(g_naji)
            set g_naji=null
        else
            set r_naji=0
            loop
                exitwhen r_naji >= 2
                set u_naji=CreateUnit(GetTriggerPlayer(), 'nvul', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Angle_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetLocationX(p_naji) , GetLocationY(p_naji)) - 30 + 60 * r_naji)
                call UnitAddAbility(u_naji, 'Aloc')
                call UnitAddAbility(u_naji, 'Abun')
                call UnitAddAbility(u_naji, 'AIbm')
                call UnitAddAbility(u_naji, 'AI2m')
                call UnitAddAbility(u_naji, 'AImb')
                call UnitAddAbility(u_naji, 'AImz')
                call UnitAddAbility(u_naji, 'AImv')
                call UnitRemoveAbility(u_naji, 'Awan')
                if UnitAddAbility(u_naji, 'Arav') then
                    call UnitRemoveAbility(u_naji, 'Arav')
                endif
                call SetUnitState(u_naji, UNIT_STATE_MANA, GetUnitState(u_naji, UNIT_STATE_MAX_MANA))
                call ShowUnit(u_naji, false)
                call UnitApplyTimedLife(u_naji, 'BTLF', 10)
                call SetUnitUseFood(u_naji, false)
                call SetUnitPathing(u_naji, false)
                call h__SetUnitMoveSpeed(u_naji, 522)
                call SetUnitTurnSpeed(u_naji, 1)
                call SetUnitFlyHeight(u_naji, GetUnitFlyHeight(GetTriggerUnit()), 0)
                call UnitAddType(u_naji, UNIT_TYPE_ANCIENT)
                call UnitAddType(u_naji, UNIT_TYPE_PEON)
                call UnitAddAbility(u_naji, z_naji)
                call SetUnitAbilityLevel(u_naji, z_naji, n_naji)
                call IssuePointOrderById(u_naji, i_naji, GetUnitX(GetTriggerUnit()) + Cos(0.01745 * ( Angle_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetLocationX(p_naji) , GetLocationY(p_naji)) - 30 + 60 * r_naji )) * Distance_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetLocationX(p_naji) , GetLocationY(p_naji)), GetUnitY(GetTriggerUnit()) + Sin(0.01745 * ( Angle_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetLocationX(p_naji) , GetLocationY(p_naji)) - 30 + 60 * r_naji )) * Distance_naji(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetLocationX(p_naji) , GetLocationY(p_naji)))
                set r_naji=r_naji + 1
            endloop
        endif
    endif
    call RemoveLocation(p_naji)
    set p_naji=null
    set u_naji=null
endfunction
function TestA75_naji takes nothing returns nothing
    call RestartGame(true)
endfunction
function TestA74_naji takes nothing returns nothing
    local integer array i_naji
    local integer a_naji=2
    local integer b_naji=8
    local integer c_naji=8
    set i_naji[1]=S2ID_naji(SubString(GetEventPlayerChatString(), 3, 7))
    set i_naji[2]=0
    set i_naji[3]=GetPlayerId(GetTriggerPlayer()) + 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), b_naji, b_naji + 1)
        if Sdummy_naji[1] == "," then
            set i_naji[a_naji]=S2I(SubString(GetEventPlayerChatString(), c_naji, b_naji))
            set a_naji=a_naji + 1
            set c_naji=b_naji + 1
            if a_naji >= 3 then
                set i_naji[3]=S2I(SubString(GetEventPlayerChatString(), c_naji, StringLength(GetEventPlayerChatString())))
                exitwhen true
            endif
        endif
        set b_naji=b_naji + 1
        if b_naji >= StringLength(GetEventPlayerChatString()) then
            set i_naji[a_naji]=S2I(SubString(GetEventPlayerChatString(), c_naji, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
    endloop
    if i_naji[3] >= 1 and i_naji[3] <= 16 then
        call SetPlayerTechResearched(Player(i_naji[3] - 1), i_naji[1], i_naji[2])
        call SetPlayerTechMaxAllowed(Player(i_naji[3] - 1), i_naji[1], i_naji[2])
        call SetPlayerTechMaxAllowed(Player(i_naji[3] - 1), i_naji[1], i_naji[2])
        if i_naji[2] == 0 then
            call SetPlayerAbilityAvailable(Player(i_naji[3] - 1), i_naji[1], false)
        else
            call SetPlayerAbilityAvailable(Player(i_naji[3] - 1), i_naji[1], true)
        endif
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å·²å¯¹|cff00FFFF" + GetPlayerName(Player(i_naji[3] - 1)) + "|cffFF0000æ‰§è¡Œå¯¹åº”è¡Œä¸ºï¼Œè‹¥æ²¡æœ‰æ•ˆæœï¼Œè¯·ç¡®è®¤ä½ æ˜¯å¦è¾“å…¥äº†|cffFFFF00æ­£ç¡®çš„ç‰©ç¼–ID|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç©å®¶å‚æ•°è¾“å…¥æ•°å€¼é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
endfunction
function TestA73_naji takes nothing returns nothing
    local integer i_naji=S2ID_naji(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if StringLength(GetEventPlayerChatString()) <= 6 then
        if Iweather_naji >= 1 then
            loop
                call RemoveWeatherEffect(Weather_naji[Iweather_naji])
                set Iweather_naji=Iweather_naji - 1
                exitwhen Iweather_naji <= 0
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000åˆ é™¤|cffFFFF00æ‰€æœ‰å·²åˆ›å»ºçš„å…¨å›¾å¤©æ°”|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00è¯·è¾“å…¥|cffFF0000åˆæ³•çš„å¤©æ°”ID|cffFFFF00ï¼Œå¯ç‚¹å‡»|cffFF0000F9|cffFFFF00æŸ¥çœ‹æ‰€æœ‰å¤©æ°”ID|r")
        endif
    else
        set Iweather_naji=Iweather_naji + 1
        set Weather_naji[Iweather_naji]=AddWeatherEffect(GetWorldBounds(), i_naji)
        call EnableWeatherEffect(Weather_naji[Iweather_naji], true)
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²åˆ›å»ºå¯¹åº”çš„å¤©æ°”ã€‚ç›®å‰å·²æœ‰|cffFF0000" + I2S(Iweather_naji) + "|cffFFFF00ä¸ªå…¨å›¾å¤©æ°”|r")
    endif
endfunction
function TestA72_naji takes nothing returns nothing
    call EnableUserControl(true)
    call ShowInterface(true, 0.01)
    call EnableOcclusion(true)
endfunction
function TestA71_naji takes nothing returns nothing
    if GetClickedButton() != Button_naji[100] then
        if GetClickedButton() == Button_naji[1] then
            if IsMapFlagSet(MAP_OBSERVERS_ON_DEATH) then
                call SetMapFlag(MAP_OBSERVERS_ON_DEATH, false)
            else
                call SetMapFlag(MAP_OBSERVERS_ON_DEATH, true)
            endif
        elseif GetClickedButton() == Button_naji[2] then
            if IsMapFlagSet(MAP_LOCK_RESOURCE_TRADING) then
                call SetMapFlag(MAP_LOCK_RESOURCE_TRADING, false)
            else
                call SetMapFlag(MAP_LOCK_RESOURCE_TRADING, true)
            endif
        elseif GetClickedButton() == Button_naji[3] then
            if IsMapFlagSet(MAP_RESOURCE_TRADING_ALLIES_ONLY) then
                call SetMapFlag(MAP_RESOURCE_TRADING_ALLIES_ONLY, false)
            else
                call SetMapFlag(MAP_RESOURCE_TRADING_ALLIES_ONLY, true)
            endif
        elseif GetClickedButton() == Button_naji[4] then
            if IsMapFlagSet(MAP_LOCK_ALLIANCE_CHANGES) then
                call SetMapFlag(MAP_LOCK_ALLIANCE_CHANGES, false)
            else
                call SetMapFlag(MAP_LOCK_ALLIANCE_CHANGES, true)
            endif
        elseif GetClickedButton() == Button_naji[5] then
            if IsMapFlagSet(MAP_ALLIANCE_CHANGES_HIDDEN) then
                call SetMapFlag(MAP_ALLIANCE_CHANGES_HIDDEN, false)
            else
                call SetMapFlag(MAP_ALLIANCE_CHANGES_HIDDEN, true)
            endif
        endif
        call DialogResetA3_naji()
        call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[2], true)
    endif
endfunction
function TestA70_naji takes nothing returns nothing
    call DialogResetA3_naji()
    call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[2], true)
endfunction
function TestA69_naji takes nothing returns nothing
    local real i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if i_naji >= 1 and i_naji <= 5 then
        call SetMapFlag(MAP_LOCK_SPEED, false)
        if i_naji == 1 then
            call SetGameSpeed(MAP_SPEED_SLOWEST)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å½“å‰çš„æ¸¸æˆé€Ÿåº¦ä¸º|cffFF0000ææ…¢|r")
        elseif i_naji == 2 then
            call SetGameSpeed(MAP_SPEED_SLOW)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å½“å‰çš„æ¸¸æˆé€Ÿåº¦ä¸º|cffFF0000æ…¢|r")
        elseif i_naji == 3 then
            call SetGameSpeed(MAP_SPEED_NORMAL)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å½“å‰çš„æ¸¸æˆé€Ÿåº¦ä¸º|cffFF0000æ™®é€š|r")
        elseif i_naji == 4 then
            call SetGameSpeed(MAP_SPEED_FAST)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å½“å‰çš„æ¸¸æˆé€Ÿåº¦ä¸º|cffFF0000å¿«|r")
        elseif i_naji == 5 then
            call SetGameSpeed(MAP_SPEED_FASTEST)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å½“å‰çš„æ¸¸æˆé€Ÿåº¦ä¸º|cffFF0000æå¿«|r")
        endif
    else
        call DisplayTextToPlayer(Ptest_naji, 0, 0, "|cffFF0000è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~5|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
endfunction
function TestA68_naji takes nothing returns nothing
    call EndGame(true)
endfunction
function TestA67_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call SetUnitScale(u_naji, r_naji, r_naji, r_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„ç¼©æ”¾æ›´æ”¹ä¸ºåŸæ¨¡å‹é»˜è®¤çš„|cffFF0000" + R2S(r_naji) + "|cffFFFF00å€|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA66_naji takes nothing returns nothing
    local integer i_naji
    set i_naji=0
    loop
        call DisplayTimedTextToPlayer(Player(i_naji), 0, 0, 15, "                              |cff00FFFF" + GetPlayerName(GetTriggerPlayer()) + "ï¼š|r" + GetEventPlayerChatString())
        set i_naji=i_naji + 1
        exitwhen i_naji >= 16
    endloop
endfunction
function TestA65_naji takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "===============*****===============")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ç›®æ ‡åæ ‡ï¼š|cffFFFF00(" + R2S(GetCameraTargetPositionX()) + "," + R2S(GetCameraTargetPositionY()) + "," + R2S(GetCameraTargetPositionZ()) + ")|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0æºåæ ‡ï¼š|cffFFFF00(" + R2S(GetCameraEyePositionX()) + "," + R2S(GetCameraEyePositionY()) + "," + R2S(GetCameraEyePositionZ()) + ")|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0Xè½´æ—‹è½¬è§’åº¦/å¼§åº¦ï¼š|cffFFFF00" + R2S(57.295 * GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK)) + "/" + R2S(GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK)) + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0Yè½´æ—‹è½¬è§’åº¦/å¼§åº¦ï¼š|cffFFFF00" + R2S(57.295 * GetCameraField(CAMERA_FIELD_ROLL)) + "/" + R2S(GetCameraField(CAMERA_FIELD_ROLL)) + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0Zè½´æ—‹è½¬è§’åº¦/å¼§åº¦ï¼š|cffFFFF00" + R2S(57.295 * GetCameraField(CAMERA_FIELD_ROTATION)) + "/" + R2S(GetCameraField(CAMERA_FIELD_ROTATION)) + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0Zè½´åç§»ï¼š|cffFFFF00" + R2S(GetCameraField(CAMERA_FIELD_ZOFFSET)) + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0é•œå¤´è·ç¦»ï¼š|cffFFFF00" + R2S(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)) + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0è¿œæ™¯æˆªæ–­è·ç¦»ï¼š|cffFFFF00" + R2S(GetCameraField(CAMERA_FIELD_FARZ)) + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0é•œå¤´åŒºåŸŸï¼š|cffFFFF00" + R2S(GetCameraField(CAMERA_FIELD_FIELD_OF_VIEW)) + "|r")
endfunction
function TestA64_naji takes nothing returns nothing
    if GetLocalPlayer() == Ptest_naji then
        set Rcamera_naji[2]=57.29582 * GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK)
        set Rcamera_naji[3]=57.29582 * GetCameraField(CAMERA_FIELD_ROTATION)
        if Bcamera_naji[1] then
            set Rcamera_naji[2]=Rcamera_naji[2] - 1
        endif
        if Bcamera_naji[2] then
            set Rcamera_naji[2]=Rcamera_naji[2] + 1
        endif
        if Bcamera_naji[3] then
            set Rcamera_naji[3]=Rcamera_naji[3] - 1
        endif
        if Bcamera_naji[4] then
            set Rcamera_naji[3]=Rcamera_naji[3] + 1
        endif
        call SetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK, Rcamera_naji[2], 0.01)
        call SetCameraField(CAMERA_FIELD_ROTATION, Rcamera_naji[3], 0.01)
        call PanCameraToTimed(Rcamera_naji[0], Rcamera_naji[1], 0)
    endif
endfunction
function TestA63_naji takes nothing returns nothing
    local integer i_naji=0
    if GetTriggerEventId() == EVENT_PLAYER_ARROW_UP_UP then
        set Bcamera_naji[1]=false
    elseif GetTriggerEventId() == EVENT_PLAYER_ARROW_DOWN_UP then
        set Bcamera_naji[2]=false
    elseif GetTriggerEventId() == EVENT_PLAYER_ARROW_LEFT_UP then
        set Bcamera_naji[3]=false
    elseif GetTriggerEventId() == EVENT_PLAYER_ARROW_RIGHT_UP then
        set Bcamera_naji[4]=false
    endif
    loop
        set i_naji=i_naji + 1
        if i_naji >= 5 then
            call DestroyTimer(Tcamera_naji)
            set Tcamera_naji=null
            exitwhen true
        endif
        if Bcamera_naji[i_naji] then
            exitwhen true
        endif
    endloop
endfunction
function TestA62_naji takes nothing returns nothing
    if Tcamera_naji == null then
        set Tcamera_naji=CreateTimer()
        call TimerStart(Tcamera_naji, 0.01, true, function TestA64_naji)
    endif
    set Rcamera_naji[0]=GetCameraTargetPositionX()
    set Rcamera_naji[1]=GetCameraTargetPositionY()
    if GetTriggerEventId() == EVENT_PLAYER_ARROW_UP_DOWN then
        set Bcamera_naji[1]=true
    elseif GetTriggerEventId() == EVENT_PLAYER_ARROW_DOWN_DOWN then
        set Bcamera_naji[2]=true
    elseif GetTriggerEventId() == EVENT_PLAYER_ARROW_LEFT_DOWN then
        set Bcamera_naji[3]=true
    elseif GetTriggerEventId() == EVENT_PLAYER_ARROW_RIGHT_DOWN then
        set Bcamera_naji[4]=true
    endif
endfunction
function TestA61_naji takes nothing returns nothing
    if Bcamera_naji[0] then
        set Bcamera_naji[0]=false
        call DestroyTimer(Tcamera_naji)
        call DisableTrigger(Ttest_naji[58])
        call DisableTrigger(Ttest_naji[59])
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å…³é—­|cffFFFF00é•œå¤´æ¨¡å¼|r")
    else
        set Bcamera_naji[0]=true
        call EnableTrigger(Ttest_naji[58])
        call EnableTrigger(Ttest_naji[59])
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, "|cffFF0000å¼€å¯|cffFFFF00é•œå¤´æ¨¡å¼|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, "|cffFF0000ç”¨ä¸Šä¸‹å·¦å³å¯¹é•œå¤´è¿›è¡Œè°ƒæ•´ï¼Œé•œå¤´è·ç¦»è¯·ç”¨|cffFFFF00'cd|cffFF0000ä»£ç ï¼Œé‡ç½®é•œå¤´è¯·ç”¨|cffFFFF00'cr|cffFF0000ä»£ç |r")
    endif
endfunction
function TestA60_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if GetLocalPlayer() == GetTriggerPlayer() then
            call SetCameraTargetController(FirstOfGroup(g_naji), 0, 0, false)
        endif
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²é”å®š|cffFF0000ç©å®¶é€‰æ‹©çš„ç¬¬ä¸€ä¸ªå•ä½|cffFFFF00çš„é•œå¤´ï¼ŒæŒ‰ä¸‹|cffFF0000Ctrl+C|cffFFFF00å¯è§£é”|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA59_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call UnitRemoveBuffs(u_naji, true, true)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²æ¸…é™¤ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„|cffFF0000é­”æ³•æ•ˆæœ|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA58_naji takes nothing returns nothing
    local integer i_naji=0
    call ClearTextMessages()
    loop
        call DisplayTextToPlayer(Player(i_naji), 0, 0, "|cffFFFF00ä½ å·²ç»è¢«|cffFF0000è¸¢å‡ºæ¸¸æˆ|r")
        set i_naji=i_naji + 1
        exitwhen i_naji >= 16
    endloop
endfunction
function TestA57_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString()))) - 1
    if i_naji >= 0 and i_naji <= 15 then
        if GetPlayerSlotState(Player(i_naji)) == PLAYER_SLOT_STATE_PLAYING then
            if GetLocalPlayer() == Player(i_naji) then
                call TimerStart(CreateTimer(), 0, true, function TestA58_naji)
            endif
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²å°†|cffFF0000" + GetPlayerName(Player(i_naji)) + "|cffFFFF00è¸¢å‡ºæ¸¸æˆï¼|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00è¿™ä¸ªç©å®¶ä½|cffFF0000å¹¶ä¸å­˜åœ¨ç©å®¶|r")
        endif
    else
        call DisplayTextToPlayer(Ptest_naji, 0, 0, "|cffFF0000è¾“å…¥åºå·é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
endfunction
function TestA56_naji takes nothing returns nothing
    local integer i_naji=S2ID_naji(SubString(GetEventPlayerChatString(), 3, 7))
    local group g_naji
    local item tt
    local integer z_naji=1
    if StringLength(GetEventPlayerChatString()) >= 8 then
        set z_naji=S2I(SubString(GetEventPlayerChatString(), 8, StringLength(GetEventPlayerChatString())))
        if z_naji <= 0 then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ•°å€¼éƒ¨åˆ†è¯·è¾“å…¥|cffFFFF00å¤§äº0|cffFF0000çš„æ•´æ•°|r")
            return
        endif
    endif
    set g_naji=CreateGroup()
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00å·²æ‰§è¡Œå¯¹åº”è¡Œä¸ºï¼Œè‹¥æ²¡æœ‰æ•ˆæœï¼Œè¯·ç¡®å®šä½ è¾“å…¥äº†æ­£ç¡®çš„|cffFF0000ç‰©ä½“ç¼–è¾‘å™¨ID|r")
        if UnitAddAbility(FirstOfGroup(g_naji), i_naji) == false then
            if StringLength(GetEventPlayerChatString()) >= 8 then
                call SetUnitAbilityLevel(FirstOfGroup(g_naji), i_naji, z_naji)
            else
                call UnitRemoveAbility(FirstOfGroup(g_naji), i_naji)
                call UnitMakeAbilityPermanent(FirstOfGroup(g_naji), false, i_naji)
            endif
        else
            call UnitMakeAbilityPermanent(FirstOfGroup(g_naji), true, i_naji)
            call SetUnitAbilityLevel(FirstOfGroup(g_naji), i_naji, z_naji)
        endif
        loop
            call CreateUnit(GetTriggerPlayer(), i_naji, GetUnitX(FirstOfGroup(g_naji)), GetUnitY(FirstOfGroup(g_naji)), 0)
            set tt=CreateItem(i_naji, GetUnitX(FirstOfGroup(g_naji)), GetUnitY(FirstOfGroup(g_naji)))
            if tt != null then
                call SetItemPlayer(tt, GetTriggerPlayer(), false)
                set tt=null
            endif
            call CreateDestructable(i_naji, GetUnitX(FirstOfGroup(g_naji)), GetUnitY(FirstOfGroup(g_naji)), 0, 1, 0)
            set z_naji=z_naji - 1
            exitwhen z_naji <= 0
        endloop
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
endfunction
function TestA55_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            if IsUnitInGroup(u_naji, Guw_naji) then
                call SetUnitPathing(u_naji, true)
                call GroupRemoveUnit(Guw_naji, u_naji)
            else
                call SetUnitPathing(u_naji, false)
                call GroupAddUnit(Guw_naji, u_naji)
            endif
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å·²åˆ‡æ¢ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„|cffFFFF00è§¦ç¢°|cffFF0000çŠ¶æ€|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA54_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if GetLocalPlayer() == GetTriggerPlayer() then
        if r_naji > 0 then
            call SetCameraField(CAMERA_FIELD_FARZ, r_naji, 0)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç©å®¶å½“å‰é•œå¤´çš„è¿œæ™¯æˆªæ–­è·ç¦»ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ•°å€¼é”™è¯¯ï¼|cffFFFF00è¯·è¾“å…¥|cffFF0000å¤§äº0|cffFFFF00çš„å®æ•°|r")
        endif
    endif
endfunction
function TestA53_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString()))) - 1
    local group g_naji=CreateGroup()
    local unit u_naji
    if i_naji >= 0 and i_naji <= 15 then
        call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
        if FirstOfGroup(g_naji) != null then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitOwner(u_naji, Player(i_naji), true)
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½|cffFFFF00çš„æ‰€æœ‰è€…å·²æ”¹å˜ä¸º|cffFF0000" + GetPlayerName(Player(i_naji)) + "|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
        endif
    else
        call DisplayTextToPlayer(Ptest_naji, 0, 0, "|cffFF0000è¾“å…¥åºå·é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA52_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString()))) - 1
    local integer z_naji=StringLength(GetEventPlayerChatString()) - 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), z_naji, z_naji + 1)
        if Sdummy_naji[1] == "," then
            set z_naji=S2I(SubString(GetEventPlayerChatString(), z_naji + 1, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
        set z_naji=z_naji - 1
        if z_naji <= 0 then
            set z_naji=GetPlayerId(GetTriggerPlayer()) + 1
            exitwhen true
        endif
    endloop
    if z_naji <= 0 or z_naji >= 17 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥åºå·é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
        return
    endif
    if i_naji >= 0 and i_naji <= 15 then
        if IsPlayerAlly(Player(i_naji), GetTriggerPlayer()) then
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_PASSIVE, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_XP, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_VISION, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_SPELLS, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_HELP_REQUEST, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_HELP_RESPONSE, false)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_PASSIVE, false)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_SHARED_XP, false)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_SHARED_VISION, false)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_SHARED_SPELLS, false)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_HELP_REQUEST, false)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_HELP_RESPONSE, false)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000" + GetPlayerName(Player(z_naji - 1)) + "|cffFFFF00å’Œ|cffFF0000" + GetPlayerName(Player(i_naji)) + "|cffFFFF00æˆä¸º|cffFF0000æ•Œäºº|r")
        else
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_PASSIVE, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_XP, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_VISION, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_SPELLS, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_HELP_REQUEST, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_HELP_RESPONSE, true)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_PASSIVE, true)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_SHARED_XP, true)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_SHARED_VISION, true)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_SHARED_SPELLS, true)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_HELP_REQUEST, true)
            call SetPlayerAlliance(Player(z_naji - 1), Player(i_naji), ALLIANCE_HELP_RESPONSE, true)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000" + GetPlayerName(Player(z_naji - 1)) + "|cffFFFF00å’Œ|cffFF0000" + GetPlayerName(Player(i_naji)) + "|cffFFFF00æˆä¸º|cffFF0000åŒç›Ÿ|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥åºå·é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
endfunction
function TestA51_naji takes nothing returns nothing
    if GetLocalPlayer() == Ptest_naji then
        call ClearTextMessages()
        call ResetToGameCamera(0)
        loop
            call DestroyQuest(Q_naji[Iquest_naji])
            set Iquest_naji=Iquest_naji - 1
            exitwhen Iquest_naji == 0
        endloop
    endif
    loop
        call DestroyTrigger(Ttest_naji[Itrigger_naji])
        set Itrigger_naji=Itrigger_naji - 1
        exitwhen Itrigger_naji == 0
    endloop
    if Ttest_naji[0] != null then
        call DestroyTrigger(Ttest_naji[0])
    endif
    if Ibm_naji >= 1 then
        loop
            set Ibm_naji=Ibm_naji - 1
            call DestroyTextTag(Tbm_naji[Ibm_naji])
            set Tbm_naji[Ibm_naji]=null
            exitwhen Ibm_naji <= 0
        endloop
    endif
    loop
        call RemoveWeatherEffect(Weather_naji[Iweather_naji])
        set Iweather_naji=Iweather_naji - 1
        exitwhen Iweather_naji <= 0
    endloop
    call DialogDestroy(Dnaji_naji[0])
    call DialogDestroy(Dnaji_naji[1])
    call DialogDestroy(Dnaji_naji[2])
    call DestroyGroup(Gcd_naji[0])
    call DestroyGroup(Gcd_naji[1])
    call DestroyGroup(Gms_naji)
    call DestroyGroup(Guw_naji)
    call RemoveRegion(Rworld_naji)
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffFF0000å·²ç§»é™¤|cffFFFF00najitest|cffFF0000æµ‹è¯•ç³»ç»Ÿ")
endfunction
function TestA50_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call KillUnit(u_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00æ€æ­»|cffFF0000ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA49_naji takes nothing returns nothing
    local real array r_naji
    local integer a_naji=1
    local integer b_naji=3
    local integer c_naji=3
    set r_naji[1]=1
    set r_naji[2]=GetPlayerId(GetTriggerPlayer()) + 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), b_naji, b_naji + 1)
        if Sdummy_naji[1] == "," then
            set r_naji[a_naji]=S2R(SubString(GetEventPlayerChatString(), c_naji, b_naji))
            set a_naji=a_naji + 1
            set c_naji=b_naji + 1
            if a_naji >= 2 and c_naji < StringLength(GetEventPlayerChatString()) then
                set r_naji[2]=S2R(SubString(GetEventPlayerChatString(), c_naji, StringLength(GetEventPlayerChatString())))
                exitwhen true
            endif
        endif
        set b_naji=b_naji + 1
        if b_naji >= StringLength(GetEventPlayerChatString()) then
            set r_naji[a_naji]=S2I(SubString(GetEventPlayerChatString(), c_naji, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
    endloop
    if R2I(r_naji[2]) >= 1 and R2I(r_naji[2]) <= 16 then
        call SetMapFlag(MAP_USE_HANDICAPS, true)
        call SetPlayerHandicap(Player(R2I(r_naji[2]) - 1), r_naji[1])
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å·²è®¾ç½®|cff00FFFF" + GetPlayerName(Player(R2I(r_naji[2]) - 1)) + "|cffFF0000çš„ç”Ÿå‘½éšœç¢ä¸º|cffFFFF00" + R2S(r_naji[1]) + "|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç©å®¶å‚æ•°è¾“å…¥æ•°å€¼é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
endfunction
function TestA48_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    call SetTimeOfDayScale(r_naji / 100)
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®æ—¶é—´æµé€é€Ÿåº¦ä¸º|cffFFFF00" + R2S(r_naji) + "%|r")
endfunction
function TestA47_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call SetUnitUserData(u_naji, i_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„è‡ªå®šä¹‰å€¼ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA46_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if i_naji >= 1 then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                if IsUnitType(u_naji, UNIT_TYPE_HERO) then
                    call SetHeroInt(u_naji, i_naji, true)
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰è‹±é›„çš„æ™ºåŠ›ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
                endif
            endloop
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF00å¤§äºç­‰äº1|cffFF0000çš„æ•´æ•°|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA45_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
       if i_naji >= 1 then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                if IsUnitType(u_naji, UNIT_TYPE_HERO) then
                    call SetHeroAgi(u_naji, i_naji, true)
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰è‹±é›„çš„æ•æ·ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
                endif
            endloop
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF00å¤§äºç­‰äº1|cffFF0000çš„æ•´æ•°|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA44_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if i_naji >= 1 then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                if IsUnitType(u_naji, UNIT_TYPE_HERO) then
                    call SetHeroStr(u_naji, i_naji, true)
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰è‹±é›„çš„åŠ›é‡ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
                endif
            endloop
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF00å¤§äºç­‰äº1|cffFF0000çš„æ•´æ•°|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA43_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            if IsUnitType(u_naji, UNIT_TYPE_HERO) then
                if GetHeroSkillPoints(u_naji) + i_naji >= 0 then
                    call UnitModifySkillPoints(u_naji, i_naji)
                else
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF80C0" + GetUnitName(u_naji) + "|cffFF0000çš„å‰©ä½™æŠ€èƒ½ç‚¹ä¸èƒ½|cffFFFF00ä½äº0|cffFF0000ï¼|r")
                endif
            endif
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å¢åŠ ç©å®¶é€‰æ‹©çš„æ‰€æœ‰è‹±é›„çš„æŠ€èƒ½ç‚¹æ•°ï¼š|cffFFFF00" + I2S(i_naji) + "|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA42_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            if UnitAddAbility(u_naji, 'Arav') then
                call UnitRemoveAbility(u_naji, 'Arav')
            endif
            call SetUnitFlyHeight(u_naji, r_naji, 0)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„é£è¡Œé«˜åº¦ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA41_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if r_naji > 0 then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitAcquireRange(u_naji, r_naji)
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„ä¸»åŠ¨æ”»å‡»èŒƒå›´ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
        else
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitAcquireRange(u_naji, GetUnitDefaultAcquireRange(u_naji))
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥æ•°å€¼é”™è¯¯ï¼å·²è¿˜åŸç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„|cffFFFF00é»˜è®¤ä¸»åŠ¨æ”»å‡»èŒƒå›´|cffFF0000ã€‚è¯·è¾“å…¥|cffFFFF00å¤§äº0|cffFF0000çš„å®æ•°|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA40_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if r_naji >= 0 and r_naji <= 1 then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitTurnSpeed(u_naji, r_naji)
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„è½¬èº«é€Ÿç‡ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
        else
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitTurnSpeed(u_naji, GetUnitDefaultTurnSpeed(u_naji))
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥æ•°å€¼é”™è¯¯ï¼å·²è¿˜åŸç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„|cffFFFF00é»˜è®¤è½¬èº«é€Ÿç‡|cffFF0000ã€‚è¯·è¾“å…¥|cffFFFF000~1|cffFF0000ä¹‹é—´çš„å®æ•°|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA39_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        if r_naji >= 0 and r_naji <= 522 then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call h__SetUnitMoveSpeed(u_naji, r_naji)
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„ç§»åŠ¨é€Ÿåº¦ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
        else
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call h__SetUnitMoveSpeed(u_naji, GetUnitDefaultMoveSpeed(u_naji))
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥æ•°å€¼é”™è¯¯ï¼å·²è¿˜åŸç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„|cffFFFF00é»˜è®¤ç§»åŠ¨é€Ÿåº¦|cffFF0000ã€‚è¯·è¾“å…¥|cffFFFF000~522|cffFF0000ä¹‹é—´çš„å®æ•°|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA38_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if r_naji >= 0 and r_naji <= 24 then
        call SetFloatGameState(GAME_STATE_TIME_OF_DAY, r_naji)
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å½“å‰æ—¶é—´è®¾ç½®ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¯·è¾“å…¥|cffFFFF000~24|cffFF0000ä¹‹é—´çš„å®æ•°|r")
    endif
endfunction
function TestA37_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    call SetRandomSeed(i_naji)
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000éšæœºç§å­è®¾ç½®ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
endfunction
function TestA36_naji takes nothing returns nothing
    local group g_naji
    local unit u_naji
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    local integer z_naji=StringLength(GetEventPlayerChatString()) - 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), z_naji, z_naji + 1)
        if Sdummy_naji[1] == "," then
            set z_naji=S2I(SubString(GetEventPlayerChatString(), z_naji + 1, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
        set z_naji=z_naji - 1
        if z_naji <= 0 then
            set z_naji=1
            exitwhen true
        endif
    endloop
    if z_naji <= 0 or z_naji >= 7 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç¬¬äºŒå‚æ•°è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~6|cffFF0000é—´çš„æ•´æ•°|r")
        return
    endif
    set g_naji=CreateGroup()
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    set u_naji=FirstOfGroup(g_naji)
    if u_naji != null then
        if UnitItemInSlot(u_naji, z_naji - 1) != null then
            if i_naji <= 0 then
                set i_naji=0
            endif
            call SetItemCharges(UnitItemInSlot(u_naji, z_naji - 1), i_naji)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¯¥å•ä½|cffFFFF00ç¬¬" + I2S(z_naji) + "æ ¼ç‰©å“æ |cffFF0000çš„å¯å…æ¬¡æ•°è®¾ç½®ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¯¥å•ä½|cffFFFF00ç¬¬" + I2S(z_naji) + "æ ¼ç‰©å“æ |cffFF0000ä¸å­˜åœ¨ç‰©å“|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA35_naji takes nothing returns nothing
    loop
        set Ibm_naji=Ibm_naji - 1
        call DestroyTextTag(Tbm_naji[Ibm_naji])
        set Tbm_naji[Ibm_naji]=null
        exitwhen Ibm_naji <= 0
    endloop
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffFF0000å·²æ¸…é™¤æ‰€æœ‰|cffFFFF00å¤‡å¿˜æ–‡å­—|r")
endfunction
function TestA34_naji takes nothing returns nothing
    set Tbm_naji[Ibm_naji]=CreateTextTag()
    call SetTextTagText(Tbm_naji[Ibm_naji], SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())), 20 * 0.023 / 10)
    call SetTextTagPos(Tbm_naji[Ibm_naji], GetCameraTargetPositionX(), GetCameraTargetPositionY(), 0)
    call SetTextTagColor(Tbm_naji[Ibm_naji], 0, 255, 0, 255)
    set Ibm_naji=Ibm_naji + 1
endfunction
function TestA33_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if r_naji > 100 then
        set r_naji=1
    endif
    if r_naji < 0 then
        set r_naji=0
    endif
    set r_naji=r_naji / 100
    if GetLocalPlayer() == GetTriggerPlayer() then
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_AMBIENTSOUNDS, r_naji)
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS, r_naji)
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT, r_naji)
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_FIRE, r_naji)
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITMOVEMENT, r_naji)
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS, r_naji)
        call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UI, r_naji)
    endif
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä½ å½“å‰çš„éŸ³æ•ˆéŸ³é‡ä¸ºï¼š|cffFFFF00" + I2S(R2I(r_naji * 100)) + "%|r")
endfunction
function TestA32_naji takes nothing returns nothing
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000éª°å¾—ç‚¹æ•°ï¼š|cffFFFF00" + I2S(GetRandomInt(1, 100)) + "|r")
endfunction
function TestA31_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if i_naji > 100 then
        set i_naji=100
    endif
    if i_naji < 0 then
        set i_naji=0
    endif
    if GetLocalPlayer() == GetTriggerPlayer() then
        call SetMusicVolume(R2I(I2R(i_naji) * 1.27))
    endif
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä½ å½“å‰çš„éŸ³ä¹éŸ³é‡ä¸ºï¼š|cffFFFF00" + I2S(i_naji) + "%|r")
endfunction
function TestA30_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            if IsUnitPaused(u_naji) then
                call PauseUnit(u_naji, false)
            else
                call PauseUnit(u_naji, true)
            endif
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å·²åˆ‡æ¢ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„|cffFFFF00æš‚åœçŠ¶æ€|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA29_naji takes nothing returns nothing
    local texttag tt
    if Bir_naji then
        set Sdummy_naji[0]=I2S(R2I(GetEventDamage()))
    else
        set Sdummy_naji[0]=R2S(GetEventDamage())
    endif
    if Bddm_naji then
        if Bpn_naji then
            set Sdummy_naji[3]=GetPlayerName(GetTriggerPlayer()) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetTriggerPlayer()) + 1) + "ï¼‰"
            set Sdummy_naji[4]=GetPlayerName(GetOwningPlayer(GetEventDamageSource())) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetOwningPlayer(GetEventDamageSource())) + 1) + "ï¼‰"
        else
            set Sdummy_naji[3]=""
            set Sdummy_naji[4]=""
        endif
        if Bxy_naji then
            set Sdummy_naji[1]="ï¼ˆ" + R2S(GetUnitX(GetTriggerUnit())) + "," + R2S(GetUnitY(GetTriggerUnit())) + "ï¼‰"
            set Sdummy_naji[2]="ï¼ˆ" + R2S(GetWidgetX(GetEventDamageSource())) + "," + R2S(GetWidgetY(GetEventDamageSource())) + "ï¼‰"
        else
            set Sdummy_naji[1]=""
            set Sdummy_naji[2]=""
        endif
        call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF8000å—åˆ°äº†|cffFFFF00" + Sdummy_naji[0] + "|cffFF8000ç‚¹ä¼¤å®³ï¼|cff00FFFFä¼¤å®³æ¥æºä¸º|r" + Sdummy_naji[4] + "|cffFFFF00" + GetUnitName(GetEventDamageSource()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetEventDamageSource())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
    else
        if GetLocalPlayer() == Ptest_naji then
            set tt=CreateTextTag()
            call SetTextTagText(tt, Sdummy_naji[0], 13 * 0.023 / 10)
            call SetTextTagPosUnit(tt, GetTriggerUnit(), 0)
            call SetTextTagColor(tt, 255, 0, 0, 255)
            call SetTextTagVelocity(tt, 150 * 0.071 / 128 * Cos(Rdummy_naji * 0.01745), 150 * 0.071 / 128 * Sin(Rdummy_naji * 0.01745))
            call SetTextTagPermanent(tt, false)
            call SetTextTagLifespan(tt, 1)
            call SetTextTagFadepoint(tt, 0.8)
            set tt=null
            set Rdummy_naji=Rdummy_naji + 30
            if Rdummy_naji >= 360 then
                set Rdummy_naji=Rdummy_naji - 360
            endif
        endif
    endif
endfunction
function TestA28_naji takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'Aloc') == 0 then
        call TriggerRegisterUnitEvent(Ttest_naji[0], GetTriggerUnit(), EVENT_UNIT_DAMAGED)
    endif
endfunction
function TestA27_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local integer i_naji=0
    local integer z_naji
    loop
        call GroupEnumUnitsOfPlayer(g_naji, Player(i_naji), null)
        set z_naji=0
        loop
            exitwhen FirstOfGroup(g_naji) == null
            call GroupRemoveUnit(g_naji, FirstOfGroup(g_naji))
            set z_naji=z_naji + 1
        endloop
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 15, "|cff00FFFF(" + I2S(i_naji + 1) + ")|cffFF0000" + GetPlayerName(Player(i_naji)) + "|rï¼š|cffFF80C0æ€»å•ä½æ•°|cffFFFF00" + I2S(z_naji) + "|rï¼š|cffFF80C0é‡‘é’±|cffFFFF00" + I2S(GetPlayerState(Player(i_naji), PLAYER_STATE_RESOURCE_GOLD)) + "|rï¼š|cffFF80C0æœ¨å¤´|cffFFFF00" + I2S(GetPlayerState(Player(i_naji), PLAYER_STATE_RESOURCE_LUMBER)) + "|rï¼š|cffFF80C0å·²ç”¨/å¯ç”¨äººå£|cffFFFF00" + I2S(GetPlayerState(Player(i_naji), PLAYER_STATE_RESOURCE_FOOD_USED)) + "|r/|cffFFFF00" + I2S(GetPlayerState(Player(i_naji), PLAYER_STATE_RESOURCE_FOOD_CAP)))
        set i_naji=i_naji + 1
        exitwhen i_naji >= 16
    endloop
    call DestroyGroup(g_naji)
    set g_naji=null
endfunction
function TestA26_naji takes nothing returns nothing
    if Bpause_naji then
        call PauseGame(false)
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç»§ç»­æ¸¸æˆ|r")
        set Bpause_naji=false
    else
        call PauseGame(true)
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æš‚åœæ¸¸æˆ|r")
        set Bpause_naji=true
    endif
endfunction
function TestA25_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call SetUnitTimeScale(u_naji, r_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„åŠ¨ç”»æ’­æ”¾é€Ÿç‡ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA24_naji takes nothing returns nothing
    local integer array i_naji
    local integer a_naji=1
    local integer b_naji=4
    local integer c_naji=4
    local group g_naji
    local unit u_naji
    set i_naji[1]=0
    set i_naji[2]=0
    set i_naji[3]=0
    set i_naji[4]=0
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), b_naji, b_naji + 1)
        if Sdummy_naji[1] == "," then
            set i_naji[a_naji]=S2I(SubString(GetEventPlayerChatString(), c_naji, b_naji))
            set a_naji=a_naji + 1
            set c_naji=b_naji + 1
            if a_naji >= 4 then
                set i_naji[4]=S2I(SubString(GetEventPlayerChatString(), c_naji, StringLength(GetEventPlayerChatString())))
                exitwhen true
            endif
        endif
        set b_naji=b_naji + 1
        if b_naji >= StringLength(GetEventPlayerChatString()) then
            set i_naji[a_naji]=S2I(SubString(GetEventPlayerChatString(), c_naji, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
    endloop
    if i_naji[1] >= 0 and i_naji[1] <= 255 and i_naji[2] >= 0 and i_naji[2] <= 255 and i_naji[3] >= 0 and i_naji[3] <= 255 and i_naji[4] >= 0 and i_naji[4] <= 255 then
        set g_naji=CreateGroup()
        call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
        if FirstOfGroup(g_naji) != null then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitVertexColor(u_naji, i_naji[1], i_naji[2], i_naji[3], i_naji[4])
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è®¾ç½®ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„æŸ“è‰²ä¸º|cffFFFF00" + I2S(i_naji[1]) + "|cffFF0000,|cffFFFF00" + I2S(i_naji[2]) + "|cffFF0000,|cffFFFF00" + I2S(i_naji[3]) + "|cffFF0000,|cffFFFF00" + I2S(i_naji[4]) + "|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
        endif
        call DestroyGroup(g_naji)
        set g_naji=null
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥æ•°å€¼é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF000~255|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
    set u_naji=null
endfunction
function TestA23_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString()))) - 1
    local integer z_naji=StringLength(GetEventPlayerChatString()) - 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), z_naji, z_naji + 1)
        if Sdummy_naji[1] == "," then
            set z_naji=S2I(SubString(GetEventPlayerChatString(), z_naji + 1, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
        set z_naji=z_naji - 1
        if z_naji <= 0 then
            set z_naji=GetPlayerId(GetTriggerPlayer()) + 1
            exitwhen true
        endif
    endloop
    if z_naji <= 0 or z_naji >= 17 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥åºå·é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
        return
    endif
    if i_naji >= 0 and i_naji <= 15 then
        if GetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_ADVANCED_CONTROL) then
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_VISION, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_CONTROL, false)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_ADVANCED_CONTROL, false)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000" + GetPlayerName(Player(z_naji - 1)) + "|cffFFFF00å¤±å»äº†|cffFF0000" + GetPlayerName(Player(i_naji)) + "|cffFFFF00çš„|cffFF0000æ§åˆ¶æƒ|r")
        else
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_VISION, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_CONTROL, true)
            call SetPlayerAlliance(Player(i_naji), Player(z_naji - 1), ALLIANCE_SHARED_ADVANCED_CONTROL, true)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000" + GetPlayerName(Player(z_naji - 1)) + "|cffFFFF00è·å¾—äº†|cffFF0000" + GetPlayerName(Player(i_naji)) + "|cffFFFF00çš„|cffFF0000æ§åˆ¶æƒ|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥åºå·é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000ä¹‹é—´çš„æ•´æ•°|r")
    endif
endfunction
function TestA22_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    local integer i_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    set u_naji=FirstOfGroup(g_naji)
    if u_naji != null then
        set i_naji=GetUnitTypeId(u_naji)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "===============*****===============")
        if IsUnitType(u_naji, UNIT_TYPE_HERO) then
            set Sdummy_naji[0]=GetHeroProperName(u_naji)
        else
            set Sdummy_naji[0]="æ— "
        endif
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0å•ä½åç§°/ç§°è°“ï¼š|cffFFFF00" + GetUnitName(u_naji) + "/" + Sdummy_naji[0] + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ID256è¿›åˆ¶/10è¿›åˆ¶ï¼š|cffFFFF00" + ID2S_naji(GetUnitTypeId(u_naji)) + "/" + I2S(GetUnitTypeId(u_naji)) + "|r")
        //=========================ä»¥ä¸‹éƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0å­˜å‚¨åœ°å€ï¼š|cffFFFF00" + I2S(GetHandleId(u_naji)) + "|r")
        //=========================ä»¥ä¸Šéƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
        if IsUnitRace(u_naji, RACE_HUMAN) then
            set Sdummy_naji[0]="äººæ—"
        endif
        if IsUnitRace(u_naji, RACE_ORC) then
            set Sdummy_naji[0]="å…½æ—"
        endif
        if IsUnitRace(u_naji, RACE_UNDEAD) then
            set Sdummy_naji[0]="ä¸æ­»æ—"
        endif
        if IsUnitRace(u_naji, RACE_NIGHTELF) then
            set Sdummy_naji[0]="æš—å¤œç²¾çµæ—"
        endif
        if IsUnitRace(u_naji, RACE_DEMON) then
            set Sdummy_naji[0]="æ¶é­”"
        endif
        if IsUnitRace(u_naji, ConvertRace(0)) then
            set Sdummy_naji[0]="æ²¡æœ‰"
        endif
        if IsUnitRace(u_naji, ConvertRace(7)) then
            set Sdummy_naji[0]="å…¶å®ƒ"
        endif
        if IsUnitRace(u_naji, ConvertRace(8)) then
            set Sdummy_naji[0]="é‡å¤–ç”Ÿç‰©"
        endif
        if IsUnitRace(u_naji, ConvertRace(9)) then
            set Sdummy_naji[0]="å¹³æ°‘"
        endif
        if IsUnitRace(u_naji, RACE_HUMAN) then
            set Sdummy_naji[0]="äººæ—"
        endif
        if IsUnitRace(u_naji, ConvertRace(10)) then
            set Sdummy_naji[0]="åŠ¨ç‰©"
        endif
        if IsUnitRace(u_naji, ConvertRace(11)) then
            set Sdummy_naji[0]="å¨œè¿¦æ—"
        endif
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ç§æ—/ç­‰çº§ï¼š|cffFFFF00" + Sdummy_naji[0] + "/" + I2S(GetUnitLevel(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0æ‰€å±ç©å®¶/cjç´¢å¼•ï¼š|cffFFFF00" + GetPlayerName(GetOwningPlayer(u_naji)) + "/" + I2S(GetPlayerId(GetOwningPlayer(u_naji))) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0åæ ‡ï¼š|cffFFFF00(" + R2S(GetUnitX(u_naji)) + "," + R2S(GetUnitY(u_naji)) + ")|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0é¢å‘è§’åº¦/å¼§åº¦ï¼š|cffFFFF00" + R2S(GetUnitFacing(u_naji)) + "/" + R2S(0.017 * GetUnitFacing(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0è‡ªå®šä¹‰å€¼ï¼š|cffFFFF00" + I2S(GetUnitUserData(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0é™„åŠ å€¼ï¼š|cffFFFF00" + I2S(GetUnitPointValue(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ä¸»åŠ¨æ”»å‡»èŒƒå›´å½“å‰/é»˜è®¤ï¼š|cffFFFF00" + R2S(GetUnitAcquireRange(u_naji)) + "/" + R2S(GetUnitDefaultAcquireRange(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0ç§»åŠ¨é€Ÿåº¦å½“å‰/é»˜è®¤ï¼š|cffFFFF00" + R2S(GetUnitMoveSpeed(u_naji)) + "/" + R2S(GetUnitDefaultMoveSpeed(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0è½¬èº«é€Ÿç‡å½“å‰/é»˜è®¤ï¼š|cffFFFF00" + R2S(GetUnitTurnSpeed(u_naji)) + "/" + R2S(GetUnitDefaultTurnSpeed(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0é£è¡Œé«˜åº¦å½“å‰/é»˜è®¤ï¼š|cffFFFF00" + R2S(GetUnitFlyHeight(u_naji)) + "/" + R2S(GetUnitDefaultFlyHeight(u_naji)) + "|r")
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0æ‹¥æœ‰buffæ•°é‡å…¨éƒ¨/æ­£é¢/è´Ÿé¢ï¼š|cffFFFF00" + I2S(UnitCountBuffsEx(u_naji, true, true, false, false, true, true, false)) + "/" + I2S(UnitCountBuffsEx(u_naji, true, false, false, false, true, true, false)) + "/" + I2S(UnitCountBuffsEx(u_naji, false, true, false, false, true, true, false)) + "|r")
        set Sdummy_naji[0]=" "
        if IsUnitIdType(i_naji, UNIT_TYPE_MELEE_ATTACKER) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è¿‘æˆ˜ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_RANGED_ATTACKER) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è¿œç¨‹ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_STRUCTURE) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "å»ºç­‘ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_HERO) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è‹±é›„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_GROUND) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "åœ°é¢ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_FLYING) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "é£è¡Œï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_SUMMONED) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "å¬å”¤å•ä½ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_PLAGUED) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "é™„å¸¦ç˜Ÿç–«ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_SNARED) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è¢«æŸç¼šçš„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_STUNNED) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è¢«çœ©æ™•çš„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_GIANT) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "æ³°å¦ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_TAUREN) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "ç‰›å¤´äººï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_UNDEAD) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "ä¸æ­»æ—ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_MECHANICAL) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "æœºæ¢°ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_ANCIENT) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "å¤æ ‘ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_PEON) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "å·¥äººï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_TOWNHALL) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "åŸé•‡å¤§å…ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_SAPPER) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "åœ°ç²¾å·¥å…µï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_POISONED) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "ä¸­æ¯’çš„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_POLYMORPHED) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è¢«å˜å½¢çš„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_SLEEPING) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "è¢«å‚¬çœ çš„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_RESISTANT) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "æœ‰æŠ—æ€§çš®è‚¤çš„ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_ETHEREAL) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "å¤„äºè™šæ— çŠ¶æ€ï¼Œ"
        endif
        if IsUnitIdType(i_naji, UNIT_TYPE_MAGIC_IMMUNE) then
            set Sdummy_naji[0]=Sdummy_naji[0] + "é­”æ³•å…ç–«ï¼Œ"
        endif
        set Sdummy_naji[0]=SubString(Sdummy_naji[0], 1, StringLength(Sdummy_naji[0]) - 2)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, "|cffFF80C0å¯è¯†åˆ«ç±»å‹ï¼š|cffFFFF00" + Sdummy_naji[0] + "||r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA21_naji takes nothing returns nothing
    if GetLocalPlayer() == GetTriggerPlayer() then
        call ResetToGameCamera(0)
    endif
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000é‡ç½®é•œå¤´|r")
endfunction
function TestA20_naji takes nothing returns nothing
    if GetLocalPlayer() == GetTriggerPlayer() then
        call ClearTextMessages()
    endif
endfunction
function TestA19_naji takes nothing returns nothing
    if Bpn_naji then
        set Sdummy_naji[3]=GetPlayerName(GetOwningPlayer(GetTriggerUnit())) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1) + "ï¼‰"
    else
        set Sdummy_naji[3]=""
    endif
    if Bxy_naji then
        set Sdummy_naji[1]="ï¼ˆ" + R2S(GetUnitX(GetTriggerUnit())) + "," + R2S(GetUnitY(GetTriggerUnit())) + "ï¼‰"
        set Sdummy_naji[2]="ï¼ˆ" + R2S(GetWidgetX(GetKillingUnit())) + "," + R2S(GetWidgetY(GetKillingUnit())) + "ï¼‰"
    else
        set Sdummy_naji[1]=""
        set Sdummy_naji[2]=""
    endif
    if GetTriggerPlayer() == null then
	    set unitnumber_lh=unitnumber_lh + 1
	    set createdunitnumber_lh=createdunitnumber_lh + 1
        call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0ç¬¬ä¸€æ¬¡è¿›å…¥åœ°å›¾,å½“å‰å•ä½æ•°ï¼š" + I2S(unitnumber_lh) + ",åˆ›å»ºå•ä½æ€»æ•°ï¼š" + I2S(createdunitnumber_lh) + "|r")
    else
        if Bpn_naji then
            set Sdummy_naji[4]=GetPlayerName(GetOwningPlayer(GetKillingUnit())) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1) + "ï¼‰"
        else
            set Sdummy_naji[4]=""
        endif
        set unitnumber_lh=unitnumber_lh - 1
        call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0æ­»äº¡ï¼å‡¶æ‰‹æ˜¯ï¼š|r" + Sdummy_naji[4] + "|cffFFFF00" + GetUnitName(GetKillingUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetKillingUnit())) + "|cffFFFF00" + Sdummy_naji[2] + ",å½“å‰å•ä½æ•°ï¼š" + I2S(unitnumber_lh) + ",åˆ›å»ºå•ä½æ€»æ•°ï¼š" + I2S(createdunitnumber_lh) + "|r")
    endif
endfunction
function TestA18_naji takes nothing returns nothing
    call SetPlayerName(GetTriggerPlayer(), SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä½ å½“å‰çš„åç§°ä¸ºï¼š|cffFFFF00" + GetPlayerName(GetTriggerPlayer()) + "|r")
endfunction
function TestA17_naji takes nothing returns nothing
    local location p_naji
    if Bpn_naji then
        set Sdummy_naji[3]=GetPlayerName(GetTriggerPlayer()) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetTriggerPlayer()) + 1) + "ï¼‰"
    else
        set Sdummy_naji[3]=""
    endif
    if Bxy_naji then
        set Sdummy_naji[1]="ï¼ˆ" + R2S(GetUnitX(GetTriggerUnit())) + "," + R2S(GetUnitY(GetTriggerUnit())) + "ï¼‰"
        set Sdummy_naji[2]="ï¼ˆ" + R2S(GetWidgetX(GetOrderTarget())) + "," + R2S(GetWidgetY(GetOrderTarget())) + "ï¼‰"
    else
        set Sdummy_naji[1]=""
        set Sdummy_naji[2]=""
    endif
    set Sdummy_naji[0]=OrderId2String(GetIssuedOrderId())
    if Sdummy_naji[0] == null then
        set Sdummy_naji[0]=UnitId2String(GetIssuedOrderId())
        if Sdummy_naji[0] == null then
            set Sdummy_naji[0]=IDidentify_naji(GetIssuedOrderId())
            if Sdummy_naji[0] == null or Sdummy_naji[0] == "Default string" then
                set Sdummy_naji[0]="null"
            else
                set Sdummy_naji[0]=Sdummy_naji[0] + "|cff00FF00" + ID2S_naji(GetIssuedOrderId())
            endif
        endif
    endif
    if GetOrderTargetUnit() == null then
        if GetOrderTargetDestructable() == null then
            if GetOrderTargetItem() == null then
                set p_naji=GetOrderPointLoc()
                if p_naji == null then
                    call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0å‘å¸ƒäº†|cffFFFF00" + Sdummy_naji[0] + "|cffFF0000ï¼ˆ" + I2S(GetIssuedOrderId()) + "ï¼‰|r")
                else
                    call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0å‘å¸ƒäº†|cffFFFF00" + Sdummy_naji[0] + "|cffFF0000ï¼ˆ" + I2S(GetIssuedOrderId()) + "ï¼‰|cff00FFFFç›®æ ‡ç‚¹ä¸º|cffFFFF00ï¼ˆ" + R2S(GetOrderPointX()) + "," + R2S(GetOrderPointY()) + "ï¼‰|r")
                endif
                call RemoveLocation(p_naji)
                set p_naji=null
            else
                call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0å‘å¸ƒäº†|cffFFFF00" + Sdummy_naji[0] + "|cffFF0000ï¼ˆ" + I2S(GetIssuedOrderId()) + "ï¼‰|cff00FFFFç›®æ ‡ä¸º|cffFFFF00" + GetItemName(GetOrderTargetItem()) + "|cffFF0000" + ID2S_naji(GetItemTypeId(GetOrderTargetItem())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
            endif
        else
            call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0å‘å¸ƒäº†|cffFFFF00" + Sdummy_naji[0] + "|cffFF0000ï¼ˆ" + I2S(GetIssuedOrderId()) + "ï¼‰|cff00FFFFç›®æ ‡ä¸º|cffFFFF00" + GetDestructableName(GetOrderTargetDestructable()) + "|cffFF0000" + ID2S_naji(GetDestructableTypeId(GetOrderTargetDestructable())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
        endif
    else
        if Bpn_naji then
            set Sdummy_naji[4]=GetPlayerName(GetOwningPlayer(GetOrderTargetUnit())) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetOwningPlayer(GetOrderTargetUnit())) + 1) + "ï¼‰"
        else
            set Sdummy_naji[4]=""
        endif
        call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF80C0å‘å¸ƒäº†|cffFFFF00" + Sdummy_naji[0] + "|cffFF0000ï¼ˆ" + I2S(GetIssuedOrderId()) + "ï¼‰|cff00FFFFç›®æ ‡ä¸º|r" + Sdummy_naji[4] + "|cffFFFF00" + GetUnitName(GetOrderTargetUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetOrderTargetUnit())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
    endif
endfunction
function TestA16_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call RemoveUnit(u_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFFFF00åˆ é™¤|cffFF0000ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA15_naji takes nothing returns nothing
    local real r_naji=S2R(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    if GetLocalPlayer() == GetTriggerPlayer() then
        if r_naji > 0 then
            call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, r_naji, 0)
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç©å®¶å½“å‰é•œå¤´çš„é•œå¤´è·ç¦»ä¸º|cffFFFF00" + R2S(r_naji) + "|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ•°å€¼é”™è¯¯ï¼|cffFFFF00è¯·è¾“å…¥|cffFF0000å¤§äº0|cffFFFF00çš„å®æ•°|r")
        endif
    endif
endfunction
function TestA14_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji
    local unit u_naji
    if i_naji >= 0 then
        set g_naji=CreateGroup()
        call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
        if FirstOfGroup(g_naji) != null then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                call SetUnitAnimationByIndex(u_naji, i_naji)
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ’­æ”¾ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½çš„ç¬¬|cffFFFF00" + I2S(i_naji) + "|cffFF0000å·åŠ¨ä½œ|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
        endif
        call DestroyGroup(g_naji)
        set g_naji=null
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥æ•°å€¼é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF00å¤§äº0|cffFF0000çš„æ•°å€¼|r")
    endif
    set u_naji=null
endfunction
function TestA13_naji takes nothing returns nothing
    if Bfog_naji then
        call FogEnable(false)
        call FogMaskEnable(false)
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å…³é—­|cffFFFF00é˜´å½±åŠæˆ˜äº‰è¿·é›¾|r")
        set Bfog_naji=false
    else
        call FogEnable(true)
        call FogMaskEnable(true)
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å¼€å¯|cffFFFF00é˜´å½±åŠæˆ˜äº‰è¿·é›¾|r")
        set Bfog_naji=true
    endif
endfunction
function TestA12_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local group g_naji
    local unit u_naji
    if i_naji >= 1 then
        set g_naji=CreateGroup()
        call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
        if FirstOfGroup(g_naji) != null then
            loop
                set u_naji=FirstOfGroup(g_naji)
                exitwhen u_naji == null
                call GroupRemoveUnit(g_naji, u_naji)
                if IsUnitType(u_naji, UNIT_TYPE_HERO) then
                    if GetUnitLevel(u_naji) <= i_naji then
                        call SetHeroLevel(u_naji, i_naji, true)
                    else
                        call UnitStripHeroLevel(u_naji, GetUnitLevel(u_naji) - i_naji)
                    endif
                endif
            endloop
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000å°†ç©å®¶é€‰æ‹©çš„æ‰€æœ‰è‹±é›„ç­‰çº§è®¾ç½®ä¸º|cffFFFF00" + I2S(i_naji) + "|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
        endif
        call DestroyGroup(g_naji)
        set g_naji=null
        set u_naji=null
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000è¾“å…¥æ•°å€¼é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF00å¤§äº1|cffFF0000çš„æ•°å€¼|r")
    endif
endfunction
function TestA11_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local integer z_naji=StringLength(GetEventPlayerChatString()) - 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), z_naji, z_naji + 1)
        if Sdummy_naji[1] == "," then
            set z_naji=S2I(SubString(GetEventPlayerChatString(), z_naji + 1, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
        set z_naji=z_naji - 1
        if z_naji <= 0 then
            set z_naji=GetPlayerId(GetTriggerPlayer()) + 1
            exitwhen true
        endif
    endloop
    if z_naji <= 0 or z_naji >= 17 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç¬¬äºŒå‚æ•°è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000é—´çš„æ•´æ•°|r")
        return
    endif
    call SetPlayerState(Player(z_naji - 1), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(Player(z_naji - 1), PLAYER_STATE_RESOURCE_LUMBER) + i_naji)
    if i_naji > 0 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä¸º|cff00FFFF" + GetPlayerName(Player(z_naji - 1)) + "|cffFF0000å¢åŠ äº†|cffFFFF00" + I2S(i_naji) + "|cffFF0000æœ¨å¤´|r")
    elseif i_naji < 0 then
        set i_naji=i_naji * - 1
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä¸º|cff00FFFF" + GetPlayerName(Player(z_naji - 1)) + "|cffFF0000å‡å°‘äº†|cffFFFF00" + I2S(i_naji) + "|cffFF0000æœ¨å¤´|r")
    endif
endfunction
function TestA10_naji takes nothing returns nothing
    local integer i_naji=S2I(SubString(GetEventPlayerChatString(), 3, StringLength(GetEventPlayerChatString())))
    local integer z_naji=StringLength(GetEventPlayerChatString()) - 1
    loop
        set Sdummy_naji[1]=SubString(GetEventPlayerChatString(), z_naji, z_naji + 1)
        if Sdummy_naji[1] == "," then
            set z_naji=S2I(SubString(GetEventPlayerChatString(), z_naji + 1, StringLength(GetEventPlayerChatString())))
            exitwhen true
        endif
        set z_naji=z_naji - 1
        if z_naji <= 0 then
            set z_naji=GetPlayerId(GetTriggerPlayer()) + 1
            exitwhen true
        endif
    endloop
    if z_naji <= 0 or z_naji >= 17 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ç¬¬äºŒå‚æ•°è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥|cffFFFF001~16|cffFF0000é—´çš„æ•´æ•°|r")
        return
    endif
    call SetPlayerState(Player(z_naji - 1), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(z_naji - 1), PLAYER_STATE_RESOURCE_GOLD) + i_naji)
    if i_naji > 0 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä¸º|cff00FFFF" + GetPlayerName(Player(z_naji - 1)) + "|cffFF0000å¢åŠ äº†|cffFFFF00" + I2S(i_naji) + "|cffFF0000é»„é‡‘|r")
    elseif i_naji < 0 then
        set i_naji=i_naji * - 1
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000ä¸º|cff00FFFF" + GetPlayerName(Player(z_naji - 1)) + "|cffFF0000å‡å°‘äº†|cffFFFF00" + I2S(i_naji) + "|cffFF0000é»„é‡‘|r")
    endif
endfunction
//=========================ä»¥ä¸‹éƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
function TestA9_naji takes nothing returns nothing
    local location p_naji=Location(0, 0)
    set Rhandle_naji=Rhandle_naji + 0.1
    if Rhandle_naji >= 60 then
        set Sdummy_naji[2]=R2S(Rhandle_naji - I2R(R2I(Rhandle_naji / 60)) * 60)
        if S2R(Sdummy_naji[2]) == 60 then
            set Sdummy_naji[2]="0.0"
        else
            set Sdummy_naji[2]=SubString(" " + Sdummy_naji[2], 1, StringLength(Sdummy_naji[2]) - 1)
        endif
        set Sdummy_naji[1]=" " + R2S(Rhandle_naji / 60)
        set Sdummy_naji[1]=SubString(Sdummy_naji[1], 1, StringLength(Sdummy_naji[1]) - 4) + "åˆ†" + Sdummy_naji[2] + "ç§’"
    else
        set Sdummy_naji[1]=" " + R2S(Rhandle_naji)
        set Sdummy_naji[1]=SubString(Sdummy_naji[1], 1, StringLength(Sdummy_naji[1]) - 2) + "ç§’"
    endif
    call DisplayTextToPlayer(Ptest_naji, 0, 0, "|cffFFFF00åŸºå‡†å€¼ï¼š|r" + I2S(Ihandle_naji) + "|cffFFFF00â€”â€”å½“å‰å€¼ï¼š|r" + I2S(GetHandleId(p_naji)) + "|cffFFFF00â€”â€”å·®å€¼ï¼š|r" + I2S(GetHandleId(p_naji) - Ihandle_naji) + "|cffFFFF00â€”â€”å¼€å¯æ—¶é—´ï¼š|r" + Sdummy_naji[1])
    call RemoveLocation(p_naji)
    set p_naji=null
endfunction
//=========================ä»¥ä¸Šéƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
function TestA7_naji takes nothing returns nothing
    local group g_naji=CreateGroup()
    local unit u_naji
    call GroupEnumUnitsSelected(g_naji, GetTriggerPlayer(), null)
    if FirstOfGroup(g_naji) != null then
        loop
            set u_naji=FirstOfGroup(g_naji)
            exitwhen u_naji == null
            call GroupRemoveUnit(g_naji, u_naji)
            call SetUnitState(u_naji, UNIT_STATE_LIFE, GetUnitState(u_naji, UNIT_STATE_MAX_LIFE))
            call SetUnitState(u_naji, UNIT_STATE_MANA, GetUnitState(u_naji, UNIT_STATE_MAX_MANA))
            call UnitResetCooldown(u_naji)
        endloop
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ¢å¤äº†æ‰€æœ‰ç©å®¶é€‰æ‹©å•ä½çš„|cffFFFF00ç”Ÿå‘½/é­”æ³•/å†·å´|r")
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffFF0000æ²¡æœ‰|cffFFFF00é€‰ä¸­|cffFF0000ä»»ä½•å•ä½|r")
    endif
    call DestroyGroup(g_naji)
    set g_naji=null
    set u_naji=null
endfunction
function TestA6_naji takes nothing returns nothing
    local timer t_naji=GetExpiredTimer()
    local unit u_naji
    loop
        set u_naji=FirstOfGroup(Gcd_naji[0])
        exitwhen u_naji == null
        call GroupRemoveUnit(Gcd_naji[0], u_naji)
        call SetUnitState(u_naji, UNIT_STATE_MANA, GetUnitState(u_naji, UNIT_STATE_MAX_MANA))
        call UnitResetCooldown(u_naji)
    endloop
    call DestroyTimer(t_naji)
    set t_naji=null
    set u_naji=null
endfunction
function TestA5_naji takes nothing returns nothing
    local timer t_naji
    if IsUnitInGroup(GetTriggerUnit(), Gcd_naji[1]) then
        set t_naji=CreateTimer()
        call GroupAddUnit(Gcd_naji[0], GetTriggerUnit())
        call TimerStart(t_naji, 0, false, function TestA6_naji)
        set t_naji=null
    endif
endfunction
function TestA3_naji takes nothing returns nothing
    local location p_naji
    if Bpn_naji then
        set Sdummy_naji[3]=GetPlayerName(GetTriggerPlayer()) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetTriggerPlayer()) + 1) + "ï¼‰"
    else
        set Sdummy_naji[3]=""
    endif
    if GetSpellTargetUnit() == null then
        if GetSpellTargetDestructable() == null then
            if GetSpellTargetItem() == null then
                set p_naji=GetSpellTargetLoc()
                if p_naji == null then
                    call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF8000æ–½æ”¾äº†|cffFFFF00" + GetObjectName(GetSpellAbilityId()) + "|cffFF0000" + ID2S_naji(GetSpellAbilityId()) + "|r")
                else
                    call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF8000æ–½æ”¾äº†|cffFFFF00" + GetObjectName(GetSpellAbilityId()) + "|cffFF0000" + ID2S_naji(GetSpellAbilityId()) + "|cff00FFFFç›®æ ‡ç‚¹ä¸º|cffFFFF00ï¼ˆ" + R2S(GetLocationX(p_naji)) + "," + R2S(GetLocationY(p_naji)) + "ï¼‰|r")
                endif
                call RemoveLocation(p_naji)
                set p_naji=null
            else
                if Bxy_naji then
                    set Sdummy_naji[1]="ï¼ˆ" + R2S(GetUnitX(GetTriggerUnit())) + "," + R2S(GetUnitY(GetTriggerUnit())) + "ï¼‰"
                    set Sdummy_naji[2]="ï¼ˆ" + R2S(GetWidgetX(GetSpellTargetItem())) + "," + R2S(GetWidgetY(GetSpellTargetItem())) + "ï¼‰"
                else
                    set Sdummy_naji[1]=""
                    set Sdummy_naji[2]=""
                endif
                call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF8000æ–½æ”¾äº†|cffFFFF00" + GetObjectName(GetSpellAbilityId()) + "|cffFF0000" + ID2S_naji(GetSpellAbilityId()) + "|cff00FFFFç›®æ ‡ä¸º|cffFFFF00" + GetItemName(GetSpellTargetItem()) + "|cffFF0000" + ID2S_naji(GetItemTypeId(GetSpellTargetItem())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
            endif
        else
            if Bxy_naji then
                set Sdummy_naji[1]="ï¼ˆ" + R2S(GetUnitX(GetTriggerUnit())) + "," + R2S(GetUnitY(GetTriggerUnit())) + "ï¼‰"
                set Sdummy_naji[2]="ï¼ˆ" + R2S(GetWidgetX(GetSpellTargetDestructable())) + "," + R2S(GetWidgetY(GetSpellTargetDestructable())) + "ï¼‰"
            else
                set Sdummy_naji[1]=""
                set Sdummy_naji[2]=""
            endif
            call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF8000æ–½æ”¾äº†|cffFFFF00" + GetObjectName(GetSpellAbilityId()) + "|cffFF0000" + ID2S_naji(GetSpellAbilityId()) + "|cff00FFFFç›®æ ‡ä¸º|cffFFFF00" + GetDestructableName(GetSpellTargetDestructable()) + "|cffFF0000" + ID2S_naji(GetDestructableTypeId(GetSpellTargetDestructable())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
        endif
    else
        if Bpn_naji then
            set Sdummy_naji[4]=GetPlayerName(GetOwningPlayer(GetSpellTargetUnit())) + "ï¼ˆç©å®¶" + I2S(GetPlayerId(GetOwningPlayer(GetSpellTargetUnit())) + 1) + "ï¼‰"
        else
            set Sdummy_naji[4]=""
        endif
        if Bxy_naji then
            set Sdummy_naji[1]="ï¼ˆ" + R2S(GetUnitX(GetTriggerUnit())) + "," + R2S(GetUnitY(GetTriggerUnit())) + "ï¼‰"
            set Sdummy_naji[2]="ï¼ˆ" + R2S(GetWidgetX(GetSpellTargetUnit())) + "," + R2S(GetWidgetY(GetSpellTargetUnit())) + "ï¼‰"
        else
            set Sdummy_naji[1]=""
            set Sdummy_naji[2]=""
        endif
        call DisplayTextToPlayer(Ptest_naji, 0, 0, Sdummy_naji[3] + "|cffFFFF00" + GetUnitName(GetTriggerUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetTriggerUnit())) + "|cffFFFF00" + Sdummy_naji[1] + "|cffFF8000æ–½æ”¾äº†|cffFFFF00" + GetObjectName(GetSpellAbilityId()) + "|cffFF0000" + ID2S_naji(GetSpellAbilityId()) + "|cff00FFFFç›®æ ‡ä¸º|r" + Sdummy_naji[4] + "|cffFFFF00" + GetUnitName(GetSpellTargetUnit()) + "|cffFF0000" + ID2S_naji(GetUnitTypeId(GetSpellTargetUnit())) + "|cffFFFF00" + Sdummy_naji[2] + "|r")
    endif
endfunction
function TestA8_naji takes nothing returns nothing
    if GetClickedButton() != Button_naji[0] and GetClickedButton() != Button_naji[100] then
        if GetClickedButton() == Button_naji[1] then
            if Bxy_naji then
                set Bxy_naji=false
            else
                set Bxy_naji=true
            endif
        elseif GetClickedButton() == Button_naji[2] then
            if Bid_naji then
                set Bid_naji=false
            else
                set Bid_naji=true
            endif
        elseif GetClickedButton() == Button_naji[3] then
            if Bpn_naji then
                set Bpn_naji=false
            else
                set Bpn_naji=true
            endif
        elseif GetClickedButton() == Button_naji[4] then
            if Bir_naji then
                set Bir_naji=false
            else
                set Bir_naji=true
            endif
        elseif GetClickedButton() == Button_naji[5] then
            if Bddm_naji then
                set Bddm_naji=false
            else
                set Bddm_naji=true
            endif
        endif
        call DialogResetA2_naji()
        call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[1], true)
    elseif GetClickedButton() == Button_naji[0] then
        call DialogResetA_naji()
        call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[0], true)
    endif
endfunction
function TestA4_naji takes nothing returns nothing
    local location p_naji
    local group g_naji
    local integer i_naji
    local unit u_naji
    if GetClickedButton() != Button_naji[0] and GetClickedButton() != Button_naji[100] then
        if GetClickedButton() == Button_naji[1] then
            if IsTriggerEnabled(Ttest_naji[2]) then
                call DisableTrigger(Ttest_naji[2])
            else
                call EnableTrigger(Ttest_naji[2])
            endif
        elseif GetClickedButton() == Button_naji[2] then
            if IsTriggerEnabled(Ttest_naji[15]) then
                call DisableTrigger(Ttest_naji[15])
            else
                call EnableTrigger(Ttest_naji[15])
            endif
        elseif GetClickedButton() == Button_naji[3] then
            if IsTriggerEnabled(Ttest_naji[17]) then
                call DisableTrigger(Ttest_naji[17])
            else
                call EnableTrigger(Ttest_naji[17])
            endif
        elseif GetClickedButton() == Button_naji[4] then
            if IsTriggerEnabled(Ttest_naji[26]) then
                call DestroyTrigger(Ttest_naji[0])
                call DisableTrigger(Ttest_naji[26])
                set Rdummy_naji=0
            else
                set Ttest_naji[0]=CreateTrigger()
                call TriggerAddCondition(Ttest_naji[0], Condition(function TestA29_naji))
                call EnableTrigger(Ttest_naji[26])
                set g_naji=CreateGroup()
                set i_naji=0
                loop
                    call GroupEnumUnitsOfPlayer(g_naji, Player(i_naji), null)
                    loop
                        set u_naji=FirstOfGroup(g_naji)
                        exitwhen u_naji == null
                        call GroupRemoveUnit(g_naji, u_naji)
                        if GetUnitAbilityLevel(u_naji, 'Aloc') == 0 then
                            call TriggerRegisterUnitEvent(Ttest_naji[0], u_naji, EVENT_UNIT_DAMAGED)
                        endif
                    endloop
                    set i_naji=i_naji + 1
                    exitwhen i_naji >= 16
                endloop
                set Rdummy_naji=0
                call DestroyGroup(g_naji)
                set g_naji=null
            endif
        elseif GetClickedButton() == Button_naji[5] then
            if IsTriggerEnabled(Ttest_naji[4]) then
                call DestroyGroup(Gcd_naji[1])
                call DisableTrigger(Ttest_naji[4])
            else
                set Gcd_naji[1]=CreateGroup()
                call EnableTrigger(Ttest_naji[4])
            endif
    //=========================ä»¥ä¸‹éƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
        elseif GetClickedButton() == Button_naji[6] then
            if IsTriggerEnabled(Ttest_naji[7]) then
                call DisableTrigger(Ttest_naji[7])
            else
                call EnableTrigger(Ttest_naji[7])
                set Ihandle_naji=0
                set Rhandle_naji=0
                set p_naji=Location(0, 0)
                set Ihandle_naji=GetHandleId(p_naji)
                call EnableTrigger(Ttest_naji[7])
                call RemoveLocation(p_naji)
                set p_naji=null
            endif
    //=========================ä»¥ä¸Šéƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
        elseif GetClickedButton() == Button_naji[7] then
            if IsTriggerEnabled(Ttest_naji[61]) then
                call DisableTrigger(Ttest_naji[61])
            else
                call EnableTrigger(Ttest_naji[61])
            endif
        elseif GetClickedButton() == Button_naji[8] then
            if IsTriggerEnabled(Ttest_naji[71]) then
                call DestroyGroup(Gms_naji)
                call DisableTrigger(Ttest_naji[71])
            else
                set Gms_naji=CreateGroup()
                call EnableTrigger(Ttest_naji[71])
            endif
        endif
        call DialogResetA_naji()
        call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[0], true)
    elseif GetClickedButton() == Button_naji[0] then
        call DialogResetA2_naji()
        call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[1], true)
    endif
    set u_naji=null
endfunction
function TestA2_naji takes nothing returns nothing
    call DialogResetA_naji()
    call DialogDisplay(GetTriggerPlayer(), Dnaji_naji[0], true)
endfunction
//=====================================#åŠŸèƒ½å‡½æ•°ç»“æŸ=====================================
//=====================================$åˆå§‹åŒ–å‡½æ•°å¼€å§‹=====================================
function TestA_naji takes nothing returns nothing
    local integer i_naji
    local integer row_naji=2769
    set Sdummy_naji[1]="2013/11/04"
    // æ‹¥æœ‰æµ‹è¯•æƒé™
    if udg_isTest[GetPlayerId(GetTriggerPlayer())] or testVersion then
    // if udg_vip[1+GetPlayerId(GetTriggerPlayer())]>1 then
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cff00FF00===============*****===============|r")
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cffFF8000         å¼€å§‹åˆå§‹åŒ–|cff00FFFFnajitest|cffFF8000æµ‹è¯•ä»£ç |r")
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cffFF80C0                ä»£ç ç‰ˆæœ¬ï¼š|cffFF0000V2.4|r")
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cff00FF00              æ›´æ–°æ—¥æœŸï¼š|cffFF0000" + Sdummy_naji[1] + "|r")
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cffFFFF00       éœ€è¦æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ä»£ç è¯·æŒ‰ä¸‹|cffFF0000F9|r")
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cffFFFF00     ä»»æ„ç©å®¶è¾“å…¥|cffFF0000'remove|cffFFFF00å¯æ¸…é™¤è¯¥ç³»ç»Ÿ|r")
    	call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 30, "|cff00FF00===============*****===============|r")
    	set Ptest_naji=GetTriggerPlayer()
    	set StringList_naji=".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................"
    	set Rworld_naji=CreateRegion()
    	call RegionAddRect(Rworld_naji, GetWorldBounds())
    	set Itrigger_naji=0
    	loop
    	    set Itrigger_naji=Itrigger_naji + 1
    	    set Ttest_naji[Itrigger_naji]=CreateTrigger()
    	    exitwhen Itrigger_naji >= 77
    	endloop
    	set Iquest_naji=0
    	loop
    	    set Iquest_naji=Iquest_naji + 1
    	    set Q_naji[Iquest_naji]=CreateQuest()
    	    call QuestSetIconPath(Q_naji[Iquest_naji], "Buildings\\Other\\TempArtB\\BTNTempB.blp")
    	    call QuestSetRequired(Q_naji[Iquest_naji], false)
    	    call QuestSetDiscovered(Q_naji[Iquest_naji], true)
    	    call QuestSetCompleted(Q_naji[Iquest_naji], false)
    	    exitwhen Iquest_naji >= 13
    	endloop
    	set i_naji=61
    	call QuestSetTitle(Q_naji[1], "|cffFF0000najitestå¸®åŠ©ä¿¡æ¯")
    	call QuestSetDescription(Q_naji[1], "|cff00FFFFæ³¨æ„ï¼š|r|n|cff00FFFF1ã€|cffFF0000*|cffFFFF00ä»£è¡¨éœ€è¦è¾“å…¥|cffFF80C0æ•°å­—/æ–‡å­—ï¼Œä¸”å…¶æ•°é‡ä»£è¡¨è¦è¾“å…¥å¤šå°‘ä¸ªå‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨è‹±æ–‡é€—å·éš”å¼€ã€‚å¤šå‚æ•°å‘½ä»¤çš„ç¬¬1å‚æ•°å¿…éœ€è¾“å…¥ï¼Œå…¶å®ƒå‚æ•°è‹¥ç©ºç¼ºåˆ™ç³»ç»Ÿä¼šè‡ªåŠ¨å¡«è¡¥|r|n|cff00FFFF2ã€|cffFF0000(s)|cffFFFF00ä»£è¡¨è¯¥ä»£ç åŠŸèƒ½å¯ä»¥åŒæ—¶ä½œç”¨|cffFF80C0ç©å®¶é€‰æ‹©çš„æ‰€æœ‰å•ä½|r|n|cff00FFFF3ã€|cffFFFF00å¾ˆå¤šåŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡|cffFF80C0åå¤è¾“å…¥ä»£ç |cffFFFF00æ¥åˆ‡æ¢|cffFF0000å¼€/å…³|r|n|cff00FFFF4ã€|cffFFFF00ä¸ºä¿æŒç¨³å®šï¼Œåˆ¤å®š|cffFF80C0ç©å®¶é€‰æ‹©å•ä½|cffFFFF00æ²¡æœ‰åŒæ­¥ç³»ç»Ÿæ•°æ®ï¼Œè¯·ç¡®ä¿åœ¨ä½¿ç”¨ç›¸å…³ä»£ç å‰|cffFF0000é‡æ–°æ¡†é€‰|cffFFFF00åˆé€‚çš„å•ä½|r|n|cff00FFFF5ã€|cffFFFF00å¤§éƒ¨åˆ†åŠŸèƒ½æ”¯æŒ|cffFF0000è´Ÿæ•°|cffFFFF00ï¼Œä¸æ”¯æŒè´Ÿæ•°çš„åŠŸèƒ½è¾“å…¥è´Ÿå€¼ä¼š|cffFF80C0è¿˜åŸé»˜è®¤è®¾å®š|r|n|cff00FFFF6ã€|cffFFFF00ä½¿ç”¨è€…å¯ä»¥åœ¨ä»»ä½•æ—¶å€™|cffFF0000æŒ‰ä¸‹Esc|cffFFFF00é‡æ–°è·å¾—ç”¨æˆ·æ§åˆ¶æƒåŠå…³é—­ç”µå½±æ¨¡å¼|r")
    	call QuestSetTitle(Q_naji[2], "|cffFF0000ç‹¬ç«‹ç³»ç»Ÿ")
    	call QuestSetDescription(Q_naji[2], "|cffFFFF00'fengshu|cffFF0000(|rnajitest system|cffFF0000)|r|cffFFFF00'gms|cffFF0000(|r(Group Multiple Spell)|cffFF0000)|r|cffFFFF00'gcd|cffFF0000(|r(Group Cool Down)|cffFF0000)|r|n|n|cff00FFFFè¯¥ç³»ç»ŸåŒ…å«ä¼—å¤šæµ‹è¯•åŠŸèƒ½ï¼Œè¾“å…¥åä¼šæ‰“å¼€ä¸€ä¸ªå¯¹è¯æ¡†")
    	call QuestSetTitle(Q_naji[3], "|cffFF0000å•ä½-è‹±é›„ï¼ˆå¿…é¡»é€‰æ‹©è‹±é›„ï¼‰")
    	call QuestSetDescription(Q_naji[3], "|cffFFFF00'hl*|cffFF0000(|rset Hero(s) Level|cffFF0000)|r|cffFFFF00'hp*|cffFF0000(|radd Hero(s) skill Point|cffFF0000)|r|cffFFFF00'hs*|cffFF0000(|rset Hero(s) Str|cffFF0000)|r|cffFFFF00'ha*|cffFF0000(|rset Hero(s) Agi|cffFF0000)|r|cffFFFF00'hi*|cffFF0000(|rset Hero(s) Int|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[4], "|cffFF0000å•ä½-æ•°å€¼ï¼ˆå¿…é¡»é€‰æ‹©å•ä½ï¼‰")
    	call QuestSetDescription(Q_naji[4], "|cffFFFF00'uts*|cffFF0000(|rUnit(s) Time Scale|cffFF0000)|r|cffFFFF00'uic**|cffFF0000(|rset Unit's Item Charge|cffFF0000)|r|cffFFFF00'um*|cffFF0000(|rset Unit(s) Move speed|cffFF0000)|r|cffFFFF00'uus*|cffFF0000(|rset Unit(s) tUrn Speed|cffFF0000)|r|cffFFFF00'uar*|cffFF0000(|rset Unit(s) Acquire Range|cffFF0000)|r|cffFFFF00'ufh*|cffFF0000(|rset Unit(s) Fly Height|cffFF0000)|r|cffFFFF00'ud*|cffFF0000(|rset Unit(s) user Data|cffFF0000)|r|cffFFFF00'us*|cffFF0000(|rset Unit(s) Scale|cffFF0000)|r|cffFFFF00'uvc****|cffFF0000(|rset Unit(s) Vertax Color|cffFF0000)|r|cffFFFF00'uxy**|cffFF0000(|rset Unit(s) XY|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[5], "|cffFF0000å•ä½-çŠ¶æ€ï¼ˆå¿…é¡»é€‰æ‹©å•ä½ï¼‰")
    	call QuestSetDescription(Q_naji[5], "|cffFFFF00'uh|cffFF0000(|rUnit(s) Healing|cffFF0000)|r|cffFFFF00'up|cffFF0000(|rUnit(s) Pause|cffFF0000)|r|cffFFFF00'ub|cffFF0000(|rUnit(s) Buff clear|cffFF0000)|r|cffFFFF00'uw|cffFF0000(|rUnit(s) Windwalk|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[6], "|cffFF0000å•ä½-ç‰¹æ®Šï¼ˆå¿…é¡»é€‰æ‹©å•ä½ï¼‰")
    	call QuestSetDescription(Q_naji[6], "|cffFFFF00'ua*|cffFF0000(|rplay Unit(s) Animation by index|cffFF0000)|r|cffFFFF00'ui|cffFF0000(|rUnit Information|cffFF0000)|r|cffFFFF00'uo*|cffFF0000(|rset Unit(s) Owner|cffFF0000)|r|cffFFFF00'uk|cffFF0000(|rUnit(s) Killed|cffFF0000)|r|cffFFFF00'co**|cffFF0000(|rCreate Object|cffFF0000)|r|cffFFFF00'ul|cffFF0000(|rUnit camera Lock|cffFF0000)|r|cffFFFF00'ur|cffFF0000(|rUnit(s) Remove|cffFF0000)|r|cffFFFF00'uii*|cffFF0000(|rUnit's Item Information|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[7], "|cffFF0000ç©å®¶ç›¸å…³")
    	call QuestSetDescription(Q_naji[7], "|cffFFFF00'ag**/al**|cffFF0000(|rAdd Gold/Lumber|cffFF0000)|r|cffFFFF00'pc**|cffFF0000(|rPlayer Control|cffFF0000)|r|cffFFFF00'pa**|cffFF0000(|rset Player Alliance|cffFF0000)|r|cffFFFF00'pk*|cffFF0000(|rPlayer Kicked|cffFF0000)|r|cffFFFF00'ph**|cffFF0000(|rset Player Handicap|cffFF0000)|r|cffFFFF00'pn*|cffFF0000(|rPlayer Name|cffFF0000)|r|cffFFFF00'pt***|cffFF0000(|rPlayer Tech|cffFF0000)|r|cffFFFF00'psl|cffFF0000(|rPlayer Statistics List|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[8], "|cffFF0000é•œå¤´ç›¸å…³")
    	call QuestSetDescription(Q_naji[8], "|cffFFFF00'cm|cffFF0000(|rCamera Mode|cffFF0000)|r|cffFFFF00'cd*|cffFF0000(|rCamera Distance|cffFF0000)|r|cffFFFF00'cr|cffFF0000(|rCamera Reset|cffFF0000)|r|cffFFFF00'ci|cffFF0000(|rCamera Information|cffFF0000)|r|cffFFFF00'cz*|cffFF0000(|rset Camera farZ|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[9], "|cffFF0000å…¶å®ƒ")
    	call QuestSetDescription(Q_naji[9], "|cffFFFF00'fog|cffFF0000(|rFog|cffFF0000)|r|cffFFFF00'sc|cffFF0000(|rScreen Clear|cffFF0000)|r|cffFFFF00'rd|cffFF0000(|rRoll Dice|cffFF0000)|r|cffFFFF00'bm*|cffFF0000(|rBackup Message|cffFF0000)|r|cffFFFF00'cbm|cffFF0000(|rClear Backup Message|cffFF0000)|r|cffFFFF00'td*|cffFF0000(|rset Time of Day|cffFF0000)|r|cffFFFF00'ts*|cffFF0000(|rset Time of day Scale|cffFF0000)|r|cffFFFF00'we*|cffFF0000(|rWeather Effect|cffFF0000)|r|cffFFFF00'se*|cffFF0000(|rSystem Exchange|cffFF0000)|r|cffFFFF00'ef*|cffFF0000(|rExecute Function|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[10], "|cffFF0000æ¸¸æˆè®¾ç½®")
    	call QuestSetDescription(Q_naji[10], "|cffFFFF00'mv*|cffFF0000(|rMusic Volume|cffFF0000)|r|cffFFFF00'sv*|cffFF0000(|rSound Volume|cffFF0000)|r|cffFFFF00'pg|cffFF0000(|rPause Game|cffFF0000)|r|cffFFFF00'rs*|cffFF0000(|rset Random Seed|cffFF0000)|r|cffFFFF00'gg|cffFF0000(|rGood Game|cffFF0000)|r|cffFFFF00'gs*|cffFF0000(|rset Game Speed|cffFF0000)|r|cffFFFF00'mf|cffFF0000(|rset Map Flag|cffFF0000)|r|cffFFFF00're|cffFF0000(|rRestart|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[11], "|cffFF0000coå‘½ä»¤å¸®åŠ©ä¿¡æ¯")
    	call QuestSetDescription(Q_naji[11], "|cffFF0000coå‘½ä»¤å¯ä»¥åˆ›å»ºå•ä½ã€ç‰©å“ã€å¯ç ´åç‰©ã€æ·»åŠ åˆ é™¤æŠ€èƒ½ã€è®¾ç½®æŠ€èƒ½ç­‰çº§ã€åˆ é™¤buffã€‚è¾“å…¥æ ¼å¼ä¸º'co+id+,+æ•°å€¼ï¼Œæ•°å€¼å¯¹åº”åˆ›å»ºç‰©ä½“çš„æ•°é‡æˆ–æŠ€èƒ½ç­‰çº§ï¼Œå½“æ²¡æœ‰è¾“å…¥æ•°å€¼æ—¶ï¼Œé»˜è®¤ä¸º1ã€‚å½“å•ä½å·²ç»æ‹¥æœ‰è¯¥æŠ€èƒ½ï¼Œå¸¦æœ‰æ•°å€¼çš„'coå‘½ä»¤ä¼šæ”¹å˜ç­‰çº§ï¼Œä¸å¸¦æ•°å€¼çš„åˆ™ä¼šåˆ é™¤æŠ€èƒ½ã€‚|n|n|cffFFFF00Amov|cffFF0000(|rç§»åŠ¨|cffFF0000)|r|cffFFFF00Abun|cffFF0000(|rè´§ç‰©ä¿æŒ|cffFF0000)|r|cffFFFF00Avul|cffFF0000(|ræ— æ•Œ|cffFF0000)|r|cffFFFF00AInv|cffFF0000(|rè‹±é›„ç‰©å“æ |cffFF0000)|r|cffFFFF00ARal|cffFF0000(|ré›†ç»“|cffFF0000)|r|cffFFFF00Arng|cffFF0000(|rå¤ä»‡|cffFF0000)|r|cffFFFF00Awan|cffFF0000(|ræ¸¸è¡è€…|cffFF0000)|r|cffFFFF00Ane2|cffFF0000(|ré€‰æ‹©å•ä½|cffFF0000)|r|cffFFFF00Apiv|cffFF0000(|ræ°¸ä¹…éšå½¢|cffFF0000)|r|cffFFFF00Adtg|cffFF0000(|rçœŸå®è§†åŸŸ|cffFF0000)|r|cffFFFF00Aeth|cffFF0000(|rå¯è§å¹½çµ|cffFF0000)|r|cffFFFF00Arsk|cffFF0000(|ræŠ—æ€§çš®è‚¤|cffFF0000)|r|cffFFFF00Acmi|cffFF0000(|ré­”æ³•å…ç–«|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[12], "|cffFF0000weå‘½ä»¤å¸®åŠ©ä¿¡æ¯")
    	call QuestSetDescription(Q_naji[12], "|cffFF0000æ³¨æ„ä¹±è¾“4ä½IDä¼šæ¸¸æˆå´©æºƒï¼è¾“å…¥çš„IDæœªæ»¡4ä½æ—¶ä¼šæ¸…é™¤æ‰€æœ‰å·²åˆ›å»ºçš„å…¨å›¾å¤©æ°”ã€‚|r|n|n|cffFFFF00RA(h/l)r|cffFF0000(|rç™½æ¨è°·(å¤§/å°)é›¨|cffFF0000)|r|cffFFFF00MEds|cffFF0000(|rè¾¾æ‹‰ç„¶ä¹‹ç›¾|cffFF0000)|r|cffFFFF00FD(b/g/r/w)(h/l)|cffFF0000(|råœ°ä¸‹åŸ(è“/ç»¿/çº¢/ç™½)(æµ“/è–„)é›¾|cffFF0000)|r|cffFFFF00RL(h/l)r|cffFF0000(|ræ´›ä¸¹ä¼¦(å¤§/å°)é›¨|cffFF0000)|r|cffFFFF00SN(b/h/l)s|cffFF0000(|rè¯ºæ£®å¾·(æš´/å¤§/å°)é›ª|cffFF0000)|r|cffFFFF00WO(c/l)w|cffFF0000(|rè¾¹ç¼˜ä¹‹åœ°(å¤§/å°)é£|cffFF0000)|r|cffFFFF00Lr(a/m)a|cffFF0000(|r(æ—¥/æœˆ)å…‰|cffFF0000)|r|cffFFFF00WNcw|cffFF0000(|rå¤§é£|cffFF0000)|r")
    	call QuestSetTitle(Q_naji[13], "|cffFF0000najiteståŸºæœ¬ä¿¡æ¯")
    	call QuestSetDescription(Q_naji[13], "|cffFFFF00è„šæœ¬ä½œè€…ï¼š|cffFF0000najizhimo|r|n|cffFFFF00å½“å‰ä½¿ç”¨è€…ï¼š|cffFF0000" + GetPlayerName(Ptest_naji) + "|r|n|cffFFFF00æ›´æ–°æ—¥æœŸï¼š|cffFF0000" + Sdummy_naji[1] + "|n|cffFFFF00å¯ç”¨ä»£ç æ•°é‡ï¼š|cffFF0000" + I2S(i_naji) + "|r|n|cffFFFF00æ³¨å†Œè§¦å‘æ•°é‡ï¼š|cffFF0000" + I2S(Itrigger_naji) + "|r|n|cffFFFF00åˆ›å»ºä»»åŠ¡æ•°é‡ï¼š|cffFF0000" + I2S(Iquest_naji) + "|r|n|cffFFFF00è„šæœ¬è¡Œæ•°ï¼š|cffFF0000" + I2S(row_naji) + "|n|cffFFFF00å¯¹æ­¤ç³»ç»Ÿæœ‰ä»»ä½•æè®®è¯·åˆ°|cffFF80C0ç™¾åº¦é­”å…½åœ°å›¾ç¼–è¾‘å™¨è´´å§|cffFFFF00å‘è´´|r|n|cffFFFF00ä»»æ„ç©å®¶è¾“å…¥|cffFF0000'remove|cffFFFF00å¯æ¸…é™¤è¯¥ç³»ç»Ÿ|r")
    	call FlashQuestDialogButton()
    	//=========================naji systemå¼€å§‹==============================
    	    //'fengshu(najitest system)
    	set Dnaji_naji[0]=DialogCreate()
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[1], GetTriggerPlayer(), "'fengshu", true)
    	call TriggerAddCondition(Ttest_naji[1], Condition(function TestA2_naji))
    	call TriggerRegisterDialogEvent(Ttest_naji[3], Dnaji_naji[0])
    	call TriggerAddCondition(Ttest_naji[3], Condition(function TestA4_naji))
    	    //Display Ability
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[2], Player(i_naji), EVENT_PLAYER_UNIT_SPELL_EFFECT, null)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[2], Condition(function TestA3_naji))
    	call DisableTrigger(Ttest_naji[2])
    	    //Display Order
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[15], Player(i_naji), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER, null)
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[15], Player(i_naji), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER, null)
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[15], Player(i_naji), EVENT_PLAYER_UNIT_ISSUED_ORDER, null)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[15], Condition(function TestA17_naji))
    	call DisableTrigger(Ttest_naji[15])
    	    //Display Life
    	call TriggerRegisterEnterRegion(Ttest_naji[17], Rworld_naji, null)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[17], Player(i_naji), EVENT_PLAYER_UNIT_DEATH, null)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[17], Condition(function TestA19_naji))
    	call DisableTrigger(Ttest_naji[17])
    	    //Display Damage
    	call TriggerRegisterEnterRegion(Ttest_naji[26], Rworld_naji, null)
    	call TriggerAddCondition(Ttest_naji[26], Condition(function TestA28_naji))
    	call DisableTrigger(Ttest_naji[26])
    	    //No cd mana Cost
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[4], Player(i_naji), EVENT_PLAYER_UNIT_SPELL_EFFECT, null)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[4], Condition(function TestA5_naji))
    	call DisableTrigger(Ttest_naji[4])
    	set Gcd_naji[0]=CreateGroup()
    	set Gcd_naji[1]=null
    	//=========================ä»¥ä¸‹éƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
    	    //Display Handle
    	call TriggerRegisterTimerEvent(Ttest_naji[7], 0.1, true)
    	call TriggerAddCondition(Ttest_naji[7], Condition(function TestA9_naji))
    	call DisableTrigger(Ttest_naji[7])
    	//=========================ä»¥ä¸Šéƒ¨åˆ†1.24ä»¥ä¸‹çš„ç‰ˆæœ¬éœ€åˆ é™¤==============================
    	    //Observer
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[61], Player(i_naji), "", false)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call DisableTrigger(Ttest_naji[61])
    	call TriggerAddCondition(Ttest_naji[61], Condition(function TestA66_naji))
    	    //Multiple Spell
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerUnitEvent(Ttest_naji[71], Player(i_naji), EVENT_PLAYER_UNIT_SPELL_EFFECT, null)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[71], Condition(function TestA76_naji))
    	call DisableTrigger(Ttest_naji[71])
    	set Gms_naji=null
    	    //ç³»ç»Ÿä¿¡æ¯è°ƒæ•´
    	set Dnaji_naji[1]=DialogCreate()
    	call TriggerRegisterDialogEvent(Ttest_naji[6], Dnaji_naji[1])
    	call TriggerAddCondition(Ttest_naji[6], Condition(function TestA8_naji))
    	        //whether display widget XY
    	set Bxy_naji=true
    	        //whether display widget ID
    	set Bid_naji=true
    	        //whether display Player Name
    	set Bpn_naji=false
    	        //whether display Int or Real
    	set Bir_naji=true
    	        //change Display Damage Mode
    	set Bddm_naji=false
    	//=========================naji systemç»“æŸ==============================
    	//â€™uh(Unit(s) Healing)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[5], GetTriggerPlayer(), "'uh", true)
    	call TriggerAddCondition(Ttest_naji[5], Condition(function TestA7_naji))
    	//â€™ag**/al**(Add Gold/Lumber)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[8], GetTriggerPlayer(), "'ag", false)
    	call TriggerAddCondition(Ttest_naji[8], Condition(function TestA10_naji))
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[9], GetTriggerPlayer(), "'al", false)
    	call TriggerAddCondition(Ttest_naji[9], Condition(function TestA11_naji))
    	//â€™hl*(set Hero(s) Level)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[10], GetTriggerPlayer(), "'hl", false)
    	call TriggerAddCondition(Ttest_naji[10], Condition(function TestA12_naji))
    	//â€™fog(Fog)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[11], GetTriggerPlayer(), "'fog", true)
    	call TriggerAddCondition(Ttest_naji[11], Condition(function TestA13_naji))
    	if IsMapFlagSet(MAP_FOG_ALWAYS_VISIBLE) then
    	    set Bfog_naji=false
    	else
    	    set Bfog_naji=true
    	endif
    	//â€™ua*(play Unit(s) Animation by index)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[12], GetTriggerPlayer(), "'ua", false)
    	call TriggerAddCondition(Ttest_naji[12], Condition(function TestA14_naji))
    	//â€™cd(Camera Distance)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[13], Player(i_naji), "'cd", false)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[13], Condition(function TestA15_naji))
    	//'ur(Unit(s) Remove)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[14], GetTriggerPlayer(), "'ur", true)
    	call TriggerAddCondition(Ttest_naji[14], Condition(function TestA16_naji))
    	//'pn(Player Name)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[16], Player(i_naji), "'pn", false)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[16], Condition(function TestA18_naji))
    	//'sc(Screen Clear)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[18], Player(i_naji), "'sc", true)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[18], Condition(function TestA20_naji))
    	//'cr(Camera Reset)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[19], Player(i_naji), "'cr", true)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[19], Condition(function TestA21_naji))
    	//â€™ui(Unit Information)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[20], Player(i_naji), "'ui", true)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[20], Condition(function TestA22_naji))
    	//â€™pc**(Player Control)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[21], GetTriggerPlayer(), "'pc", false)
    	call TriggerAddCondition(Ttest_naji[21], Condition(function TestA23_naji))
    	//'uvc****(set Unit(s) Vertex Color)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[22], GetTriggerPlayer(), "'uvc", false)
    	call TriggerAddCondition(Ttest_naji[22], Condition(function TestA24_naji))
    	//â€™uts*(Unit(s) Time Scale)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[23], GetTriggerPlayer(), "'uts", false)
    	call TriggerAddCondition(Ttest_naji[23], Condition(function TestA25_naji))
    	//â€™pg(Pause Game)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[24], GetTriggerPlayer(), "'pg", true)
    	call TriggerAddCondition(Ttest_naji[24], Condition(function TestA26_naji))
    	set Bpause_naji=false
    	//'psl(Player Statistics List)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[25], GetTriggerPlayer(), "'psl", true)
    	call TriggerAddCondition(Ttest_naji[25], Condition(function TestA27_naji))
    	//'up(Unit(s) Pause)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[27], GetTriggerPlayer(), "'up", true)
    	call TriggerAddCondition(Ttest_naji[27], Condition(function TestA30_naji))
    	//'mv*(Music Volume)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[28], GetTriggerPlayer(), "'mv", false)
    	call TriggerAddCondition(Ttest_naji[28], Condition(function TestA31_naji))
    	//'rd(Roll Dice)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[29], GetTriggerPlayer(), "'rd", true)
    	call TriggerAddCondition(Ttest_naji[29], Condition(function TestA32_naji))
    	//'sv*(Sound Volume)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[30], GetTriggerPlayer(), "'sv", false)
    	call TriggerAddCondition(Ttest_naji[30], Condition(function TestA33_naji))
    	//'bm*(Backup Message)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[31], Player(i_naji), "'bm", false)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[31], Condition(function TestA34_naji))
    	set Ibm_naji=0
    	//'cbm(Clear Backup Message)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[32], GetTriggerPlayer(), "'cbm", true)
    	call TriggerAddCondition(Ttest_naji[32], Condition(function TestA35_naji))
    	//'uic**(set Unit's Item Charge)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[33], GetTriggerPlayer(), "'uic", false)
    	call TriggerAddCondition(Ttest_naji[33], Condition(function TestA36_naji))
    	//'rs*(set Random Seed)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[34], GetTriggerPlayer(), "'rs", false)
    	call TriggerAddCondition(Ttest_naji[34], Condition(function TestA37_naji))
    	//'td*(set Time of Day)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[35], GetTriggerPlayer(), "'td", false)
    	call TriggerAddCondition(Ttest_naji[35], Condition(function TestA38_naji))
    	//'um*(set Unit(s) Move speed)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[36], GetTriggerPlayer(), "'um", false)
    	call TriggerAddCondition(Ttest_naji[36], Condition(function TestA39_naji))
    	//'uus*(set Unit(s) tUrn Speed)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[37], GetTriggerPlayer(), "'uus", false)
    	call TriggerAddCondition(Ttest_naji[37], Condition(function TestA40_naji))
    	//'uar*(set Unit(s) Acquire Range)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[38], GetTriggerPlayer(), "'uar", false)
    	call TriggerAddCondition(Ttest_naji[38], Condition(function TestA41_naji))
    	//'ufh*(set Unit(s) Fly Height)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[39], GetTriggerPlayer(), "'ufh", false)
    	call TriggerAddCondition(Ttest_naji[39], Condition(function TestA42_naji))
    	//'hp*(add Hero(s) skill Point)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[40], GetTriggerPlayer(), "'hp", false)
    	call TriggerAddCondition(Ttest_naji[40], Condition(function TestA43_naji))
    	//'hs*(set Hero(s) Str)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[41], GetTriggerPlayer(), "'hs", false)
    	call TriggerAddCondition(Ttest_naji[41], Condition(function TestA44_naji))
    	//'ha*(set Hero(s) Agi)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[42], GetTriggerPlayer(), "'ha", false)
    	call TriggerAddCondition(Ttest_naji[42], Condition(function TestA45_naji))
    	//'hi*(set Hero(s) Int)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[43], GetTriggerPlayer(), "'hi", false)
    	call TriggerAddCondition(Ttest_naji[43], Condition(function TestA46_naji))
    	//'ud*(set Unit(s) user Data)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[44], GetTriggerPlayer(), "'ud", false)
    	call TriggerAddCondition(Ttest_naji[44], Condition(function TestA47_naji))
    	//'ts*(set Time of day Scale)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[45], GetTriggerPlayer(), "'ts", false)
    	call TriggerAddCondition(Ttest_naji[45], Condition(function TestA48_naji))
    	//'ph**(set Player Handicap)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[46], GetTriggerPlayer(), "'ph", false)
    	call TriggerAddCondition(Ttest_naji[46], Condition(function TestA49_naji))
    	//'uk(Unit(s) killed)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[47], GetTriggerPlayer(), "'uk", true)
    	call TriggerAddCondition(Ttest_naji[47], Condition(function TestA50_naji))
    	//'remove(remove najitest)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[48], Player(i_naji), "'remove", true)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[48], Condition(function TestA51_naji))
    	//â€™pa**(set Player Alliance)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[49], GetTriggerPlayer(), "'pa", false)
    	call TriggerAddCondition(Ttest_naji[49], Condition(function TestA52_naji))
    	//'uo*(set Unit(s) Owner)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[50], GetTriggerPlayer(), "'uo", false)
    	call TriggerAddCondition(Ttest_naji[50], Condition(function TestA53_naji))
    	//'cz*(set Camera farZ)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[51], GetTriggerPlayer(), "'cz", false)
    	call TriggerAddCondition(Ttest_naji[51], Condition(function TestA54_naji))
    	//'uw(Unit(s) Windwalk)
    	set Guw_naji=CreateGroup()
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[52], GetTriggerPlayer(), "'uw", true)
    	call TriggerAddCondition(Ttest_naji[52], Condition(function TestA55_naji))
    	//'co**(Create Object)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[53], GetTriggerPlayer(), "'co", false)
    	call TriggerAddCondition(Ttest_naji[53], Condition(function TestA56_naji))
    	//'pk*(Player Kicked)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[54], GetTriggerPlayer(), "'pk", false)
    	call TriggerAddCondition(Ttest_naji[54], Condition(function TestA57_naji))
    	//'ub(Unit(s) Buff clear)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[55], GetTriggerPlayer(), "'ub", true)
    	call TriggerAddCondition(Ttest_naji[55], Condition(function TestA59_naji))
    	//'ul(Unit camera Lock)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[56], GetTriggerPlayer(), "'ul", true)
    	call TriggerAddCondition(Ttest_naji[56], Condition(function TestA60_naji))
    	//'cm(Camera Mode)
    	set Tcamera_naji=null
    	set Bcamera_naji[0]=false
    	set Bcamera_naji[1]=false
    	set Bcamera_naji[2]=false
    	set Bcamera_naji[3]=false
    	set Bcamera_naji[4]=false
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[57], GetTriggerPlayer(), "'cm", true)
    	call TriggerAddCondition(Ttest_naji[57], Condition(function TestA61_naji))
    	call DisableTrigger(Ttest_naji[58])
    	call TriggerRegisterPlayerEvent(Ttest_naji[58], GetTriggerPlayer(), EVENT_PLAYER_ARROW_UP_DOWN)
    	call TriggerRegisterPlayerEvent(Ttest_naji[58], GetTriggerPlayer(), EVENT_PLAYER_ARROW_DOWN_DOWN)
    	call TriggerRegisterPlayerEvent(Ttest_naji[58], GetTriggerPlayer(), EVENT_PLAYER_ARROW_LEFT_DOWN)
    	call TriggerRegisterPlayerEvent(Ttest_naji[58], GetTriggerPlayer(), EVENT_PLAYER_ARROW_RIGHT_DOWN)
    	call TriggerAddCondition(Ttest_naji[58], Condition(function TestA62_naji))
    	call DisableTrigger(Ttest_naji[59])
    	call TriggerRegisterPlayerEvent(Ttest_naji[59], GetTriggerPlayer(), EVENT_PLAYER_ARROW_UP_UP)
    	call TriggerRegisterPlayerEvent(Ttest_naji[59], GetTriggerPlayer(), EVENT_PLAYER_ARROW_DOWN_UP)
    	call TriggerRegisterPlayerEvent(Ttest_naji[59], GetTriggerPlayer(), EVENT_PLAYER_ARROW_LEFT_UP)
    	call TriggerRegisterPlayerEvent(Ttest_naji[59], GetTriggerPlayer(), EVENT_PLAYER_ARROW_RIGHT_UP)
    	call TriggerAddCondition(Ttest_naji[59], Condition(function TestA63_naji))
    	//'ci(Camera Information)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[60], Player(i_naji), "'ci", true)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[60], Condition(function TestA65_naji))
    	//'us*(Unit(s) Scale)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[62], GetTriggerPlayer(), "'us", false)
    	call TriggerAddCondition(Ttest_naji[62], Condition(function TestA67_naji))
    	//'gg(Good Game)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[63], GetTriggerPlayer(), "'gg", true)
    	call TriggerAddCondition(Ttest_naji[63], Condition(function TestA68_naji))
    	//'gs*(set Game Speed)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[64], GetTriggerPlayer(), "'gs", false)
    	call TriggerAddCondition(Ttest_naji[64], Condition(function TestA69_naji))
    	//'mf(set Map Flag)
    	set Dnaji_naji[2]=DialogCreate()
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[65], GetTriggerPlayer(), "'mf", true)
    	call TriggerAddCondition(Ttest_naji[65], Condition(function TestA70_naji))
    	call TriggerRegisterDialogEvent(Ttest_naji[66], Dnaji_naji[2])
    	call TriggerAddCondition(Ttest_naji[66], Condition(function TestA71_naji))
    	//Esc
    	call TriggerRegisterPlayerEvent(Ttest_naji[67], GetTriggerPlayer(), EVENT_PLAYER_END_CINEMATIC)
    	call TriggerAddCondition(Ttest_naji[67], Condition(function TestA72_naji))
    	//'we(Weather Effect)
    	set Iweather_naji=0
    	set Weather_naji[0]=null
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[68], GetTriggerPlayer(), "'we", false)
    	call TriggerAddCondition(Ttest_naji[68], Condition(function TestA73_naji))
    	//'pt***(set Player Tech)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[69], GetTriggerPlayer(), "'pt", false)
    	call TriggerAddCondition(Ttest_naji[69], Condition(function TestA74_naji))
    	//'re(Restart)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[70], GetTriggerPlayer(), "'re", true)
    	call TriggerAddCondition(Ttest_naji[70], Condition(function TestA75_naji))
    	//'gms(Group Multiple Spell)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[72], GetTriggerPlayer(), "'gms", true)
    	call TriggerAddCondition(Ttest_naji[72], Condition(function TestA77_naji))
    	//'gcd(Group Cool Down)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[73], GetTriggerPlayer(), "'gcd", true)
    	call TriggerAddCondition(Ttest_naji[73], Condition(function TestA78_naji))
    	//'uii*(Unit's Item Information)
    	set i_naji=0
    	loop
    	    call TriggerRegisterPlayerChatEvent(Ttest_naji[74], Player(i_naji), "'uii", false)
    	    set i_naji=i_naji + 1
    	    exitwhen i_naji >= 16
    	endloop
    	call TriggerAddCondition(Ttest_naji[74], Condition(function TestA79_naji))
    	//'uxy**(set Unit(s) XY)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[75], GetTriggerPlayer(), "'uxy", false)
    	call TriggerAddCondition(Ttest_naji[75], Condition(function TestA80_naji))
    	//'se*(System Exchange)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[76], GetTriggerPlayer(), "'se", false)
    	call TriggerAddCondition(Ttest_naji[76], Condition(function TestA81_naji))
    	//'ef*(Execute Function)
    	call TriggerRegisterPlayerChatEvent(Ttest_naji[77], GetTriggerPlayer(), "'ef", false)
    	call TriggerAddCondition(Ttest_naji[77], Condition(function TestA82_naji))
    	call DestroyTrigger(GetTriggeringTrigger())
	endif
endfunction
function najitest takes nothing returns nothing
    local trigger t_naji=CreateTrigger()
    local integer i_naji=0
    loop
        call TriggerRegisterPlayerChatEvent(t_naji, Player(i_naji), "'fengshu", true)
        set i_naji=i_naji + 1
        exitwhen i_naji >= 16
    endloop
    call TriggerAddCondition(t_naji, Condition(function TestA_naji))
    set t_naji=null
endfunction
//=====================================$åˆå§‹åŒ–å‡½æ•°ç»“æŸ=====================================
//===============najitest===============
//========================================================================
//é”®ç›˜è¾“å…¥ç³»ç»Ÿ
//========================================================================
function getDeputyString takes integer i,integer l__deputy,string deputyStr returns string
    if (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( l__deputy) - 1)])) != 0) then // INLINED!!
        return deputyStr
    endif
    return ""
endfunction
function getChiefString takes integer i,integer denomination,string chiefStr returns string
    if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( denomination) - 1)])) != 0) then // INLINED!!
        return chiefStr
    endif
    return ""
endfunction
function getTitleString takes integer i,integer title,string titleStr returns string
    if isTitle(i , title) then
        return titleStr
    endif
    return ""
endfunction
function KeyInput takes nothing returns nothing
 local string s=GetEventPlayerChatString()
 local item it=null
 local player p=GetTriggerPlayer()
 local integer i=GetPlayerId(p) + 1
 local integer j=0
 local location loc= null
 local string str= null
 local real array shanghai
 local integer pId=GetPlayerId(p)
 local string spilt= ""
 local string tgs_menpai= ""
local string tgm_menpai= ""
if s == "+" then
	    call SetCameraFieldForPlayer(p, CAMERA_FIELD_TARGET_DISTANCE, ( GetCameraField(CAMERA_FIELD_TARGET_DISTANCE) + 200.00 ), 1.00)
	endif
	if s == "-" then
	    call SetCameraFieldForPlayer(p, CAMERA_FIELD_TARGET_DISTANCE, ( GetCameraField(CAMERA_FIELD_TARGET_DISTANCE) - 200.00 ), 1.00)
	endif
	if s == "hg" or s == "HG" or s == "hc" or s == "HC" then
	    call SetUnitPosition(udg_hero[i], - 1174, - 678)
	    call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 1174, - 678, 0)
	endif
	if s == "q" then
		call SetUnitPosition(udg_hero[i], - 869, 796)
	    call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 869, 796, 0)
	endif
	if s == "3" then
		call SetUnitPosition(udg_hero[i], - 869, - 2000)
	    call PanCameraToTimedForPlayer(GetTriggerPlayer(), - 869, - 2000, 0)
	endif
	if s == "4" then
		call SetUnitPosition(udg_hero[i], 10692, - 14847)
	    call PanCameraToTimedForPlayer(GetTriggerPlayer(), 10692, - 14847, 0)
	endif
	if SubStringBJ(s, 1, 2) == "wq" then
		if UnitHaveItem(udg_hero[i] , 'I0BH') == false then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å½“å‰æœªè£…å¤‡è‡ªåˆ¶æ­¦å™¨")
		else
			set it=FetchUnitItem(udg_hero[i] , 'I0BH')
			call SaveStr(YDHT, GetHandleId(it), StringHash("æ­¦å™¨åç§°"), SubStringBJ(s, 3, 40))
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000è‡ªåˆ¶æ­¦å™¨å·²æ›´åä¸º" + SubStringBJ(s, 3, 40))
		endif
	endif
	//if s == "randreal" then
	//	call BJDebugMsg(R2S(GetGeoNormRandomReal(1., 3.)))
	//	call BJDebugMsg(R2S(GetGeoNormRandomReal(1., 3.)))
	//	call BJDebugMsg(R2S(GetGeoNormRandomReal(1., 3.)))
	//	call BJDebugMsg(R2S(GetGeoNormRandomReal(1., 3.)))
	//	call BJDebugMsg(R2S(GetGeoNormRandomReal(1., 3.)))
	//endif
	if SubStringBJ(s, 1, 2) == "tx" then
		if S2I(SubStringBJ(s, 3, 4)) >= 1 and S2I(SubStringBJ(s, 3, 4)) <= 10 then
			set s__ZiZhiWuGong_texiao[zizhiwugong[i]]=S2I(SubStringBJ(s, 3, 4))
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000è‡ªåˆ›æ­¦åŠŸå·²æ›´æ”¹ä¸ºç¬¬" + SubStringBJ(s, 3, 40) + "ç§ç‰¹æ•ˆ")
		endif
	endif
	if SubStringBJ(s, 1, 2) == "wg" then
		if GetUnitAbilityLevel(udg_hero[i], 'A036') == 0 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å½“å‰æ— è‡ªåˆ›æ­¦åŠŸ")
		else
			set s__ZiZhiWuGong_name[zizhiwugong[i]]=SubStringBJ(s, 3, 40)
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000è‡ªåˆ›æ­¦åŠŸå·²æ›´åä¸º" + SubStringBJ(s, 3, 40))
		endif
	endif
	// æŸ¥çœ‹ç§°å·
	if s == "ckch" or s == "CKCH" then
	    set s=""
	    set s=s + getDeputyString(i , LIAN_DAN , "ç‚¼ä¸¹å¤§å¸ˆ ")
	    set s=s + getDeputyString(i , DUAN_ZAO , "é”»é€ å¤§å¸ˆ ")
	    set s=s + getDeputyString(i , BING_QI , "å…µå™¨å¤§å¸ˆ ")
	    set s=s + getDeputyString(i , JIAN_DING , "é‰´å®šå¤§å¸ˆ ")
	    set s=s + getDeputyString(i , LIAN_QI , "ç»ƒæ°”å¤§å¸ˆ ")
	    set s=s + getDeputyString(i , XUN_BAO , "å¯»å®å¤§å¸ˆ ")
	    set s=s + getDeputyString(i , YA_HUAN , "éƒ¡ä¸» ")
	    set s=s + getDeputyString(i , JING_WU , "ç²¾æ­¦å®—å¸ˆ ")
	    call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å½“å‰å·²è·å¾—å‰¯èŒå®—å¸ˆï¼š" + s)
	    set s=""
	    set s=s + getChiefString(i , 1 , "å°‘æ—æ–¹ä¸ˆ ")
        set s=s + getChiefString(i , 2 , "å¤å¢“æŒé—¨ ")
        set s=s + getChiefString(i , 3 , "ä¸å¸®å¸®ä¸» ")
        set s=s + getChiefString(i , 4 , "åå±±æŒé—¨ ")
        set s=s + getChiefString(i , 5 , "å…¨çœŸæŒæ•™ ")
        set s=s + getChiefString(i , 6 , "è¡€åˆ€æŒé—¨ ")
        set s=s + getChiefString(i , 7 , "æ’å±±æŒé—¨ ")
        set s=s + getChiefString(i , 8 , "å³¨çœ‰æŒé—¨ ")
        set s=s + getChiefString(i , 9 , "æ­¦å½“æŒé—¨ ")
        set s=s + getChiefString(i , 10 , "æ˜Ÿå®¿æŒé—¨ ")
        set s=s + getChiefString(i , 12 , "çµé¹«å®«ä¸» ")
        set s=s + getChiefString(i , 13 , "æ…•å®¹å®¶ä¸» ")
        set s=s + getChiefString(i , 14 , "æ˜æ•™æ•™ä¸» ")
        set s=s + getChiefString(i , 15 , "è¡¡å±±æŒé—¨ ")
        set s=s + getChiefString(i , 16 , "ç”·ç¥é¾™ ")
        set s=s + getChiefString(i , 17 , "å¥³ç¥é¾™ ")
        set s=s + getChiefString(i , 18 , "æ³°å±±æŒé—¨ ")
        set s=s + getChiefString(i , 19 , "é“æŒå¸®ä¸» ")
        set s=s + getChiefString(i , 20 , "å”é—¨é—¨ä¸» ")
        call DisplayTextToPlayer(p, 0, 0, "|cFF00FF00å½“å‰å·²è·å¾—æŒé—¨ï¼š" + s)
        set s=""
	    set s=s + getTitleString(i , 1 , "æ‰«åœ°ç¥åƒ§ ")
        set s=s + getTitleString(i , 2 , "è¾¾æ‘©ç¥–å¸ˆ ")
        set s=s + getTitleString(i , 3 , "å¤§è½®æ˜ç‹ ")
        set s=s + getTitleString(i , 4 , "é‡‘è½®æ³•ç‹ ")
        set s=s + getTitleString(i , 5 , "ç¥é›•ä¾  ")
        set s=s + getTitleString(i , 6 , "å°é¾™å¥³ ")
        set s=s + getTitleString(i , 7 , "ç¥é›•ä¾ ä¾£ ")
        set s=s + getTitleString(i , 8 , "èµ¤ç‚¼ä»™å­ ")
        set s=s + getTitleString(i , 9 , "åŒ—ä¸ ")
        set s=s + getTitleString(i , 10 , "åŒ—ä¹”å³° ")
        set s=s + getTitleString(i , 11 , "å›å­å‰‘ ")
        set s=s + getTitleString(i , 12 , "é£æ¸…æ‰¬ ")
        set s=s + getTitleString(i , 13 , "è€é¡½ç«¥ ")
        set s=s + getTitleString(i , 14 , "ä¸­ç¥é€š ")
        set s=s + getTitleString(i , 15 , "è¡€åˆ€è€ç¥– ")
        set s=s + getTitleString(i , 16 , "ç©ºå¿ƒèœ ")
        set s=s + getTitleString(i , 17 , "ä»ªç³ ")
        set s=s + getTitleString(i , 18 , "ç¬‘å‚²æ±Ÿæ¹– ")
        set s=s + getTitleString(i , 19 , "èŠ·è‹¥ ")
        set s=s + getTitleString(i , 20 , "å°ä¸œé‚ª ")
        set s=s + getTitleString(i , 21 , "é‚‹é¢ä»™äºº ")
        set s=s + getTitleString(i , 22 , "å¼ ä¸‰ä¸° ")
        set s=s + getTitleString(i , 23 , "æ˜Ÿå®¿è€ä»™ ")
        set s=s + getTitleString(i , 24 , "å¤©å±±ç«¥å§¥ ")
        set s=s + getTitleString(i , 25 , "è™šç«¹å­ ")
        set s=s + getTitleString(i , 26 , "æ…•å®¹é¾™åŸ ")
        set s=s + getTitleString(i , 27 , "ç™½çœ‰é¹°ç‹ ")
        set s=s + getTitleString(i , 28 , "é’ç¿¼è ç‹ ")
        set s=s + getTitleString(i , 29 , "é‡‘æ¯›ç‹®ç‹ ")
        set s=s + getTitleString(i , 30 , "æ— å¿Œ ")
        set s=s + getTitleString(i , 31 , "è«å¤§å…ˆç”Ÿ ")
        set s=s + getTitleString(i , 32 , "ç¥é¾™æ•™ä¸» ")
        set s=s + getTitleString(i , 33 , "æ•™ä¸»å¤«äºº ")
        set s=s + getTitleString(i , 34 , "å¤©é—¨é“é•¿ ")
        set s=s + getTitleString(i , 35 , "é“æŒæ°´ä¸Šæ¼‚ ")
        set s=s + getTitleString(i , 36 , "æœé­‚ä¾  ")
        set s=s + getTitleString(i , 37 , "ä¹é˜´çœŸäºº ")
        set s=s + getTitleString(i , 38 , "è¥¿æ¯’ ")
        set s=s + getTitleString(i , 39 , "ä¸œé‚ª ")
        set s=s + getTitleString(i , 40 , "å—å¸ ")
        set s=s + getTitleString(i , 41 , "ç‘¶ç´ ")
        set s=s + getTitleString(i , 42 , "å°è™¾ç±³ ")
        set s=s + getTitleString(i , 43 , "éƒ­å¤§ä¾  ")
        set s=s + getTitleString(i , 44 , "ç¥ä»™å§å§ ")
	    call DisplayTextToPlayer(p, 0, 0, "|cFFFFFF00å½“å‰å·²è·å¾—ç§°å·ï¼š" + s)
	endif
	if s == "ckwg" or s == "CKWG" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å‰©ä½™è‡ªåˆ›æ­¦åŠŸç‚¹ï¼š" + I2S(wuxuedian[i]))
		if GetUnitAbilityLevel(udg_hero[i], 'A036') == 0 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å½“å‰æ— è‡ªåˆ›æ­¦åŠŸ")
		else
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ­¦åŠŸï¼š" + s__ZiZhiWuGong_name[zizhiwugong[i]])
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä¼¤å®³èŒƒå›´ï¼š" + I2S(R2I(400. + 100. * I2R(s__ZiZhiWuGong_range[zizhiwugong[i]]))))
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ä¼¤å®³ç³»æ•°ï¼š" + R2S(1. + 0.5 * I2R(s__ZiZhiWuGong_xishu[zizhiwugong[i]])))
			set j=1
			loop
				exitwhen j > s__ZiZhiWuGong_dapeishu[zizhiwugong[i]]
				call DisplayTextToPlayer(p, 0, 0, sc__DaPei_XiaoGuoShuoMing(dapei[20 * i + j]))
				set j=j + 1
			endloop
		endif
	endif
	if s == "ckwq" or s == "CKWQ" then
		if UnitHaveItem(udg_hero[i] , 'I0BH') == false then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å½“å‰æœªè£…å¤‡è‡ªåˆ¶æ­¦å™¨")
		else
			set it=FetchUnitItem(udg_hero[i] , 'I0BH')
			if LoadStr(YDHT, GetHandleId(it), StringHash("æ­¦å™¨åç§°")) == "" then
	    		call DisplayTextToPlayer(p, 0, 0, "|cFF00FF00æ­¦å™¨åç§°ï¼šå°šæœªè¾“å…¥")
	    	else
	    		call DisplayTextToPlayer(p, 0, 0, "|cFF00FF00æ­¦å™¨åç§°ï¼š" + LoadStr(YDHT, GetHandleId(it), StringHash("æ­¦å™¨åç§°")))
			endif
	    	call DisplayTextToPlayer(p, 0, 0, "|cFFFF6600å‡çº§æ¦‚ç‡ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("å‡çº§æ¦‚ç‡")))) + "%")
	    	call DisplayTextToPlayer(p, 0, 0, "|cFFE500AFæ‹›å¼ä¼¤å®³ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("æ‹›å¼ä¼¤å®³")))) + " å†…åŠ›ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("å†…åŠ›")))) + " çœŸå®ä¼¤å®³ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("çœŸå®ä¼¤å®³")))))
	    	call DisplayTextToPlayer(p, 0, 0, "|cFFFF0033æš´å‡»ä¼¤å®³ï¼š" + I2S(R2I(100 * LoadReal(YDHT, GetHandleId(it), StringHash("æš´å‡»ä¼¤å®³")))) + "% æš´å‡»ç‡ï¼š" + I2S(R2I(100 * LoadReal(YDHT, GetHandleId(it), StringHash("æš´å‡»ç‡")))) + "% ç»å­¦é¢†æ‚Ÿï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("ç»å­¦é¢†æ‚Ÿ")))))
	    	call DisplayTextToPlayer(p, 0, 0, "|cFFFFFF33æ ¹éª¨ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("æ ¹éª¨")))) + " èƒ†é­„ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("èƒ†é­„")))) + " æ‚Ÿæ€§ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("æ‚Ÿæ€§")))))
	    	call DisplayTextToPlayer(p, 0, 0, "|cFFFFFF33åŒ»æœ¯ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("åŒ»æœ¯")))) + " ç»è„‰ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("ç»è„‰")))) + " ç¦ç¼˜ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("ç¦ç¼˜")))))
			call DisplayTextToPlayer(p, 0, 0, "|cFF9933FFä¼¤å®³å›å¤ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("ä¼¤å®³å›å¤")))) + " æ€æ€ªå›å¤ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("æ€æ€ªå›å¤")))) + " ç”Ÿå‘½å›å¤ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("ç”Ÿå‘½å›å¤")))) + " æ³•åŠ›å›å¤ï¼š" + I2S(R2I(LoadReal(YDHT, GetHandleId(it), StringHash("æ³•åŠ›å›å¤")))))
		endif
	endif
	
	if s == "ckjn" or s == "CKJN" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000äººç‰©æ€§æ ¼ï¼šä½ å­¦æ­¦èµ„è´¨" + XingGeA(udg_xinggeA[i]) + "ï¼Œæ€åº¦" + XingGeB(udg_xinggeB[i]))
		call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
		set j=1
		loop
			exitwhen j > wugongshu[i]
			call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ç¬¬" + I2S(GetUnitAbilityLevel(udg_hero[i], I7[( i - 1 ) * 20 + j])) + "é‡ï¼Œå‡çº§è¿›åº¦ï¼š" + LoadStr(YDHT, GetHandleId(p), I7[( i - 1 ) * 20 + j] * 2))
			set j=j + 1
		endloop
	    call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
	endif
	if s == "ckhf" or s == "CKHF" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ€æ€ªå›å¤ï¼š" + I2S(R2I(shaguaihufui[i])))
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFä¼¤å®³å›å¤ï¼š" + I2S(R2I(shanghaihuifu[i])))
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç”Ÿå‘½å›å¤ï¼š" + I2S(R2I(shengminghuifu[i])))
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ³•åŠ›å›å¤ï¼š" + I2S(R2I(falihuifu[i])))
	    call DisplayTextToPlayer(p, 0, 0, "|cFFcc99ffã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“ã€“")
	endif
	// æŸ¥çœ‹ä¸“å±
	if s == "ckzs" then
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFçµé¹«ï¼šç‰æ‰³æŒ‡ï¼Œå¤©å±±ç«¥å§¥20%çˆ†ï¼Œå…«è’åŠ å±æ€§æ¦‚ç‡å¢åŠ ")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå³¨çœ‰ï¼šå€šå¤©å‰‘ï¼Œç­ç»å¸ˆå¤ªæ¥ä»»åŠ¡ï¼Œæ‰“æ­»å‰¯æœ¬3å¼ æ— å¿Œï¼›æˆ–è€…å‰¯æœ¬6ä¸œæ–¹ä¸è´¥çˆ†")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ˜æ•™ï¼šå± é¾™åˆ€ï¼Œå‰¯æœ¬6ä¸œæ–¹ä¸è´¥çˆ†")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ­¦å½“ï¼šçœŸæ­¦å‰‘ï¼Œ90çº§å»æŒ‘æˆ˜åœºæŒ‘æˆ˜å¼ ä¸‰ä¸°,å¤ªææ‹³ä¸»åŠ¨ä½¿ç”¨æ°¸ä¹…åŠ 1ç»å­¦é¢†æ‚Ÿï¼Œè¢«åŠ¨ä½¿ç”¨æ¦‚ç‡åŠ ç»å­¦é¢†æ‚Ÿ")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå…¨çœŸï¼šä¸ƒæ˜Ÿé“è¢ï¼Œ90çº§æ‰¾ä¸˜å¤„æœºæ¥ä»»åŠ¡ï¼ŒåŠ é‡‘é›æ”»é€Ÿï¼Œä¸‰èŠ±èšé¡¶å¼¹å°„æ¬¡æ•°+50")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå°‘æ—ï¼šè¢ˆè£Ÿï¼Œ90çº§å»æŒ‘æˆ˜åœºæ‰“è¾¾æ‘©")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFåå±±ï¼šå…»å¾å‰‘ï¼Œ90çº§ä»¤ç‹å†²å¤„æ¥ä»»åŠ¡æŒ‘æˆ˜ä»¤ç‹å†²ï¼Œå‰‘é™„å¸¦ç ´é˜²æ•ˆæœ")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ’å±±ï¼šæ‹‚å°˜ï¼Œ90çº§ä»¤ç‹å†²æ¥ä»»åŠ¡ï¼Œæ•™è®­ç”°ä¼¯å…‰ï¼ŒåŠ 2çº§æ‹‚å°˜èŒƒå›´")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFè¡¡å±±ï¼šé•‡å²³å°šæ–¹ï¼Œ90çº§ä»¤ç‹å†²æ¥ä»»åŠ¡ï¼Œæ±Ÿå—æ°´ä¹¡è§£å†³è´¹å½¬ï¼Œå‰‘åŠ é’é¾™å…‰ç¯")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ³°å±±ï¼šä¸œçµé“å‰‘ï¼Œ90çº§ä»¤ç‹å†²æ¥ä»»åŠ¡ï¼Œé›é—¨å…³è§£å†³ç‰ç‘å­ï¼Œæ°¸ä¹…è§¦å‘æ³°å±±åå…«ç›˜")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ…•å®¹ï¼šç‡•å›½ç‰çºï¼Œæ…•å®¹å¤å‘å¸ƒä»»åŠ¡ï¼Œæ…•å®¹é¾™åŸç§°å·å’Œç­‰çº§è¶…è¿‡100çº§å¯ä»¥è·å–ä¸“å±ï¼Œè¢–ä¸­æŒ‡åŠ å±æ€§æ¦‚ç‡å¢åŠ ")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFç¥é¾™ï¼šæ¯’é¾™é­ï¼Œå‰¯æœ¬1éŸ¦å°å®ï¼ˆç¥é¾™æ•™ï¼‰è§¦å‘ä»»åŠ¡æ€æ­»æ´ªå®‰é€šï¼Œæ¥ä»»åŠ¡åæ´ªå®‰é€šå‡ºç°åœ¨æ¡ƒèŠ±å²›ä¸Š")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFä¸å¸®ï¼šæ‰“ç‹—æ£’ï¼Œæ¡ƒèŠ±å²›æ´ªä¸ƒå…¬ï¼Œ90çº§æ€ä»–æ‰çˆ†")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå¤å¢“ï¼šåŒå‰‘ï¼Œå‰¯æœ¬4å›å­ã€æ·‘å¥³å‰‘åˆæˆ")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ˜Ÿå®¿ï¼šç¥æœ¨ç‹é¼ï¼Œä¹”å³°æ¥ä»»åŠ¡ï¼Œå‰¯æœ¬1æ€ä¸æ˜¥ç§‹æ€é˜¿ç´«")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFè¡€åˆ€ï¼šè¡€åˆ€ï¼Œ90çº§æŒ‘æˆ˜åœºæŒ‘æˆ˜è¡€åˆ€è€ç¥–")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFè‡ªç”±ï¼šåå››å¤©ä¹¦ï¼Œå…·ä½“åˆæˆè¯·çœ‹åŸºåœ°å³è¾¹NPCéšé£")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFé“æŒï¼šé“æŒä»¤ï¼Œå‘¨ä¼¯é€šå¤„ä»»åŠ¡")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå”é—¨ï¼šå­åˆç ‚ï¼Œå‰¯æœ¬2å”æ–‡äº®å‡ ç‡æ‰è½ï¼›è§‚éŸ³æ³ªï¼Œå‰¯æœ¬4å—æµ·ç¥å°¼å‡ ç‡æ‰è½")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFäº”æ¯’ï¼šé€‰æ‹©é—¨æ´¾æ—¶èµ é€")
		 call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ¡ƒèŠ±å²›ï¼šæ¡ƒèŠ±å²›ç‰ç®«ä»»åŠ¡")
	endif
	// æ‰‹åŠ¨æ•´ç†ç‰©å“
	if s == "sort" then
		call EnumItemsInRectBJ(bj_mapInitialPlayableArea, function SO)
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ•´ç†ç‰©å“å®Œæˆ")
	endif
	if s == "ver" then
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFå†³æˆ˜æ±Ÿæ¹–1.6.32æµ‹è¯•2ç‰ˆæœ¬")
	endif
	if s == "cx" or s == "CX" then
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|cFFFF00CC" + "æŸ¥è¯¢ç©å®¶:" + "|r" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "æˆ˜æ–—åŠ›ï¼š" + I2S(udg_zdl[pId]))
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "ç§¯åˆ†ï¼š" + I2S(udg_jf[pId]))
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "æ¯å±€å¯ç”¨ç§¯åˆ†å‰©ä½™ï¼š" + I2S(jf_max - jf_useMax[pId]))
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "é€šå…³æ¬¡æ•°ï¼š" + I2S(udg_success[pId]))
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r|CFFFE890Dä¼¤å®³å…‘æ¢ï¼š" + R2S(bonus_wugong[pId] * 100) + "%")
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "æœ€é«˜ä¼¤å®³ï¼š" + R2S(max_damage[pId]))
		// å…¨é—¨æ´¾é€šå…³æŸ¥è¯¢
		// call BJDebugMsg("åŸå§‹å•é€šæ•°æ®ï¼š"+singleSuccess[pId])
		// call BJDebugMsg("åŸå§‹å¤šé€šæ•°æ®ï¼š"+manySuccess[pId])
        set j=0
		loop
			exitwhen j >= 18
			// body
			set spilt=SubString(singleSuccess[pId], j, j + 1)
			// å·²é€šå…³é—¨æ´¾
			if spilt == "1" then
				set tgs_menpai=tgs_menpai + "|||CffFF0000" + udg_menpainame[j + 1] + "|r"
			else
				set tgs_menpai=tgs_menpai + "||" + udg_menpainame[j + 1]
			endif
			set j=j + 1
		endloop
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "å•é€šæŒ‘æˆ˜é€Ÿé€šéš¾7é—¨æ´¾ï¼ˆç™½è‰²æœªé€šå…³ï¼‰|rï¼š" + tgs_menpai)
        set j=0
		loop
			exitwhen j >= 18
			// body
			set spilt=SubString(manySuccess[pId], j, j + 1)
			// å·²é€šå…³é—¨æ´¾
			if spilt == "1" then
				set tgm_menpai=tgm_menpai + "|||CffFF0000" + udg_menpainame[j + 1] + "|r"
			else
				set tgm_menpai=tgm_menpai + "||" + udg_menpainame[j + 1]
			endif
			set j=j + 1
		endloop
		call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9ç³»ç»Ÿæç¤ºï¼š|r" + "|CFFFE890D" + "å¤šé€šæŒ‘æˆ˜é€Ÿé€šéš¾7é—¨æ´¾ï¼ˆç™½è‰²æœªé€šå…³ï¼‰|rï¼š" + tgm_menpai)
	endif
	if s == "cxs" or s == "CXS" then
		loop
			exitwhen j > 4
			call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|cFFFF00CC" + "æŸ¥è¯¢ç©å®¶:" + "|r" + GetPlayerName(Player(j)))
			call DisplayTimedTextToPlayer(Player(pId), 0, 0, 10, "|CFF1CE6B9æˆ˜æ–—åŠ›ï¼š|r" + I2S(udg_zdl[j]) + ",|CFF1CE6B9ç§¯åˆ†ï¼š|r" + I2S(udg_jf[j]) + ",|CFF1CE6B9æ¯å±€ç§¯åˆ†ï¼š|r" + I2S(jf_max - jf_useMax[j]) + ",|r|CFF1CE6B9é€šå…³æ¬¡æ•°ï¼š" + I2S(udg_success[j]) + ",|r|CFF1CE6B9ä¼¤å®³åŠ æˆï¼š" + R2S(bonus_wugong[j]) + ",|r|CFF1CE6B9æœ€é«˜ä¼¤å®³ï¼š" + R2S(max_damage[j]))
			set j=j + 1
		endloop
	endif
	// if s == "save" and is_victory and not saveFlag[pId] then
	// 	call DisplayTextToPlayer(p,0,0,"|CFF99CC00è·å¾—æˆ˜æ–—åŠ›å’Œç§¯åˆ†ï¼š"+I2S(get_zdl))
	// 	// ä¿å­˜æˆ˜æ–—åŠ›åˆ°æœåŠ¡å™¨
	// 	set udg_zdl[pId] = udg_zdl[pId] + get_zdl
	// 	set udg_jf[pId] = udg_jf[pId] + get_zdl
	// 	call DzAPI_Map_StoreInteger(Player(pId),"zdl",udg_zdl[pId])
	// 	call DzAPI_Map_StoreInteger(Player(pId),"jf",udg_zdl[pId])
	// 	if GetPlayerServerValueSuccess(Player(pId)) then
	// 		call DisplayTextToPlayer(p,0,0,"|CFFFE890D"+GetPlayerName(Player(pId))+"|CFF99CC00æ•°æ®ä¿å­˜æˆåŠŸ")
	// 		set saveFlag[pId] = true
	// 	else
	// 		call DisplayTextToPlayer(p,0,0,"|CFFFE890D"+GetPlayerName(Player(pId))+"|CFFFF0303æ•°æ®ä¿å­˜å¤±è´¥")
	// 		set saveFlag[pId] = false
	// 	endif
	// endif
	//if s=="ç¢§æµ·æ½®ç”Ÿ" then
	//	call UnitAddAbility(udg_hero[i],'A018')
	//endif
	//if s=="ç©ºæ˜" then
	//	call UnitAddAbility(udg_hero[i],'A017')
	//endif
	if s == "ck" then
			set j=1
		loop
			exitwhen j > wugongshu[i]
			set shanghai[j]=LoadReal(YDHT, 1 + GetPlayerId(p), I7[( i - 1 ) * 20 + j] * 3)
			if I7[( i - 1 ) * 20 + j] == 'A034' then
				set shanghai[j]=LoadReal(YDHT, 1 + GetPlayerId(p), 'A035' * 3)
			endif
			if shanghai[j] < 10000. then
	            call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ä¼¤å®³ï¼š" + R2S(shanghai[j]))
	        elseif shanghai[j] < 100000000. then
	            call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ä¼¤å®³ï¼š" + R2S(shanghai[j] / 10000.) + "ä¸‡")
	        elseif shanghai[j] / 10000. < 100000000. then
	            call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ä¼¤å®³ï¼š" + R2S(shanghai[j] / 100000000.) + "äº¿")
	        elseif shanghai[j] / 100000000. < 100000000. then
	        	call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ä¼¤å®³ï¼š" + R2S(shanghai[j] / 100000000. / 10000.) + "ä¸‡äº¿")
	        else
	        	call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFF" + GetAbilityName(I7[( i - 1 ) * 20 + j]) + "ä¼¤å®³ï¼š" + R2S(shanghai[j] / 100000000. / 100000000.) + "äº¿äº¿")
	        endif
			set j=j + 1
		endloop
	endif
	if s == "1" and GetUnitAbilityLevel(udg_hero[i], 'A07W') > 0 and IsUnitAliveBJ(udg_hero[i]) then
		if RectContainsUnit(lh_r, udg_hero[i]) then
			call DisplayTextToPlayer(p, 0, 0, "æ¡ƒèŠ±å²›ä¸èƒ½åˆ›å»ºé£è¡Œç‚¹")
		else
			call RemoveUnit(J9[i])
			set loc=GetUnitLoc(udg_hero[i])
			call CreateNUnitsAtLoc(1, 1697656906, p, loc, bj_UNIT_FACING)
			set J9[i]=bj_lastCreatedUnit
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "åˆ›å»ºé£è¡Œç‚¹")
			call RemoveLocation(loc)
			set loc=null
		endif
	endif
	if s == "2" and GetUnitAbilityLevel(udg_hero[i], 'A07W') > 0 and IsUnitAliveBJ(udg_hero[i]) then
		if J9[i] == null then
			call DisplayTextToPlayer(p, 0, 0, "ä½ è¿˜æ²¡æœ‰è®¾ç½®é£è¡Œç‚¹ï¼Œè¯·è¾“å…¥èŠå¤©ä¿¡æ¯â€œ1â€æ¥è®¾ç½®")
		else
			set loc=GetUnitLoc(J9[i])
			call SetUnitPositionLoc(udg_hero[i], loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			set loc=null
		endif
	endif
	if s == "11" and GetUnitAbilityLevel(udg_hero[i], 'A07W') > 3 and IsUnitAliveBJ(udg_hero[i]) then
		if RectContainsUnit(lh_r, udg_hero[i]) then
			call DisplayTextToPlayer(p, 0, 0, "æ¡ƒèŠ±å²›ä¸èƒ½åˆ›å»ºé£è¡Œç‚¹")
		else
			call RemoveUnit(qiankun2hao[i])
			set loc=GetUnitLoc(udg_hero[i])
			call CreateNUnitsAtLoc(1, 1697656906, p, loc, bj_UNIT_FACING)
			set qiankun2hao[i]=bj_lastCreatedUnit
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "åˆ›å»ºé£è¡Œç‚¹")
			call RemoveLocation(loc)
			set loc=null
		endif
	endif
	if s == "22" and GetUnitAbilityLevel(udg_hero[i], 'A07W') > 3 and IsUnitAliveBJ(udg_hero[i]) then
		if qiankun2hao[i] == null then
			call DisplayTextToPlayer(p, 0, 0, "ä½ è¿˜æ²¡æœ‰è®¾ç½®é£è¡Œç‚¹ï¼Œè¯·è¾“å…¥èŠå¤©ä¿¡æ¯â€œ11â€æ¥è®¾ç½®")
		else
			set loc=GetUnitLoc(qiankun2hao[i])
			call SetUnitPositionLoc(udg_hero[i], loc)
			call PanCameraToTimedLocForPlayer(p, loc, 0)
			call RemoveLocation(loc)
			set loc=null
		endif
	endif
	// if s=="111" and GetUnitAbilityLevel(udg_hero[i],'A07W')>2 and IsUnitAliveBJ(udg_hero[i]) then
	// 	if RectContainsUnit(lh_r,udg_hero[i]) then
	// 		call DisplayTextToPlayer(p,0,0,"æ¡ƒèŠ±å²›ä¸èƒ½åˆ›å»ºé£è¡Œç‚¹")
	// 	else
	// 		call RemoveUnit(qiankun3hao[i])
	// 		set loc = GetUnitLoc(udg_hero[i])
	// 		call CreateNUnitsAtLoc(1,1697656906,p,loc,bj_UNIT_FACING)
	// 		set qiankun3hao[i]=bj_lastCreatedUnit
	// 		call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"åˆ›å»ºé£è¡Œç‚¹")
	// 		call RemoveLocation(loc)
	// 		set loc = null
	// 	endif
	// endif
	// if s=="222" and GetUnitAbilityLevel(udg_hero[i],'A07W')>2 and IsUnitAliveBJ(udg_hero[i]) then
	// 	if qiankun3hao[i]==null then
	// 		call DisplayTextToPlayer(p,0,0,"ä½ è¿˜æ²¡æœ‰è®¾ç½®é£è¡Œç‚¹ï¼Œè¯·è¾“å…¥èŠå¤©ä¿¡æ¯â€œ111â€æ¥è®¾ç½®")
	// 	else
	// 		set loc = GetUnitLoc(qiankun3hao[i])
	// 		call SetUnitPositionLoc(udg_hero[i],loc)
	// 		call PanCameraToTimedLocForPlayer(p,loc,0)
	// 		call RemoveLocation(loc)
	// 		set loc = null
	// 	endif
	// endif
	if s == "-ms" then
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFæ‚¨å½“å‰çš„ç§»åŠ¨é€Ÿåº¦ä¸º" + I2S(R2I((s__ModSpeed_getSpeed((udg_hero[i])))))) // INLINED!!
	endif
	if s == "-random" and udg_runamen[i] == 0 and udg_hero[i] != null then
	    call randomMenpai(p , 1)
	endif
	if s == "www.juezhanjianghu.com" and udg_runamen[i] == 0 and udg_hero[i] != null then
		call DisplayTextToPlayer(p, 0, 0, "|cFF00FFFFçµé¹«å®«å·²åŠ å…¥ç§¯åˆ†å…‘æ¢ï¼Œè¯·è¾“å…¥hgé€‰æ‹©è‡ªç”±é—¨æ´¾åå»åŸºåœ°å·¦ä¸‹æ–¹å…‘æ¢")
	endif
	if s == "jzjh.uuu9.com" and udg_runamen[i] == 0 and udg_hero[i] != null then
		set udg_runamen[i]=13
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., "|CFFff9933ç©å®¶" + GetPlayerName(p) + "é€‰æ‹©äº†éšè—é—¨æ´¾ã€“å§‘è‹æ…•å®¹ã€“|r")
	    call SetPlayerName(p, "ã€“å§‘è‹æ…•å®¹ã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
	    set udg_shuxing[i]=udg_shuxing[i] + 5
		call DisplayTimedTextToPlayer(p, 0, 0, 15., "|CFFff9933è·å¾—æ­¦åŠŸï¼šå‡Œæ³¢å¾®æ­¥ï¼Œä½ å¯ä»¥åœ¨ä¸»åŸå’Œä¼ é€çŸ³ä¹‹é—´ä»»æ„ä¼ é€äº†")
	    call UnitAddAbility(udg_hero[i], 'A05R')
	    call AddCharacterABuff(udg_hero[i] , udg_xinggeA[i])
        call AddCharacterBBuff(udg_hero[i] , udg_xinggeB[i])
	    if udg_vip[i] < 2 and udg_elevenvip[i] < 1 then
	    	call UnitAddAbility(udg_hero[i], 'A040')
	    	call UnitAddAbility(udg_hero[i], 'A041')
	    	call UnitAddAbility(udg_hero[i], 'A042')
	    endif
	    set I7[( ( ( i - 1 ) * 20 ) + 8 )]='A05R'
	    call UnitRemoveAbility(udg_hero[i], 'Avul')
	    set Q4=GetRandomLocInRect(He)
	    call SetUnitPositionLoc(udg_hero[i], Q4)
	    call PanCameraToTimedLocForPlayer(p, Q4, 0)
	    call createPartnerAndTownPortalDummy(i , Q4)
	    call RemoveLocation(Q4)
	    call UnitAddItemByIdSwapped(1227896394, udg_hero[i])
	endif
	//if s=="jiafuyuan" then
	//	set fuyuan[i]=fuyuan[i]+20
	//	call DisplayTextToPlayer(p,0,0,"|cFFFF0000ç¦ç¼˜+20")
	//endif
	if s == "cksx" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	endif
	if s == "testMall" then
        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å¤©èµ‹é“å…·IDä¸ºï¼š" + PROPERTY_TALENT)
        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000é—¨æ´¾é“å…·IDä¸ºï¼š" + PROPERTY_TIEZHANG)
	    if DzAPI_Map_HasMallItem(p, PROPERTY_TALENT) then
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ‹¥æœ‰å¤©èµ‹é“å…·")
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æœªæ‹¥æœ‰å¤©èµ‹é“å…·")
	    endif
	    if DzAPI_Map_HasMallItem(p, PROPERTY_TIEZHANG) then
            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æ‹¥æœ‰é—¨æ´¾é“å…·")
        else
            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000æœªæ‹¥æœ‰é—¨æ´¾é“å…·")
        endif
    endif
	if s == "ckjf" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å‰©ä½™å®ˆå®¶ç§¯åˆ†ï¼š" + I2S(shoujiajf[i]))
	endif
	if s == "ç´¯ç§¯ç§¯åˆ†" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000ç´¯ç§¯æ¸¸æˆç§¯åˆ†ï¼š" + I2S(udg_MeiJuJiFen[i]))
	endif
	if SubStringBJ(s, 1, 5) == "zy500" and udg_MeiJuJiFen[i] >= 500 then
		set udg_MeiJuJiFen[S2I(SubStringBJ(s, 6, 6))]=udg_MeiJuJiFen[S2I(SubStringBJ(s, 6, 6))] + 500
		set udg_MeiJuJiFen[i]=udg_MeiJuJiFen[i] - 500
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFF0000" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)) + "å·²å‘" + LoadStr(YDHT, GetHandleId(Player(S2I(SubStringBJ(s, 6, 6)) - 1)), GetHandleId(Player(S2I(SubStringBJ(s, 6, 6)) - 1))) + "è½¬ç§»500ç‚¹ç§¯åˆ†")
	endif
	if s == "baolv" then
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000é”å–‰æªçš„çˆ†ç‡ä¸ºï¼š" + I2S(udg_baolv[1]))
	endif
	if s == "+ys" or s == "+YS" then
		call SetCameraFieldForPlayer(GetTriggerPlayer(), CAMERA_FIELD_TARGET_DISTANCE, ( GetCameraField(CAMERA_FIELD_TARGET_DISTANCE) + 200.00 ), 1.00)
	endif
	if s == "+js" or s == "+JS" then
		call SetCameraFieldForPlayer(GetTriggerPlayer(), CAMERA_FIELD_TARGET_DISTANCE, ( GetCameraField(CAMERA_FIELD_TARGET_DISTANCE) - 200.00 ), 1.00)
	endif
	if s == "sj" then
		call SetCameraFieldForPlayer(GetTriggerPlayer(), CAMERA_FIELD_TARGET_DISTANCE, 1800., 0)
	endif
	if s == "fb" then
		call FBdaojishi()
	endif
	if s == "bl" then
		call BanLvShuXing()
	endif
	if s == "yx" then
		call YaoXing()
	endif
	if s == "jy" then
		call TransferJY()
	endif
	//è‡ªç”±å±æ€§ç‚¹ç³»ç»Ÿ
	if SubStringBJ(s, 1, 2) == "wx" or SubStringBJ(s, 1, 2) == "WX" then
	    if udg_shuxing[i] >= 1 then
	        if S2I(SubStringBJ(s, 3, 5)) <= 0 or S2I(SubStringBJ(s, 3, 5)) > udg_shuxing[i] then
	            set wuxing[i]=wuxing[i] + 1
	            set udg_shuxing[i]=udg_shuxing[i] - 1
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…1ç‚¹æ‚Ÿæ€§ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        else
	            set wuxing[i]=wuxing[i] + S2I(SubStringBJ(s, 3, 5))
	            set udg_shuxing[i]=udg_shuxing[i] - S2I(SubStringBJ(s, 3, 5))
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…" + SubStringBJ(s, 3, 5) + "ç‚¹æ‚Ÿæ€§ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        endif
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å±æ€§ç‚¹å·²ç”¨å®Œ")
	    endif
	elseif SubStringBJ(s, 1, 2) == "fy" or SubStringBJ(s, 1, 2) == "FY" then
	    if udg_shuxing[i] >= 1 then
	        if S2I(SubStringBJ(s, 3, 5)) <= 0 or S2I(SubStringBJ(s, 3, 5)) > udg_shuxing[i] then
	            set fuyuan[i]=fuyuan[i] + 1
	            set udg_shuxing[i]=udg_shuxing[i] - 1
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…1ç‚¹ç¦ç¼˜ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        else
	            set fuyuan[i]=fuyuan[i] + S2I(SubStringBJ(s, 3, 5))
	            set udg_shuxing[i]=udg_shuxing[i] - S2I(SubStringBJ(s, 3, 5))
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…" + SubStringBJ(s, 3, 5) + "ç‚¹ç¦ç¼˜ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        endif
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å±æ€§ç‚¹å·²ç”¨å®Œ")
	    endif
	elseif SubStringBJ(s, 1, 2) == "gg" or SubStringBJ(s, 1, 2) == "GG" then
	    if udg_shuxing[i] >= 1 then
	        if S2I(SubStringBJ(s, 3, 5)) <= 0 or S2I(SubStringBJ(s, 3, 5)) > udg_shuxing[i] then
	            set gengu[i]=gengu[i] + 1
	            set udg_shuxing[i]=udg_shuxing[i] - 1
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…1ç‚¹æ ¹éª¨ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        else
	            set gengu[i]=gengu[i] + S2I(SubStringBJ(s, 3, 5))
	            set udg_shuxing[i]=udg_shuxing[i] - S2I(SubStringBJ(s, 3, 5))
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…" + SubStringBJ(s, 3, 5) + "ç‚¹æ ¹éª¨ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        endif
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å±æ€§ç‚¹å·²ç”¨å®Œ")
	    endif
	elseif SubStringBJ(s, 1, 2) == "dp" or SubStringBJ(s, 1, 2) == "DP" then
	    if udg_shuxing[i] >= 1 then
	        if S2I(SubStringBJ(s, 3, 5)) <= 0 or S2I(SubStringBJ(s, 3, 5)) > udg_shuxing[i] then
	            set danpo[i]=danpo[i] + 1
	            set udg_shuxing[i]=udg_shuxing[i] - 1
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…1ç‚¹èƒ†é­„ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        else
	            set danpo[i]=danpo[i] + S2I(SubStringBJ(s, 3, 5))
	            set udg_shuxing[i]=udg_shuxing[i] - S2I(SubStringBJ(s, 3, 5))
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…" + SubStringBJ(s, 3, 5) + "ç‚¹èƒ†é­„ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        endif
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å±æ€§ç‚¹å·²ç”¨å®Œ")
	    endif
	elseif SubStringBJ(s, 1, 2) == "ys" or SubStringBJ(s, 1, 2) == "YS" then
	    if udg_shuxing[i] >= 1 then
	        if S2I(SubStringBJ(s, 3, 5)) <= 0 or S2I(SubStringBJ(s, 3, 5)) > udg_shuxing[i] then
	            set yishu[i]=yishu[i] + 1
	            set udg_shuxing[i]=udg_shuxing[i] - 1
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…1ç‚¹åŒ»æœ¯ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        else
	            set yishu[i]=yishu[i] + S2I(SubStringBJ(s, 3, 5))
	            set udg_shuxing[i]=udg_shuxing[i] - S2I(SubStringBJ(s, 3, 5))
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…" + SubStringBJ(s, 3, 5) + "ç‚¹åŒ»æœ¯ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        endif
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å±æ€§ç‚¹å·²ç”¨å®Œ")
	    endif
	elseif SubStringBJ(s, 1, 2) == "jm" or SubStringBJ(s, 1, 2) == "JM" then
	    if udg_shuxing[i] >= 1 then
	        if S2I(SubStringBJ(s, 3, 5)) <= 0 or S2I(SubStringBJ(s, 3, 5)) > udg_shuxing[i] then
	            set jingmai[i]=jingmai[i] + 1
	            set udg_shuxing[i]=udg_shuxing[i] - 1
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…1ç‚¹ç»è„‰ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        else
	            set jingmai[i]=jingmai[i] + S2I(SubStringBJ(s, 3, 5))
	            set udg_shuxing[i]=udg_shuxing[i] - S2I(SubStringBJ(s, 3, 5))
	            call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000åˆ†é…" + SubStringBJ(s, 3, 5) + "ç‚¹ç»è„‰ï¼Œå‰©ä½™å±æ€§ç‚¹ï¼š" + I2S(udg_shuxing[i]))
	        endif
	    else
	        call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å±æ€§ç‚¹å·²ç”¨å®Œ")
	    endif
	endif
	
	//æµ‹è¯•ç 
	if s == "ä»£ç ä¸ä¹±ç”¨å§" and udg_isTest[GetPlayerId(p)] then
		call SetHeroLevel(udg_hero[i], GetHeroLevel(udg_hero[i]) + 5, true)
		set wuxuedian[i]=wuxuedian[i] + 5
		call unitadditembyidswapped(1227895642 , udg_hero[i])
		call unitadditembyidswapped('I053' , udg_hero[i])
		call unitadditembyidswapped('I054' , udg_hero[i])
		call unitadditembyidswapped('I055' , udg_hero[i])
		call unitadditembyidswapped('I04E' , udg_hero[i])
		call unitadditembyidswapped('I02S' , udg_hero[i])
		//call CreateNUnitsAtLoc(1,'o01U',GetTriggerPlayer(),GetUnitLoc(udg_hero[i]),bj_UNIT_FACING)
		set shengwang[i]=shengwang[i] + 5000
		set xiuxing[i]=5
		set udg_lilianxishu[i]=udg_lilianxishu[i] + 3
		set udg_shuxing[i]=udg_shuxing[i] + 3000
		set shoujiajf[i]=shoujiajf[i] + 1000
	endif
	if s == "ts" and udg_isTest[GetPlayerId(p)] then
		call unitadditembyidswapped('I0CI' , udg_hero[i])
		call unitadditembyidswapped('I0CH' , udg_hero[i])
		call unitadditembyidswapped('I0DO' , udg_hero[i])
		call unitadditembyidswapped('I01X' , udg_hero[i])
		call unitadditembyidswapped('I01P' , udg_hero[i])
		call unitadditembyidswapped('I01C' , udg_hero[i])
		call unitadditembyidswapped('I010' , udg_hero[i])
		call unitadditembyidswapped('I00W' , udg_hero[i])
		call unitadditembyidswapped('I06F' , udg_hero[i])
		call unitadditembyidswapped('I03A' , udg_hero[i])
		call unitadditembyidswapped('I00L' , udg_hero[i])
		call unitadditembyidswapped('I08W' , udg_hero[i])
	endif
	if s == "ä¹é˜´çœŸäºº" and udg_isTest[GetPlayerId(p)] then
		call unitadditembyidswapped('I02X' , udg_hero[i])
		call unitadditembyidswapped('I03I' , udg_hero[i])
		call unitadditembyidswapped('I09H' , udg_hero[i])
		call unitadditembyidswapped('I09I' , udg_hero[i])
		call unitadditembyidswapped('I09G' , udg_hero[i])
		call unitadditembyidswapped('I09J' , udg_hero[i])
		call unitadditembyidswapped('I09K' , udg_hero[i])
	endif
	if ( s == "è´¼å“¥ç‰›é€¼" or s == "zgnb" ) and udg_isTest[GetPlayerId(p)] then
		if (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) then // INLINED!!
			call ModifyHeroStat(0, GetTriggerUnit(), 0, 100000)
            call ModifyHeroStat(1, GetTriggerUnit(), 0, 100000)
            call ModifyHeroStat(2, GetTriggerUnit(), 0, 100000)
		endif
		call AdjustPlayerStateBJ(1000000, p, PLAYER_STATE_RESOURCE_GOLD) // å¥–åŠ±é‡‘é’±
call AdjustPlayerStateBJ(1000000, p, PLAYER_STATE_RESOURCE_LUMBER) // æœ¨å¤´
call SetHeroLevel(udg_hero[i], GetHeroLevel(udg_hero[i]) + 5, true)
		set wuxuedian[i]=wuxuedian[i] + 500
		call unitadditembyidswapped(1227895642 , udg_hero[i])
		call unitadditembyidswapped('I08V' , udg_hero[i])
		call unitadditembyidswapped('I08W' , udg_hero[i])
		call unitadditembyidswapped('I08X' , udg_hero[i])
		call unitadditembyidswapped('I08Y' , udg_hero[i])
		call unitadditembyidswapped('I08Z' , udg_hero[i])
		call unitadditembyidswapped('I090' , udg_hero[i])
		set shengwang[i]=shengwang[i] + 50000
		set xiuxing[i]=6
		set udg_lilianxishu[i]=udg_lilianxishu[i] + 3
		set udg_shuxing[i]=udg_shuxing[i] + 30000
		set shoujiajf[i]=shoujiajf[i] + 10000
		set udg_shanghaixishou[i]=udg_shanghaixishou[i] + 1
	endif
	if s == "next" and udg_isTest[GetPlayerId(p)] then
		set udg_boshu=udg_boshu + 1
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å·²è·³è½¬è‡³ä¸‹ä¸€æ³¢")
	endif
	if s == "next28" and udg_isTest[GetPlayerId(p)] then
		set udg_boshu=28
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å·²è·³è½¬è‡³28æ³¢")
	endif
	if s == "n7" then
	    call setDifficultyAndExpRate(6)
	    call SetPlayerTechResearched(Player(12), 'R001', 50)
        call SetPlayerTechResearched(Player(6), 'R001', 50)
        call SetPlayerTechResearched(Player(15), 'R001', 50)
	endif
	if ( s == "æ’¸ä¸‹ä¸€æ³¢" or s == "lxyb" ) and udg_isTest[GetPlayerId(p)] then
		set udg_boshu=udg_boshu + 1
		call DisplayTextToPlayer(p, 0, 0, "|cFFFF0000å·²è·³è½¬è‡³ä¸‹ä¸€æ³¢")
	endif
	if s == "æ’¸Boss8" or s == "lboss8" and udg_isTest[GetPlayerId(p)] then
		call CreateNUnitsAtLocFacingLocBJ(1, u7[8], Player(6), v7[6], v7[4])
	endif
	// if s == "æ’¸Boss" or s=="æ’¸boss" and udg_isTest[GetPlayerId(p)] then 
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[5],Player(6),v7[6],v7[4])
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[1],Player(6),v7[6],v7[4])
	// endif
	// if s=="æ’¸Boss1" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[1],Player(6),v7[6],v7[4])
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[1],Player(0),v7[6],v7[4])
	// elseif s=="æ’¸Boss2" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[2],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸Boss3" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[3],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸Boss4" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[4],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸Boss5" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[5],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸Boss6" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[6],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸Boss7" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[7],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸Boss8" and udg_vip[i]>1 then
	// 	call CreateNUnitsAtLocFacingLocBJ(1,u7[8],Player(6),v7[6],v7[4])
	// elseif s=="æ’¸LiaoGuo" and udg_vip[i]>1 then
	// 	call LiaoGuoJinGong()
	// elseif s=="æ’¸LingJiu" and udg_vip[i]>1 then
	// 	call LingJiuGongJinGong()
	// endif
	set p=null
	set it=null
endfunction
function KeyInputSystem takes nothing returns nothing
 local trigger t= CreateTrigger()
 local integer i= 0
	loop
		exitwhen i > 6
		call TriggerRegisterPlayerChatEvent(t, Player(i), "", true)
		set i=i + 1
	endloop
	call TriggerAddAction(t, function KeyInput)
	set t=null
endfunction
//------æ¡ƒèŠ±å²›ç³»ç»Ÿ------//
function IsTaoHua takes nothing returns boolean
	return ( GetItemTypeId(GetManipulatedItem()) == 'I09S' or GetItemTypeId(GetManipulatedItem()) == 'I0A3' )
endfunction
function TaoHuaDao takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if ( GetItemTypeId(GetManipulatedItem()) == 'I09S' ) then
		if taohuakai or (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) or udg_runamen[i] == 22 or udg_runamen[i] == 3 then // INLINED!!
			if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
				call SetUnitPosition(GetTriggerUnit(), 9631, 1139)
				call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 9631, 1139, 0)
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00æœ‰ç©å®¶è¿›å…¥æ¡ƒèŠ±å²›")
				call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00â€æºæ€è‹±å¹´,å·´å·´è¥¿æ´›æ™®,é›ªé™†æ–‡å‡ºï¼›æºæ€è‹±å¹´,å·´å·´è¥¿æ´›æ™®,é›ªé™†æ–‡å‡ºï¼â€œ")
			else
				call AdjustPlayerStateBJ(500, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
			endif
		else
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00æ¡ƒèŠ±å²›å°šæœªå¼€æ”¾")
			call AdjustPlayerStateBJ(500, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
		endif
	elseif ( GetItemTypeId(GetManipulatedItem()) == 'I0A3' ) then
		if ( ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
			call SetUnitPosition(GetTriggerUnit(), 12800, - 14800)
			call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()), 12800, - 14800, 0)
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cFFFFCC00æœ‰ç©å®¶å»æ•‘ç«")
		else
			call AdjustPlayerStateBJ(200000, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
		endif
	endif
endfunction
function TaoKaiFang takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local rect r=Rect(8800, - 4500, 14300, 4500)
 local region l__rg=CreateRegion()
 local integer i=0
 local timerdialog td=LoadTimerDialogHandle(YDHT, GetHandleId(t), 0)
	set taohuakai=false
	call RegionAddRect(l__rg, r)
	set i=1
	loop
		exitwhen i >= 6
		if IsUnitInRegion(l__rg, udg_hero[i]) then
			call SetUnitPosition(udg_hero[i], - 1174, - 678)
			call PanCameraToTimedForPlayer(GetOwningPlayer(udg_hero[i]), - 1174, - 678, 0)
			call DisplayTextToPlayer(GetOwningPlayer(udg_hero[i]), 0, 0, "|cFFFFCC00æ—¶é—´åˆ°ï¼Œç¦»å¼€æ¡ƒèŠ±å²›")
		endif
		set i=i + 1
	endloop
	call DestroyTimerDialog(td)
	call PauseTimer(t)
	call DestroyTimer(t)
	call RemoveRegion(l__rg)
	call RemoveRect(r)
	set r=null
	set l__rg=null
	set t=null
	set td=null
endfunction
function TaoHuaKaiFang takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local timer tm=CreateTimer()
 local timerdialog td=LoadTimerDialogHandle(YDHT, GetHandleId(t), 0)
	set taohuakai=true
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ¡ƒèŠ±å²›å·²å¼€æ”¾ï¼Œä½ å¯ä»¥ç”±æ­£æ´¾æ­¦æ—å³ä¾§NPCæˆ‘æ˜¯éšé£å¤„è¿›å…¥")
	call PingMinimapForForce(GetPlayersAll(), 9631, 1139, 5)
	call TimerStart(tm, 600, false, function TaoKaiFang)
	//call TimerStart(tm,60,false,function TaoKaiFang)
	call CreateTimerDialogBJ(tm, "æ¡ƒèŠ±å²›å…³é—­å€’è®¡æ—¶ï¼š")
	call TimerDialogDisplay(bj_lastCreatedTimerDialog, true)
	call SaveTimerDialogHandle(YDHT, GetHandleId(tm), 0, bj_lastCreatedTimerDialog)
	call DestroyTimerDialog(td)
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set tm=null
	set td=null
endfunction
function TaoHuaDaoKaiFang takes nothing returns nothing
 local timer t=CreateTimer()
	call TimerStart(t, 1800, false, function TaoHuaKaiFang)
	//call TimerStart(t,20,false,function TaoHuaKaiFang)
	call CreateTimerDialogBJ(t, "æ¡ƒèŠ±å²›å¼€æ”¾å€’è®¡æ—¶ï¼š")
	call TimerDialogDisplay(bj_lastCreatedTimerDialog, true)
	call SaveTimerDialogHandle(YDHT, GetHandleId(t), 0, bj_lastCreatedTimerDialog)
	set t=null
endfunction
function TaoHuaGun takes nothing returns nothing
 local unit u=GetKillingUnit()
	//call BJDebugMsg("å‡ºç°äº†ä¹ˆA")
	//set lh_r=Rect(8800,-4500,14300,4500)
	if RectContainsUnit(lh_r, u) then
		//call BJDebugMsg("å‡ºç°äº†ä¹ˆB")
		if GetUnitTypeId(GetTriggerUnit()) == 'o021' or GetUnitTypeId(GetTriggerUnit()) == 'o022' or GetUnitTypeId(GetTriggerUnit()) == 'nwnr' or GetUnitTypeId(GetTriggerUnit()) == 'ogrk' or GetUnitTypeId(GetTriggerUnit()) == 'nslf' or GetUnitTypeId(GetTriggerUnit()) == 'n00A' or GetUnitTypeId(GetTriggerUnit()) == 'n00D' then
			call SetUnitPosition(u, - 1174, - 678)
			call PanCameraToTimedForPlayer(GetOwningPlayer(u), - 1174, - 678, 0)
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00æœ‰ç©å®¶æ€æ­»äº†" + GetUnitName(GetTriggerUnit()) + "ï¼Œç¦»å¼€æ¡ƒèŠ±å²›")
			// 90çº§æ‰çˆ†æ­¦å™¨
			if GetUnitLevel(u) >= 90 then
				// é»„è¯å¸ˆæ‰è½ç‰ç®«60%æ¦‚ç‡ï¼Œå¯»å®å¤§å¸ˆ90%
				if GetUnitTypeId(GetTriggerUnit()) == 'ogrk' and ( ( GetRandomInt(1, 100) <= 60 ) or ( GetRandomInt(1, 100) <= 90 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
					call unitadditembyidswapped('I0A1' , u)
				endif
				// æ¬§é˜³é”‹æ‰è½è›‡æ–
				if GetUnitTypeId(GetTriggerUnit()) == 'nslf' and ( ( GetRandomInt(1, 100) <= 40 ) or ( GetRandomInt(1, 100) <= 80 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
					call unitadditembyidswapped('I09B' , u)
				endif
				// æ´ªä¸ƒå…¬æ‰è½æ‰“ç‹—æ£’
				if GetUnitTypeId(GetTriggerUnit()) == 'nwnr' and ( ( GetRandomInt(1, 100) <= 60 ) or ( GetRandomInt(1, 100) <= 90 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
					call unitadditembyidswapped('I097' , u)
				endif
			else
				call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cFFFFCC00ä»€ä¹ˆéƒ½æ²¡çˆ†ï¼Œè¯·90çº§å†æ¥")
			endif
			
			if GetUnitTypeId(GetTriggerUnit()) == 'o021' and ( ( GetRandomInt(1, 100) <= 30 ) or ( GetRandomInt(1, 100) <= 70 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
				call unitadditembyidswapped('I067' , u)
			endif
			if GetUnitTypeId(GetTriggerUnit()) == 'o022' and ( ( GetRandomInt(1, 100) <= 30 ) or ( GetRandomInt(1, 100) <= 70 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
				call unitadditembyidswapped('I061' , u)
			endif
			if GetUnitTypeId(GetTriggerUnit()) == 'n00A' and ( ( GetRandomInt(1, 100) <= 30 ) or ( GetRandomInt(1, 100) <= 70 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
				call unitadditembyidswapped('I060' , u)
			endif
			// å¤±å¿ƒç–¯n00Dï¼Œå¯»å®å¤§å¸ˆ100%çˆ†é€†ä¹é˜´
			if GetUnitTypeId(GetTriggerUnit()) == 'n00D' and ( ( GetRandomInt(1, 100) <= 80 ) or ( GetRandomInt(1, 100) <= 100 and (YDWEBitwise_AND(master[(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )] , ((1 ) * YDWEBitwise__C2[( ( XUN_BAO) - 1)])) != 0) ) ) then // INLINED!!
				call unitadditembyidswapped('I09G' , u) // é€†ä¹é˜´
endif
		endif
	endif
	set u=null
endfunction
function TaoHua_Condition takes nothing returns boolean
	return GetOwningPlayer(GetTriggerUnit()) == Player(15) and ( GetUnitTypeId(GetTriggerUnit()) == 'o022' or GetUnitTypeId(GetTriggerUnit()) == 'o021' or GetUnitTypeId(GetTriggerUnit()) == 'nwnr' or GetUnitTypeId(GetTriggerUnit()) == 'ogrk' or GetUnitTypeId(GetTriggerUnit()) == 'nslf' or GetUnitTypeId(GetTriggerUnit()) == 'n00A' )
endfunction
function TaoHua_Action takes nothing returns nothing
	call SetUnitOwner(GetTriggerUnit(), Player(12), true)
	// ä¸‰è€ä¸åŠ æŠ€èƒ½ï¼Œå¼ºåº¦å’Œå†ç»ƒ5ä¸€æ ·
	// call UnitAddAbility(GetTriggerUnit(),'A07V')
	// call UnitAddAbility(GetTriggerUnit(),'A04I')
	// call UnitAddAbility(GetTriggerUnit(),'A04K')
endfunction
function OuYangFeng_Condition takes nothing returns boolean
	return RectContainsUnit(lh_r, GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) == 'nslf' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and ( UnitHasBuffBJ(GetTriggerUnit(), 'Bcri') or UnitHasBuffBJ(GetTriggerUnit(), 'Bcrs') or UnitHasBuffBJ(GetTriggerUnit(), 'BNso') )
endfunction
function OuYangFeng_Action takes nothing returns nothing
 local location loc= GetUnitLoc(GetTriggerUnit())
	call KillUnit(GetTriggerUnit())
	call CreateNUnitsAtLoc(1, 'n00D', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
	call RemoveLocation(loc)
	set loc=null
endfunction
function HongQiGong_Condition takes nothing returns boolean
	return RectContainsUnit(lh_r, GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) == 'nwnr' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and ( UnitHasBuffBJ(GetTriggerUnit(), 'BEsh') or UnitHasBuffBJ(GetTriggerUnit(), 'BIpb') or UnitHasBuffBJ(GetTriggerUnit(), 'BIpd') )
endfunction
function HongQiGong_Action takes nothing returns nothing
	call KillUnit(GetTriggerUnit())
	call ShowUnitShow(gg_unit_n00E_0066)
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFFCC00æ´ªä¸ƒå…¬å·²ä¸­æ¯’ï¼Œç°æ­£åœ¨æŸå¤„ç–—ä¼¤")
endfunction
//------æ¡ƒèŠ±å²›ç³»ç»Ÿç»“æŸ------//
function TaoHuaDao_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsTaoHua))
	call TriggerAddAction(t, function TaoHuaDao)
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, 2400.)
	call TriggerAddAction(t, function TaoHuaDaoKaiFang)
	set t=CreateTrigger()
	call TriggerRegisterPlayerUnitEventSimple(t, Player(12), EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddAction(t, function TaoHuaGun)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function TaoHua_Condition))
	call TriggerAddAction(t, function TaoHua_Action)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function OuYangFeng_Condition))
	call TriggerAddAction(t, function OuYangFeng_Action)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function HongQiGong_Condition))
	call TriggerAddAction(t, function HongQiGong_Action)
	set t=null
endfunction
// åŒ…å«é—¨æ´¾åº“
//--------å°‘æ—å¼€å§‹--------//
//éŸ¦é™€æ£æ³•
function IsWeiTuo takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A05G') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function WeiTuo_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function WeiTuo_Action takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local unit u=GetAttacker()
 local real x=GetUnitX(uc)
 local real y=GetUnitY(uc)
 local real shxishu=1.
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'S000') != 0 ) ) then
	    set shxishu=shxishu + .5
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07O') != 0 ) ) then
	    set shxishu=shxishu + .7
	endif
	if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
	//if((GetUnitAbilityLevel(u,'A05G')==9))then
	//    set shxishu=shxishu*8.
	//endif
	call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead", uc, "Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
	// call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", x, y))
	set shanghai=ShangHaiGongShi(u , uc , 10 , 12 , shxishu , 'A05G')
	//call BJDebugMsg("ä¼¤å®³="+R2S(shanghai))
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function WeiTuoGun takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc1=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local real range= RMinBJ(300. + I2R(jingmai[( 1 + GetPlayerId(GetOwningPlayer(u)) )]) * 8., 3000)
	if ( ( UnitHasBuffBJ(u, 'Bblo') ) ) then
	    call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc1 , Condition(function WeiTuo_Condition)), function WeiTuo_Action)
	    if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
	        call SetWidgetLife(u, ( GetUnitState(u, UNIT_STATE_LIFE) + ( .02 * GetUnitState(u, UNIT_STATE_MAX_LIFE) ) ))
	    endif
	else
	    if ( GetRandomReal(.0, 100.) <= 22. + fuyuan[i] / 3 ) then
	        call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc1 , Condition(function WeiTuo_Condition)), function WeiTuo_Action)
	        if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
	            call SetWidgetLife(u, ( GetUnitState(u, UNIT_STATE_LIFE) + ( .02 * GetUnitState(u, UNIT_STATE_MAX_LIFE) ) ))
	        endif
			// æ¦‚ç‡ç‹‚æš´
			if GetRandomReal(0, 100) <= 15 + GetUnitAbilityLevel(u, 'A07U') * 20 then
	        // if((GetUnitAbilityLevel(u,'A07U')!=0)and(GetRandomReal(.0,100.)<=15.))then
	            call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc1, bj_UNIT_FACING)
	            call ShowUnitHide(bj_lastCreatedUnit)
	            call UnitAddAbility(bj_lastCreatedUnit, 1093681496)
	            call IssueTargetOrderById(bj_lastCreatedUnit, $D0085, u)
	            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 3.)
	        endif
	        call WuGongShengChong(u , 'A05G' , 1200.)
	    endif
	endif
	call RemoveLocation(loc1)
	call RemoveLocation(loc2)
	set u=null
	set uc=null
	set loc1=null
	set loc2=null
endfunction
//è¾¾æ‘©å‰‘æ³•
function qc takes nothing returns boolean
return ( ( GetEventDamage() == .15 ) )
endfunction
function rc takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetEventDamageSource())) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function sc takes nothing returns nothing
    local unit u=GetEventDamageSource()
    local unit uc=GetEnumUnit()
    local real shxishu=1.
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'S000') != 0 ) ) then
    	set shxishu=shxishu + .4
    endif
    if ( ( GetUnitAbilityLevel(u, 'A071') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
    set shanghai=ShangHaiGongShi(u , uc , 70. , 60. , shxishu , 'A000')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
function ucFunc takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc2=GetUnitLoc(uc)
    if ( ( GetUnitAbilityLevel(u, 'S000') != 0 ) ) then
    	set shxishu=shxishu + .4
    endif
    if ( ( GetUnitAbilityLevel(u, 'A071') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
    set shanghai=ShangHaiGongShi(u , uc , 10 , 30 , shxishu , 'A000')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        call DestroyEffect(AddSpecialEffectLocBJ(loc2, "war3mapImported\\ShadowBurn.mdx"))
        call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(100 , loc2 , Condition(function rc)), function sc)
    endif
    call RemoveLocation(loc2)
    set u=null
    set uc=null
    set loc2=null
endfunction
function wc takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A000' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function xc takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local location loc= GetUnitLoc(u)
 local location loc2= pu(loc , 256 , GetUnitPropWindowBJ(u) + 90.)
 local integer id= 'A000'
	if ( GetUnitAbilityLevel(u, 'A05O') != 0 ) then
	    call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
	    call UnitAddAbility(bj_lastCreatedUnit, 'A05H')
	    call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, u)
	    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	    call ShowUnitHide(bj_lastCreatedUnit)
	endif
	if ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) then
	    call CreateNUnitsAtLoc(1, 1697656881, p, loc, bj_UNIT_FACING)
	    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 12.)
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07U') != 0 ) and ( GetUnitAbilityLevel(u, 'A07F') != 0 ) ) then
	    call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
	    call ShowUnitHide(bj_lastCreatedUnit)
	    call UnitAddAbility(bj_lastCreatedUnit, 1093678410)
	    call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D0271, loc2)
	    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 6.)
	endif
	call WuGongShengChong(u , 'A000' , 150.)
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set p=null
	set loc=null
	set loc2=null
endfunction
//å¤§åŠ›é‡‘åˆšæŒ‡
function zc takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A05K' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function Ac takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function ac takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'A06H') != 0 ) ) then
		set shxishu=shxishu + .8
	endif
	if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) and ( GetUnitAbilityLevel(u, 'A07P') != 0 ) ) then
		set shxishu=shxishu + 1.
	endif
	if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
		set shanghai=ShangHaiGongShi(u , uc , 200 , 200 , shxishu * udg_baojishanghai[( 1 + GetPlayerId(GetOwningPlayer(u)) )] , 'A05K')
		call WuGongShangHai(u , uc , shanghai)
	else
	    set shanghai=ShangHaiGongShi(u , uc , 200 , 200 , shxishu , 'A05K')
		call WuGongShangHai(u , uc , shanghai)
	endif
	if ( ( gengu[( 1 + GetPlayerId(GetOwningPlayer(u)) )] >= 20 ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
	    if ( ( GetUnitAbilityLevel(u, 'A06P') != 0 ) ) then
	        call WanBuff(u , uc , 12)
	    else
	    	call WanBuff(u , uc , 11)
	    endif
	endif
	if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) and ( GetUnitAbilityLevel(u, 'A07P') != 0 ) and ( UnitHasBuffBJ(uc, 1113813619) == false ) ) then
	    call WanBuff(u , uc , 10)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set uc=null
	set loc=null
	set loc2=null
endfunction
function Bc takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetSpellTargetUnit()
 local real x=GetUnitX(uc)
 local real y=GetUnitY(uc)
 local group g=CreateGroup()
	call WuGongShengChong(u , 'A05K' , 160.)
	if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) and ( GetUnitAbilityLevel(u, 'A07O') != 0 ) ) then
	    call GroupEnumUnitsInRange(g, x, y, 500, Condition(function Ac))
	else
	    call GroupAddUnit(g, uc)
	endif
	call ForGroupBJ(g, function ac)
	call GroupClear(g)
	call DestroyGroup(g)
	set u=null
	set uc=null
	set g=null
endfunction
//é‡‘é’Ÿç½©
function Cc takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A05O' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function cc takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	call DestroyEffect(E7[i])
	call UnitRemoveAbility(u, 1110454320)
	set D7[i]=( ( 5000. * I2R(yishu[i]) ) * I2R(GetUnitAbilityLevel(u, 'A05O')) )
	set ce[i]=( 70 * GetUnitAbilityLevel(u, 'A05O') )
	call YDWEGeneralBounsSystemUnitSetBonus(u , 2 , 0 , ( 70 * GetUnitAbilityLevel(u, 'A05O') ))
	if ( ( gengu[i] >= 20 ) ) then
		// æ‰«åœ°ç¥åƒ§æˆ–è¾¾æ‘©ç¥–å¸ˆç§°å·ï¼šé‡‘é’Ÿç½©æ•ˆæœ4å€
		if isTitle(i , 1) or isTitle(i , 2) then
			set D7[i]=( D7[i] * 4. )
		else
			set D7[i]=( D7[i] * 2. )
		endif
	endif
	call AddSpecialEffectTargetUnitBJ("chest", u, "war3mapImported\\DefensiveBarrierBig.mdx")
	call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, ( "|cff00ccffé‡‘é’Ÿç½©æ•ˆæœæ€»å€¼ï¼š" + I2S(R2I(D7[i])) ))
	set E7[i]=bj_lastCreatedEffect
	call WuGongShengChong(u , 'A05O' , 100.)
	set u=null
	set p=null
endfunction
function Ec takes nothing returns boolean
	return ( ( UnitHasBuffBJ(GetTriggerUnit(), 1110454320) ) )
endfunction
function Fc takes nothing returns boolean
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function Gc takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0.
	if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
	call AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(loc)
	set shanghai=ShangHaiGongShi(u , uc , 400 , 400 , shxishu , 'A05O')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
	set loc=null
endfunction
function Hc takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEventDamageSource()
 local real shxishu=1.
 local real shanghai=0.
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
	if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
	if ( ( GetEventDamage() <= D7[i] ) ) then
	    set D7[i]=( D7[i] - GetEventDamage() )
	    call SetWidgetLife(u, ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + GetEventDamage() ))
	    //+åŒ–åŠŸå¤§æ³•
	    if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) ) then
	        call AddSpecialEffectLocBJ(loc2, "Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
	        call DestroyEffect(bj_lastCreatedEffect)
	        call RemoveLocation(loc2)
			if isTitle(i , 1) then // æ‰«åœ°ç¥åƒ§ç§°å·
set shxishu=shxishu * 10
			endif
	        set shanghai=ShangHaiGongShi(u , uc , 20. , 20. , shxishu , 'A05O')
	        call WuGongShangHai(u , uc , shanghai)
	    endif
	else
	    call DestroyEffect(E7[i])
	    call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 1 , ce[i])
	    //+æ˜“ç­‹ç»
	    if ( ( GetUnitAbilityLevel(u, 'A09D') != 0 ) ) then
	        call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600. , loc , Condition(function Fc)), function Gc)
	    endif
	    //+å°æ— ç›¸
	    if ( ( GetUnitAbilityLevel(u, 'A083') != 0 ) and ( GetRandomReal(0, 100.) >= 70. ) ) then
	        set D7[i]=2500. * I2R(yishu[i]) * I2R(GetUnitAbilityLevel(u, 'A05O'))
	        set ce[i]=70 * GetUnitAbilityLevel(u, 'A05O')
	        call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 0 , ( 70 * GetUnitAbilityLevel(u, 'A05O') ))
	        if ( ( gengu[( 1 + GetPlayerId(GetOwningPlayer(u)) )] >= 20 ) ) then
	            // æ‰«åœ°ç¥åƒ§æˆ–è¾¾æ‘©ç¥–å¸ˆç§°å·ï¼šé‡‘é’Ÿç½©æ•ˆæœ4å€
                if isTitle(i , 1) or isTitle(i , 2) then
                    set D7[i]=( D7[i] * 4. )
				else
					set D7[i]=( D7[i] * 2. )
				endif
	        endif
	        call AddSpecialEffectTargetUnitBJ("chest", GetTriggerUnit(), "war3mapImported\\DefensiveBarrierBig.mdx")
	        call DisplayTextToPlayer(p, 0, 0, ( "|cff00ccffå°æ— ç›¸é‡å¯é‡‘é’Ÿç½©ï¼Œæ•ˆæœæ€»å€¼ï¼š" + I2S(R2I(D7[i])) ))
	        set E7[i]=bj_lastCreatedEffect
	    else
	        call UnitRemoveAbility(GetTriggerUnit(), 1110454320)
	    endif
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set p=null
	set loc=null
	set loc2=null
endfunction
//é™é­”åŠŸ
function lc takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetKillingUnit(), 'S000') != 0 ) )
endfunction
function Jc takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))
	if ( ( jingmai[i] >= 25 ) ) then
	    set F7[i]=( F7[i] + 1 )
	    if ( ( F7[i] >= 10 ) ) then
	        set F7[i]=( F7[i] - 10 )
	        // è¾¾æ‘©ç¥–å¸ˆç§°å·
			if isTitle(i , 2) then
	        	call ModifyHeroStat(0, GetKillingUnit(), 0, 1)
	        	call ModifyHeroStat(1, GetKillingUnit(), 0, 1)
	        	call ModifyHeroStat(2, GetKillingUnit(), 0, 1)
			else
				call ModifyHeroStat(1, GetKillingUnit(), 0, 1)
			endif
	    endif
	endif
endfunction
function Lc takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'S000') != 0 ) )
endfunction
function Mc takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local location loc=GetUnitLoc(u)
	if ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A07X') != 0 ) ) then
	    set G7[i]=( G7[i] + 1 )
	    if ( ( G7[i] >= 10 ) ) then
	        set G7[i]=( G7[i] - 10 )
	        set H7=1
	        loop
	            exitwhen H7 > 18
	            call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
	            call UnitAddAbility(bj_lastCreatedUnit, 1093678416)
	            call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, pu(loc , 256 , ( ( 20. ) * ( I2R(H7) ) )))
	            call ShowUnitHide(bj_lastCreatedUnit)
	            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	            call RemoveLocation(pu(loc , 256 , ( ( 20. ) * ( I2R(H7) ) )))
	            set H7=H7 + 1
	        endloop
	        call RemoveLocation(loc)
	    endif
	endif
	if GetRandomReal(1, 100) <= 15 + fuyuan[i] / 5 then
	    call WuGongShengChong(GetTriggerUnit() , 'S000' , 6000.)
	endif
	set u=null
	set p=null
	set loc=null
endfunction
function Oc takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'S000') != 0 ) )
endfunction
function Pc takes nothing returns nothing
 local unit u= GetAttacker()
 local unit l__ut= GetTriggerUnit()
 local location loc= null
	if ( GetRandomInt(1, 100) <= 2 and GetUnitAbilityLevel(u, 'A07S') != 0 and GetUnitAbilityLevel(u, 'A0DN') != 0 ) then
		set loc=GetUnitLoc(l__ut)
		call CreateNUnitsAtLoc(1, 1852862002, GetOwningPlayer(u), loc, bj_UNIT_FACING)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 180.)
		call RemoveLocation(loc)
	endif
	if ( ( GetUnitAbilityLevel(u, 1395666994) != 0 ) ) then
		call percentDamage(l__ut , 1 , true)
	endif
	set u=null
	set l__ut=null
	set loc=null
endfunction
function Rc takes nothing returns boolean
	return ( ( GetEventDamage() == .18 ) )
endfunction
function Sc takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
 local unit uc=GetTriggerUnit()
 local real shxishu=1.
 local real shanghai=0.
	if UnitHaveItem(u , 'I0AL') then
		set shxishu=shxishu * 8
	endif
	set shanghai=ShangHaiGongShi(u , uc , 50 , 50 , shxishu , 'S000')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
//é‡‘è½®æ³•ç‹é¾™è±¡æ•ˆæœ
function isJinLunLongXiang takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'S002') >= 1 and isTitle(1 + GetPlayerId(GetOwningPlayer(GetAttacker())) , 4)
endfunction
function jinLunLongXiang takes nothing returns nothing
 local unit u= GetAttacker()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer gailv= 30
	if GetRandomInt(1, 100) <= gailv + fuyuan[i] / 6 then
		call ModifyHeroStat(0, u, 0, 200)
		call YDWEPolledWaitNull(35)
		call ModifyHeroStat(0, u, 1, 200)
	endif
	set u=null
	set p=null
endfunction
//--------å°‘æ—ç»“æŸ--------//
function ShaoLin_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsWeiTuo))
	call TriggerAddAction(t, function WeiTuoGun)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function qc))
	call TriggerAddAction(t, function ucFunc)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function wc))
	call TriggerAddAction(t, function xc)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function zc))
	call TriggerAddAction(t, function Bc)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function Cc))
	call TriggerAddAction(t, function cc)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function Ec))
	call TriggerAddAction(t, function Hc)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function lc))
	call TriggerAddAction(t, function Jc)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function Lc))
	call TriggerAddAction(t, function Mc)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function Oc))
	call TriggerAddAction(t, function Pc)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function Rc))
	call TriggerAddAction(t, function Sc)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function isJinLunLongXiang))
	call TriggerAddAction(t, function jinLunLongXiang)
	set t=null
endfunction
//--------ä¸å¸®å¼€å§‹--------//
//å¤ªç¥–æ‹³æ³•
function IsTaiZu takes nothing returns boolean
	return IsCertainWuGong(GetAttacker() , GetTriggerUnit() , 'A0C9')
endfunction
function TaiZu_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function TaiZu_Action takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local unit u=GetAttacker()
 local real shxishu=1.
 local real shanghai=0.
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A07S') >= 1 then
		set shxishu=shxishu + .8
	endif
	if UnitHaveItem(u , 'I097') then
	    set shxishu=shxishu * 4
    endif
	set shanghai=ShangHaiGongShi(u , uc , 30. , 42. , shxishu , 'A0C9')
    call AddSpecialEffectTargetUnitBJ("overhead", uc, "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl")
    call DestroyEffect(GetLastCreatedEffectBJ())
    //call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,R2S(shanghai)+", "+I2S(1+GetPlayerId(GetOwningPlayer(u))))
	call WuGongShangHai(u , uc , shanghai)
	if GetUnitAbilityLevel(u, 'A07U') >= 1 then
		call YDWEPolledWaitNull(0.50)
		call AddSpecialEffectTargetUnitBJ("overhead", uc, "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl")
    	call DestroyEffect(GetLastCreatedEffectBJ())
		call WuGongShangHai(u , uc , shanghai)
    endif
	set u=null
    set uc=null
endfunction
function TaiZuQuan takes nothing returns nothing
    //local real angle=GetUnitFacing(GetAttacker())
    local group g=CreateGroup()
    local real r=300.
    set r=500. + 40. * GetUnitAbilityLevel(GetAttacker(), 'A0C9')
    if GetUnitAbilityLevel(GetAttacker(), 'A0CA') >= 1 then
	    set r=r * 1.6
    endif
    //call knock_back(GetAttacker() , angle, 50.0 , .3 , 0.03 , path,shanghai)
    call WuGongShengChong(GetAttacker() , 'A0C9' , 900.)
    call GroupEnumUnitsInRange(g, GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), r, Condition(function TaiZu_Condition))
    call ForGroupBJ(g, function TaiZu_Action)
    call GroupClear(g)
    call DestroyGroup(g)
    set g=null
endfunction
//ä¸å¸®å¿ƒæ³•
function IsGaiBang takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A0DI' )
endfunction
function FanWei_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_fanweidanwei)) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
// é™é¾™å’Œæ‰“ç‹—åŠ æˆå¿ƒæ³•
function XinFaJiaCheng takes unit u returns integer
    // é™é¾™å’Œæ‰“ç‹—ç­‰çº§
    if GetUnitAbilityLevel(u, 'A07E') > 0 and GetUnitAbilityLevel(u, 'A07L') > 0 then
        return GetUnitAbilityLevel(u, 'A07E') * GetUnitAbilityLevel(u, 'A07L')
    endif
    if GetUnitAbilityLevel(u, 'A07E') > 0 or GetUnitAbilityLevel(u, 'A07L') > 0 then
        if GetUnitAbilityLevel(u, 'A07E') > 0 then
            return GetUnitAbilityLevel(u, 'A07E')
        endif
        if GetUnitAbilityLevel(u, 'A07L') > 0 then
            return GetUnitAbilityLevel(u, 'A07L')
        endif
    endif
    return 1
endfunction
function FanWei_Action takes nothing returns nothing
 local unit u=udg_hero[1 + GetPlayerId(GetOwningPlayer(udg_fanweidanwei))]
 local real shanghai=LoadReal(YDHT, StringHash("èŒƒå›´"), StringHash("ä¼¤å®³"))
	call WuGongShangHai(u , GetEnumUnit() , shanghai)
	set u=null
endfunction
function FanWeiShangHai takes unit u,real range,real shanghai returns nothing
    local group g=CreateGroup()
    call SaveReal(YDHT, StringHash("èŒƒå›´"), StringHash("ä¼¤å®³"), shanghai)
    set udg_fanweidanwei=u
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), range, Condition(function FanWei_Condition))
    call ForGroupBJ(g, function FanWei_Action)
    call DestroyGroup(g)
    set g=null
endfunction
function QuWuGongJi_Action takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer l__w=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, l__w, 0)
 local real angle=LoadReal(YDHT, l__w, 1)
    local unit l__ut=LoadUnitHandle(YDHT, l__w, 3)
    local integer j=LoadInteger(YDHT, l__w, 4)
    local integer id=LoadInteger(YDHT, l__w, 5)
    local integer jmax=30
    local real shxishu=RMinBJ(I2R(GetUnitLevel(u)), 10.)
    local real shanghai=0.
    if UnitHaveItem(u , 'I097') then
	    set shxishu=shxishu * 4
    endif
    if id == 'ndog' then
        set shanghai=ShangHaiGongShi(u , u , 8 , 2.6 , shxishu , 'A0DI')
    elseif id == 'uloc' then
        set shanghai=ShangHaiGongShi(u , u , 3.2 , 13.4 , shxishu , 'A0DI')
    else
        set shanghai=ShangHaiGongShi(u , u , 6.6 , 3.2 , shxishu , 'A0DI')
    endif
    // é™é¾™å’Œæ‰“ç‹—ç­‰çº§åŠ æˆ
    set shanghai=shanghai * XinFaJiaCheng(u)
        // call BJDebugMsg("ä¼¤å®³ï¼š"+R2S(shanghai))
    if j < jmax then
        call SetUnitX(l__ut, CheckX(GetLocationX(LoadLocationHandle(YDHT, l__w, 2)) + Cos(angle) * 32 * j))
        call SetUnitY(l__ut, CheckY(GetLocationY(LoadLocationHandle(YDHT, l__w, 2)) + Sin(angle) * 32 * j))
        //call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,R2S(CheckX(GetLocationX(loc)+Cos(angle)*10*j))+","+R2S(CheckY(GetLocationY(loc)+Sin(angle)*10*j)))
        call FanWeiShangHai(l__ut , 300 , shanghai)
        call SaveInteger(YDHT, l__w, 4, j + 1)
    else
        call KillUnit(l__ut)
        call RemoveUnit(l__ut)
        call PauseTimer(t)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, l__w)
    endif
    set t=null
    set u=null
    set l__ut=null
endfunction
function QuWuGongJi takes unit u,integer id returns nothing
    local real facing= GetUnitFacing(u)
    local real angle= facing * bj_DEGTORAD
    local location loc=GetUnitLoc(u)
    local timer t=CreateTimer()
    local integer l__w=GetHandleId(t)
    local unit l__ut=null
    call CreateNUnitsAtLoc(1, id, GetOwningPlayer(u), loc, facing)
    set l__ut=bj_lastCreatedUnit
    call SaveUnitHandle(YDHT, l__w, 0, u)
    call SaveReal(YDHT, l__w, 1, angle)
    call SaveLocationHandle(YDHT, l__w, 2, loc)
    call SaveUnitHandle(YDHT, l__w, 3, l__ut)
    call SaveInteger(YDHT, l__w, 4, 0)
    call SaveInteger(YDHT, l__w, 5, id)
    call TimerStart(t, 0.03, true, function QuWuGongJi_Action)
    set t=null
    set l__ut=null
    set loc=null
endfunction
function GaiBang_Action takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer l__w=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, l__w, 0)
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer j=LoadInteger(YDHT, l__w, 1)
 local integer jmax=100
	if j < jmax then
	    if (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) == true then // INLINED!!
            call ModifyHeroStat(1, u, 0, 2 * GetUnitAbilityLevel(u, 'A0DI'))
        endif
        call SaveInteger(YDHT, l__w, 1, j + 1)
    else
        call ModifyHeroStat(1, u, 1, 200 * GetUnitAbilityLevel(u, 'A0DI'))
        call PauseTimer(t)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, l__w)
    endif
    set t=null
    set u=null
    set p=null
endfunction
function GaiBangXinFa takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local timer t=CreateTimer()
 local location loc= GetUnitLoc(u)
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call SaveInteger(YDHT, GetHandleId(t), 1, 0)
	call CreateNUnitsAtLoc(1, 'e00X', GetOwningPlayer(u), loc, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'Arej')
    call IssueTargetOrder(bj_lastCreatedUnit, "rejuvination", u)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5.)
    call ShowUnitHide(bj_lastCreatedUnit)
	call WuGongShengChong(u , 'A0DI' , 200.)
	//æ‰“ç‹—Â·é©±ç‹—
    if GetUnitAbilityLevel(u, 'A07L') >= 1 then
        call QuWuGongJi(u , 'ndog')
    endif
    //é™é¾™Â·é©±é¾™
    if GetUnitAbilityLevel(u, 'A07E') >= 1 then
        call QuWuGongJi(u , 'uloc')
    endif
	call TimerStart(t, 0.1, true, function GaiBang_Action)
	call RemoveLocation(loc)
	set loc=null
	set u=null
	set t=null
endfunction
//é“å¸ƒè¡«
function IsTieBuShan takes nothing returns boolean
	return GetUnitAbilityLevel(GetTriggerUnit(), 'A0CA') >= 1
endfunction
function TieBuShan_Action takes nothing returns nothing
 local timer tm=GetExpiredTimer()
 local unit u=LoadUnitHandle(YDHT, GetHandleId(tm), 0)
 local unit uc=LoadUnitHandle(YDHT, GetHandleId(tm), 3)
 local integer cengxieliang=LoadInteger(YDHT, GetHandleId(tm), 1)
 local integer cengjialiang=LoadInteger(YDHT, GetHandleId(tm), 2)
	if udg_tiebushancengshu >= 1 then
		set udg_tiebushancengshu=udg_tiebushancengshu - 1
    endif
	call FlushChildHashtable(YDHT, GetHandleId(tm))
	call PauseTimer(tm)
	call DestroyTimer(tm)
	set tm=null
	set uc=null
	set u=null
endfunction
function TieBuShan takes nothing returns nothing
 local integer cengshu=15
 local unit u=GetTriggerUnit()
 local unit uc=GetAttacker()
 local integer cengxieliang=6000 + 1000 * GetUnitAbilityLevel(u, 'A0CA')
 local integer cengjialiang=100 + 30 * GetUnitAbilityLevel(u, 'A0CA')
 local timer tm=CreateTimer()
 local real time=20.
 local integer i=1
	if tiebucishu[1 + GetPlayerId(GetOwningPlayer(u))] >= 500 then
		set tiebucishu[1 + GetPlayerId(GetOwningPlayer(u))]=tiebucishu[1 + GetPlayerId(GetOwningPlayer(u))] - 500
		call unitadditembyidswapped('I04T' , u)
	else
		set tiebucishu[1 + GetPlayerId(GetOwningPlayer(u))]=tiebucishu[1 + GetPlayerId(GetOwningPlayer(u))] + 1
	endif
	//set i=1
 //   loop
 //   exitwhen i>6
 //   if GetItemType(UnitItemInSlotBJ(GetTriggerUnit(),i))== ITEM_TYPE_PURCHASABLE then
	//    set cengxieliang=cengxieliang/2
	//    set cengjialiang=cengjialiang/2
 //   endif
 //   set i=i+1
 //   endloop
 //   if GetUnitAbilityLevel(u,'A0DN')>=1 then
	//    set cengxieliang=cengxieliang-600
 //   endif
 //   if GetUnitAbilityLevel(u,'A070')>=1 then
	//    set cengjialiang=cengjialiang-20
 //   endif
    if danpo[1 + GetPlayerId(GetOwningPlayer(u))] >= 20 then
	    set time=time - 10.
    endif
    if GetUnitAbilityLevel(u, 'A083') >= 1 then
	    set cengshu=cengshu + 20
    endif
    set cengshu=cengshu - 1 + GetUnitAbilityLevel(u, 'A0CA')
    if udg_tiebushancengshu <= cengshu - 1 and GetRandomReal(1., 200) < 20 then
	    call WuGongShengChong(u , 'A0CA' , 2000.)
	    call WuGongShangHai(u , uc , ShangHaiGongShi(u , uc , 40. , 80. , udg_tiebushancengshu , 'A0CA'))
	    call SetUnitDizzy(uc , 4. + 1.5 * GetUnitAbilityLevel(u, 'A0CA') , "Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")
	    set udg_tiebushancengshu=udg_tiebushancengshu + 1
        call SaveUnitHandle(YDHT, GetHandleId(tm), 0, u)
        call SaveUnitHandle(YDHT, GetHandleId(tm), 3, uc)
        call SaveInteger(YDHT, GetHandleId(tm), 1, cengxieliang)
        call SaveInteger(YDHT, GetHandleId(tm), 2, cengjialiang)
        call TimerStart(tm, time, false, function TieBuShan_Action)
    endif
	set u=null
	set uc=null
	set tm=null
endfunction
//å¤œå‰æ£æ³•
function IsYeCha takes nothing returns boolean
	return GetSpellAbilityId() == 'A0CB'
endfunction
function YeChaGun_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_yechadanwei)) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function YeChaGun_SH takes nothing returns nothing
 local real shanghai=0.
 local real shxishu=1.
	if GetUnitAbilityLevel(udg_yechadanwei, 'A07P') >= 1 then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(udg_yechadanwei, 'A07T') >= 1 then
		set shxishu=shxishu + .8
	endif
	if GetUnitAbilityLevel(udg_yechadanwei, 'A080') >= 1 then
		set shxishu=shxishu + 1.5
	endif
	if UnitHaveItem(udg_yechadanwei , 'I097') then
	    set shxishu=shxishu * 4
    endif
    set shanghai=ShangHaiGongShi(udg_yechadanwei , GetEnumUnit() , 36 , 24 , shxishu , 'A0CB')
    call WuGongShangHai(udg_yechadanwei , GetEnumUnit() , shanghai)
    if GetUnitAbilityLevel(udg_yechadanwei, 'A0DI') >= 1 then
	     call SetUnitDizzy(GetEnumUnit() , 2. , "Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")
    endif
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", GetEnumUnit(), "overhead"))
endfunction
function YeChaGun_Action takes nothing returns nothing
    local timer t=GetExpiredTimer()
    local integer p= GetHandleId(t)
    local unit u=LoadUnitHandle(YDHT, p, 0)
    local unit l__ut=LoadUnitHandle(YDHT, p, 1)
    local real Axx=LoadReal(YDHT, p, 2)
    local real Ayy=LoadReal(YDHT, p, 3)
    local real Cxx=LoadReal(YDHT, p, 4)
    local real Cyy=LoadReal(YDHT, p, 5)
    local real Bxx=LoadReal(YDHT, p, 6)
    local real Byy=LoadReal(YDHT, p, 7)
    local real a=LoadReal(YDHT, p, 8)
    local real b=1 - a
    local boolean firstpass=LoadBoolean(YDHT, p, 9)
    local location loc=GetUnitLoc(l__ut)
    local group g=CreateGroup()
    call SetUnitX(l__ut, CheckX(Axx * a * a + Bxx * 2 * a * b + Cxx * b * b))
    call SetUnitY(l__ut, CheckY(Ayy * a * a + Byy * 2 * a * b + Cyy * b * b))
    set udg_yechadanwei=u
    call GroupEnumUnitsInRangeOfLoc(g, loc, 150, Condition(function YeChaGun_Condition))
    call ForGroupBJ(g, function YeChaGun_SH)
    call GroupClear(g)
    call DestroyGroup(g)
    if firstpass then
	    set a=a - 0.02
	else
	    set a=a + 0.02
    endif
    call SaveReal(YDHT, p, 8, a)
    call SaveReal(YDHT, p, 2, GetUnitX(u))
    call SaveReal(YDHT, p, 3, GetUnitY(u))
    if ( a < 0 and firstpass ) then
	    call SetUnitFacing(l__ut, GetUnitFacing(l__ut) + 180)
        call SaveBoolean(YDHT, p, 9, false)
        call SaveReal(YDHT, p, 6, Axx + 300 * Cos(Atan2(Cyy - Ayy, Cxx - Axx)) - 45)
        call SaveReal(YDHT, p, 7, Ayy + 300 * Sin(Atan2(Cyy - Ayy, Cxx - Axx)) - 45)
    endif
    if ( a > 1 and firstpass == false ) then
	    call KillUnit(l__ut)
	    call FlushChildHashtable(YDHT, p)
        call PauseTimer(t)
        call DestroyTimer(t)
    endif
    call RemoveLocation(loc)
    set loc=null
    set g=null
    set t=null
    set u=null
    set l__ut=null
endfunction
function YeChaGun takes nothing returns nothing
    local timer t= CreateTimer()
    local integer p= GetHandleId(t)
    local unit u= GetTriggerUnit()
    local real Axx= GetUnitX(u)
    local real Ayy= GetUnitY(u)
    local real Cxx=GetSpellTargetX()
    local real Cyy=GetSpellTargetY()
    local integer i= 0
    local real angle=0.
    local real a=1.
    call SaveUnitHandle(YDHT, p, 0, u)
    call SaveUnitHandle(YDHT, p, 1, CreateUnit(GetOwningPlayer(u), 'h00D', Axx, Ayy, GetUnitFacing(u)))
    call SaveReal(YDHT, p, 2, Axx)
    call SaveReal(YDHT, p, 3, Ayy)
    call SaveReal(YDHT, p, 4, Cxx)
    call SaveReal(YDHT, p, 5, Cyy)
    call SaveReal(YDHT, p, 6, Axx + 300 * Cos(Atan2(Cyy - Ayy, Cxx - Axx)) + 45)
    call SaveReal(YDHT, p, 7, Ayy + 300 * Sin(Atan2(Cyy - Ayy, Cxx - Axx)) + 45)
    call SaveReal(YDHT, p, 8, a)
    call SaveBoolean(YDHT, p, 9, true)
    call WuGongShengChong(u , 'A0CB' , 240.)
    call TimerStart(t, 0.03, true, function YeChaGun_Action)
    set u=null
    set t=null
endfunction
//ç–¯é­”æ–æ³•
function IsFengMoShe takes nothing returns boolean
	return GetUnitTypeId(GetAttacker()) == 'osp1' or GetUnitTypeId(GetAttacker()) == 'osp2' or GetUnitTypeId(GetAttacker()) == 'osp3'
endfunction
function FengMoShe takes nothing returns nothing
 local player p=GetOwningPlayer(GetAttacker())
 local integer i=1 + GetPlayerId(p)
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shanghai=0.
 local real shxishu=1.
local real Maxsh=0.
    local real Minsh=0.
	if GetUnitTypeId(GetAttacker()) == 'osp1' then
		set shxishu=2. // æ­é…åŒæ‰‹ç³»æ•°
elseif GetUnitTypeId(GetAttacker()) == 'osp2' then
	    set shxishu=5. // æ­é…è¥¿æ¯’ç³»æ•°
elseif GetUnitTypeId(GetAttacker()) == 'osp3' then
	    set shxishu=20. // æ­é…å¤ªç„ç³»æ•°
endif
    // æ‰“ç‹—æ£’ç³»æ•°åŠ æˆ
	if UnitHaveItem(u , 'I097') then
	    set shxishu=shxishu * 6
    endif
	set shanghai=ShangHaiGongShi(u , uc , 24. , 45. , shxishu , 'A0C8')
	call WuGongShangHai(u , uc , shanghai)
	set uc=null
	set u=null
	set p=null
endfunction
function IsFengMo takes nothing returns boolean
	return IsCertainWuGong(GetAttacker() , GetTriggerUnit() , 'A0C8')
endfunction
function FengMoGun takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer id='osp1'
 local location loc1=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
	if GetUnitAbilityLevel(u, 'A089') >= 1 then
		if GetUnitAbilityLevel(u, 'A0D8') >= 1 then
			set id='osp3'
		else
		    set id='osp2'
	    endif
	endif
	call CreateNUnitsAtLocFacingLocBJ(1, id, p, loc1, loc2)
	call UnitApplyTimedLifeBJ(3, 'BTLF', bj_lastCreatedUnit)
    if GetUnitAbilityLevel(u, 'A07U') >= 1 then
	    call CreateNUnitsAtLocFacingLocBJ(1, id, p, loc1, loc2)
	    call UnitApplyTimedLifeBJ(3, 'BTLF', bj_lastCreatedUnit)
    endif
    call WuGongShengChong(u , 'A0C8' , 900.)
    call RemoveLocation(loc1)
    call RemoveLocation(loc2)
    set loc1=null
    set loc2=null
	set p=null
	set u=null
	set uc=null
endfunction
//--------ä¸å¸®ç»“æŸ--------//
function GaiBang_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsTaiZu))
	call TriggerAddAction(t, function TaiZuQuan)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsTieBuShan))
	call TriggerAddAction(t, function TieBuShan)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsFengMo))
	call TriggerAddAction(t, function FengMoGun)
	
	set Bk=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Bk, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(Bk, Condition(function IsFengMoShe))
	call TriggerAddAction(Bk, function FengMoShe)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsGaiBang))
	call TriggerAddAction(t, function GaiBangXinFa)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsYeCha))
	call TriggerAddAction(t, function YeChaGun)
	set t=null
endfunction
//--------è¡€åˆ€å¼€å§‹--------//
//è¡€æ–©åƒåˆ€
function IsXueZhan takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0CN' ) )
endfunction
function XueZhan_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 3))) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function XueZhan_Action takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 3)
 local unit uc=GetEnumUnit()
 local real shxishu=1.
 local real shanghai=0.
 local location loc=GetUnitLoc(uc)
	if GetUnitAbilityLevel(u, 'A06M') >= 1 then
		set shxishu=shxishu + .9
	endif
	if UnitHaveItem(u , 'I098') then
		set shxishu=shxishu * 4
	endif
	set shanghai=ShangHaiGongShi(u , uc , 100. , 200. , shxishu , 'A0CN')
	call SetUnitX(u, CheckX(GetLocationX(loc)))
	call SetUnitY(u, CheckY(GetLocationY(loc)))
	call SetUnitFacing(u, GetUnitFacing(uc) + 180)
	call WuGongShangHai(u , uc , shanghai)
	//call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",uc, "origin") )
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", uc, "overhead"))
	call SetUnitTimeScale(u, 20)
	call SetUnitAnimation(u, "attack")
	call RemoveLocation(loc)
	set loc=null
	set u=null
	set uc=null
endfunction
function XueZhanDao_2 takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer l__w=GetHandleId(t)
 local group g=CreateGroup()
 local integer j=LoadInteger(YDHT, l__w, 1)
 local location loc=LoadLocationHandle(YDHT, l__w, 2)
 local unit u=LoadUnitHandle(YDHT, l__w, 3)
 local integer jmax=10 + GetUnitAbilityLevel(u, 'A0CN')
 local real r=.3
 local real range=600.
	if GetUnitAbilityLevel(u, 'A06L') >= 1 then
		set range=range + 400.
	endif
	if GetUnitAbilityLevel(u, 'A07W') >= 1 then
		set jmax=jmax + 5
	endif
	call GroupEnumUnitsInRangeOfLoc(g, loc, range, Condition(function XueZhan_Condition))
	if j < jmax then
		if g != null then
			call ForGroupBJ(YDWEGetRandomSubGroupNull(1 , g), function XueZhan_Action)
			call SaveInteger(YDHT, l__w, 1, j + 1)
			//call GroupClear(g)
			//call GroupEnumUnitsInRangeOfLoc(g,GetSpellTargetLoc(),range,Condition(function XueZhan_Condition))
		else
			call PauseTimer(t)
			call DestroyTimer(t)
			call FlushChildHashtable(YDHT, l__w)
			call RemoveLocation(loc)
			call SetUnitTimeScale(u, 1)
			call ResetUnitAnimation(u)
		endif
	else
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, l__w)
		call RemoveLocation(loc)
		call SetUnitTimeScale(u, 1)
		call ResetUnitAnimation(u)
	endif
	call GroupClear(g)
	call DestroyGroup(g)
	set u=null
	set g=null
	set t=null
	set loc=null
endfunction
function XueZhanDao takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local timer t=CreateTimer()
 local integer l__w=GetHandleId(t)
 local real r=0.3
	if GetUnitAbilityLevel(u, 'A07T') >= 1 then
		set r=r - .2
	endif
	call WuGongShengChong(u , 'A0CN' , 120.)
	call SaveInteger(YDHT, l__w, 1, 0)
	call SaveLocationHandle(YDHT, l__w, 2, GetSpellTargetLoc())
	call SaveUnitHandle(YDHT, l__w, 3, u)
	call TimerStart(t, r, true, function XueZhanDao_2)
	set u=null
	set t=null
endfunction
//è¡€åˆ€åˆ€æ³•
function IsXueDao takes nothing returns boolean
	return IsUnitEnemy(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) and GetUnitAbilityLevel(GetTriggerUnit(), 'A0CI') >= 1
endfunction
function XueDaoZhuan takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer l__w=GetHandleId(t)
 local unit l__ut=LoadUnitHandle(YDHT, l__w, 0)
 local integer j=LoadInteger(YDHT, l__w, 2)
 local real face=LoadReal(YDHT, l__w, 1)
 local unit u=LoadUnitHandle(YDHT, l__w, 3)
	if j < 36 then
		call SetUnitFacing(l__ut, face + 30.)
		call SetUnitX(l__ut, CheckX(GetUnitX(u) + 200 * Sin(Deg2Rad(face))))
		call SetUnitY(l__ut, CheckY(GetUnitY(u) + 200 * Cos(Deg2Rad(face))))
		call SaveReal(YDHT, l__w, 1, face + 30.)
		call SaveInteger(YDHT, l__w, 2, j + 1)
	else
		call KillUnit(l__ut)
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, l__w)
	endif
	set t=null
	set l__ut=null
	set u=null
endfunction
function XueDao_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function XueDao_Action takes nothing returns nothing
 local real shxishu=1.
 local real shanghai=0.
 local unit u=GetTriggerUnit()
 local unit uc=GetEnumUnit()
	if GetUnitAbilityLevel(u, 'A06M') >= 1 then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A06P') >= 1 then
		set shxishu=shxishu + .8
	endif
	if GetUnitAbilityLevel(u, 'A086') >= 1 then
		set shxishu=shxishu + 1.5
	endif
	if UnitHaveItem(u , 'I098') then
		set shxishu=shxishu * 4
	endif
	set shanghai=ShangHaiGongShi(u , uc , 36 , 54 , shxishu , 'A0CI')
	//call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,R2S(shanghai))
	call WuGongShangHai(u , uc , shanghai)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl", uc, "overhead"))
	set u=null
	set uc=null
endfunction
function XueDaoDao takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetAttacker()
 local unit l__ut=null
 local timer t=CreateTimer()
 local player p=GetOwningPlayer(u)
 local group g=CreateGroup()
 local integer l__w=GetHandleId(t)
 local location loc=GetUnitLoc(u)
 local real r=200. + I2R(jingmai[1 + GetPlayerId(p)]) * 15
	if GetUnitAbilityLevel(u, 'A07Q') >= 1 then
		set r=r + 200.
	endif
	if GetRandomReal(1., 300.) <= 15 + fuyuan[1 + GetPlayerId(p)] / 5 then
		call CreateNUnitsAtLoc(1, 'h00E', p, loc, bj_UNIT_FACING)
		set l__ut=bj_lastCreatedUnit
		call SaveUnitHandle(YDHT, l__w, 0, l__ut)
		call SaveReal(YDHT, l__w, 1, GetUnitFacing(l__ut))
		call SaveInteger(YDHT, l__w, 2, 0)
		call SaveUnitHandle(YDHT, l__w, 3, u)
		call TimerStart(t, 0.05, true, function XueDaoZhuan)
		call GroupEnumUnitsInRangeOfLoc(g, loc, r, Condition(function XueDao_Condition))
		call ForGroupBJ(g, function XueDao_Action)
		call WuGongShengChong(u , 'A0CI' , 600.)
	endif
	call RemoveLocation(loc)
	call GroupClear(g)
	call DestroyGroup(g)
	set u=null
	set uc=null
	set l__ut=null
	set loc=null
	set p=null
	set t=null
	set g=null
endfunction
//è¡€é­”åˆ€æ³•
function IsXueMo takes nothing returns boolean
	return IsCertainWuGong(GetAttacker() , GetTriggerUnit() , 'A0CJ')
endfunction
function XueMo_Action takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, p, 0)
 local unit uc=LoadUnitHandle(YDHT, p, 1)
 local integer j=LoadInteger(YDHT, p, 2)
 local real lastX=LoadReal(YDHT, p, 3)
 local real lastY=LoadReal(YDHT, p, 4)
 local real nowX=GetUnitX(uc)
 local real nowY=GetUnitY(uc)
 local real dist=SquareRoot(( lastX - nowX ) * ( lastX - nowX ) + ( lastY - nowY ) * ( lastY - nowY ))
 local real shxishu=1.
 local real shanghai=0.
 local integer jmax=20
	if GetUnitAbilityLevel(u, 'A06M') >= 1 then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A086') >= 1 then
		set shxishu=shxishu + 1.5
	endif
	if UnitHaveItem(u , 'I098') then
		set shxishu=shxishu * 4
	endif
	if GetUnitAbilityLevel(u, 'A0CK') >= 1 then
		set jmax=jmax + 20
	endif
	if GetUnitAbilityLevel(u, 'A07W') >= 1 then
		set jmax=jmax + 20
	endif
	if j < jmax then
		if dist > 2. then
			set shxishu=1. + dist / 5.
		endif
		set shanghai=ShangHaiGongShi(u , uc , 7 , 7 , shxishu , 'A0CJ')
		if uc != null and IsUnitAliveBJ(uc) and uc != udg_ZhengPaiWL then
			call WuGongShangHai(u , uc , shanghai)
			call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl", uc, "overhead"))
		endif
		call SaveInteger(YDHT, p, 2, j + 1)
		call SaveReal(YDHT, p, 3, nowX)
		call SaveReal(YDHT, p, 4, nowY)
	else
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, p)
	endif
	set t=null
	set u=null
	set uc=null
endfunction
function XueMoDao takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local timer t=CreateTimer()
 local integer p=GetHandleId(t)
 local real r=1000.
	if GetUnitAbilityLevel(u, 'A07O') >= 1 then
		set r=400.
	endif
	call SaveUnitHandle(YDHT, p, 0, u)
	call SaveUnitHandle(YDHT, p, 1, uc)
	call SaveInteger(YDHT, p, 2, 0)
	call SaveReal(YDHT, p, 3, GetUnitX(uc))
	call SaveReal(YDHT, p, 4, GetUnitY(uc))
	call WuGongShengChong(u , 'A0CJ' , r)
	call TimerStart(t, 0.25, true, function XueMo_Action)
	set u=null
	set uc=null
	set t=null
endfunction
//ä½›ç­ä¸‡åŠ«åŠŸ
function IsFoMie takes nothing returns boolean
	return IsCertainWuGong(GetAttacker() , GetTriggerUnit() , 'A0CK')
endfunction
function FoMie_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_fomiedanwei)) and IsUnitAliveBJ(GetFilterUnit()) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(GetFilterUnit()) != 'N008' and GetUnitTypeId(GetFilterUnit()) != 'N009'
endfunction
function FoMie_Action takes nothing returns nothing
 local unit u=udg_fomiedanwei
 local unit uc=GetEnumUnit()
 local real myX=GetUnitX(u)
 local real myY=GetUnitY(u)
 local real hisX=GetUnitX(uc)
 local real hisY=GetUnitY(uc)
 local real dist=0.
 local real angle=0.
 local integer i=0
 local real perc=0.4
 local real shxishu=1.
 local real shanghai=0.
	if GetUnitAbilityLevel(u, 'A06M') >= 1 then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A086') >= 1 then
		set shxishu=shxishu + 1.5
	endif
	if UnitHaveItem(u , 'I098') then
		set shxishu=shxishu * 4
	endif
	if dist > 20. then
		set shxishu=1. + 2000. / dist
	endif
	if GetUnitAbilityLevel(u, 'A0D3') >= 1 then
		set shanghai=ShangHaiGongShi(u , uc , 1.8 , 1.8 , shxishu , 'A0CJ')
		if uc != null and IsUnitAliveBJ(uc) then
			call WuGongShangHai(u , uc , shanghai)
			call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl", uc, "overhead"))
		endif
	endif
	if GetUnitAbilityLevel(u, 'A07W') >= 1 then
		set perc=perc + 0.2
	endif
	set hisX=GetUnitX(uc)
	set hisY=GetUnitY(uc)
	set angle=Atan2(hisY - myY, hisX - myX)
	set dist=SquareRoot(( hisX - myX ) * ( hisX - myX ) + ( hisY - myY ) * ( hisY - myY ))
	call SetUnitX(uc, hisX - perc * dist * Cos(angle))
	call SetUnitY(uc, hisY - perc * dist * Sin(angle))
	if dist < 300 and not UnitHasBuffBJ(uc, 'B008') then
		call WanBuff(u , uc , 11)
	endif
	set u=null
	set uc=null
endfunction
function FoMie_setfalse takes nothing returns nothing
 local timer t=GetExpiredTimer()
	set udg_shifoufomie=false
	//call BJDebugMsg("ç­‰å¾…ä¹‹å")
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
endfunction
function FoMie takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local timer tm=CreateTimer()
 local integer p=GetHandleId(t)
 local unit uc=LoadUnitHandle(YDHT, p, 0)
 local integer j=LoadInteger(YDHT, p, 1)
 local integer jmax= 6
 local group g=CreateGroup()
 local real x=GetUnitX(udg_fomiedanwei)
 local real y=GetUnitY(udg_fomiedanwei)
 local real range=800. + 100. * GetUnitAbilityLevel(udg_fomiedanwei, 'A0CK')
	if GetUnitAbilityLevel(udg_fomiedanwei, 'A06P') >= 1 then
		set range=range + 500.
	endif
	if GetUnitAbilityLevel(udg_fomiedanwei, 'A07N') >= 1 then
		set jmax=jmax + 6
	endif
	if j >= jmax then
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, p)
		//call BJDebugMsg("ç­‰å¾…ä¹‹å‰")
		//10ç§’é’ŸCD
		call TimerStart(tm, 10., false, function FoMie_setfalse)
	else
		call GroupEnumUnitsInRange(g, x, y, range, Condition(function FoMie_Condition))
		call ForGroupBJ(g, function FoMie_Action)
		call GroupClear(g)
		call DestroyGroup(g)
		call SaveInteger(YDHT, p, 1, j + 1)
	endif
	set uc=null
	set g=null
	set t=null
	set tm=null
endfunction
function FoMieWanJieGong takes nothing returns nothing
 local timer t=CreateTimer()
 local integer p=GetHandleId(t)
	set udg_fomiedanwei=GetAttacker()
	call SaveUnitHandle(YDHT, p, 0, GetTriggerUnit())
	call SaveInteger(YDHT, p, 1, 0)
	if not udg_shifoufomie then
		set udg_shifoufomie=true
		call TimerStart(t, 0.5, true, function FoMie)
		call WuGongShengChong(udg_fomiedanwei , 'A0CK' , 160.)
	endif
	set t=null
endfunction
//è¡€åˆ€ç»Â·ä¸€åˆ€ç»ç©º
function IsXueDaoJing takes nothing returns boolean
	return GetSpellAbilityId() == 'A0DH'
endfunction
function XueDaoJing_Action takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, p, 0)
 local unit uc=LoadUnitHandle(YDHT, p, 1)
 local unit l__ut=LoadUnitHandle(YDHT, p, 2)
 local location loc=LoadLocationHandle(YDHT, p, 3)
 local real myX=GetLocationX(loc)
 local real myY=GetLocationY(loc)
 local real hisX=GetUnitX(uc)
 local real hisY=GetUnitY(uc)
 local location loc2=null
 local real dist=0.
 local real angle=0.
 local integer i=LoadInteger(YDHT, p, 4)
 local real perc=0.04
 local integer imax=25
 local real shxishu=1.
 local real shanghai=0
	set shanghai=ShangHaiGongShi(u , uc , 400 , 300 , shxishu , 'A0DH')
	if GetUnitAbilityLevel(u, 'A06M') >= 1 then
		set shxishu=shxishu + .9
	endif
	if GetUnitAbilityLevel(u, 'A086') >= 1 then
		set shxishu=shxishu + 1.5
	endif
	if YDWEUnitHasItemOfTypeBJNull(u , 'I098') then
		set shxishu=shxishu * 4
	endif
	if i <= imax then
		set hisX=GetUnitX(uc)
		set hisY=GetUnitY(uc)
		set angle=Atan2(hisY - myY, hisX - myX)
		set dist=SquareRoot(( hisX - myX ) * ( hisX - myX ) + ( hisY - myY ) * ( hisY - myY ))
		set loc2=Location(myX + perc * i * dist * Cos(angle), myY + perc * i * dist * Sin(angle))
		call SetUnitPositionLoc(l__ut, loc2)
		//call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,R2S(hisX)+","+R2S(hisY)+","+R2S(myX)+","+R2S(myY)+","+R2S(GetLocationX(loc2))+","+R2S(GetLocationY(loc2))+","+R2S(dist)+","+R2S(angle))
		call SaveInteger(YDHT, p, 4, i + 1)
	else
		call WuGongShangHai(u , uc , shanghai)
		call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", uc, "overhead"))
		call SetUnitTimeScale(l__ut, 1)
		call ResetUnitAnimation(l__ut)
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, p)
		if GetUnitAbilityLevel(u, 'A07X') >= 1 then
			call UnitApplyTimedLifeBJ(100, 'BTLF', l__ut)
			//call UnitRemoveAbility(ut,'Aloc')
		else
			call KillUnit(l__ut)
			call RemoveUnit(l__ut)
		endif
		call RemoveLocation(loc)
		if GetUnitAbilityLevel(u, 'A06P') >= 1 then
			call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
			call ShowUnitHide(bj_lastCreatedUnit)
			call UnitAddAbility(bj_lastCreatedUnit, 1093678903)
			call IssueTargetOrderById(bj_lastCreatedUnit, $D008F, uc)
			call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
			call CreateTextTagLocBJ("å†…ä¼¤", loc2, 60., 12., 65., 55., 42., 0)
			call Nw(3. , bj_lastCreatedTextTag)
			call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
			call SetUnitDizzy(uc , 5. , "Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")
		endif
	endif
	call RemoveLocation(loc2)
	set t=null
	set u=null
	set uc=null
	set l__ut=null
	set loc=null
	set loc2=null
endfunction
function XueDaoJing takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetSpellTargetUnit()
 local location loc=GetUnitLoc(u)
 local timer t=CreateTimer()
 local integer p=GetHandleId(t)
 local unit l__ut=null
	call WuGongShengChong(u , 'A0DH' , 120)
	//call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"ä¸ºä»€ä¹ˆä¸æ˜¾ç¤ºå‘¢")
	call CreateNUnitsAtLoc(1, 'o01U', GetOwningPlayer(u), loc, GetUnitFacing(u))
	set l__ut=bj_lastCreatedUnit
	call ShowUnit(l__ut, true)
	call SaveUnitHandle(YDHT, p, 0, u)
	call SaveUnitHandle(YDHT, p, 1, uc)
	call SaveUnitHandle(YDHT, p, 2, l__ut)
	call SaveLocationHandle(YDHT, p, 3, loc)
	call SaveInteger(YDHT, p, 4, 0)
	call SetUnitTimeScale(l__ut, 1.)
	call SetUnitAnimation(l__ut, "attack slam")
	call TimerStart(t, 0.03, true, function XueDaoJing_Action)
	set u=null
	set uc=null
	set l__ut=null
	set loc=null
	set t=null
endfunction
function XueDaoJing_Condition takes nothing returns boolean
	return GetUnitTypeId(GetAttacker()) == 'o01U'
endfunction
function XueDaoJing_Action2 takes nothing returns nothing
 local player p=GetOwningPlayer(GetAttacker())
 local integer i=1 + GetPlayerId(p)
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1.
 local real shanghai=0
	if YDWEUnitHasItemOfTypeBJNull(u , 'I098') then
		set shxishu=shxishu * 4
	endif
	// ä¸€åˆ€ç»ç©º2å€
	if isTitle(i , 15) then
		set shxishu=shxishu * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 200 , 1200 , shxishu , 'A0DH')
	call WuGongShangHai(u , uc , shanghai)
	call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", uc, "overhead"))
	set p=null
	set u=null
	set uc=null
endfunction
function XueDao_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsXueDaoJing))
	call TriggerAddAction(t, function XueDaoJing)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function XueDaoJing_Condition))
	call TriggerAddAction(t, function XueDaoJing_Action2)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsXueZhan))
	call TriggerAddAction(t, function XueZhanDao)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsXueDao))
	call TriggerAddAction(t, function XueDaoDao)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsXueMo))
	call TriggerAddAction(t, function XueMoDao)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsFoMie))
	call TriggerAddAction(t, function FoMieWanJieGong)
	set t=null
endfunction
//--------è¡€åˆ€ç»“æŸ--------//
//--------å³¨çœ‰å¼€å§‹--------//
//å››è±¡æŒ
function IsSiXiang takes nothing returns boolean
 local real r=0.
	if GetUnitAbilityLevel(GetAttacker(), 'A0C4') >= 1 then
		set r=fuyuan[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))] * 4
	else
	    set r=fuyuan[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))]
    endif
    return ( GetRandomReal(0., 100.) < 15 + r / 5 ) and ( ( GetUnitAbilityLevel(GetAttacker(), 'A0C7') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function SiXiang_Condition takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function SiXiang2 takes nothing returns nothing
    local player p=GetOwningPlayer(udg_sixiangdanwei)
    local integer i=1 + GetPlayerId(p)
    local real shanghai=0.
    local real shxishu=2.
    if GetUnitAbilityLevel(udg_sixiangdanwei, 'A07N') >= 1 then
	    set shxishu=shxishu + 0.8
    endif
    // å€šå¤©å‰‘åŠ æˆ
    if UnitHaveItem(udg_sixiangdanwei , 'I00B') then
		set shxishu=shxishu * 4
	endif
    set shanghai=ShangHaiGongShi(udg_sixiangdanwei , GetEnumUnit() , 12 , 20 , shxishu , 'A0C7')
    call WuGongShangHai(udg_sixiangdanwei , GetEnumUnit() , shanghai)
    if GetUnitAbilityLevel(udg_sixiangdanwei, 'A0C6') >= 1 and GetRandomReal(1., 100.) <= 27 then
        call WanBuff(udg_sixiangdanwei , GetEnumUnit() , 11)
    endif
    set p=null
endfunction
function SiXiangZhang takes nothing returns nothing
    local unit u=GetAttacker()
    local player p=GetOwningPlayer(u)
    local integer i=0
    local integer imax=0
    local location loc=GetUnitLoc(u)
    local location loc2=GetUnitLoc(GetTriggerUnit())
    local real x= GetUnitX(u)
    local real y= GetUnitY(u)
    local string s= "Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl"
    if GetUnitAbilityLevel(u, 'A07W') >= 1 then
	    set imax=8
	else
	    set imax=5
    endif
    set i=1
    loop
    	exitwhen i > imax
        call DestroyEffect(AddSpecialEffect(s, x + 100 * i, y))
        call DestroyEffect(AddSpecialEffect(s, x - 100 * i, y))
        call DestroyEffect(AddSpecialEffect(s, x, y + 100 * i))
        call DestroyEffect(AddSpecialEffect(s, x, y - 100 * i))
    	set i=i + 1
    endloop
    call WuGongShengChong(u , 'A0C7' , 900.)
    set udg_sixiangdanwei=GetAttacker()
    call GroupEnumUnitsInRangeOfLoc(udg_shanghaidanweizu, loc, imax * 100.00, Condition(function SiXiang_Condition))
   // call ForGroupBJ(GetUnitsInRangeOfLocMatching(imax*100.00,loc2,Condition(function SiXiang_Condition)),function SiXiang)
    call ForGroupBJ(udg_shanghaidanweizu, function SiXiang2)
    call GroupClear(udg_shanghaidanweizu)
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    set i=1
    set u=null
    set p=null
    set loc=null
    set loc2=null
endfunction
//ä½›å…‰æ™®ç…§
function IsFoGuang takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0C4' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function FoGuang_Condition takes nothing returns boolean
    local unit u=LoadUnitHandle(YDHT, StringHash("ä½›å…‰"), StringHash("æ™®ç…§"))
    local unit uc=GetFilterUnit()
    local real shanghai=GetWidgetLife(uc) * .03 * GetUnitAbilityLevel(u, 'A0C4')
    local timer t=CreateTimer()
    local real r=2.00
    if GetUnitAbilityLevel(u, 'A06P') >= 1 then
	    set r=4.00
    endif
    if GetUnitAbilityLevel(u, 'A07N') >= 1 then
	    set shanghai=shanghai * 2
    endif
    call SetWidgetLife(u, GetWidgetLife(u) + shanghai)
    if IsUnitEnemy(uc, GetOwningPlayer(u)) == true and IsUnitAliveBJ(uc) then
	    if ( ModuloInteger(GetUnitPointValue(uc), 100) == 0 ) then
            call SetWidgetLife(uc, GetWidgetLife(uc) - shanghai)
        else
        	call SetWidgetLife(uc, GetWidgetLife(uc) - shanghai / 6)
        endif
    	call SetUnitDizzy(uc , r , "Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")
    else
    	if (IsUnitType((uc ), ( UNIT_TYPE_HERO)) != null) then // INLINED!!
    		call SetWidgetLife(uc, GetWidgetLife(uc) + shanghai)
    	endif
    endif
    set u=null
    set uc=null
    set t=null
    return false
endfunction
function FoGuangHuiXie takes nothing returns nothing
 local timer tm=GetExpiredTimer()
 local integer i=LoadInteger(YDHT, GetHandleId(tm), 1) + 1
 local unit u=LoadUnitHandle(YDHT, GetHandleId(tm), 0)
	call SaveInteger(YDHT, GetHandleId(tm), 1, i)
	call SetWidgetLife(u, GetWidgetLife(u) + 0.02 * GetUnitState(u, UNIT_STATE_MAX_LIFE))
	//call BJDebugMsg("è§¦å‘ä¸€æ¬¡")
	if i >= 60 then
		call FlushChildHashtable(YDHT, GetHandleId(tm))
        call PauseTimer(tm)
		call DestroyTimer(tm)
	endif
	set u=null
	set tm=null
endfunction
function FoGuangZhang takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local player p=GetOwningPlayer(u)
    local integer i=1 + GetPlayerId(p)
    local group g=CreateGroup()
    local real r=700.
    local real x=GetUnitX(u)
    local real y=GetUnitY(u)
    local timer tm=CreateTimer()
    call WuGongShengChong(u , 'A0C4' , 200.)
    if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
	    set r=1500.
    endif
    if GetUnitAbilityLevel(u, 'A07S') >= 1 then
	    call SaveUnitHandle(YDHT, GetHandleId(tm), 0, u)
	    call SaveInteger(YDHT, GetHandleId(tm), 1, 0)
	    call TimerStart(tm, .25, true, function FoGuangHuiXie)
    endif
    call SaveUnitHandle(YDHT, StringHash("ä½›å…‰"), StringHash("æ™®ç…§"), u)
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function FoGuang_Condition))
    call DestroyGroup(g)
    set u=null
    set p=null
    set g=null
    set tm=null
endfunction
//é‡‘é¡¶ç»µæŒ
function IsJinDing takes nothing returns boolean
    return ( GetRandomReal(0., 100.) < 15 + fuyuan[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))] / 5 ) and ( ( GetUnitAbilityLevel(GetAttacker(), 'A0C2') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function JinDingZhang takes nothing returns nothing
    local unit u=GetAttacker()
    local unit l__ut=GetTriggerUnit()
    local real shanghai=0.
    local player p=GetOwningPlayer(u)
    local integer i=1 + GetPlayerId(p)
    local real shxishu=2.
    if GetUnitAbilityLevel(u, 'A0C6') >= 1 then
	    set shxishu=shxishu + .5
    endif
    if GetUnitAbilityLevel(u, 'A07S') >= 1 then
	    set shxishu=shxishu + .7
    endif
    // å€šå¤©å‰‘åŠ æˆ
    if UnitHaveItem(u , 'I00B') then
		set shxishu=shxishu * 4
	endif
    set shanghai=ShangHaiGongShi(u , l__ut , 130 , 106 , shxishu , 'A0C2')
    call AddSpecialEffectTargetUnitBJ("overhead", GetTriggerUnit(), "Abilities\\Spells\\Other\\Transmute\\GoldBottleMissile.mdl")
    call DestroyEffect(GetLastCreatedEffectBJ())
    call WuGongShangHai(u , l__ut , shanghai)
    if jingmai[i] >= 20 then
        call YDWEJumpTimer(l__ut , 0 , 0.00 , 1 , 0.01 , GetRandomReal(200, 500))
    endif
    call WuGongShengChong(u , 'A0C2' , 1000.)
    set u=null
    set l__ut=null
    set p=null
endfunction
//ç­ç»å‰‘æ³•
function IsMieJue takes nothing returns boolean
    return ( GetSpellAbilityId() == 'A0C5' )
endfunction
function MieJue_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_miejuedanwei)) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function MieJue_Action takes nothing returns nothing
 local player p=GetOwningPlayer(udg_miejuedanwei)
    local integer i=1 + GetPlayerId(p)
    local real shanghai=0.
    local real shxishu=2.
    if GetUnitAbilityLevel(udg_miejuedanwei, 'A07M') >= 1 then
	    set shxishu=shxishu + 0.8
    endif
    if GetUnitAbilityLevel(udg_miejuedanwei, 'A071') >= 1 then
	    set shxishu=shxishu + 0.7
    endif
    // å€šå¤©å‰‘åŠ æˆ
    if UnitHaveItem(udg_miejuedanwei , 'I00B') then
		set shxishu=shxishu * 4
	endif
    set shanghai=ShangHaiGongShi(udg_miejuedanwei , GetEnumUnit() , 5.5 , 5.5 , shxishu , 'A0C5')
    call WuGongShangHai(udg_miejuedanwei , GetEnumUnit() , shanghai)
    set p=null
endfunction
function On_Timer takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local integer p= GetHandleId(t)
    local real x= LoadReal(YDHT, p, 1) + LoadReal(YDHT, p, 3)
    local real y= LoadReal(YDHT, p, 2) + LoadReal(YDHT, p, 4)
    local integer j= LoadInteger(YDHT, p, 0) + 1
    local integer i= 0
    local unit u=null
    local integer jmax=30
    local real a=0.
    local location loc=null
    call SaveReal(YDHT, p, 1, x)
    call SaveReal(YDHT, p, 2, y)
    call SaveInteger(YDHT, p, 0, j)
    if GetUnitAbilityLevel(udg_miejuedanwei, 'A07W') >= 1 then
	    set jmax=jmax * 2
    endif
    //call DisplayTextToPlayer(Player(0),0,0,"x="+R2S(x)+", y="+R2S(y))
    loop
        exitwhen i >= 12
        set u=LoadUnitHandle(YDHT, p, 5 + i)
        set loc=GetUnitLoc(u)
        set a=( j * 12.0 + i * 30.0 ) * bj_DEGTORAD
        call SetUnitX(u, CheckX(x + 150.0 * Cos(a)))
        call SetUnitY(u, CheckY(y + 150.0 * Sin(a)))
        call GroupEnumUnitsInRangeOfLoc(udg_shanghaidanweizu, loc, 100, Condition(function MieJue_Condition))
        call ForGroupBJ(udg_shanghaidanweizu, function MieJue_Action)
        call GroupClear(udg_shanghaidanweizu)
        call RemoveLocation(loc)
        if GetUnitAbilityLevel(udg_miejuedanwei, 'A089') >= 1 then
            set u=LoadUnitHandle(YDHT, p, 17 + i)
            set loc=GetUnitLoc(u)
            call SetUnitX(u, CheckX(GetUnitX(udg_miejuedanwei) + 150.0 * Cos(a)))
            call SetUnitY(u, CheckY(GetUnitY(udg_miejuedanwei) + 150.0 * Sin(a)))
            call GroupEnumUnitsInRangeOfLoc(udg_shanghaidanweizu, loc, 100, Condition(function MieJue_Condition))
            call ForGroupBJ(udg_shanghaidanweizu, function MieJue_Action)
            call GroupClear(udg_shanghaidanweizu)
            call RemoveLocation(loc)
        endif
        set i=i + 1
    endloop
    if ( j >= jmax ) then
        set i=0
        loop
            exitwhen i >= 12
            call KillUnit(LoadUnitHandle(YDHT, p, 5 + i))
            if GetUnitAbilityLevel(udg_miejuedanwei, 'A089') >= 1 then
                call KillUnit(LoadUnitHandle(YDHT, p, 17 + i))
            endif
            set i=i + 1
        endloop
        call PauseTimer(t)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, p)
    endif
    set t=null
    set loc=null
    set u=null
endfunction
function MieJueJian takes nothing returns nothing
    local timer t= CreateTimer()
    local integer p= GetHandleId(t)
    local unit u= GetTriggerUnit()
    local real x= GetUnitX(u)
    local real y= GetUnitY(u)
    local integer i= 0
    local real a
    set a=Atan2(GetSpellTargetY() - y, GetSpellTargetX() - x)
    call SaveInteger(YDHT, p, 0, 0)
    call SaveReal(YDHT, p, 1, x)
    call SaveReal(YDHT, p, 2, y)
    call SaveReal(YDHT, p, 3, 30.0 * Cos(a))
    call SaveReal(YDHT, p, 4, 30.0 * Sin(a))
    loop
        exitwhen i >= 12
        set a=30.0 * i * bj_DEGTORAD
        call SaveUnitHandle(YDHT, p, 5 + i, CreateUnit(GetOwningPlayer(u), 'h00C', x + 150.0 * Cos(a), y + 150.0 * Sin(a), GetUnitFacing(u)))
        if GetUnitAbilityLevel(u, 'A089') >= 1 then
            call SaveUnitHandle(YDHT, p, 17 + i, CreateUnit(GetOwningPlayer(u), 'h00C', x + 150.0 * Cos(a), y + 150.0 * Sin(a), 0.0))
        endif
        // åœ¨hashtableä¸­ä½ éœ€è¦è‡ªå·±è§„åˆ’å¥½æ•´æ•°è·¯å¾„çš„åˆ†é…
        // æ¯”å¦‚åœ¨è¿™é‡Œ, 5,6,...15,16 ç”¨äºå­˜å‚¨12ä¸ªé©¬ç”²
        set i=i + 1
    endloop
    set udg_miejuedanwei=u
     call WuGongShengChong(u , 'A0C5' , 250.)
    call TimerStart(t, 0.03, true, function On_Timer)
    set u=null
    set t=null
endfunction
//å³¨çœ‰ä¹é˜³åŠŸ
function IsEMeiJiuYang takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0C6' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function EMeiJiuYang_Condition takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit())
endfunction
function EMeiJiuYang_Action2 takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local integer j=LoadInteger(YDHT, p, 2)
 local unit u=LoadUnitHandle(YDHT, p, 0)
 local unit uc=LoadUnitHandle(YDHT, p, 1)
 local real shanghai=0.
 local real shxishu=1. + GetUnitState(u, UNIT_STATE_MAX_MANA) / 500
 local unit l__ut=null
 local location loc=GetUnitLoc(u)
    // local real 
    // å€šå¤©å‰‘åŠ æˆ
    if UnitHaveItem(u , 'I00B') then
		set shxishu=shxishu * 4
	endif
	set shanghai=ShangHaiGongShi(u , uc , 45. , 45. , shxishu , 'A0C6')
	if uc != null and IsUnitEnemy(uc, GetOwningPlayer(u)) == true and IsUnitAliveBJ(uc) then
		call WuGongShangHai(u , uc , shanghai)
		call CreateNUnitsAtLoc(1, 'h00C', GetOwningPlayer(u), loc, bj_UNIT_FACING)
		set l__ut=bj_lastCreatedUnit
		call ShowUnitHide(l__ut)
		call UnitAddAbility(l__ut, 'ACcr')
		call IssueTargetOrderById(l__ut, $D00DD, uc)
        call UnitApplyTimedLife(l__ut, 'BHwe', 3.)
        // å°ç©´
        call WanBuff(u , uc , 11)
	else
	    call SetUnitState(uc, UNIT_STATE_MANA, GetUnitState(uc, UNIT_STATE_MANA) + 20)
    endif
    call SaveInteger(YDHT, p, 2, j + 1)
    if ( j >= 10 ) then
	    call PauseTimer(t)
	    call DestroyTimer(t)
	    call FlushChildHashtable(YDHT, p)
    endif
    call RemoveLocation(loc)
    set loc=null
    set t=null
    set u=null
    set uc=null
    set l__ut=null
endfunction
function EMeiJiuYang_Action takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEnumUnit()
 local timer t=CreateTimer()
    local integer p=GetHandleId(t)
    call SaveUnitHandle(YDHT, p, 0, u)
    call SaveUnitHandle(YDHT, p, 1, uc)
    call SaveInteger(YDHT, p, 2, 1)
    call TimerStart(t, 1., true, function EMeiJiuYang_Action2)
    set u=null
    set t=null
    set uc=null
endfunction
function EMeiJiuYang takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local group g=CreateGroup()
 local real r=500.
 local real x=GetUnitX(u)
 local real y=GetUnitY(u)
	call WuGongShengChong(u , 'A0C6' , 200.)
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		set r=r + 300.
	endif
	if GetUnitAbilityLevel(u, 'A083') >= 1 then
		call YDWEGeneralBounsSystemUnitSetBonus(u , 1 , 0 , 20)
	endif
    if isTitle(i , 20) then // å°ä¸œé‚ª
call YDWEGeneralBounsSystemUnitSetBonus(u , 1 , 0 , 20)
        set r=r + 500.
    endif
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function EMeiJiuYang_Condition))
    call ForGroupBJ(g, function EMeiJiuYang_Action)
    call GroupClear(g)
    call DestroyGroup(g)
    set u=null
    set p=null
    set g=null
endfunction
//--------å³¨çœ‰ç»“æŸ--------//
function EMei_Trigger takes nothing returns nothing
	
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsSiXiang))
	call TriggerAddAction(t, function SiXiangZhang)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsFoGuang))
	call TriggerAddAction(t, function FoGuangZhang)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsEMeiJiuYang))
	call TriggerAddAction(t, function EMeiJiuYang)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsJinDing))
	call TriggerAddAction(t, function JinDingZhang)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsMieJue))
	call TriggerAddAction(t, function MieJueJian)
	
	set t=null
endfunction
//--------æ­¦å½“å¼€å§‹--------//
//æŸ”äº‘æŒ
function IsRouYun takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A04D') >= 1 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetRandomReal(0., 100.) <= 15.
endfunction
function RouYunZhang takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(GetTriggerUnit())
	call WuGongShengChong(u , 'A04D' , 500.)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A08P')
    call ShowUnitHide(bj_lastCreatedUnit)
    call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D0208, loc)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
    call RemoveLocation(loc)
    set u=null
    set loc=null
endfunction
function Xc takes nothing returns boolean
	return ( ( GetEventDamage() == .41 ) )
endfunction
function Yc takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if GetUnitAbilityLevel(u, 'A08Q') != 0 then
        set shxishu=shxishu + .5
    endif
    if GetUnitAbilityLevel(u, 'A071') != 0 then
        set shxishu=shxishu + .7
    endif
    if GetUnitAbilityLevel(u, 'A06H') != 0 then
        set shxishu=shxishu + .7
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DK') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 14 , 30 , shxishu , 'A04D')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) and ( GetUnitAbilityLevel(u, 1093678932) != 0 ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
        call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 1093678412)
        call ShowUnitHide(bj_lastCreatedUnit)
        call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
    endif
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
//ç»•æŒ‡æŸ”å‰‘æ³•
function dD takes nothing returns boolean
	return ( ( GetEventDamage() == .42 ) )
endfunction
function eD takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if ( ( GetUnitAbilityLevel(u, 'A08Q') != 0 ) ) then
        set shxishu=shxishu + .5
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07U') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A06J') != 0 ) ) then
        set shxishu=shxishu + .7
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DK') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 60 , 120 , shxishu , 'A08S')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 1093678935) != 0 ) and ( GetRandomInt(1, 100) <= 30 ) and ( UnitHasBuffBJ(uc, 1111844210) == false ) ) then
        call WanBuff(u , uc , 8)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A06M') != 0 ) and ( GetRandomInt(1, 100) <= 30 ) and ( UnitHasBuffBJ(uc, 1110454323) == false ) ) then
         call WanBuff(u , uc , 3)
    endif
    call RemoveLocation(loc)
    call WuGongShengChong(u , 'A08S' , 500.)
    set u=null
    set uc=null
    set loc=null
endfunction
//å¤ªææ‹³
function gD takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A08R' ) )
endfunction
function hD takes nothing returns boolean
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function iD takes nothing returns nothing
 local unit u=GetTriggerUnit()
    local unit uc=GetEnumUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if ( ( GetUnitAbilityLevel(u, 'A08V') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07Q') != 0 ) ) then
        set shxishu=shxishu + .8
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DK') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 150. , 150. , shxishu , 'A08R')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 'A06L') != 0 ) and ( GetRandomInt(1, 100) <= 50 ) and ( UnitHasBuffBJ(uc, 'B002') == false ) ) then
        call WanBuff(u , uc , 1)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) and ( GetRandomInt(1, 100) <= 50 ) and ( UnitHasBuffBJ(uc, 1112896364) == false ) ) then
        call WanBuff(u , uc , 5)
    endif
    call RemoveLocation(loc)
    set loc=null
    set u=null
    set uc=null
endfunction
function jD takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
    local location loc=GetUnitLoc(u)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=60
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call DestroyEffect(AddSpecialEffectLocBJ(pu(loc , 400. , ( I2R(bj_forLoopAIndex) * 6. )), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=20
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call DestroyEffect(AddSpecialEffectLocBJ(pu(pu(loc , 200. , 0) , 40. , ( I2R(bj_forLoopAIndex) * 18. )), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))
        call DestroyEffect(AddSpecialEffectLocBJ(pu(pu(loc , 200. , 180.) , 40. , ( I2R(bj_forLoopAIndex) * 18. )), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=30
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call DestroyEffect(AddSpecialEffectLocBJ(pu(pu(loc , 200. , .0) , 200. , ( I2R(bj_forLoopBIndex) * 6. )), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))
        call DestroyEffect(AddSpecialEffectLocBJ(pu(pu(loc , 200. , 180.) , 200. , ( ( I2R(bj_forLoopBIndex) * 6. ) + 180. )), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
    call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500. , loc , Condition(function hD)), function iD)
    call WuGongShengChong(u , 'A08R' , 250.)
    call RemoveLocation(loc)
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DK') then
	    // æ¯æ¬¡è§¦å‘å¤ªææ‹³ï¼Œç»å­¦åŠ 1
		set juexuelingwu[i]=juexuelingwu[i] + 1
		call DisplayTextToPlayer(p, 0, 0, "ç»å­¦é¢†æ‚ŸåŠ›+1")
    endif
	// å¼ ä¸‰ä¸°ç§°å·
	if isTitle(i , 22) then
	    // æ¯æ¬¡è§¦å‘å¤ªææ‹³ï¼Œç»å­¦åŠ 1
		set juexuelingwu[i]=juexuelingwu[i] + 1
		call DisplayTextToPlayer(p, 0, 0, "ç»å­¦é¢†æ‚ŸåŠ›+1")
    endif
	
	
    set u=null
	set p=null
    set loc=null
endfunction
//çº¯é˜³æ— çº§åŠŸ
function mD takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A08Q' )
endfunction
function nD takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer p= GetHandleId(t)
 local unit u= LoadUnitHandle(YDHT, p, 0)
 local location loc= GetUnitLoc(u)
	if ( ( LoadReal(YDHT, p, 1) >= 2000. ) ) then
		call FlushChildHashtable(YDHT, p)
		call DestroyTimer(t)
	else
		call SaveReal(YDHT, p, 1, LoadReal(YDHT, p, 1) + 10.)
		call CreateNUnitsAtLoc(1, 'e00U', GetOwningPlayer(u), loc, bj_UNIT_FACING)
		call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5.)
		call RemoveLocation(loc)
	endif
	set t=null
	set u=null
	set loc=null
endfunction
function IsChunYangHuo takes nothing returns boolean
	return ( GetEventDamage() == 5.17 ) and ( GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )], 'A08Q') >= 1 or GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )], 'A035') >= 1 )
endfunction
function ChunYangHuo takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
 local real shanghai=0.
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DK') then
	    set shxishu=shxishu * 2
    endif
    //call BJDebugMsg("ä¼¤å®³æ‰§è¡Œäº†1")
    if GetUnitAbilityLevel(u, 'A08Q') >= 1 then
    	set shanghai=ShangHaiGongShi(u , uc , 65 , 75 , shxishu , 'A08Q')
    	//åœ£ç«ä»¤ç¥åŠŸ
    elseif GetUnitAbilityLevel(u, 'A035') >= 1 then
    	//call BJDebugMsg("ä¼¤å®³æ‰§è¡Œäº†2")
    	set shanghai=ShangHaiGongShi(u , uc , 15 , 20 , shxishu , 'A035')
	endif
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
function oD takes nothing returns nothing
 local timer t= CreateTimer()
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= GetPlayerId(p)
 local location loc= null
	call SetUnitManaBJ(u, GetUnitState(u, UNIT_STATE_MANA) + I2R(100 * ( yishu[i] / 10 + GetUnitAbilityLevel(u, 'A08Q') )))
	if ( ( GetUnitAbilityLevel(u, 'A07U') != 0 ) ) then
		set loc=GetUnitLoc(u)
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A08T')
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, u)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call RemoveLocation(loc)
	endif
	if ( ( GetUnitAbilityLevel(u, 1093678935) != 0 ) ) then
		set loc=GetUnitLoc(u)
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 1093679189)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0085, u)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
		call TimerStart(t, .05, true, function nD)
		call RemoveLocation(loc)
	endif
	call WuGongShengChong(u , 'A08Q' , 250.)
	set t=null
	set u=null
	set p=null
	set loc=null
endfunction
function qD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A08Q') != 0 ) and ( GetSpellAbilityId() != 'A05R' ) and ( GetSpellAbilityId() != 'A08V' ) and ( GetSpellAbilityId() != 'A08X' ) ) and ( GetSpellAbilityId() != 'AIha' )
endfunction
function rD takes nothing returns nothing
 local unit u= GetTriggerUnit()
	call ModifyHeroStat(1, u, 0, 50)
	call YDWEPolledWaitNull(60.)
	call ModifyHeroStat(1, u, 1, 50)
	set u=null
endfunction
function tD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A08Q') != 0 and UnitHasBuffBJ(GetAttacker(), 'B00I') ) or ( GetUnitAbilityLevel(GetAttacker(), 'A08R') != 0 and GetUnitAbilityLevel(GetAttacker(), 'A09D') != 0 ) ) and GetRandomInt(1, 30) <= 5
endfunction
function uD takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function vD takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local real shxishu=1.
 local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A08V') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07Q') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
	// ä¸“å±æ¦‚ç‡åŠ æˆ
	if GetRandomInt(1, 100) <= 3 then
		if UnitHaveItem(u , 'I0DK') then
			// æ¯æ¬¡è§¦å‘å¤ªææ‹³ï¼Œç»å­¦åŠ 1
			set juexuelingwu[i]=juexuelingwu[i] + 1
			call DisplayTextToPlayer(p, 0, 0, "ç»å­¦é¢†æ‚ŸåŠ›+1")
		endif
	endif
	
    set shanghai=ShangHaiGongShi(u , uc , 50 , 50 , shxishu , 'A08R')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
	set p=null
endfunction
function wD takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
 local integer i=1
	set i=1
	loop
		exitwhen i > 60
		call AddSpecialEffectLocBJ(pu(loc , 400. , I2R(i) * 6.), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
		call DestroyEffect(bj_lastCreatedEffect)
		set i=i + 1
	endloop
	set i=1
	loop
		exitwhen i > 20
		call AddSpecialEffectLocBJ(pu(pu(loc , 200. , 0) , 40. , I2R(i) * 18.), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
		call DestroyEffect(bj_lastCreatedEffect)
		call AddSpecialEffectLocBJ(pu(pu(loc , 200. , 180.) , 40. , I2R(i) * 18.), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
		call DestroyEffect(bj_lastCreatedEffect)
		set i=i + 1
	endloop
	set i=1
	loop
		exitwhen i > 30
		call AddSpecialEffectLocBJ(pu(pu(loc , 200. , .0) , 200. , I2R(i) * 6.), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
		call DestroyEffect(bj_lastCreatedEffect)
		call AddSpecialEffectLocBJ(pu(pu(loc , 200. , 180.) , 200. , I2R(i) * 6. + 180.), "Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
		call DestroyEffect(bj_lastCreatedEffect)
		set i=i + 1
	endloop
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500. , loc , Condition(function uD)), function vD)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
function yD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A071') != 0 ) and ( GetUnitAbilityLevel(GetAttacker(), 'A08Q') != 0 ) and ( GetRandomInt(1, 30) <= 3 ) )
endfunction
function zD takes nothing returns nothing
	call WanBuff(GetAttacker() , GetTriggerUnit() , 6)
endfunction
function aD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0DN') != 0 ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 'A08Q') != 0 ) and ( GetRandomInt(1, 20) <= 2 ) )
endfunction
function BD takes nothing returns nothing
	call WanBuff(GetTriggerUnit() , GetAttacker() , 1)
endfunction
//æ··æ²Œä¸€æ°”
function CD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A08V') != 0 ) )
endfunction
function cD takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) ) then
		set Cd[i]=( Cd[i] + 1 )
		if ( ( Cd[i] >= 300 ) ) then
			set Cd[i]=0
			call YDWEGeneralBounsSystemUnitSetBonus(u , 1 , 0 , 20)
			call DisplayTextToPlayer(p, 0, 0, "é­”æ³•ä¸Šé™+20")
		endif
	endif
	call WuGongShengChong(u , 'A08V' , 4000)
	set u=null
	set p=null
endfunction
function ED takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A08V') != 0 ) and ( GetUnitAbilityLevel(GetAttacker(), 1093678930) != 0 ) and ( GetUnitAbilityLevel(GetAttacker(), 1093678935) != 0 ) and ( GetRandomInt(1, 100) <= 10 ) )
endfunction
function FD takes nothing returns nothing
	call WanBuff(GetAttacker() , GetTriggerUnit() , 2)
endfunction
function HD takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetTriggerUnit(), 'A08V') != 0 ) and ( GetSpellAbilityId() != 'A05R' ) and ( GetSpellAbilityId() != 'A08V' ) and ( GetSpellAbilityId() != 'A08X' ) and ( GetSpellAbilityId() != 'AIha' )
endfunction
function ID takes nothing returns nothing
	call YDWEPolledWaitNull(.2)
	call SetUnitManaBJ(GetTriggerUnit(), GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) + 100.)
endfunction
function JD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A08V') != 0 ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 'A083') != 0 ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0DN') != 0 ) and ( GetSpellAbilityId() != 'A05R' ) and ( GetSpellAbilityId() != 'A08V' ) and ( GetSpellAbilityId() != 'A08X' ) and ( GetSpellAbilityId() != 'AIha' ) and ( GetRandomInt(1, $A) <= 3 ) )
endfunction
function KD takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call UnitResetCooldown(u)
	call AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl")
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
function MD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A08V') != 0 ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 'A07Q') != 0 ) )
endfunction
function ND takes nothing returns nothing
	call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), ( GetEventDamage() * 10. ), true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
//--------æ­¦å½“ç»“æŸ--------//
function WuDang_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsRouYun))
	call TriggerAddAction(t, function RouYunZhang)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function Xc))
	call TriggerAddAction(t, function Yc)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function dD))
	call TriggerAddAction(t, function eD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function gD))
	call TriggerAddAction(t, function jD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function mD))
	call TriggerAddAction(t, function oD)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function IsChunYangHuo))
	call TriggerAddAction(t, function ChunYangHuo)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function qD))
	call TriggerAddAction(t, function rD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function tD))
	call TriggerAddAction(t, function wD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function yD))
	call TriggerAddAction(t, function zD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function aD))
	call TriggerAddAction(t, function BD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function CD))
	call TriggerAddAction(t, function cD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function ED))
	call TriggerAddAction(t, function FD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function HD))
	call TriggerAddAction(t, function ID)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function JD))
	call TriggerAddAction(t, function KD)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function MD))
	call TriggerAddAction(t, function ND)
	set t=null
endfunction
//--------åå±±å¼€å§‹--------//
//å†²çµå‰‘æ³•
function PD takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A08W') >= 1 ) and ( GetRandomReal(.0, 100.) <= ( 26. + ( 2. * I2R(GetUnitAbilityLevel(GetAttacker(), 'A08W')) ) ) ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function QD takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc=GetUnitLoc(uc)
 local real shxishu=1. + I2R(jingmai[1 + GetPlayerId(GetOwningPlayer(u))]) / 20.
 local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A06J') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    call DestroyEffect(AddSpecialEffectLocBJ(loc, "war3mapImported\\Mjolnir.mdx"))
    if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1113813619) == false ) ) then
        call WanBuff(u , uc , 10)
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678935) != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454324) == false ) ) then
        call WanBuff(u , uc , 7)
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0E0') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 44 , 50 , shxishu , 'A08W')
    call WuGongShangHai(u , uc , shanghai)
    call WuGongShengChong(GetAttacker() , 'A08W' , 400)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
//å¤ºå‘½å‰‘æ°”è¯€
function SD takes nothing returns boolean
return ( ( GetEventDamage() == .43 ) )
endfunction
function TD takes nothing returns nothing
    local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1. + GetUnitState(u, UNIT_STATE_MAX_MANA) / 200.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if GetUnitState(u, UNIT_STATE_MAX_MANA) >= 500 and GetUnitState(u, UNIT_STATE_MAX_MANA) < 1000 then
        set shxishu=1. + GetUnitState(u, UNIT_STATE_MAX_MANA) / 100.
    elseif GetUnitState(u, UNIT_STATE_MAX_MANA) >= 1000 then
        set shxishu=GetUnitState(u, UNIT_STATE_MAX_MANA) / 2.
    endif
    if ( ( GetUnitAbilityLevel(u, 'A06J') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0E0') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 7. , 9. , shxishu , 'A08X')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) and ( GetRandomInt(1, 100) <= 20 ) and ( UnitHasBuffBJ(uc, 1113813619) == false ) ) then
        call WanBuff(u , uc , 10)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) and ( GetRandomInt(1, 100) <= 20 ) and ( UnitHasBuffBJ(uc, 1112437615) == false ) ) then
        call WanBuff(u , uc , 2)
    endif
    call RemoveLocation(loc)
    call WuGongShengChong(u , 'A08X' , 36000.)
    set u=null
    set uc=null
    set loc=null
endfunction
//ç‹‚é£å¿«å‰‘
function VD takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetAttacker(), 'A08Y') != 0 ) and ( UnitHasBuffBJ(GetAttacker(), 1110454329) ) and ( GetRandomReal(0, 100) <= 20 + 2 * I2R(GetUnitAbilityLevel(GetAttacker(), 'A07U')) )
endfunction
function WD takes nothing returns nothing
 local unit u= GetAttacker()
 local player p= GetOwningPlayer(u)
 local unit l__ut= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 1697656882, p, loc, bj_UNIT_FACING)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 8.)
	call Yv(bj_lastCreatedUnit , u , 2. , 1. , .0 , 10. , .03)
	if ( ( GetUnitAbilityLevel(u, 'A06J') != 0 ) ) then
		call CreateNUnitsAtLoc(1, 1697656882, p, loc, bj_UNIT_FACING)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 8.)
		call Yv(bj_lastCreatedUnit , u , 2. , 1. , .0 , 10. , .03)
	endif
	call WuGongShengChong(u , 'A08Y' , 250.)
	call RemoveLocation(loc)
	set u=null
	set l__ut=null
	set p=null
	set loc=null
endfunction
function YD takes nothing returns boolean
	return ( ( GetEventDamage() == .44 ) )
endfunction
function ZD takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 1093678935) != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .5
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0E0') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 20 , 20 , shxishu , 'A08Y')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//ç´«éœåŠŸ
function Trig_arc_Conditions takes nothing returns boolean
    return GetSpellAbilityId() == 'A037'
endfunction
function arc_Actions2 takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local real i= (LoadReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local unit u=(LoadUnitHandle(YDHT, StringHash(("unit" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local unit uc=(LoadUnitHandle(YDHT, StringHash(("unit1" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local unit l__ut=(LoadUnitHandle(YDHT, StringHash(("unit2" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local real x= GetUnitX(u)
    local real y= GetUnitY(u)
    local real x1= GetUnitX(uc)
    local real y1= GetUnitY(uc)
    local real k=(LoadReal(YDHT, StringHash(("realK" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local real s= SquareRoot(( x - x1 ) * ( x - x1 ) + ( y - y1 ) * ( y - y1 ))
    local real r=s / k
    local real h=s * CosBJ(k * 3 + 30) * SinBJ(i * 3) / 2 + 50
    local real r1=i * ( s - 2 * r ) / 60 + r
    local real x2= x - r * CosBJ(YDWEAngleBetweenUnits(uc , u))
    local real y2= y - r * SinBJ(YDWEAngleBetweenUnits(uc , u))
    local real xx3= x2 + r1 * CosBJ(YDWEAngleBetweenUnits(uc , u) + i * (LoadReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t))))))))) // INLINED!!
    local real yy3= y2 + r1 * SinBJ(YDWEAngleBetweenUnits(uc , u) + i * (LoadReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t))))))))) // INLINED!!
    local real shxishu= 1. + danpo[1 + GetPlayerId(GetOwningPlayer(u))] / 20.
    local real shanghai= 0.
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0E0') then
	    set shxishu=shxishu * 2
    endif
    set i=i + 1
    if i >= 60 or IsTerrainPathable(xx3, yy3, PATHING_TYPE_FLYABILITY) == true then
    // æ­¤å¤„ä¸ºä¼¤å®³å€¼
		set shanghai=ShangHaiGongShi(u , uc , 10 , 8 , shxishu , 'A037')
		call WuGongShangHai(u , uc , shanghai)
		if GetRandomPercentageBJ() <= 20 and GetUnitAbilityLevel(u, 'A07P') >= 1 then
			call WanBuff(u , uc , 12)
		endif
        call RemoveUnit(l__ut)
        call PauseTimer(t)
        call DestroyTimer(t)
    else
        call SaveReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((t)))) )), (( i)*1.0)) // INLINED!!
        call SetUnitX(l__ut, xx3)
        call SetUnitY(l__ut, yy3)
        call SetUnitFlyHeight(l__ut, h, 999999)
    endif
    set t=null
    set u=null
    set uc=null
    set l__ut=null
endfunction
function arc_Actions3 takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local real i= (LoadReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local unit u=(LoadUnitHandle(YDHT, StringHash(("unit" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local unit uc=(LoadUnitHandle(YDHT, StringHash(("unit1" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local unit l__ut=(LoadUnitHandle(YDHT, StringHash(("unit2" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local real x= GetUnitX(u)
    local real y= GetUnitY(u)
    local real x1= GetUnitX(uc)
    local real y1= GetUnitY(uc)
    local real k=(LoadReal(YDHT, StringHash(("realK" )), StringHash(( I2S((GetHandleId((t)))))))) // INLINED!!
    local real s= SquareRoot(( x - x1 ) * ( x - x1 ) + ( y - y1 ) * ( y - y1 ))
    local real r=s / 10 * k
    local real h=s * CosBJ(k * 3) * SinBJ(i * 3) / 2 + 50
    local real a=Atan2BJ(s / 2, r) / ( (LoadReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t)))))))) * - 10 ) // INLINED!!
    local real r1=SquareRoot(( s / 2 ) * ( s / 2 ) + r * r)
    local real x2= x - r1 * CosBJ(YDWEAngleBetweenUnits(uc , u) + Atan2BJ(r, s / 2) * (LoadReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t)))))))) / 3) // INLINED!!
    local real y2= y - r1 * SinBJ(YDWEAngleBetweenUnits(uc , u) + Atan2BJ(r, s / 2) * (LoadReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t)))))))) / 3) // INLINED!!
    local real xx3= x2 + r1 * CosBJ(Atan2BJ(( y - y2 ), ( x - x2 )) - i * a)
    local real yy3= y2 + r1 * SinBJ(Atan2BJ(( y - y2 ), ( x - x2 )) - i * a)
    local real shxishu= 1. + danpo[1 + GetPlayerId(GetOwningPlayer(u))] / 20.
    local real shanghai= 0.
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    set i=i + 1
    if i >= 60 or IsTerrainPathable(xx3, yy3, PATHING_TYPE_FLYABILITY) == true then
    // æ­¤å¤„ä¸ºä¼¤å®³å€¼
    	set shanghai=ShangHaiGongShi(u , uc , 10 , 8 , shxishu , 'A037')
		call WuGongShangHai(u , uc , shanghai)
		if GetRandomPercentageBJ() <= 20 and GetUnitAbilityLevel(u, 'A07P') >= 1 then
			call WanBuff(u , uc , 12)
		endif
        call UnitDamageTarget(u, uc, I2R(GetHeroStr(u, false)), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        call RemoveUnit(l__ut)
        call PauseTimer(t)
        call DestroyTimer(t)
    else
        call SaveReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((t)))) )), (( i)*1.0)) // INLINED!!
        call SetUnitX(l__ut, xx3)
        call SetUnitY(l__ut, yy3)
        call SetUnitFlyHeight(l__ut, h, 999999)
    endif
    set t=null
    set u=null
    set uc=null
    set l__ut=null
endfunction
function arc_Actions1 takes nothing returns nothing
    local timer tm= GetExpiredTimer()
    local timer t= CreateTimer()
    local unit u=(LoadUnitHandle(YDHT, StringHash(("unit" )), StringHash(( I2S((GetHandleId((tm)))))))) // INLINED!!
    local unit uc=(LoadUnitHandle(YDHT, StringHash(("unit1" )), StringHash(( I2S((GetHandleId((tm)))))))) // INLINED!!
    // ä¿®æ”¹åˆ›å»ºå•ä½ID 'e015'
    local unit l__ut=CreateUnit(GetOwningPlayer(u), 'e015', GetUnitX(u), GetUnitY(u), 0)
    local real i= (LoadReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((tm)))))))) // INLINED!!
    call SaveUnitHandle(YDHT, StringHash(("unit" )), StringHash(( I2S((GetHandleId((t)))) )), ( u)) // INLINED!!
    call SaveUnitHandle(YDHT, StringHash(("unit1" )), StringHash(( I2S((GetHandleId((t)))) )), ( uc)) // INLINED!!
    call SaveUnitHandle(YDHT, StringHash(("unit2" )), StringHash(( I2S((GetHandleId((t)))) )), ( l__ut)) // INLINED!!
    call SaveReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((t)))) )), (( 0)*1.0)) // INLINED!!
    call SaveReal(YDHT, StringHash(("realK" )), StringHash(( I2S((GetHandleId((t)))) )), (( GetRandomReal(1, 10))*1.0)) // INLINED!!
    if GetRandomPercentageBJ() >= 50 then
        call SaveReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t)))) )), (( - 3)*1.0)) // INLINED!!
    else
        call SaveReal(YDHT, StringHash(("realJ" )), StringHash(( I2S((GetHandleId((t)))) )), (( 3)*1.0)) // INLINED!!
    endif
    if GetRandomPercentageBJ() >= 50 then
        call TimerStart(t, 0.02, TRUE, function arc_Actions3)
    else
        call TimerStart(t, 0.02, TRUE, function arc_Actions2)
    endif
    set t=null
    set u=null
    set uc=null
    set l__ut=null
    set i=i + 1
    // æ­¤å¤„ä¸ºå•ä½ä¸ªæ•°ã€‚ç°åœ¨ä¸º60(æ”»å‡»è½¨é“ä¸ªæ•°)
    if i >= 40 then
        call PauseTimer(tm)
        call DestroyTimer(tm)
    else
         call SaveReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((tm)))) )), (( i)*1.0)) // INLINED!!
endif
    set tm=null
endfunction
function Trig_arc_Actions takes nothing returns nothing
 local unit u= GetTriggerUnit()
    local timer t= CreateTimer()
    call WuGongShengChong(u , 'A037' , 160)
    call SaveUnitHandle(YDHT, StringHash(("unit" )), StringHash(( I2S((GetHandleId((t)))) )), ( GetTriggerUnit())) // INLINED!!
    call SaveUnitHandle(YDHT, StringHash(("unit1" )), StringHash(( I2S((GetHandleId((t)))) )), ( GetSpellTargetUnit())) // INLINED!!
    call SaveReal(YDHT, StringHash(("real" )), StringHash(( I2S((GetHandleId((t)))) )), (( 0)*1.0)) // INLINED!!
    call TimerStart(t, 0.02, TRUE, function arc_Actions1)
    set t=null
    set u=null
endfunction
//===========================================================================
//function eE takes nothing returns boolean
//	return((GetSpellAbilityId()=='A037'))
//endfunction
//function fE takes nothing returns boolean
//	return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))
//endfunction
//function gE takes nothing returns nothing
//	call GroupAddUnit(Fd[(1+GetPlayerId(GetTriggerPlayer()))],GetEnumUnit())
//endfunction
//function hE takes nothing returns boolean
//	return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))
//endfunction
//function iE takes nothing returns nothing
//	call GroupAddUnit(Fd[(1+GetPlayerId(GetTriggerPlayer()))],GetEnumUnit())
//endfunction
//function jE takes nothing returns nothing
//	local unit u = GetTriggerUnit()
//	local player p = GetOwningPlayer(u)
//	local integer i = 1 + GetPlayerId(p)
//	local location loc = GetUnitLoc(u)
//	local integer j = 0
//	local string no1 = null
//	local string no2 = null
//	local string no3 = null
//	local string no4 = null
//	local string no5 = null
//	local string no6 = null
//	local string no7 = null
//	local integer num = 0
//	call PauseUnit(u,true)
//	call WuGongShengChong(GetTriggerUnit(),'A037',160.)
//	set cd[i]=true
//	set j =  GetRandomInt(1, 4)
//	if(j==1) then
//		set no1 = "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no1 = "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no1 = "|cff00ff66 â† "
//	else
//		set no1 = "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set j =  GetRandomInt(1, 4)
//	if(j==1)then
//		set no2 = no1 + "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no2 = no1 + "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no2 = no1 + "|cff00ff66 â† "
//	else
//		set no2 = no1 + "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set j =  GetRandomInt(1, 4)
//	if(j==1)then
//		set no3 = no2 + "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no3 = no2 + "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no3 = no2 + "|cff00ff66 â† "
//	else
//		set no3 = no2 + "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set j =  GetRandomInt(1, 4)
//	if(j==1)then
//		set no4 = no3 + "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no4 = no3 + "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no4 = no3 + "|cff00ff66 â† "
//	else
//		set no4 = no3 + "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set j =  GetRandomInt(1, 4)
//	if(j==1)then
//		set no5 = no4 + "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no5 = no4 + "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no5 = no4 + "|cff00ff66 â† "
//	else
//		set no5 = no4 + "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set j =  GetRandomInt(1, 4)
//	if(j==1)then
//		set no6 = no5 + "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no6 = no5 + "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no6 = no5 + "|cff00ff66 â† "
//	else
//		set no6 = no5 + "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set j =  GetRandomInt(1, 4)
//	if(j==1)then
//		set no7 = no6 + "|cff00ff66 â†‘ "
//	elseif(j==2)then
//		set no7 = no6 + "|cff00ff66 â†“ "
//	elseif(j==3)then
//		set no7 = no6 + "|cff00ff66 â† "
//	else
//		set no7 = no6 + "|cff00ff66 â†’ "
//	endif
//	set num = num*10 + j
//	set Dd[i]=num
//	set Ed[i]=$F4240
//	call DisplayTimedTextToPlayer(p,0,0,30,"è¯·æŒ‰ä¸‹åˆ—é¡ºåºè¾“å…¥é”®ç›˜æŒ‡ä»¤ï¼Œåˆ™å¯ä»¥æé«˜ç´«éœåŠŸçš„ä¼¤å®³å€æ•°ï¼š"+no7)
//	if((GetUnitAbilityLevel(u,1093678930)!=0))then
//		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(800.,loc,Condition(function hE)),function iE)
//	else
//		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600.,loc,Condition(function fE)),function gE)
//	endif
//	if((GetUnitAbilityLevel(u,'A07P')!=0))then
//		call SetUnitInvulnerable(u,true)
//		call YDWEPolledWaitNull(3.)
//		call SetUnitInvulnerable(u,false)
//	endif
//	call RemoveLocation(loc)
//	set u = null
//	set p = null
//	set loc = null
//endfunction
//function mE takes nothing returns boolean
//	return((cd[(1+GetPlayerId(GetTriggerPlayer()))]))
//endfunction
//function nE takes nothing returns nothing
//	local unit u=udg_hero[(1+GetPlayerId(GetTriggerPlayer()))]
//	local unit uc=GetEnumUnit()
//	local location loc=GetUnitLoc(uc)
//	local integer i=1+GetPlayerId(GetOwningPlayer(u))
//	local real shxishu=1.
//	local real shanghai=0.
//    if((GetUnitAbilityLevel(u,1093678932)!=0))then
//        set shxishu=shxishu+.6
//    endif
//    if((GetUnitAbilityLevel(u,'A07S')!=0))then
//        set shxishu=shxishu+.8
//    endif
//    call DestroyEffect(AddSpecialEffectLocBJ(loc,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
//    set shanghai=ShangHaiGongShi(u,uc,250+10*Gd[(1+GetPlayerId(GetTriggerPlayer()))],100.,shxishu,'A091')
//    call WuGongShangHai(u,uc,shanghai)
//    if((Ed[(1+GetPlayerId(GetTriggerPlayer()))]==1))then
//        call WanBuff(u, uc, 12)
//    endif
//    call RemoveLocation(loc)
//    set u=null
//    set uc=null
//    set loc=null
//endfunction
//function oE takes nothing returns nothing
//	local player p = GetTriggerPlayer()
//	local integer i = 1 + GetPlayerId(p)
//	local unit u = udg_hero[i]
//	if((Ed[i]==1))then
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==1)then
//			set Gd[i]=Gd[i]+3
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	else
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==1)then
//			set Gd[i]=(Gd[i]+3)
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼Œè¯·ç»§ç»­æ“ä½œæŒ‡ä»¤")
//			set Ed[i]=(Ed[i]/$A)
//			set u = null
//			set p = null
//			return
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	endif
//	call ForGroupBJ(Fd[i],function nE)
//	set Gd[i]=.0
//	set cd[i]=false
//	set Dd[i]=0
//	set Ed[i]=0
//	call GroupClear(Fd[i])
//	call PauseUnit(u,false)
//	set u = null
//	set p = null
//endfunction
//function qE takes nothing returns boolean
//	return((cd[(1+GetPlayerId(GetTriggerPlayer()))]))
//endfunction
//function rE takes nothing returns nothing
//    local unit u=udg_hero[(1+GetPlayerId(GetTriggerPlayer()))]
//	local unit uc=GetEnumUnit()
//	local location loc=GetUnitLoc(uc)
//	local integer i=1+GetPlayerId(GetOwningPlayer(u))
//	local real shxishu=1.
//	local real shanghai=0.
//    if((GetUnitAbilityLevel(u,1093678932)!=0))then
//        set shxishu=shxishu+.6
//    endif
//    if((GetUnitAbilityLevel(u,'A07S')!=0))then
//        set shxishu=shxishu+.8
//    endif
//    call DestroyEffect(AddSpecialEffectLocBJ(loc,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
//    set shanghai=ShangHaiGongShi(u,uc,250+10*Gd[(1+GetPlayerId(GetTriggerPlayer()))],100.,shxishu,'A091')
//    call WuGongShangHai(u,uc,shanghai)
//    if((Ed[(1+GetPlayerId(GetTriggerPlayer()))]==1))then
//        call WanBuff(u, uc, 12)
//    endif
//    call RemoveLocation(loc)
//    set u=null
//    set uc=null
//    set loc=null
//endfunction
//function sE takes nothing returns nothing
//	local player p = GetTriggerPlayer()
//	local integer i = 1 + GetPlayerId(p)
//	local unit u = udg_hero[i]
//	if((Ed[i]==1))then
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==2)then
//			set Gd[i]=Gd[i]+3
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	else
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==2)then
//			set Gd[i]=(Gd[i]+3)
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼Œè¯·ç»§ç»­æ“ä½œæŒ‡ä»¤")
//			set Ed[i]=(Ed[i]/$A)
//			set u = null
//			set p = null
//			return
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	endif
//	call ForGroupBJ(Fd[i],function nE)
//	set Gd[i]=.0
//	set cd[i]=false
//	set Dd[i]=0
//	set Ed[i]=0
//	call GroupClear(Fd[i])
//	call PauseUnit(u,false)
//	set u = null
//	set p = null
//endfunction
//function uE takes nothing returns boolean
//	return((cd[(1+GetPlayerId(GetTriggerPlayer()))]))
//endfunction
//function vE takes nothing returns nothing
//    local unit u=udg_hero[(1+GetPlayerId(GetTriggerPlayer()))]
//	local unit uc=GetEnumUnit()
//	local location loc=GetUnitLoc(uc)
//	local integer i=1+GetPlayerId(GetOwningPlayer(u))
//	local real shxishu=1.
//	local real shanghai=0.
//    if((GetUnitAbilityLevel(u,1093678932)!=0))then
//        set shxishu=shxishu+.6
//    endif
//    if((GetUnitAbilityLevel(u,'A07S')!=0))then
//        set shxishu=shxishu+.8
//    endif
//    call DestroyEffect(AddSpecialEffectLocBJ(loc,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
//    set shanghai=ShangHaiGongShi(u,uc,250+10*Gd[(1+GetPlayerId(GetTriggerPlayer()))],100.,shxishu,'A091')
//    call WuGongShangHai(u,uc,shanghai)
//    if((Ed[(1+GetPlayerId(GetTriggerPlayer()))]==1))then
//        call WanBuff(u, uc, 12)
//    endif
//    call RemoveLocation(loc)
//    set u=null
//    set uc=null
//    set loc=null
//endfunction
//function wE takes nothing returns nothing
//	local player p = GetTriggerPlayer()
//	local integer i = 1 + GetPlayerId(p)
//	local unit u = udg_hero[i]
//	if((Ed[i]==1))then
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==3)then
//			set Gd[i]=Gd[i]+3
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	else
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==3)then
//			set Gd[i]=(Gd[i]+3)
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼Œè¯·ç»§ç»­æ“ä½œæŒ‡ä»¤")
//			set Ed[i]=(Ed[i]/$A)
//			set u = null
//			set p = null
//			return
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	endif
//	call ForGroupBJ(Fd[i],function nE)
//	set Gd[i]=.0
//	set cd[i]=false
//	set Dd[i]=0
//	set Ed[i]=0
//	call GroupClear(Fd[i])
//	call PauseUnit(u,false)
//	set u = null
//	set p = null
//endfunction
//function yE takes nothing returns boolean
//	return((cd[(1+GetPlayerId(GetTriggerPlayer()))]))
//endfunction
//function zE takes nothing returns nothing
//	local unit u=udg_hero[(1+GetPlayerId(GetTriggerPlayer()))]
//	local unit uc=GetEnumUnit()
//	local location loc=GetUnitLoc(uc)
//	local integer i=1+GetPlayerId(GetOwningPlayer(u))
//	local real shxishu=1.
//	local real shanghai=0.
//    if((GetUnitAbilityLevel(u,1093678932)!=0))then
//        set shxishu=shxishu+.6
//    endif
//    if((GetUnitAbilityLevel(u,'A07S')!=0))then
//        set shxishu=shxishu+.8
//    endif
//    call DestroyEffect(AddSpecialEffectLocBJ(loc,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
//    set shanghai=ShangHaiGongShi(u,uc,250+10*Gd[(1+GetPlayerId(GetTriggerPlayer()))],100.,shxishu,'A091')
//    call WuGongShangHai(u,uc,shanghai)
//    if((Ed[(1+GetPlayerId(GetTriggerPlayer()))]==1))then
//        call WanBuff(u, uc, 12)
//    endif
//    call RemoveLocation(loc)
//    set u=null
//    set uc=null
//    set loc=null
//endfunction
//function AE takes nothing returns nothing
//	local player p = GetTriggerPlayer()
//	local integer i = 1 + GetPlayerId(p)
//	local unit u = udg_hero[i]
//	if((Ed[i]==1))then
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==4)then
//			set Gd[i]=Gd[i]+3
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	else
//		if(ModuloInteger(Dd[i]/Ed[i],$A)==4)then
//			set Gd[i]=(Gd[i]+3)
//			call DisplayTextToPlayer(p,0,0,"ä¼¤å®³æé«˜ï¼Œè¯·ç»§ç»­æ“ä½œæŒ‡ä»¤")
//			set Ed[i]=(Ed[i]/$A)
//			set u = null
//			set p = null
//			return
//		else
//			call DisplayTextToPlayer(p,0,0,"é”™è¯¯æ“ä½œï¼ŒæŠ€èƒ½å¼€å§‹é‡Šæ”¾")
//		endif
//	endif
//	call ForGroupBJ(Fd[i],function nE)
//	set Gd[i]=.0
//	set cd[i]=false
//	set Dd[i]=0
//	set Ed[i]=0
//	call GroupClear(Fd[i])
//	call PauseUnit(u,false)
//	set u = null
//	set p = null
//endfunction
//æ··å…ƒåŠŸ
function BE takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A091' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function bE takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function CE takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) ) then
        set shxishu=shxishu + .5
    endif
    if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl"))
    call RemoveLocation(loc)
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0E0') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 200. , 300. , shxishu , 'A091')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
    set loc=null
endfunction
function cE takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
 local integer j= jingmai[i] / 5
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600. , loc , Condition(function bE)), function CE)
	call WuGongShengChong(GetTriggerUnit() , 'A091' , 100.)
	call RemoveLocation(loc)
	set juexuelingwu[i]=juexuelingwu[i] + j
	call DisplayTextToPlayer(p, 0, 0, "ç»å­¦é¢†æ‚ŸåŠ›+" + I2S(j))
	call YDWEPolledWaitNull(10.)
	set juexuelingwu[i]=juexuelingwu[i] - j
	call DisplayTextToPlayer(p, 0, 0, "ç»å­¦é¢†æ‚ŸåŠ›-" + I2S(j))
	set u=null
	set p=null
	set loc=null
endfunction
//--------åå±±ç»“æŸ--------//
function HuaShan_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function PD))
	call TriggerAddAction(t, function QD)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function SD))
	call TriggerAddAction(t, function TD)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function VD))
	call TriggerAddAction(t, function WD)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function YD))
	call TriggerAddAction(t, function ZD)
	set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Trig_arc_Conditions))
    call TriggerAddAction(t, function Trig_arc_Actions)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function BE))
	call TriggerAddAction(t, function cE)
	set t=null
endfunction
//--------æ˜Ÿå®¿å¼€å§‹--------//
//æ˜Ÿå®¿é€é¥æŒ
function p3 takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A0BP') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function q3 takes nothing returns boolean
local integer id=GetHandleId(GetTriggeringTrigger())
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function r3 takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
    call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl"))
    if ( ( GetUnitAbilityLevel(u, 'A0BT') != 0 ) and ( GetRandomReal(.0, 100.) <= 8. ) ) then
        call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 1093678900)
        call IssueTargetOrderById(bj_lastCreatedUnit, $D022F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 3.)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A0BV') != 0 ) ) then
        set shxishu=shxishu + .5
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if UnitHaveItem(u , 'I0AM') then
	    set shxishu=shxishu * 1.8
    endif
    set shanghai=ShangHaiGongShi(u , uc , 20.3 , 20.3 , shxishu , 'A0BP')
    call WuGongShangHai(u , uc , shanghai)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
function s3 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, GetUnitLoc(GetAttacker()))
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A0BP')
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07P') != 0 ) ) then
call SaveReal(YDHT, id * cx, $2392447A, 35.)
else
call SaveReal(YDHT, id * cx, $2392447A, 23.)
endif
call SaveReal(YDHT, id * cx, $41713DA3, 450.)
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( 1 + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(danpo[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .05 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( .9 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * LoadReal(YDHT, id * cx, $1968F401) ))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)) == 9 ) ) then
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 10. ))
endif
if ( ( GetRandomReal(.0, 100.) <= LoadReal(YDHT, id * cx, $2392447A) ) ) then
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(LoadReal(YDHT, id * cx, $41713DA3) , LoadLocationHandle(YDHT, id * cx, - $72C3E060) , Condition(function q3)), function r3)
call WuGongShengChong(GetAttacker() , 'A0BP' , 700.)
endif
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä¸‰é˜´èœˆèš£çˆª
function u3 takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0BQ' ) )
endfunction
function v3 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetSpellTargetUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)))
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A0BQ')
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 120. , GetRandomReal(0, 360)))
call CreateNUnitsAtLoc(1, 1969451827, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06P') != 0 ) ) then
call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
endif
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07O') != 0 ) ) then
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
else
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
endif
call zw(bj_lastCreatedUnit , GetTriggerUnit() , 1. , 250. , 1000. , 1500. , 75)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 120. , GetRandomReal(0, 360)))
call CreateNUnitsAtLoc(1, 1969451827, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06P') != 0 ) ) then
call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
endif
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07O') != 0 ) ) then
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
else
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
endif
call zw(bj_lastCreatedUnit , GetTriggerUnit() , 1. , 250. , 1000. , 1500. , 75)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 120. , GetRandomReal(0, 360)))
call CreateNUnitsAtLoc(1, 1969451827, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06P') != 0 ) ) then
call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
endif
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07O') != 0 ) ) then
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
else
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
endif
call zw(bj_lastCreatedUnit , GetTriggerUnit() , 1. , 250. , 1000. , 1500. , 75)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07U') != 0 ) ) then
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 120. , GetRandomReal(0, 360)))
call CreateNUnitsAtLoc(1, 1969451827, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06P') != 0 ) ) then
call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
endif
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07O') != 0 ) ) then
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
else
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
endif
call zw(bj_lastCreatedUnit , GetTriggerUnit() , 1. , 250. , 1000. , 1500. , 75)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 120. , GetRandomReal(0, 360)))
call CreateNUnitsAtLoc(1, 1969451827, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06P') != 0 ) ) then
call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
endif
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07O') != 0 ) ) then
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
else
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
endif
call zw(bj_lastCreatedUnit , GetTriggerUnit() , 1. , 250. , 1000. , 1500. , 75)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
endif
call WuGongShengChong(GetTriggerUnit() , 'A0BQ' , 100.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function x3 takes nothing returns boolean
return ( ( GetUnitTypeId(GetAttacker()) == 1969451827 ) )
endfunction
function y3 takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )]
 local unit uc=GetTriggerUnit()
 local location loc2=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=2.
 local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07A') != 0 ) and ( GetRandomReal(.0, 100.) <= 30. ) and ( UnitHasBuffBJ(uc, 1110454344) == false ) ) then
        call WanBuff(u , uc , 5)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) and ( GetUnitAbilityLevel(u, 'A089') != 0 ) and ( GetRandomReal(.0, 100.) <= 20. ) ) then
        call DestroyEffect(AddSpecialEffectLocBJ(loc2, "Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
        if ( ( GetUnitAbilityLevel(u, 'A0BV') != 0 ) ) then
            set shxishu=shxishu + .5
        endif
        if UnitHaveItem(u , 'I0AM') then
	    	set shxishu=shxishu * 1.8
    	endif
        if isTitle(i , 23) then
	    	set shxishu=shxishu * 4
    	endif
        set shanghai=ShangHaiGongShi(u , uc , 16. , 16. , shxishu , 'A0BQ')
        call percentDamage(uc , 30 , false)
      	call WuGongShangHai(u , uc , shanghai)
        call KillUnit(GetAttacker())
    else
        if ( ( GetRandomReal(.0, 100.) <= 35. ) ) then
            if ( ( GetUnitAbilityLevel(u, 'A0BV') != 0 ) ) then
                set shxishu=shxishu + .5
            endif
            if UnitHaveItem(u , 'I0AM') then
	    		set shxishu=shxishu * 1.8
    		endif
            if isTitle(i , 23) then
	    	    set shxishu=shxishu * 4
    	    endif
            set shanghai=ShangHaiGongShi(u , uc , 20. , 20. , shxishu , 'A0BQ')
      	    call WuGongShangHai(u , uc , shanghai)
        endif
    endif
    call RemoveLocation(loc2)
    set u=null
    set uc=null
    set loc2=null
endfunction
//ç¥æœ¨ç‹é¼+ä¸‰é˜´
function IsShenDingSanYin takes nothing returns boolean
	return GetItemTypeId(GetManipulatedItem()) == 'I0AM' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0BQ') >= 1 and isproducing[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == false
endfunction
function ShenDingSanYin_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
 local location loc2= pu(loc , 120 , GetRandomReal(0, 360))
	set isproducing[i]=false
	if UnitHaveItem(u , 'I0AM') then
		call CreateNUnitsAtLoc(1, 1969451827, p, loc2, bj_UNIT_FACING)
		if ( GetUnitAbilityLevel(u, 'A06P') != 0 ) then
			call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
		endif
		if ( GetUnitAbilityLevel(u, 'A07O') != 0 ) then
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
		else
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
		endif
		call zw(bj_lastCreatedUnit , u , 1. , 250. , 1000. , 1500. , 75)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set t=null
	set u=null
	set p=null
	set loc=null
	set loc2=null
endfunction
function ShenDingSanYin takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local timer t= CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	set isproducing[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
	call TimerStart(t, 15, true, function ShenDingSanYin_1)
	set u=null
	set t=null
endfunction
//å¤©å±±æ–æ³•
function A3 takes nothing returns boolean
return ( ( GetEventDamage() == .51 ) )
endfunction
function a3 takes nothing returns nothing
    local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    if ( ( GetUnitAbilityLevel(u, 'A084') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if UnitHaveItem(u , 'I0AM') then
	    set shxishu=shxishu * 1.8
    endif
    call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl"))
    set shanghai=ShangHaiGongShi(u , uc , 100 , 100 , shxishu , 'A0BS')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1111844210) == false ) ) then
        call WanBuff(u , uc , 8)
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454344) == false ) ) then
        call WanBuff(u , uc , 5)
    endif
    call RemoveLocation(loc)
    call WuGongShengChong(u , 'A0BS' , 300.)
    set u=null
    set uc=null
    set loc=null
endfunction
//ä¸‡æ¯’å™¬éª¨æœ¯
function b3 takes nothing returns boolean
return ( ( GetEventDamage() == .52 ) )
endfunction
function C3 takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    if UnitHaveItem(u , 'I0AM') then
	    set shxishu=shxishu * 1.8
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) and ( GetUnitAbilityLevel(u, 'A06L') != 0 ) and ( UnitHasBuffBJ(uc, 1110454324) == false ) and ( GetRandomReal(.0, 100.) <= 3. ) ) then
        call WanBuff(u , uc , 7)
    endif
    call WuGongShengChong(u , 'A0BT' , 3500.)
    call YDWEPolledWaitNull(.1)
    set shanghai=ShangHaiGongShi(u , uc , 10.8 , 10.8 , shxishu , 'A0BT')
    call WuGongShangHai(u , uc , shanghai)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
function D3 takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetKillingUnit(), 'A0BT') != 0 ) )
endfunction
function E3 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) )])
call SaveUnitHandle(YDHT, id * cx, $1168A3EE, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A0BT')
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1395666994) != 0 ) and ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07A') != 0 ) and ( GetRandomReal(.0, 100.) <= 3. ) ) then
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $1168A3EE)))
call CreateNUnitsAtLoc(1, 1969451827, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06P') != 0 ) ) then
call UnitAddAbility(bj_lastCreatedUnit, 1095656040)
endif
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07O') != 0 ) ) then
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 70.)
else
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 45.)
endif
call zw(bj_lastCreatedUnit , LoadUnitHandle(YDHT, id * cx, $59BEA0CB) , 1. , 250. , 1000. , 1500. , 75)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ˜Ÿå®¿å¿ƒæ³•
function G3 takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A0BV' ) )
endfunction
function H3 takes nothing returns nothing
if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 500. ) ) then
call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 47. ))
if ( ( UnitHasBuffBJ(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB), 1112504171) ) and ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB), 1093678935) != 0 ) and ( GetRandomInt(1, $A) <= 5 ) ) then
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)))
if ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O004' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 1747988533)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O001' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 1747988535)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O002' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 1747988536)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O003' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 1747988537)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O000' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 1747988534)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O023' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O02H' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O02I' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 'h00I')
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) == 'O02J' ) ) then
call SaveInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165, 'h00K')
endif
call CreateNUnitsAtLoc(1, LoadInteger(YDHT, GetHandleId(GetExpiredTimer()), - $2A11C165), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F), bj_UNIT_FACING)
call GroupAddUnit(Fe, bj_lastCreatedUnit)
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5.)
call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
endif
endif
endfunction
function I3 takes nothing returns nothing
local timer ky
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 'A0BW')
call IssueTargetOrderById(bj_lastCreatedUnit, $D0065, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A0BV')
if ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O004' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988533)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O001' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988535)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O002' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988536)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O003' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988537)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O000' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988534)
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O023' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O02H' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O02I' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 'h00I')
elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O02J' ) ) then
call SaveInteger(YDHT, id * cx, - $2A11C165, 'h00K')
endif
call CreateNUnitsAtLoc(1, LoadInteger(YDHT, id * cx, - $2A11C165), GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
call GroupAddUnit(Fe, bj_lastCreatedUnit)
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5.)
call WuGongShengChong(GetTriggerUnit() , 'A0BV' , 100.)
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call TimerStart(ky, 1., true, function H3)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call FlushChildHashtable(YDHT, id * cx)
set ky=null
endfunction
function J3 takes nothing returns boolean
return ( ( IsUnitInGroup(GetTriggerUnit(), Fe) ) )
endfunction
function K3 takes nothing returns boolean
local integer id=GetHandleId(GetTriggeringTrigger())
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function L3 takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )]
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if UnitHaveItem(u , 'I0AM') then
	    set shxishu=shxishu * 1.8
    endif
    if isTitle(i , 23) then
        set shxishu=shxishu * 4
    endif
    set shanghai=ShangHaiGongShi(u , uc , 60. , 60. , shxishu , 'A0BV')
  	call WuGongShangHai(u , uc , shanghai)
  	set u=null
    set uc=null
endfunction
function MM3 takes nothing returns nothing
    local integer id=GetHandleId(GetTriggeringTrigger())
    local integer cx=LoadInteger(YDHT, id, - $3021938A)
    local integer gailv= 80
// æ˜Ÿå®¿è€ä»™ï¼Œå¿ƒæ³•90%æ¦‚ç‡é‡ç”Ÿ
if isTitle(1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) , 23) then
        set gailv=95
    endif
    set cx=cx + 3
    call SaveInteger(YDHT, id, - $3021938A, cx)
    call SaveInteger(YDHT, id, - $1317DA19, cx)
    call GroupRemoveUnit(Fe, GetTriggerUnit())
    call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )])
    call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, GetTriggerUnit())
    call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)))
    call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A0BV')
    call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( .8 + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + 1. ))
    call SaveReal(YDHT, id * cx, $1968F401, ( 1.5 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
    call AddSpecialEffectLocBJ(LoadLocationHandle(YDHT, id * cx, - $72C3E060), "war3mapImported\\DivineRing.mdx")
    call DestroyEffect(bj_lastCreatedEffect)
    call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(350. , LoadLocationHandle(YDHT, id * cx, - $72C3E060) , Condition(function K3)), function L3)
    if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A083') != 0 ) and ( GetRandomInt(1, 100) <= gailv ) ) then
    if ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O004' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988533)
    elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O001' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988535)
    elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O002' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988536)
    elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O003' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988537)
    elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O000' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988534)
    elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O023' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O02H' ) or ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O02I' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 'h00I')
    elseif ( ( GetUnitTypeId(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) == 'O02J' ) ) then
    call SaveInteger(YDHT, id * cx, - $2A11C165, 'h00K')
    endif
    call CreateNUnitsAtLoc(1, LoadInteger(YDHT, id * cx, - $2A11C165), GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
    call GroupAddUnit(Fe, bj_lastCreatedUnit)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5.)
    endif
    call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
    call FlushChildHashtable(YDHT, id * cx)
endfunction
//--------æ˜Ÿå®¿ç»“æŸ--------//
function XingXiu_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function p3))
	call TriggerAddAction(t, function s3)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function u3))
	call TriggerAddAction(t, function v3)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function x3))
	call TriggerAddAction(t, function y3)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function A3))
	call TriggerAddAction(t, function a3)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function b3))
	call TriggerAddAction(t, function C3)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function D3))
	call TriggerAddAction(t, function E3)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function G3))
	call TriggerAddAction(t, function I3)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function J3))
	call TriggerAddAction(t, function MM3)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsShenDingSanYin))
	call TriggerAddAction(t, function ShenDingSanYin)
	set t=null
endfunction
//--------å¤å¢“å¼€å§‹--------//
//ç¾å¥³æ‹³
function EE takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A09E') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function FE takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
    if ( u == udg_hero[i] ) then
		// åŒæ‰‹åŠ æ¦‚ç‡
        if ( ( GetUnitAbilityLevel(u, 'A07U') != 0 ) ) then
            if ( ( GetRandomReal(.0, 100.) <= 70. ) ) then
                if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
                    set shxishu=shxishu + .6
                endif
                if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) ) then
                    set shxishu=shxishu + .8
                endif
                if UnitHaveItem(u , 'I09C') then
					set shxishu=shxishu * 4
				endif
                call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"))
                if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
                    call WanBuff(u , uc , 11)
                endif
                set shanghai=ShangHaiGongShi(u , uc , 28. , 28. , shxishu , 'A09E')
                call WuGongShangHai(u , uc , shanghai)
                call WuGongShengChong(GetAttacker() , 'A09E' , 650)
            endif
        else
            if ( ( GetRandomReal(.0, 100.) <= 50. ) ) then
                if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
                    set shxishu=shxishu + .6
                endif
                if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) ) then
                    set shxishu=shxishu + .8
                endif
                if UnitHaveItem(u , 'I09C') then
					set shxishu=shxishu * 4
				endif
                call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"))
                if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
                    call WanBuff(u , uc , 11)
                endif
                set shanghai=ShangHaiGongShi(u , uc , 28. , 28. , shxishu , 'A09E')
                call WuGongShangHai(u , uc , shanghai)
                call WuGongShengChong(GetAttacker() , 'A09E' , 1000)
            endif
        endif
    else
        if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
            set shxishu=shxishu + .6
        endif
        if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) ) then
            set shxishu=shxishu + .8
        endif
        if UnitHaveItem(u , 'I09C') then
			set shxishu=shxishu * 4
		endif
        call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"))
        if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
            call WanBuff(u , uc , 11)
        endif
        set shanghai=ShangHaiGongShi(udg_hero[i] , uc , 15 , 15 , shxishu , 'A09E')
        call WuGongShangHai(udg_hero[i] , uc , shanghai)
    endif
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
//ç‰èœ‚é’ˆ
function HE takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A09J' ) )
endfunction
function IE takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitAliveBJ(GetFilterUnit()) and GetFilterUnit() != GetSpellTargetUnit() )
endfunction
function lE takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 1093679436)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D022F, GetEnumUnit())
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
function KE takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local location loc2= GetUnitLoc(GetEnumUnit())
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 1093679436)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D022F, GetEnumUnit())
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 1093679435)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D00DD, GetEnumUnit())
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set loc=null
	set loc2=null
endfunction
function LE takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit l__ut= GetSpellTargetUnit()
 local location loc= GetUnitLoc(l__ut)
 local real range= 0.
	if ( GetUnitAbilityLevel(u, 'A07S') != 0 ) then
		set range=800
	else
		set range=500
	endif
	if ( GetUnitAbilityLevel(u, 'A06L') != 0 ) then
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc , Condition(function IE)), function KE)
	else
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc , Condition(function IE)), function lE)
	endif
	call WuGongShengChong(u , 'A09J' , 100.)
	call RemoveLocation(loc)
	set u=null
	set l__ut=null
	set loc=null
endfunction
function NE takes nothing returns boolean
	return ( ( GetEventDamage() == .45 ) )
endfunction
function OE takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07A') != 0 ) ) then
        set shxishu=shxishu + .8
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 1093678935) != 0 ) ) then
        set shxishu=shxishu + .5
    endif
    if UnitHaveItem(u , 'I0AU') then
		set shxishu=shxishu * 2
	endif
    if UnitHaveItem(u , 'I09C') then
		set shxishu=shxishu * 4
	endif
    set shanghai=ShangHaiGongShi(u , uc , 46. , 46. , shxishu , 'A09J')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//å¤©ç½—åœ°ç½‘æŒ
function QE takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetAttacker(), 'A09M') >= 1 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) )
endfunction
function RE takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function SE takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) ) then
        set shxishu=shxishu + .7
    endif
    if UnitHaveItem(u , 'I09C') then
		set shxishu=shxishu * 4
	endif
    set shanghai=ShangHaiGongShi(u , uc , 22. , 46. , shxishu , 'A09M')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 'A06P') != 0 ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) and ( GetRandomReal(.0, 100.) <= 40. ) ) then
        call WanBuff(u , uc , 11)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) and ( UnitHasBuffBJ(uc, 1110454326) == false ) and ( GetRandomReal(.0, 100.) <= 40. ) ) then
        call WanBuff(u , uc , 6)
    endif
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
function TE takes nothing returns nothing
 local unit u= GetAttacker()
 local unit l__ut= null
 local location loc= GetUnitLoc(u)
 local location loc2= null
 local location loc3= null
 local integer imax= 4
 local real r= 0.
 local real r2= 0.
 local group g= CreateGroup()
	if GetRandomInt(1, 100) <= 15 + fuyuan[1 + GetPlayerId(GetOwningPlayer(u))] / 5 then
		call GroupEnumUnitsInRangeOfLoc(g, loc, 800, Condition(function RE))
		if ( GetUnitAbilityLevel(u, 'A07Q') != 0 ) then
			set imax=7
		endif
		set Xd=1
		loop
			exitwhen Xd > imax
			set r=r + 100
			set Yd=1
			loop
				exitwhen Yd > 8
				set r2=r2 + 45
				set loc2=pu(loc , r , r2)
				call CreateNUnitsAtLoc(1, 'e00O', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
				call Gw(1.5 , bj_lastCreatedUnit)
				//å¤©ç½—åœ°ç½‘é˜µ
				if ( GetUnitAbilityLevel(u, 'A03F') != 0 ) and GetRandomInt(1, 3) == 1 then
					set l__ut=GroupPickRandomUnit(g)
					set loc3=GetUnitLoc(l__ut)
					call percentDamage(l__ut , 20 , false)
					call DestroyEffect(AddSpecialEffectLocBJ(loc3, "war3mapImported\\blue quick.mdx"))
					call CreateNUnitsAtLoc(1, 'o02E', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
					call UnitAddAbility(bj_lastCreatedUnit, 'A03D')
					call ShowUnitHide(bj_lastCreatedUnit)
					call IssueTargetOrderById(bj_lastCreatedUnit, $D008A, l__ut)
					call Gw(3 , bj_lastCreatedUnit)
					call RemoveLocation(loc3)
					set loc3=null
				endif
				call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(100. , loc2 , Condition(function RE)), function SE)
				call RemoveLocation(loc2)
				set Yd=Yd + 1
			endloop
			set Xd=Xd + 1
		endloop
		call WuGongShengChong(GetAttacker() , 'A09M' , 1000.)
	endif
	call RemoveLocation(loc)
	call DestroyGroup(g)
	set g=null
	set u=null
	set loc=null
	set loc2=null
	set l__ut=null
endfunction
//ç‰å¥³å¿ƒç»
function VE takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A09U') >= 1 ) and ( GetRandomReal(0, 1.) <= ( .1 + ( .01 * I2R(GetUnitAbilityLevel(GetAttacker(), 'A09U')) ) ) ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function WE takes nothing returns nothing
    local integer id=GetHandleId(GetTriggeringTrigger())
    local integer cx=LoadInteger(YDHT, id, - $3021938A)
    set cx=cx + 3
    call SaveInteger(YDHT, id, - $3021938A, cx)
    call SaveInteger(YDHT, id, - $1317DA19, cx)
    call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )])
    call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A09U')
    call YDWESetLocalVariableLocation("jn1" , GetUnitLoc(GetAttacker()))
    call YDWESetLocalVariableLocation("jn2" , pu(YDWEGetLocalVariableLocation("jn1") , GetRandomReal(200., 400.) , GetRandomReal(0, 360.)))
    if ( ( GetUnitTypeId(GetAttacker()) == 'O004' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988533)
    elseif ( ( GetUnitTypeId(GetAttacker()) == 'O001' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988535)
    elseif ( ( GetUnitTypeId(GetAttacker()) == 'O002' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988536)
    elseif ( ( GetUnitTypeId(GetAttacker()) == 'O003' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988537)
    elseif ( ( GetUnitTypeId(GetAttacker()) == 'O000' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 1747988534)
    elseif ( ( GetUnitTypeId(GetAttacker()) == 'O023' or GetUnitTypeId(GetAttacker()) == 'O02H' or GetUnitTypeId(GetAttacker()) == 'O02I' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 'h00I')
    elseif ( ( GetUnitTypeId(GetAttacker()) == 'O02J' ) ) then
        call SaveInteger(YDHT, id * cx, - $2A11C165, 'h00K')
    endif
    call CreateNUnitsAtLoc(1, LoadInteger(YDHT, id * cx, - $2A11C165), GetOwningPlayer(GetAttacker()), YDWEGetLocalVariableLocation("jn2"), bj_UNIT_FACING)
    call SetUnitVertexColorBJ(bj_lastCreatedUnit, GetRandomReal(20., 80.), GetRandomReal(20., 80.), GetRandomReal(20., 80.), GetRandomReal(20., 60.))
    call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    call UnitAddAbility(bj_lastCreatedUnit, 'A09E')
    if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1093678935) != 0 ) ) then
        call zw(bj_lastCreatedUnit , GetAttacker() , 1. , 250. , 1000. , 1500. , 75)
    endif
    if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06J') != 0 ) ) then
        call UnitAddAbility(bj_lastCreatedUnit, 'A09V')
    endif
    if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07S') != 0 ) ) then
        call Gw(20. , bj_lastCreatedUnit)
    else
        call Gw(10. , bj_lastCreatedUnit)
    endif
    call RemoveLocation(YDWEGetLocalVariableLocation("jn1"))
    call RemoveLocation(YDWEGetLocalVariableLocation("jn2"))
    if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07U') != 0 ) ) then
        call YDWESetLocalVariableLocation("jn1" , GetUnitLoc(GetAttacker()))
        call YDWESetLocalVariableLocation("jn2" , pu(YDWEGetLocalVariableLocation("jn1") , GetRandomReal(200., 400.) , GetRandomReal(0, 360.)))
        call CreateNUnitsAtLoc(1, LoadInteger(YDHT, id * cx, - $2A11C165), GetOwningPlayer(GetAttacker()), YDWEGetLocalVariableLocation("jn2"), bj_UNIT_FACING)
        call SetUnitVertexColorBJ(bj_lastCreatedUnit, GetRandomReal(20., 80.), GetRandomReal(20., 80.), GetRandomReal(20., 80.), GetRandomReal(20., 60.))
        call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
        call UnitAddAbility(bj_lastCreatedUnit, 'A09E')
        if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1093678935) != 0 ) ) then
            call zw(bj_lastCreatedUnit , LoadUnitHandle(YDHT, id * cx, $59BEA0CB) , 1. , 250. , 1000. , 1500. , 75)
        endif
        if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07S') != 0 ) ) then
            call Gw(20. , bj_lastCreatedUnit)
        else
            call Gw(10. , bj_lastCreatedUnit)
        endif
        if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A06J') != 0 ) ) then
            call UnitAddAbility(bj_lastCreatedUnit, 'A09V')
        endif
        call RemoveLocation(YDWEGetLocalVariableLocation("jn1"))
        call RemoveLocation(YDWEGetLocalVariableLocation("jn2"))
        endif
    call WuGongShengChong(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] , 'A09U' , 650.)
    call FlushChildHashtable(YDHT, id * cx)
endfunction
function YE takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A09V') >= 1 ) and ( GetRandomReal(0, 1.) <= .13 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function ZE takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )])
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A06J')
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)))
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetUnitLoc(GetTriggerUnit()))
call SaveReal(YDHT, id * cx, - $60249D54, AngleBetweenPoints(LoadLocationHandle(YDHT, id * cx, - $72C3E060), LoadLocationHandle(YDHT, id * cx, $5E83114F)))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 200. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 180. ) )))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $5E83114F))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call FlushChildHashtable(YDHT, id * cx)
endfunction
//å¤å¢“æ¸…å¿ƒè¯€
function e3 takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A09T' and (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) // INLINED!!
endfunction
function f3 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer p= GetHandleId(t)
 local real j= LoadReal(YDHT, p, 0)
 local integer i= LoadInteger(YDHT, p, 3)
 local integer imax= 15
 local unit u= LoadUnitHandle(YDHT, p, 1)
 local unit uc= LoadUnitHandle(YDHT, p, 2)
	if GetUnitAbilityLevel(udg_hero[1 + GetPlayerId(GetOwningPlayer(uc))], 'A07U') >= 1 then
		set imax=30
	endif
	if ( i >= imax ) then
		call FlushChildHashtable(YDHT, p)
		call PauseTimer(t)
		call DestroyTimer(t)
	else
		call SaveInteger(YDHT, p, 3, i + 1)
		call SetWidgetLife(uc, GetWidgetLife(uc) + GetUnitState(uc, UNIT_STATE_MAX_LIFE) * ( j + I2R(yishu[1 + GetPlayerId(GetOwningPlayer(uc))]) ) / 200.)
	endif
	set t=null
	set u=null
	set uc=null
endfunction
function g3 takes nothing returns boolean
	return ( IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitAliveBJ(GetFilterUnit()) and (IsUnitType((GetFilterUnit() ), ( UNIT_TYPE_HERO)) != null) ) // INLINED!!
endfunction
function i3 takes nothing returns nothing
 local timer t
 local location loc= GetUnitLoc(GetEnumUnit())
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A09T')
	call IssueTargetOrderById(bj_lastCreatedUnit, $D00C0, GetEnumUnit())
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	set t=CreateTimer()
	if ( GetUnitAbilityLevel(udg_hero[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], 'A07P') != 0 ) then
		call SaveReal(YDHT, GetHandleId(t), 0, 40.)
	else
		call SaveReal(YDHT, GetHandleId(t), 0, 25.)
	endif
	call SaveUnitHandle(YDHT, GetHandleId(t), 1, GetTriggerUnit())
	call SaveUnitHandle(YDHT, GetHandleId(t), 2, GetEnumUnit())
	call TimerStart(t, 1., true, function f3)
	call RemoveLocation(loc)
	set t=null
	set loc=null
endfunction
function j3 takes nothing returns nothing
 local timer t
 local unit u= GetTriggerUnit()
 local unit uc= GetSpellTargetUnit()
 local location loc= GetUnitLoc(u)
 local real j= 0.
	if ( GetUnitAbilityLevel(u, 'A07P') != 0 ) then
		set j=40
	else
		set j=25
	endif
	if ( GetUnitAbilityLevel(u, 'A083') != 0 ) then
		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500. , loc , Condition(function g3)), function i3)
	else
		set t=CreateTimer()
		call SaveReal(YDHT, GetHandleId(t), 0, j)
		call SaveUnitHandle(YDHT, GetHandleId(t), 1, u)
		call SaveUnitHandle(YDHT, GetHandleId(t), 2, uc)
		call TimerStart(t, 1., true, function f3)
	endif
	call WuGongShengChong(GetTriggerUnit() , 'A09T' , 100.)
	call RemoveLocation(loc)
	set t=null
	set u=null
	set uc=null
	set loc=null
endfunction
function m3 takes nothing returns boolean
	return ( ( UnitHasBuffBJ(GetTriggerUnit(), 1110454340) ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 'A07Q') != 0 ) )
endfunction
function nn3 takes nothing returns nothing
	call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), ( GetEventDamage() * 10. ), true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endfunction
//--------å¤å¢“ç»“æŸ--------//
function GuMu_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function EE))
	call TriggerAddAction(t, function FE)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function HE))
	call TriggerAddAction(t, function LE)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function NE))
	call TriggerAddAction(t, function OE)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function QE))
	call TriggerAddAction(t, function TE)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function VE))
	call TriggerAddAction(t, function WE)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function YE))
	call TriggerAddAction(t, function ZE)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function e3))
	call TriggerAddAction(t, function j3)
	
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function m3))
	call TriggerAddAction(t, function nn3)
	set t=null
endfunction
//ä¸‡èŠ±å‰‘æ³• 3çº§æŠ€
function IsWanHua takes nothing returns boolean
	return GetSpellAbilityId() == 'A021'
endfunction
function WanHuaJian takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local location loc=GetUnitLoc(u)
 local location array loc2
 local integer i=0
	call WuGongShengChong(GetTriggerUnit() , 'A021' , 350)
	set i=1
	loop
		exitwhen i > 6
		set loc2[i]=pu(loc , 200 , 60 * i)
		call CreateNUnitsAtLoc(1, 'h00G', GetOwningPlayer(GetTriggerUnit()), loc2[i], bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A022')
		if GetUnitAbilityLevel(u, 'A023') >= 1 then
			call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A022')
		endif
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D0208, loc2[i])
		call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 10.)
		call RemoveLocation(loc2[i])
		set loc2[i]=null
		set i=i + 1
	endloop
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
function IsWanHuaMaJia takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'h00G' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource()))
endfunction
function WanHuaMaJia takes nothing returns nothing
 local unit u=udg_hero[1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
 local unit uc=GetTriggerUnit()
 local real shxishu=1
    local real shanghai=0.
    local location loc2=GetUnitLoc(uc)
    if GetUnitAbilityLevel(u, 'A024') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	if GetUnitAbilityLevel(u, 'A07J') >= 1 then
		set shxishu=shxishu + 1.2
	endif
	if GetUnitAbilityLevel(u, 'A09D') >= 1 then
		set shxishu=shxishu + 2
	endif
	if GetUnitAbilityLevel(u, 'A07T') >= 1 and UnitHasBuffBJ(uc, 'BHbn') == false and GetRandomInt(1, 100) <= 30 then
		call CreateNUnitsAtLoc(1, 'e00X', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 'A025')
        call IssueTargetOrderById(bj_lastCreatedUnit, $D0206, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call ShowUnitHide(bj_lastCreatedUnit)
        call CreateTextTagLocBJ("æ”¾é€", loc2, 0, 12., 65., 55., 42., 0)
        call Nw(1. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
	if UnitHaveItem(u , 'I0DU') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 5. , 5. , shxishu , 'A021')
    call WuGongShangHai(u , uc , shanghai)
    call RemoveLocation(loc2)
    set u=null
    set uc=null
    set loc2=null
endfunction
//æ‹‚å°˜åŠŸ 8çº§æŠ€
function IsFuChen takes nothing returns boolean
	return GetSpellAbilityId() == 'A01Z'
endfunction
function FuChenGong takes nothing returns nothing
 local location loc=GetSpellTargetLoc()
 local unit u=null
	call WuGongShengChong(GetTriggerUnit() , 'A01Z' , 250)
	call CreateNUnitsAtLoc(1, 'h00F', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
	set u=bj_lastCreatedUnit
	call ShowUnitHide(u)
	call UnitAddAbility(u, 'A020')
	// è‘µèŠ±æ•ˆæœ
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A07T') >= 1 then
		call IncUnitAbilityLevel(u, 'A020')
	endif
	// è©è¨å°æ•ˆæœ
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A024') >= 1 then
		call IncUnitAbilityLevel(u, 'A020')
	endif
	// ä¸“å±åŠ æ‹‚å°˜èŒƒå›´
	if UnitHaveItem(GetTriggerUnit() , 'I0DU') then
	    call IncUnitAbilityLevel(u, 'A020')
	    call IncUnitAbilityLevel(u, 'A020')
    endif
	call IssuePointOrderByIdLoc(u, $D0079, loc)
	call UnitApplyTimedLife(u, 1112045413, 10.)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
function IsFuChenMaJia takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'h00F' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource()))
endfunction
function FuChenMaJia takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1
    local real shanghai=0.
    local real r1=GetRandomReal(1., 24.) * 6.
    if GetUnitAbilityLevel(u, 'A07J') >= 1 then
		set shxishu=shxishu + 1
	endif
	if GetUnitAbilityLevel(u, 'A023') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	if GetUnitAbilityLevel(u, 'A07F') >= 1 then
		set shxishu=shxishu + 1.1
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DU') then
	    set shxishu=shxishu * 2
    endif
	// ä»ªç³æ‹‚å°˜åŠŸé™„å¸¦å°ç©´
	if isTitle(i , 17) then
		call WanBuff(u , uc , 11)
	endif
    set shanghai=ShangHaiGongShi(u , uc , r1 , r1 , shxishu , 'A01Z')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//åŒ—å²³å‰‘è¯€ 15çº§æŠ€
function IsTianShan takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0CD') >= 1 ) and GetSpellAbilityId() != 'A05R' and GetSpellAbilityId() != 'AIha'
endfunction
function TianShan_Condition takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit()) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function TianShanZhang takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=null
 local location loc=GetUnitLoc(u)
 local location loc2=null
 local group g=CreateGroup()
 local real r=1.0
	if GetUnitAbilityLevel(u, 'A07F') >= 1 then
		set r=2.0
	endif
	call WuGongShengChong(u , 'A0CD' , 500)
	call GroupEnumUnitsInRangeOfLoc(g, loc, 700, Condition(function TianShan_Condition))
	set uc=GroupPickRandomUnit(g)
	if uc != null then
		call percentDamage(uc , 10 + 2 * GetUnitAbilityLevel(u, 'A0CD') * r , false)
		call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead", uc, "Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"))
		set loc2=GetUnitLoc(uc)
		if GetUnitAbilityLevel(u, 'A07T') >= 1 then
			call CreateNUnitsAtLoc(1, 'e00X', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
            call UnitAddAbility(bj_lastCreatedUnit, 'A0D5')
            call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, uc)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
            call ShowUnitHide(bj_lastCreatedUnit)
            call CreateTextTagLocBJ("å°ç©´", loc2, 0, 12., 65., 55., 42., 0)
            call Nw(1. , bj_lastCreatedTextTag)
            call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
        endif
        if ( GetUnitAbilityLevel(u, 'A024') != 0 ) then
        	call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
        	call ShowUnitHide(bj_lastCreatedUnit)
        	call UnitAddAbility(bj_lastCreatedUnit, 1093678901)
        	call IssueTargetOrderById(bj_lastCreatedUnit, $D022F, uc)
        	call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        	call CreateTextTagLocBJ("æµè¡€", loc2, 60., 12., 65., 55., 42., 0)
        	call Nw(3. , bj_lastCreatedTextTag)
        	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    	endif
    	if ( GetUnitAbilityLevel(u, 'A023') != 0 ) then
	    	call WanBuff(u , uc , 9)
    	endif
    	call RemoveLocation(loc2)
	endif
	if GetUnitAbilityLevel(u, 'A09D') >= 1 then
		set uc=GroupPickRandomUnit(g)
		if uc != null then
			call percentDamage(uc , 10 + 2 * GetUnitAbilityLevel(u, 'A0CD') * r , false)
			call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead", uc, "Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"))
		endif
	endif
	call RemoveLocation(loc)
	call DestroyGroup(g)
	set u=null
	set uc=null
	set loc=null
	set loc2=null
	set g=null
endfunction
//æ…ˆæ‚²å¿ƒæ³• 25çº§æŠ€
function IsCiBei takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'ohwd'
endfunction
function CiBei_Condition takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit()) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function CiBei_Action takes nothing returns nothing
 local unit u=udg_hero[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
 local unit uc=GetEnumUnit()
 local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(u)
    local location loc2=GetUnitLoc(uc)
    if GetUnitAbilityLevel(u, 'A080') >= 1 then
		set shxishu=shxishu + 2
	endif
	if GetUnitAbilityLevel(u, 'A09D') >= 1 then
		set shxishu=shxishu + 2
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DU') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 500. , 250. , shxishu , 'A023')
    call WuGongShangHai(u , uc , shanghai)
    call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead", uc, "Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"))
    if GetUnitAbilityLevel(u, 'A07T') >= 1 and GetRandomInt(1, 100) <= 30 then
		call CreateNUnitsAtLoc(1, 'e00X', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0D5')
        call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call ShowUnitHide(bj_lastCreatedUnit)
        call CreateTextTagLocBJ("å°ç©´", loc2, 0, 12., 65., 55., 42., 0)
        call Nw(1. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
    if GetUnitAbilityLevel(u, 'A07S') >= 1 then
        call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0DF')
        call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, u)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 3.)
    endif
    if GetUnitAbilityLevel(u, 'A07F') >= 1 and GetRandomInt(1, 100) <= 30 then
   		call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 'A019')
        call IssueTargetOrderById(bj_lastCreatedUnit, $D00B5, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call CreateTextTagLocBJ("ç ´é˜²", loc, 60., 12., 65., 55., 42., 0)
        call Nw(3. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
    call RemoveLocation(loc2)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc2=null
    set loc=null
endfunction
function CiBeiXinFa takes nothing returns nothing
 local unit u=udg_hero[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
 local location loc=GetUnitLoc(GetTriggerUnit())
 local group g=CreateGroup()
	call WuGongShengChong(u , 'A023' , 100)
	call GroupEnumUnitsInRangeOfLoc(g, loc, 600, Condition(function CiBei_Condition))
	call ForGroupBJ(g, function CiBei_Action)
	call DestroyGroup(g)
	call RemoveLocation(loc)
	set u=null
	set g=null
	set loc=null
endfunction
//è©è¨å° 25çº§æŠ€
function IsPuSa takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A024') >= 1
endfunction
function PuSaYin takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local real shxishu=1.
    local real shanghai=0.
    local integer level=0
    if GetUnitAbilityLevel(u, 'A07T') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	if GetUnitAbilityLevel(u, 'A07P') >= 1 then
		set shxishu=shxishu + 0.7
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DU') then
	    set shxishu=shxishu * 2
    endif
	if GetRandomInt(1, 100) < 15 + fuyuan[i] / 5 then
		set shanghai=ShangHaiGongShi(u , uc , 160. , 80. , shxishu , 'A024')
   		call WuGongShangHai(u , uc , shanghai)
   		call WuGongShengChong(u , 'A024' , 700)
   		if GetUnitAbilityLevel(u, 'A09D') >= 1 and GetRandomInt(1, 100) <= 20 then
   			set level=GetUnitAbilityLevel(u, 'A024')
	    	call UnitRemoveAbility(u, 'A024')
	    	call UnitAddAbility(u, 'A024')
	    	call SetUnitAbilityLevel(u, 'A024', level)
    	endif
	endif
	set u=null
	set uc=null
	set p=null
endfunction
function HengShan_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsFuChen))
    call TriggerAddAction(t, function FuChenGong)
	set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsFuChenMaJia))
    call TriggerAddAction(t, function FuChenMaJia)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsWanHua))
    call TriggerAddAction(t, function WanHuaJian)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsWanHuaMaJia))
    call TriggerAddAction(t, function WanHuaMaJia)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsTianShan))
    call TriggerAddAction(t, function TianShanZhang)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function IsCiBei))
    call TriggerAddAction(t, function CiBeiXinFa)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsPuSa))
    call TriggerAddAction(t, function PuSaYin)
	set t=null
endfunction
//===========================================================================
//===========================================================================
//å¤©æŸ±äº‘æ°”
function IsTianZhu takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetAttacker(), 'A04M') >= 1 or GetUnitAbilityLevel(GetTriggerUnit(), 'A04M') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) )
endfunction
function TianZhu_Condition takes nothing returns boolean
	if GetUnitAbilityLevel(GetAttacker(), 'A04M') >= 1 then
    	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) == true ) and IsUnitAliveBJ(GetFilterUnit())
    else
    	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) and IsUnitAliveBJ(GetFilterUnit())
	endif
endfunction
function TianZhu_Action takes nothing returns nothing
 local unit u= null
 local unit l__ut= GetEnumUnit()
    local player p= null
    local integer i= 1
    local real shanghai=0.
    local real shxishu=1.
    if GetUnitAbilityLevel(GetAttacker(), 'A04M') >= 1 then
		set u=GetAttacker()
	else
		set u=GetTriggerUnit()
	endif
	set p=GetOwningPlayer(u)
	set i=1 + GetPlayerId(p)
    if GetUnitAbilityLevel(u, 'A071') >= 1 then
	    set shxishu=shxishu + 0.8
    endif
    if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    set shxishu=shxishu + 0.9
    endif
    if UnitHaveItem(u , 'I0DY') or UnitHaveItem(u , 'I01L') or UnitHaveItem(u , 'I00C') or UnitHaveItem(u , 'I00B') or UnitHaveItem(u , 'I099') or UnitHaveItem(u , 'I09A') or UnitHaveItem(u , 'I09C') then
    	set shxishu=shxishu * 2
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DY') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , l__ut , 25 , 6 , shxishu , 'A04M')
    call WuGongShangHai(u , l__ut , shanghai)
    if GetUnitAbilityLevel(u, 'A07F') >= 1 then
	    call WanBuff(u , l__ut , 2)
    endif
    set p=null
    set u=null
    set l__ut=null
endfunction
function TianZhuYunQi takes nothing returns nothing
 local unit u=null
 local player p= null
 local real angle= 0.
 local location loc= null
 local location loc2= null
 local location loc3=null
 local group g= CreateGroup()
 local integer i= 1
 local integer j= 1
	if GetUnitAbilityLevel(GetAttacker(), 'A04M') >= 1 then
		set u=GetAttacker()
	else
		set u=GetTriggerUnit()
	endif
	set angle=GetUnitFacing(u)
	set p=GetOwningPlayer(u)
	set i=1 + GetPlayerId(p)
	set loc=GetUnitLoc(u)
	set loc2=PolarProjectionBJ(loc, GetRandomReal(100, 300), angle)
	set loc3=PolarProjectionBJ(loc, GetRandomReal(100, 300), 180 + angle)
	if ( GetRandomReal(.0, 200.) <= 15 + fuyuan[i] / 5 ) then
		call WuGongShengChong(u , 'A04M' , 900.)
		call DestroyEffect(AddSpecialEffectLocBJ(loc2, "war3mapImported\\aquaspike.mdl"))
		call GroupEnumUnitsInRangeOfLoc(g, loc2, 500, Condition(function TianZhu_Condition))
		if GetUnitAbilityLevel(u, 'A07U') >= 1 then
			call DestroyEffect(AddSpecialEffectLocBJ(loc3, "war3mapImported\\aquaspike.mdl"))
			call GroupEnumUnitsInRangeOfLoc(g, loc3, 500, Condition(function TianZhu_Condition))
		endif
		call ForGroupBJ(g, function TianZhu_Action)
		//call PolledWait(0.15)
		//set j = 1
		//loop
		//	exitwhen j > 4
		//	set loc3[j] = PolarProjectionBJ(loc2, 300, angle - 90 + 90 * j)
		//	call DestroyEffect(AddSpecialEffectLocBJ(loc3[j], "war3mapImported\\aquaspike.mdl" ))
		//	call RemoveLocation(loc3[j])
		//	set loc3[j] = null
		//	call PolledWait(0.15)
		//	set j = j + 1
		//endloop
	endif
    call GroupClear(g)
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    call RemoveLocation(loc3)
    set g=null
    set u=null
    set p=null
    set loc=null
    set loc2=null
    set loc3=null
endfunction
//===========================================================================
//é¹¤ç¿”ç´«ç›–
function IsHeXiangZiGai takes nothing returns boolean
    return GetSpellAbilityId() == 'A04N' and ( IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction
function HeXiangJianFa takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local unit uc=GetSpellTargetUnit()
    local unit l__ut= null
    local unit uttt= null
    local location loc=GetUnitLoc(uc)
    local location loc2= GetUnitLoc(u)
    local group g=CreateGroup()
    local real shanghai=0.
    local real shxishu=1.
    local integer id= 0
    if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		if ( ( GetUnitTypeId(u) == 'O004' ) ) then
			set id=1747988533
		elseif ( ( GetUnitTypeId(u) == 'O001' ) ) then
			set id=1747988535
		elseif ( ( GetUnitTypeId(u) == 'O002' ) ) then
			set id=1747988536
		elseif ( ( GetUnitTypeId(u) == 'O003' ) ) then
			set id=1747988537
		elseif ( ( GetUnitTypeId(u) == 'O000' ) ) then
			set id=1747988534
		elseif ( ( GetUnitTypeId(u) == 'O023' or GetUnitTypeId(u) == 'O02H' or GetUnitTypeId(u) == 'O02I' ) ) then
			set id='h00I'
		elseif ( ( GetUnitTypeId(u) == 'O02J' ) ) then
			set id='h00K'
		endif
		call CreateNUnitsAtLoc(1, id, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
		set uttt=bj_lastCreatedUnit
	else
		set uttt=u
	endif
    call WuGongShengChong(u , 'A04N' , 100)
    call SetUnitTimeScale(uttt, 0.3)
    call YDWETimerDestroyEffect(2 , AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl", uttt, "chest"))
    call YDWEJumpTimer(uttt , AngleBetweenPoints(loc2, loc) , 2 * DistanceBetweenPoints(loc2, loc) , 2 , 0.01 , 400.)
    call YDWEPolledWaitNull(1.0)
	call CreateNUnitsAtLoc(1, 'e01A', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	set l__ut=bj_lastCreatedUnit
	call UnitAddAbility(l__ut, 'A04O')
	call UnitApplyTimedLife(l__ut, 1112045413, 2.)
    call ShowUnitHide(l__ut)
	call IssueTargetOrderById(l__ut, $D0097, uc)
	if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    set shxishu=shxishu + 0.9
    endif
    if GetUnitAbilityLevel(u, 'A071') >= 1 then
	    set shxishu=shxishu + 0.9
    endif
    if GetUnitAbilityLevel(u, 'A07J') >= 1 then
	    set shxishu=shxishu + 1.5
    endif
    if UnitHaveItem(u , 'I0DY') or UnitHaveItem(u , 'I01L') or UnitHaveItem(u , 'I00C') or UnitHaveItem(u , 'I00B') or UnitHaveItem(u , 'I099') or UnitHaveItem(u , 'I09A') or UnitHaveItem(u , 'I09C') then
    	set shxishu=shxishu * 2
	endif
    if GetUnitAbilityLevel(u, 'A07R') >= 1 then
	    call WanBuff(u , uc , 12)
    endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DY') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 300 , 100 , shxishu , 'A04N')
    call WuGongShangHai(u , uc , shanghai)
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    call YDWEPolledWaitNull(1.0)
    call SetUnitTimeScale(uttt, 1.0)
    set u=null
    set uc=null
    set loc=null
    set loc2=null
    set l__ut=null
    set uttt=null
    set g=null
endfunction
//===========================================================================
//çŸ³å»ªä¹¦å£°
function IsShiLin takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetAttacker(), 'A04P') >= 1 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) )
endfunction
function ShiLinShuSheng takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer id='o02K'
 local location loc1=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
 local real angle= AngleBetweenPoints(loc1, loc2)
	if ( GetRandomReal(.0, 100.) <= 15 + fuyuan[i] / 5 ) then
		call CreateNUnitsAtLocFacingLocBJ(1, id, p, PolarProjectionBJ(loc1, 300, 180 + angle), loc2)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 5. + 5. * GetUnitAbilityLevel(u, 'S002'))
		if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    	call UnitAddAbility(bj_lastCreatedUnit, 'A03M')
    	endif
    	if GetUnitAbilityLevel(u, 'A07J') >= 1 then
		    call UnitAddAbility(bj_lastCreatedUnit, 'A03O')
    	endif
    	call WuGongShengChong(u , 'A04P' , 600.)
    	call RemoveLocation(loc1)
    	call RemoveLocation(loc2)
	endif
    set loc1=null
    set loc2=null
	set p=null
	set u=null
	set uc=null
endfunction
function IsShiLinShu takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'o02K'
endfunction
function ShiLinShu takes nothing returns nothing
 local player p=GetOwningPlayer(GetEventDamageSource())
 local integer i=1 + GetPlayerId(p)
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shanghai=0.
 local real shxishu=1.
	if GetUnitAbilityLevel(u, 'A071') >= 1 then
	    set shxishu=shxishu + 0.7
    endif
    if GetUnitAbilityLevel(u, 'A07F') >= 1 then
	    set shxishu=shxishu + 1.6
    endif
    if UnitHaveItem(u , 'I0DY') or UnitHaveItem(u , 'I01L') or UnitHaveItem(u , 'I00C') or UnitHaveItem(u , 'I00B') or UnitHaveItem(u , 'I099') or UnitHaveItem(u , 'I09A') or UnitHaveItem(u , 'I09C') then
    	set shxishu=shxishu * 2
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DY') then
	    set shxishu=shxishu * 2
    endif
	set shanghai=ShangHaiGongShi(u , uc , 50. , 28. , shxishu , 'A04P')
	call WuGongShangHai(u , uc , shanghai)
	set uc=null
	set u=null
	set p=null
endfunction
//===========================================================================
//é›å›ç¥è
function IsYanHui takes nothing returns boolean
	return ( GetUnitAbilityLevel(GetAttacker(), 'A04R') >= 1 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) )
endfunction
function YanHuiZhuRong takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local integer id='h00L'
 local location loc1=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
	if ( GetRandomReal(.0, 100.) <= 15 + fuyuan[i] / 5 ) then
		call CreateNUnitsAtLocFacingLocBJ(1, id, p, loc1, loc2)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 6. + 6. * GetUnitAbilityLevel(u, 'A083'))
		call WuGongShengChong(u , 'A04R' , 600.)
    	call RemoveLocation(loc1)
    	call RemoveLocation(loc2)
	endif
    set loc1=null
    set loc2=null
	set p=null
	set u=null
	set uc=null
endfunction
function IsYanHuiJian takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'h00L'
endfunction
function YanHuiJianFa takes nothing returns nothing
 local player p=GetOwningPlayer(GetEventDamageSource())
 local integer i=1 + GetPlayerId(p)
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shanghai=0.
 local real shxishu=1.
 local location loc= GetUnitLoc(uc)
	if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    set shxishu=shxishu + 0.6
    endif
    if UnitHaveItem(u , 'I0DY') or UnitHaveItem(u , 'I01L') or UnitHaveItem(u , 'I00C') or UnitHaveItem(u , 'I00B') or UnitHaveItem(u , 'I099') or UnitHaveItem(u , 'I09A') or UnitHaveItem(u , 'I09C') then
    	set shxishu=shxishu * 2
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DY') then
	    set shxishu=shxishu * 2
    endif
	set shanghai=ShangHaiGongShi(u , uc , 200. , 80. , shxishu , 'A04R')
	call WuGongShangHai(u , uc , shanghai)
	if GetUnitAbilityLevel(u, 'A07P') >= 1 then
		call WanBuff(u , uc , 7)
    endif
	if ( GetRandomReal(.0, 100.) <= 15 + fuyuan[i] / 5 + GetUnitAbilityLevel(u, 'A07U') * 21 ) then
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
    	call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A04Q')
		if GetUnitAbilityLevel(u, 'A07J') >= 1 then
	    	call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A04Q')
   		endif
    	call IssueTargetOrderById(bj_lastCreatedUnit, $D00CB, uc)
    	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	endif
	call RemoveLocation(loc)
	set uc=null
	set u=null
	set p=null
	set loc=null
endfunction
function IsYanHuiDamage takes nothing returns boolean
	return ( GetEventDamage() == 6.28 ) and ( GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )], 'A04R') >= 1 )
endfunction
function YanHuiDamage takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    set shxishu=shxishu + 0.6
    endif
    if UnitHaveItem(u , 'I01L') or UnitHaveItem(u , 'I00C') or UnitHaveItem(u , 'I00B') or UnitHaveItem(u , 'I099') or UnitHaveItem(u , 'I09A') or UnitHaveItem(u , 'I09C') then
    	set shxishu=shxishu * 2
	endif
   	set shanghai=ShangHaiGongShi(u , uc , 250 , 160 , shxishu , 'A04R')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//===========================================================================
//æ³‰é¸£èŠ™è“‰
function QuanMing_Conditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A026' ) )
endfunction
function QuanMing_Actions takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local location loc=GetSpellTargetLoc()
 local location loc2=null
 local unit l__ut=null
 local integer i=0
	call WuGongShengChong(u , 'A026' , 100)
	call SaveUnitHandle(YDHT, StringHash("æ³‰é¸£"), 1, u)
	call SaveLocationHandle(YDHT, StringHash("æ³‰é¸£"), 0, loc)
    call TerrainDeformationCraterBJ(15.80, false, loc, 400.00, 400.00)
    call CreateNUnitsAtLoc(1, 'e00Z', GetOwningPlayer(u), loc, bj_UNIT_FACING)
    set l__ut=bj_lastCreatedUnit
    set i=1
    loop
        exitwhen i > 16
        call CreateNUnitsAtLocFacingLocBJ(1, 'e011', GetOwningPlayer(GetTriggerUnit()), PolarProjectionBJ(loc, 350.00, ( 22.50 * i )), loc)
        call UnitApplyTimedLifeBJ(13.50, 'BTLF', GetLastCreatedUnit())
        call DestroyEffect(AddSpecialEffectLocBJ(PolarProjectionBJ(loc, 350.00, 22.50 * I2R(i)), "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"))
        set i=i + 1
    endloop
    set i=1
    loop
        exitwhen i > 30
        set loc2=GetRandomLocInRect(RectFromCenterSizeBJ(loc, 350.00, 350.00))
        call CreateNUnitsAtLoc(1, 'e010', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
        call UnitApplyTimedLifeBJ(15.00, 'BTLF', GetLastCreatedUnit())
        call RemoveLocation(loc2)
        set i=i + 1
    endloop
    call TriggerSleepAction(1.50)
    call EnableTrigger(gg_trg_Number14_1)
    call TriggerSleepAction(13.50)
    call DisableTrigger(gg_trg_Number14_1)
    call TriggerSleepAction(0.50)
    set i=1
    loop
        exitwhen i > 16
        call DestroyEffect(AddSpecialEffectLocBJ(PolarProjectionBJ(loc, 350.00, 22.50 * I2R(i)), "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"))
        set i=i + 1
    endloop
    call RemoveUnit(l__ut)
    call RemoveLocation(loc)
    set u=null
    set l__ut=null
    set loc=null
    set loc2=null
endfunction
function Trig_Number14_1Func001001003 takes nothing returns boolean
    return ( UnitHasBuffBJ(GetFilterUnit(), 'Basl') == true )
endfunction
function Trig_Number14_1Func001A takes nothing returns nothing
 local location loc=LoadLocationHandle(YDHT, StringHash("æ³‰é¸£"), 0)
 local unit u= LoadUnitHandle(YDHT, StringHash("æ³‰é¸£"), 1)
 local real shxishu=1.
    local real shanghai=0.
    if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    set shxishu=shxishu + 0.5
    endif
    if GetUnitAbilityLevel(u, 'A071') >= 1 then
	    set shxishu=shxishu + 0.5
    endif
    if GetUnitAbilityLevel(u, 'A07F') >= 1 then
	    set shxishu=shxishu + 0.8
    endif
    if GetUnitAbilityLevel(u, 'A07J') >= 1 then
	    set shxishu=shxishu + 0.8
    endif
    if GetUnitAbilityLevel(u, 'A06J') >= 1 and GetUnitAbilityLevel(u, 'A071') >= 1 and GetUnitAbilityLevel(u, 'A07F') >= 1 and GetUnitAbilityLevel(u, 'A07J') >= 1 then
	    set shxishu=shxishu + 4
    endif
    if UnitHaveItem(u , 'I0DY') or UnitHaveItem(u , 'I01L') or UnitHaveItem(u , 'I00C') or UnitHaveItem(u , 'I00B') or UnitHaveItem(u , 'I099') or UnitHaveItem(u , 'I09A') or UnitHaveItem(u , 'I09C') then
    	set shxishu=shxishu * 2
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0DY') then
	    set shxishu=shxishu * 2
    endif
   	set shanghai=ShangHaiGongShi(u , GetEnumUnit() , 60 , 95 , shxishu , 'A026')
    if ( IsUnitEnemy(GetEnumUnit(), GetOwningPlayer(u)) ) then
	    call SetUnitPositionLoc(GetEnumUnit(), loc)
   		call WuGongShangHai(u , GetEnumUnit() , shanghai)
	endif
    set loc=null
    set u=null
    //call FlushChildHashtable(YDHT,StringHash("æ³‰é¸£"))
endfunction
function Trig_Number14_1Actions takes nothing returns nothing
    local location loc=LoadLocationHandle(YDHT, StringHash("æ³‰é¸£"), 0)
    local integer i=0
    call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(470.00 , loc , Condition(function Trig_Number14_1Func001001003)), function Trig_Number14_1Func001A)
    set i=1
    loop
        exitwhen i > 7
        call DestroyEffect(AddSpecialEffectLocBJ(GetRandomLocInRect(RectFromCenterSizeBJ(loc, 350.00, 350.00)), "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"))
        set i=i + 1
    endloop
    set loc=null
endfunction
//===========================================================================
function HengShan2_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	//å¤©æŸ±äº‘æ°”
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsTianZhu))
	call TriggerAddAction(t, function TianZhuYunQi)
	//é¹¤ç¿”ç´«ç›–
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsHeXiangZiGai))
    call TriggerAddAction(t, function HeXiangJianFa)
    //çŸ³å»ªä¹¦å£°
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsShiLin))
	call TriggerAddAction(t, function ShiLinShuSheng)
	set t=CreateTrigger()
	call Ov(t)
	call TriggerAddCondition(t, Condition(function IsShiLinShu))
	call TriggerAddAction(t, function ShiLinShu)
	//é›å›ç¥è
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsYanHui))
	call TriggerAddAction(t, function YanHuiZhuRong)
	set t=CreateTrigger()
	call Ov(t)
	call TriggerAddCondition(t, Condition(function IsYanHuiJian))
	call TriggerAddAction(t, function YanHuiJianFa)
	set t=CreateTrigger()
	call Ov(t)
	call TriggerAddCondition(t, Condition(function IsYanHuiDamage))
	call TriggerAddAction(t, function YanHuiDamage)
	//æ³‰é¸£èŠ™è“‰
    set gg_trg_Number14_1=CreateTrigger()
    call DisableTrigger(gg_trg_Number14_1)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Number14_1, 1.00)
    call TriggerAddAction(gg_trg_Number14_1, function Trig_Number14_1Actions)
    set gg_trg_Number14_0=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Number14_0, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_Number14_0, Condition(function QuanMing_Conditions))
    call TriggerAddAction(gg_trg_Number14_0, function QuanMing_Actions)
    set t=null
endfunction
//å¤©å±±æŠ˜æ¢…æ‰‹
function IsXinZheMei takes nothing returns boolean
 local integer i= 1
	loop
		exitwhen i > 5
		if udg_zhemei[i] == 0 and GetUnitAbilityLevel(udg_hero[i], 'A02B') >= 1 then
			set udg_zhemei[i]=1
			call SaveInteger(YDHT, StringHash("æŠ˜æ¢…"), StringHash("æŠ˜æ¢…"), i)
			return true
		endif
		set i=i + 1
	endloop
	return false
endfunction
function XinZheMeiShou_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
	if GetUnitAbilityLevel(u, 'A02B') >= 1 then
		call UnitAddAbilityBJ('A02X', u)
    	call SetPlayerAbilityAvailableBJ(false, 'A02X', GetOwningPlayer(u))
    	set udg_zhemeieff=AddSpecialEffectTargetUnitBJ("overhead", u, "Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
	else
		call FlushChildHashtable(YDHT, GetHandleId(t))
		call PauseTimer(t)
		call DestroyTimer(t)
	endif
	set t=null
	set u=null
endfunction
function XinZheMeiShou takes nothing returns nothing
 local timer t= CreateTimer()
 local unit u= udg_hero[LoadInteger(YDHT, StringHash("æŠ˜æ¢…"), StringHash("æŠ˜æ¢…"))]
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call TimerStart(t, 1., false, function XinZheMeiShou_1)
	set t=null
	set u=null
endfunction
function XinZheMeiShou_Condition takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A02W') >= 1 and (IsUnitType((GetAttacker() ), ( UNIT_TYPE_HERO)) != null) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) // INLINED!!
endfunction
function ZheMei_Condition takes nothing returns boolean
	//call BJDebugMsg("pos2")
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function ZheMei_Action takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local unit u=GetAttacker()
 local location loc=GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0.
	set shxishu=RMinBJ(1. + I2R(GetHeroInt(u, true)) / 600., 15.)
	if ( ( GetUnitAbilityLevel(u, 'A02C') != 0 ) ) then
	    set shxishu=shxishu + 0.5
	endif
	if ( ( GetUnitAbilityLevel(u, 'A02H') != 0 ) ) then
	    set shxishu=shxishu + 0.6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A0D6') != 0 ) ) then
	    set shxishu=shxishu + 0.7
	endif
	//call BJDebugMsg("pos3")
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl"))
	call RemoveLocation(loc)
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DT') then
	    set shxishu=shxishu * 1.8
    endif
	set shanghai=ShangHaiGongShi(u , uc , 9 , 18 , shxishu , 'A02B')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
	set loc=null
endfunction
function XinZheMeiShou_Action takes nothing returns nothing
 local timer t= CreateTimer()
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc=GetUnitLoc(u)
 local real shxishu=1.
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local real j= RMaxBJ(7. - I2R(GetHeroAgi(u, true)) / 400., 0.5)
 local real range= 500. + 50. * GetUnitAbilityLevel(u, 'A02B') + I2R(GetHeroStr(u, true)) / 10.
	call UnitRemoveAbility(u, 'A02X')
	call DestroyEffect(udg_zhemeieff)
	set udg_zhemeieff=null
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call TimerStart(t, j, false, function XinZheMeiShou_1)
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc , Condition(function ZheMei_Condition)), function ZheMei_Action)
	call WuGongShengChong(u , 'A02B' , 450.)
	if ( GetUnitAbilityLevel(u, 'A02H') >= 1 ) and GetRandomInt(1, 4) == 1 then
		call WanBuff(u , uc , 2)
	endif
	if ( GetUnitAbilityLevel(u, 'A07N') >= 1 ) and GetRandomInt(1, 4) == 1 then
		call WanBuff(u , uc , 11)
	endif
	call RemoveLocation(loc)
	set t=null
	set u=null
	set uc=null
	set loc=null
endfunction
//æœˆå½±èˆæ­¥
function IsYueYing takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A02C' )
endfunction
function ZheMei_Condition2 takes nothing returns boolean
	//call BJDebugMsg("pos2")
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function ZheMei_Action2 takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local unit u=GetTriggerUnit()
 local location loc=GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0.
	set shxishu=RMinBJ(1. + I2R(GetHeroInt(u, true)) / 600., 15.)
	if ( ( GetUnitAbilityLevel(u, 'A02C') != 0 ) ) then
	    set shxishu=shxishu + 0.5
	endif
	if ( ( GetUnitAbilityLevel(u, 'A02H') != 0 ) ) then
	    set shxishu=shxishu + 0.6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A0D6') != 0 ) ) then
	    set shxishu=shxishu + 0.7
	endif
	//call BJDebugMsg("pos3")
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl"))
	call RemoveLocation(loc)
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DT') then
	    set shxishu=shxishu * 1.8
    endif
	set shanghai=ShangHaiGongShi(u , uc , 9 , 18 , shxishu , 'A02B')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
	set loc=null
endfunction
function YueYingBu takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local real r= 5.
 local integer level= 1
 local location loc= GetUnitLoc(u)
 local location loc2= GetSpellTargetLoc()
	if GetUnitAbilityLevel(u, 'A07S') >= 1 then
		set r=r + 3.
	endif
	if GetUnitAbilityLevel(u, 'A02G') >= 1 then
		set r=r + 3.
	endif
	call WuGongShengChong(u , 'A02C' , 100.)
	call SaveInteger(YDHT, GetHandleId(u), 'A02C' * 100, LoadInteger(YDHT, GetHandleId(u), 'A02C' * 100) + 1)
	//call BJDebugMsg("ç›®å‰ç‰¹æ•ˆå‰©ä½™å€¼ä¸º"+I2S(LoadInteger(YDHT, GetHandleId(u), 'A02C'*100)))
	call UnitAddAbility(u, 'A006')
	if GetUnitAbilityLevel(u, 'A07Q') >= 1 then
		call UnitAddAbilityBJ('A02T', u)
    	call SetPlayerAbilityAvailableBJ(false, 'A02T', GetOwningPlayer(u))
		//call UnitAddAbility(u, 'ACes')
	endif
	if GetUnitAbilityLevel(u, 'A07O') >= 1 then
		call UnitAddAbility(u, 'A02D')
	endif
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300 , loc , Condition(function ZheMei_Condition2)), function ZheMei_Action2)
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300 , loc2 , Condition(function ZheMei_Condition2)), function ZheMei_Action2)
	call YDWEPolledWaitNull(1.)
	if GetUnitAbilityLevel(u, 'A07U') >= 1 and GetRandomInt(1, 2) == 1 then
        set level=GetUnitAbilityLevel(u, 'A02C')
	     call UnitRemoveAbility(u, 'A02C')
	     call UnitAddAbility(u, 'A02C')
	     call SetUnitAbilityLevel(u, 'A02C', level)
    endif
	//call BJDebugMsg("pos4")
	call YDWEPolledWaitNull(r - 1)
	call SaveInteger(YDHT, GetHandleId(u), 'A02C' * 100, LoadInteger(YDHT, GetHandleId(u), 'A02C' * 100) - 1)
	//call BJDebugMsg("ç›®å‰ç‰¹æ•ˆå‰©ä½™å€¼ä¸º"+I2S(LoadInteger(YDHT, GetHandleId(u), 'A02C'*100)))
	if LoadInteger(YDHT, GetHandleId(u), 'A02C' * 100) == 0 then
		call UnitRemoveAbility(u, 'A006')
		if GetUnitAbilityLevel(u, 'A07Q') >= 1 then
			call UnitRemoveAbility(u, 'A02T')
		endif
		if GetUnitAbilityLevel(u, 'A07O') >= 1 then
			call UnitRemoveAbility(u, 'A02D')
		endif
	endif
	set u=null
	set loc=null
	set loc2=null
endfunction
function IsYueYingBeiDong takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A02C') >= 1 and GetUnitAbilityLevel(GetAttacker(), 'A02H') >= 1 and GetRandomInt(1, 100) <= 15 and GetUnitAbilityLevel(GetAttacker(), 'A02E') == 0
endfunction
function YueYingBuBeiDong takes nothing returns nothing
	call UnitAddAbility(GetAttacker(), 'A02E')
	call YDWEPolledWaitNull(5.)
	call UnitRemoveAbility(GetAttacker(), 'A02E')
endfunction
//å¦‚æ„åˆ€æ³•
function IsRuYi takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A02F' )
endfunction
function RuYiDao takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local location loc2= null
	call WuGongShengChong(GetTriggerUnit() , 'A02F' , 200)
	call CreateNUnitsAtLoc(1, 'h00H', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call SetUnitVertexColorBJ(bj_lastCreatedUnit, 100, 100, 100, 100)
	call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
	call UnitAddAbility(bj_lastCreatedUnit, 'A02J')
	if GetUnitAbilityLevel(u, 'A07H') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02J')
	endif
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D0012, u)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 7.)
	if GetUnitAbilityLevel(u, 'A07U') >= 1 then
		set loc2=pu(loc , 256. , GetRandomReal(0, 360.))
		call CreateNUnitsAtLoc(1, 'h00H', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
		call SetUnitVertexColorBJ(bj_lastCreatedUnit, 100, 100, 100, 100)
		call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
		call UnitAddAbility(bj_lastCreatedUnit, 'A02J')
		if GetUnitAbilityLevel(u, 'A07H') >= 1 then
			call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02J')
		endif
		call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0012, u)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 7.)
	endif
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		call UnitAddAbility(u, 'A0CQ')
   		call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A0CQ', false)
	endif
	call YDWEPolledWaitNull(7.)
	call UnitRemoveAbility(u, 'A0CQ')
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set loc=null
	set loc2=null
endfunction
function IsRuYiMaJia takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'h00H' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource()))
endfunction
function RuYiMaJia takes nothing returns nothing
 local unit u=udg_hero[1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
 local unit uc=GetTriggerUnit()
 local real shxishu=1
    local real shanghai=0.
    if GetUnitAbilityLevel(u, 'A02G') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DT') then
	    set shxishu=shxishu * 1.8
    endif
    set shanghai=ShangHaiGongShi(u , uc , 48. , 48. , shxishu , 'A02F')
    call WuGongShangHai(u , uc , shanghai)
    if UnitHasBuffBJ(u, 'B00Y') and GetUnitAbilityLevel(u, 'A018') >= 1 then
	    call WuGongShangHai(u , uc , shanghai * 30)
    endif
    set u=null
    set uc=null
endfunction
function IsRuYiBeiDong takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A02F') >= 1 and GetUnitAbilityLevel(GetAttacker(), 'A06M') >= 1 and GetRandomInt(1, 100) <= 8
endfunction
function RuYiBeiDong takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
	//call WuGongShengChong(GetTriggerUnit(),'A02F',1200)
	call CreateNUnitsAtLoc(1, 'h00H', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call SetUnitVertexColorBJ(bj_lastCreatedUnit, 100, 100, 100, 100)
	call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
	call UnitAddAbility(bj_lastCreatedUnit, 'A02J')
	if GetUnitAbilityLevel(u, 'A07H') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02J')
	endif
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D0012, u)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 7.)
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		call UnitAddAbility(u, 'A0CQ')
   		call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A0CQ', false)
	endif
	call YDWEPolledWaitNull(7.)
	call UnitRemoveAbility(u, 'A0CQ')
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
//å…«è’å…­åˆå”¯æˆ‘ç‹¬å°ŠåŠŸ
function IsBaHuang takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A02G') >= 1
endfunction
function BaHuangGong_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer j= LoadInteger(YDHT, GetHandleId(t), 0)
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local integer jishu= LoadInteger(YDHT, GetHandleId(t), 2)
 local integer level= LoadInteger(YDHT, GetHandleId(t), 3)
	call ModifyHeroStat(j, u, 1, jishu * level * 6)
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function BaHuangGong_2 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local integer jishu= LoadInteger(YDHT, GetHandleId(t), 2)
 local integer level= LoadInteger(YDHT, GetHandleId(t), 3)
	call ModifyHeroStat(0, u, 1, jishu * level)
	call ModifyHeroStat(1, u, 1, jishu * level)
	call ModifyHeroStat(2, u, 1, jishu * level)
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function BaHuangGong_3 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local integer jishu= LoadInteger(YDHT, GetHandleId(t), 2)
 local integer level= LoadInteger(YDHT, GetHandleId(t), 3)
	set juexuelingwu[i]=juexuelingwu[i] - level
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function BaHuangGong takes nothing returns nothing
 local unit u= GetAttacker()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer jishu= 8
 local integer level= GetUnitAbilityLevel(u, 'A02G')
 local location loc= GetUnitLoc(u)
 local integer j= GetRandomInt(0, 2)
 local timer t= null
 local integer gailv= 6
if GetUnitAbilityLevel(u, 'A07W') >= 1 then
		set jishu=15
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DT') then
		set gailv=gailv + 20
    endif
	// éšæœºæ•°1-100 å°äº ï¼ˆ6+ ç¦ç¼˜/3 + å…­è„‰ç­‰çº§*3ï¼‰
	if GetRandomInt(1, 100) < gailv + fuyuan[i] / 3 + GetUnitAbilityLevel(u, 'A085') * 3 then
		call WuGongShengChong(u , 'A02G' , 500 - 50 * GetUnitAbilityLevel(u, 'A089'))
		if GetUnitAbilityLevel(u, 'A0D2') >= 1 then
			call ModifyHeroStat(j, u, 0, jishu * level * 6)
			set t=CreateTimer()
			call SaveInteger(YDHT, GetHandleId(t), 0, j)
			call SaveUnitHandle(YDHT, GetHandleId(t), 1, u)
			call SaveInteger(YDHT, GetHandleId(t), 2, jishu)
			call SaveInteger(YDHT, GetHandleId(t), 3, level)
			call TimerStart(t, 8., false, function BaHuangGong_1)
		else
			call ModifyHeroStat(0, u, 0, jishu * level)
			call ModifyHeroStat(1, u, 0, jishu * level)
			call ModifyHeroStat(2, u, 0, jishu * level)
			set t=CreateTimer()
			call SaveUnitHandle(YDHT, GetHandleId(t), 1, u)
			call SaveInteger(YDHT, GetHandleId(t), 2, jishu)
			call SaveInteger(YDHT, GetHandleId(t), 3, level)
			call TimerStart(t, 8., false, function BaHuangGong_2)
		endif
		call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl"))
		if GetUnitAbilityLevel(u, 'A083') >= 1 then
			set juexuelingwu[i]=juexuelingwu[i] + level
			set t=CreateTimer()
			call SaveUnitHandle(YDHT, GetHandleId(t), 1, u)
			call SaveInteger(YDHT, GetHandleId(t), 2, jishu)
			call SaveInteger(YDHT, GetHandleId(t), 3, level)
			call TimerStart(t, 8., false, function BaHuangGong_3)
		endif
	endif
	call RemoveLocation(loc)
	set u=null
	set p=null
	set loc=null
	set t=null
endfunction
//å¤©å±±å…­é˜³æŒ
function IsLiuYang takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A02H' )
endfunction
function LiuYangZhang takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call WuGongShengChong(GetTriggerUnit() , 'A02H' , 190)
	call CreateNUnitsAtLoc(1, 'e012', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A02I')
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02I')
	endif
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D010E, loc)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
function IsLiuYangMaJia takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'e012' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource()))
endfunction
function LiuYangMaJia takes nothing returns nothing
 local unit u=udg_hero[1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
 local unit uc=GetTriggerUnit()
 local real shxishu=1
    local real shanghai=0.
    if GetUnitAbilityLevel(u, 'A07I') >= 1 then
		set shxishu=shxishu + 1
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DT') then
	    set shxishu=shxishu * 5
    endif
    set shanghai=ShangHaiGongShi(u , uc , 84 , 48 , shxishu , 'A02H')
    call WuGongShangHai(u , uc , shanghai)
    if GetUnitAbilityLevel(u, 'A07M') >= 1 then
	    call WanBuff(u , uc , 2)
    endif
    if GetUnitAbilityLevel(u, 'A082') >= 1 then
	    call WanBuff(u , uc , 6)
    endif
    set u=null
    set uc=null
endfunction
function IsLiuYangBeiDong takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A02H') >= 1 and GetUnitAbilityLevel(GetAttacker(), 'A0D8') >= 1 and GetUnitAbilityLevel(GetAttacker(), 'A07H') >= 1 and GetRandomInt(1, 100) <= 5
endfunction
function LiuYangBeiDong takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 'e012', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A02I')
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02I')
	endif
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D010E, loc)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	call RemoveLocation(loc)
	set u=null
	set loc=null
endfunction
// è™šç«¹å­ç§°å·ï¼šåŒ—å†¥æ€æ€ªåŠ å†…åŠ›
function isXuZhuBeiMing takes nothing returns boolean
	return GetUnitAbilityLevel(GetKillingUnit(), 'A082') != 0 and isTitle(1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) , 25)
endfunction
function xuZhuBeiMing takes nothing returns nothing
 local unit u= GetKillingUnit()
 local integer i=GetPlayerId(GetOwningPlayer(GetKillingUnit()))
	set beiMingShaGuai[i]=beiMingShaGuai[i] + 1
	if ( ( beiMingShaGuai[i] >= 100 ) ) then
		set beiMingShaGuai[i]=beiMingShaGuai[i] - 100
		call ModifyHeroStat(1, GetKillingUnit(), 0, 20)
	endif
	set u=null
endfunction
function LingJiuGong_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, 1.)
	call TriggerAddCondition(t, Condition(function IsXinZheMei))
	call TriggerAddAction(t, function XinZheMeiShou)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function XinZheMeiShou_Condition))
	call TriggerAddAction(t, function XinZheMeiShou_Action)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsYueYing))
	call TriggerAddAction(t, function YueYingBu)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsYueYingBeiDong))
	call TriggerAddAction(t, function YueYingBuBeiDong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsBaHuang))
	call TriggerAddAction(t, function BaHuangGong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsLiuYang))
	call TriggerAddAction(t, function LiuYangZhang)
	set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsLiuYangMaJia))
    call TriggerAddAction(t, function LiuYangMaJia)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsLiuYangBeiDong))
	call TriggerAddAction(t, function LiuYangBeiDong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsRuYi))
	call TriggerAddAction(t, function RuYiDao)
	set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsRuYiMaJia))
    call TriggerAddAction(t, function RuYiMaJia)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsRuYiBeiDong))
	call TriggerAddAction(t, function RuYiBeiDong)
	// è™šç«¹åŒ—å†¥æ€æ€ªåŠ å†…åŠ›
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function isXuZhuBeiMing))
	call TriggerAddAction(t, function xuZhuBeiMing)
	set t=null
endfunction
//å®¶ä¼ å‰‘æ³•
function IsJiaChuanMaJia takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, 10001, 10001))) )
endfunction
function JiaChuanMaJia_1 takes nothing returns nothing
 local unit u= LoadUnitHandle(YDHT, 10001, 10001)
 local unit uc= GetEnumUnit()
 local real shxishu= 1.
 local real shanghai= 0.
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local location loc= GetUnitLoc(uc)
	if GetUnitAbilityLevel(u, 'A02R') >= 1 then
	    set shxishu=shxishu + 1.
    endif
    if GetRandomInt(1, 4) == 1 then
   		call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl"))
	endif
	if UnitHaveItem(u , 'I0DS') then
	    set shxishu=shxishu * 1.8
    endif
    set shanghai=ShangHaiGongShi(u , uc , 18. , 27. , shxishu , 'A02K')
    call WuGongShangHai(u , uc , shanghai)
    if GetUnitAbilityLevel(u, 'A02V') >= 1 and GetRandomInt(1, 100) <= 15 + fuyuan[i] / 5 then
	    call WanBuff(u , uc , 6)
    endif
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
function JiaChuanMaJia takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local integer j= LoadInteger(YDHT, GetHandleId(t), 1)
 local real range= 550.
    local location loc=GetUnitLoc(u)
    local integer jmax= 17
    if GetUnitAbilityLevel(u, 'A071') >= 1 then
	    set range=range + 350.
    endif
    if GetUnitAbilityLevel(u, 'A06J') >= 1 then
	    set jmax=25
    endif
    if j < jmax then
	    call SaveInteger(YDHT, GetHandleId(t), 1, j + 1)
	    call SaveUnitHandle(YDHT, 10001, 10001, u)
    	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , loc , Condition(function IsJiaChuanMaJia)), function JiaChuanMaJia_1)
    else
    	call PauseTimer(t)
    	call DestroyTimer(t)
    	call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
    call RemoveLocation(loc)
    set t=null
    set u=null
    set loc=null
endfunction
function IsJiaChuan takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A02K' )
endfunction
function JiaChuanJian takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local timer t= CreateTimer()
	call WuGongShengChong(GetTriggerUnit() , 'A02K' , 140)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A02L')
	if GetUnitAbilityLevel(u, 'A071') >= 1 then
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A02L', 2)
	endif
	if GetUnitAbilityLevel(u, 'A06J') >= 1 then
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A02L', 3)
	endif
	if GetUnitAbilityLevel(u, 'A06J') >= 1 and GetUnitAbilityLevel(u, 'A071') >= 1 then
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A02L', 4)
	endif
	call IssueTargetOrderById(bj_lastCreatedUnit, $D008E, u)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call TimerStart(t, 1, true, function JiaChuanMaJia)
	if GetUnitAbilityLevel(u, 'A07T') >= 1 then
		call UnitAddAbility(u, 'A02D')
		call YDWEPolledWaitNull(4.)
		call UnitRemoveAbility(u, 'A02D')
	endif
	call RemoveLocation(loc)
	set u=null
	set loc=null
	set t=null
endfunction
//è¢–ä¸­æŒ‡
function IsXiuZhong takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A0CC') >= 1 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))
endfunction
function XiuZhongZhi takes nothing returns nothing
 local unit u= GetAttacker()
 local unit uc= GetTriggerUnit()
 local location loc= GetUnitLoc(uc)
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local real shxishu= 1.
 local real shanghai= 0.
 local integer gailv= 15
if GetUnitAbilityLevel(u, 'A071') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DS') then
	    set shxishu=shxishu * 1.8
		set gailv=gailv + 40
    endif
	set shanghai=ShangHaiGongShi(u , uc , 40. , 60. , shxishu , 'A0CC')
	if GetRandomInt(1, 100) <= gailv + fuyuan[i] / 6 + GetUnitAbilityLevel(u, 'A0CC') * 2 then
		if GetUnitAbilityLevel(u, 'A06P') >= 1 then
			call WanBuff(u , uc , 12)
		else
			call WanBuff(u , uc , 11)
		endif
		call WuGongShangHai(u , uc , shanghai)
		call WuGongShengChong(u , 'A0CC' , 600)
		//call SetUnitAnimation(u, "attack, slam")
		call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl"))
		// æ…•å®¹é¾™åŸç§°å·åŠ å†…åŠ›
		if isTitle(i , 26) then
			call ModifyHeroStat(1, u, 0, 20 * GetUnitAbilityLevel(u, 'A0CC'))
			call YDWEPolledWaitNull(15. + 2 * GetUnitAbilityLevel(u, 'A0CC'))
			call ModifyHeroStat(1, u, 1, 20 * GetUnitAbilityLevel(u, 'A0CC'))
		endif
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set p=null
	set loc=null
endfunction
//å‚åˆæŒ‡
function IsCanHe takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A02M' )
endfunction
function CanHeZhi takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit uc= GetSpellTargetUnit()
 local location loc= GetUnitLoc(uc)
	call WuGongShengChong(GetTriggerUnit() , 'A02M' , 200)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A02O')
	if GetUnitAbilityLevel(u, 'A06H') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02O')
	endif
	call IssueTargetOrderById(bj_lastCreatedUnit, $D0097, uc)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function IsCanHeMaJia takes nothing returns boolean
	return GetEventDamage() == 5.15
endfunction
function CanHeMaJia takes nothing returns nothing
 local unit u= udg_hero[1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
 local unit uc= GetTriggerUnit()
 local location loc= GetUnitLoc(uc)
 local real shxishu= 1.
 local real shanghai= 0.
	set shanghai=ShangHaiGongShi(u , uc , 90. , 50. , shxishu , 'A02M')
	call WuGongShangHai(u , uc , shanghai)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A02P')
	// ä¹é˜³æ®‹åºŸ
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02P')
	endif
	call UnitAddAbility(bj_lastCreatedUnit, 'A02Q')
	// è‘µèŠ±ç ´ç”²
	if GetUnitAbilityLevel(u, 'A07T') >= 1 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02Q')
	endif
	call IssueTargetOrderById(bj_lastCreatedUnit, $D00DD, uc)
	call IssueTargetOrderById(bj_lastCreatedUnit, $D00B5, uc)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 4.)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function IsCanHeBeiDong takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A02V') >= 1 and GetUnitAbilityLevel(GetAttacker(), 'A02M') >= 1
endfunction
function CanHeBeiDong takes nothing returns nothing
 local unit u= GetAttacker()
 local unit uc= GetTriggerUnit()
 local location loc= GetUnitLoc(uc)
	if GetRandomInt(1, 100) <= 10 then
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A02O')
		if GetUnitAbilityLevel(u, 'A06H') >= 1 then
			call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A02O')
		endif
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0097, uc)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
//çœŸÂ·æ˜Ÿç§»æ–—è½¬
function IsXingYi takes nothing returns boolean
	return GetSpellAbilityId() == 'A02R'
endfunction
function XingYiDouZhuan_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit uc= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local real r= 5.
 local real percent= GetUnitLifePercent(uc)
	if GetUnitAbilityLevel(u, 'A07Q') >= 1 then
		set r=10.
	endif
	if LoadBoolean(YDHT, GetHandleId(u), 10002) then
		if GetUnitLifePercent(u) <= percent - r then
			//call WuDi(uc)
			call SetUnitLifePercentBJ(uc, percent - r)
		else
			if GetUnitLifePercent(u) <= percent then
				//call WuDi(uc)
				if percent > r / 2 then
					call SetUnitLifePercentBJ(uc, RMinBJ(GetUnitLifePercent(u), percent - r / 2))
				else
					call SetWidgetLife(uc, 1.)
				endif
			else
				//call WuDi(uc)
				if percent > 2. then
					call SetUnitLifePercentBJ(uc, percent - 2.)
				else
					call SetWidgetLife(uc, 1.)
				endif
			endif
		endif
	else
		call UnitRemoveAbility(u, 'A02T')
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	set t=null
	set u=null
	set uc=null
endfunction
function XingYiDouZhuan takes nothing returns nothing
 local timer t= CreateTimer()
	call WuGongShengChong(GetTriggerUnit() , 'A02R' , 120)
	call SaveBoolean(YDHT, GetHandleId(GetTriggerUnit()), 10002, true)
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, GetTriggerUnit())
	call SaveUnitHandle(YDHT, GetHandleId(t), 1, GetSpellTargetUnit())
	call TimerStart(t, 0.3, true, function XingYiDouZhuan_1)
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A07Q') >= 1 then
		call UnitAddAbilityBJ('A02T', GetTriggerUnit())
    	call SetPlayerAbilityAvailableBJ(false, 'A02T', GetOwningPlayer(GetTriggerUnit()))
	endif
	set t=null
endfunction
function IsXingYi_2 takes nothing returns boolean
	return GetSpellAbilityId() == 'A02R'
endfunction
function XingYiDouZhuan_2 takes nothing returns nothing
	//call BJDebugMsg("åˆ°è¿™äº†")
	call SaveBoolean(YDHT, GetHandleId(GetTriggerUnit()), 10002, false)
endfunction
function IsXingYiBeiDong takes nothing returns boolean
	// ä½¿ç”¨çœŸæ–—è½¬åä¼¤ï¼Œæˆ–è€…æŒ¨æ‰“åä¼¤
	return LoadBoolean(YDHT, GetHandleId(GetTriggerUnit()), 10002) or ( ( IsUnitEnemy(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) ) and GetUnitAbilityLevel(GetTriggerUnit(), 'A02R') >= 1 )
endfunction
function XingYiBeiDong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit uc= GetAttacker()
 local location loc= GetUnitLoc(uc)
 local real shxishu= 1.
 local real shanghai= 0.
	if GetUnitAbilityLevel(u, 'A07W') >= 1 or isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 26) then
		call AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
		call DestroyEffect(bj_lastCreatedEffect)
		set shanghai=ShangHaiGongShi(u , uc , 50. , 50. , shxishu , 'A02R')
		call WuGongShangHai(u , uc , shanghai)
	endif
	if GetUnitAbilityLevel(u, 'A071') >= 1 then
		call WanBuff(u , uc , 1)
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
//æ…•å®¹å®¶è®­
function IsJiaXun takes nothing returns boolean
	return GetSpellAbilityId() == 'A02V'
endfunction
function JiaXun takes nothing returns nothing
	call WuGongShengChong(GetTriggerUnit() , 'A02V' , 60)
endfunction
function MuRongJia_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsJiaChuan))
	call TriggerAddAction(t, function JiaChuanJian)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsXiuZhong))
	call TriggerAddAction(t, function XiuZhongZhi)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsCanHe))
	call TriggerAddAction(t, function CanHeZhi)
	set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsCanHeMaJia))
    call TriggerAddAction(t, function CanHeMaJia)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsCanHeBeiDong))
	call TriggerAddAction(t, function CanHeBeiDong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsXingYi))
	call TriggerAddAction(t, function XingYiDouZhuan)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
	call TriggerAddCondition(t, Condition(function IsXingYi_2))
	call TriggerAddAction(t, function XingYiDouZhuan_2)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsXingYiBeiDong))
	call TriggerAddAction(t, function XingYiBeiDong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsJiaXun))
	call TriggerAddAction(t, function JiaXun)
	set t=null
endfunction
//é¹°çˆªåŠŸ 3çº§æŠ€
function IsYingZhao takes nothing returns boolean
	return ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) and GetUnitAbilityLevel(GetAttacker(), 'A030') >= 1
endfunction
function YingZhao_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function YingZhaoShangHai takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit uc= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local real shanghai= LoadReal(YDHT, GetHandleId(t), 2)
	call WuGongShangHai(u , uc , shanghai)
	if GetUnitAbilityLevel(u, 'A017') >= 1 and GetRandomInt(1, 5) == 1 then
		call WanBuff(u , uc , 7)
	endif
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
	set uc=null
endfunction
function YingZhao_Action takes nothing returns nothing
    local unit u=GetAttacker()
    local unit uc=GetEnumUnit()
    local real shxishu=1.
    local real shanghai=0.
    local integer i=1 + GetPlayerId(GetOwningPlayer(u))
    local location loc=GetUnitLoc(u)
    local timer t= CreateTimer()
 local real dist= 200.0
	// å­¦é¾™è±¡ï¼Œè·ç¦»å½±å“ä¼¤å®³
	 if GetUnitAbilityLevel(u, 'S002') >= 1 then
	    set dist=SquareRoot(( GetUnitX(u) - GetUnitX(uc) ) * ( GetUnitX(u) - GetUnitX(uc) ) + ( GetUnitY(u) - GetUnitY(uc) ) * ( GetUnitY(u) - GetUnitY(uc) ))
    endif
    set shxishu=1.8 + 0.2 * dist * GetRandomReal(20., 50.) / I2R(LoadInteger(YDHT, GetHandleId(u), StringHash("é¹°çˆª"))) / I2R(LoadInteger(YDHT, GetHandleId(u), StringHash("é¹°çˆª")))
    if GetUnitAbilityLevel(u, 'A034') >= 1 or GetUnitAbilityLevel(u, 'A035') >= 1 then
	    set shxishu=shxishu * 2
    endif
    if GetUnitAbilityLevel(u, 'A07W') >= 1 then
	    set shxishu=shxishu * 2
    endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I00D') then
	    set shxishu=shxishu * 2
  	endif
    set shanghai=ShangHaiGongShi(u , uc , 0.3 , 0.4 , shxishu , 'A030')
    call CreateNUnitsAtLoc(1, 'e014', GetOwningPlayer(u), loc, bj_UNIT_FACING)
    call SetUnitVertexColorBJ(bj_lastCreatedUnit, 100, 100, 100, 100)
    call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    //call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A031')
    call IssueTargetOrderById(bj_lastCreatedUnit, $D0200, uc)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 1.)
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call SaveUnitHandle(YDHT, GetHandleId(t), 1, uc)
    call SaveReal(YDHT, GetHandleId(t), 2, shanghai)
    call TimerStart(t, 0.3, false, function YingZhaoShangHai)
    call RemoveLocation(loc)
    set loc=null
    set u=null
    set uc=null
    set t=null
endfunction
function YingZhaoGong takes nothing returns nothing
 local unit u= GetAttacker()
 local group g= CreateGroup()
 local location loc= GetUnitLoc(u)
	if GetRandomReal(1, 100) < 25 + fuyuan[1 + GetPlayerId(GetOwningPlayer(u))] / 3 + GetUnitAbilityLevel(u, 'A06L') * 8 then
		call WuGongShengChong(u , 'A030' , 1000)
		call GroupEnumUnitsInRangeOfLoc(g, loc, 420 + 80 * GetUnitAbilityLevel(u, 'A030'), Condition(function YingZhao_Condition))
		call SaveInteger(YDHT, GetHandleId(u), StringHash("é¹°çˆª"), CountUnitsInGroup(g))
		call ForGroupBJ(g, function YingZhao_Action)
	endif
	call RemoveLocation(loc)
	call DestroyGroup(g)
	set loc=null
	set g=null
	set u=null
endfunction
function IsYingZhaoZhuDong takes nothing returns boolean
	return GetSpellAbilityId() == 'A030'
endfunction
function YingZhaoZhuDong_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and IsUnitAliveBJ(GetFilterUnit()) and GetUnitAbilityLevel(GetFilterUnit(), 'Avul') < 1 and GetUnitTypeId(GetFilterUnit()) != 'N008'
endfunction
function YingZhaoZhuDong_Action takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local unit uc=GetEnumUnit()
    local real shxishu=1.
    local real shanghai=0.
    local integer i=1 + GetPlayerId(GetOwningPlayer(u))
    local location loc=GetUnitLoc(u)
    local timer t= CreateTimer()
    local real dist= 200.0
	// å­¦é¾™è±¡ï¼Œè·ç¦»å½±å“ä¼¤å®³
	if GetUnitAbilityLevel(u, 'S002') >= 1 then
	    set dist=SquareRoot(( GetUnitX(u) - GetUnitX(uc) ) * ( GetUnitX(u) - GetUnitX(uc) ) + ( GetUnitY(u) - GetUnitY(uc) ) * ( GetUnitY(u) - GetUnitY(uc) ))
    endif
    set shxishu=1.8 + 0.2 * dist * GetRandomReal(20., 50.) / I2R(LoadInteger(YDHT, GetHandleId(u), StringHash("é¹°çˆªä¸»åŠ¨"))) / I2R(1 + LoadInteger(YDHT, GetHandleId(u), StringHash("é¹°çˆªä¸»åŠ¨")))
    if GetUnitAbilityLevel(u, 'A034') >= 1 or GetUnitAbilityLevel(u, 'A035') >= 1 then
	    set shxishu=shxishu * 2
    endif
    if GetUnitAbilityLevel(u, 'A07W') >= 1 then
	    set shxishu=shxishu * 2
    endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I00D') then
	    set shxishu=shxishu * 2
  	endif
    set shanghai=ShangHaiGongShi(u , uc , 0.7 , 0.9 , shxishu , 'A030')
    call CreateNUnitsAtLoc(1, 'e014', GetOwningPlayer(u), loc, bj_UNIT_FACING)
    call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A031')
    call IssueTargetOrderById(bj_lastCreatedUnit, $D0200, uc)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 1.)
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call SaveUnitHandle(YDHT, GetHandleId(t), 1, uc)
    call SaveReal(YDHT, GetHandleId(t), 2, shanghai)
    call TimerStart(t, 0.3, false, function YingZhaoShangHai)
    call RemoveLocation(loc)
    set loc=null
    set u=null
    set uc=null
    set t=null
endfunction
function YingZhaoGongZhuDong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local group g= CreateGroup()
 local location loc= GetUnitLoc(u)
	call WuGongShengChong(u , 'A030' , 1000)
	call GroupEnumUnitsInRangeOfLoc(g, loc, 420 + 80 * GetUnitAbilityLevel(u, 'A030'), Condition(function YingZhaoZhuDong_Condition))
	call SaveInteger(YDHT, GetHandleId(u), StringHash("é¹°çˆªä¸»åŠ¨"), CountUnitsInGroup(g))
	call ForGroupBJ(g, function YingZhaoZhuDong_Action)
	call RemoveLocation(loc)
	call DestroyGroup(g)
	set loc=null
	set g=null
	set u=null
endfunction
//è ç¿¼çºµ 8çº§æŠ€
function IsFuYi takes nothing returns boolean
	return GetSpellAbilityId() == 'A032'
endfunction
function FuYiZong_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local real oldSpeed= LoadReal(YDHT, GetHandleId(t), 1)
 local real oldSpeed2= (s__ModSpeed_getSpeed((u))) - LoadReal(YDHT, GetHandleId(t), 2) // INLINED!!
	call h__SetUnitMoveSpeed(u, RMaxBJ(RMinBJ(oldSpeed, oldSpeed2), 350.))
	call UnitRemoveAbility(u, 'A02T')
	call UnitRemoveAbility(u, 'A0DB')
	call PauseTimer(t)
	call DestroyTimer(t)
	call FlushChildHashtable(YDHT, GetHandleId(t))
	set u=null
	set t=null
endfunction
function FuYiZong_2_Condition takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit()) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0)))
endfunction
function FuYiZong_2_Action takes nothing returns nothing
 local unit u= LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0)
 local unit uc= GetEnumUnit()
	if GetRandomInt(1, 50) == 1 then
		call WanBuff(u , uc , 12)
	endif
	set u=null
	set uc=null
endfunction
function FuYiZong_2 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local group g= null
 local location loc= GetUnitLoc(u)
 local integer j= LoadInteger(YDHT, GetHandleId(t), 1)
 local integer jmax= 100
	if j <= jmax then
		set g=CreateGroup()
		call GroupEnumUnitsInRangeOfLoc(g, loc, 300, Condition(function FuYiZong_2_Condition))
		call ForGroupBJ(g, function FuYiZong_2_Action)
		call DestroyGroup(g)
		call SaveInteger(YDHT, GetHandleId(t), 1, j + 1)
	else
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	call RemoveLocation(loc)
	set t=null
	set u=null
	set loc=null
	set g=null
endfunction
function FuYiZong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local real time= 5. + I2R(GetUnitAbilityLevel(u, 'A032'))
 local real oldSpeed= (s__ModSpeed_getSpeed((u))) // INLINED!!
 local timer t= CreateTimer()
 local timer tm= null
	call WuGongShengChong(u , 'A032' , 100)
	call h__SetUnitMoveSpeed(u, oldSpeed + 700 + jingmai[i] * 10)
	// A07Wä¹¾å¤90%é—ªé¿æ”¹æˆè‘µèŠ±
	if GetUnitAbilityLevel(u, 'A07T') >= 1 then
		call UnitAddAbilityBJ('A02T', u)
    	call SetPlayerAbilityAvailableBJ(false, 'A02T', GetOwningPlayer(u))
	endif
	// ä¹é˜³A0DNæ”¹æˆé¾™è±¡S002
	if GetUnitAbilityLevel(u, 'S002') >= 1 then
		call UnitAddAbility(u, 'A0DB')
		call SetUnitAbilityLevel(u, 'A0DB', GetUnitAbilityLevel(u, 'A032') + 1)
	endif
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call SaveReal(YDHT, GetHandleId(t), 1, oldSpeed)
	call SaveReal(YDHT, GetHandleId(t), 2, 700 + jingmai[i] * 10)
	call TimerStart(t, time, false, function FuYiZong_1)
	if GetUnitAbilityLevel(u, 'A017') >= 1 then
		set tm=CreateTimer()
		call SaveUnitHandle(YDHT, GetHandleId(tm), 0, u)
		call TimerStart(tm, time / 100, true, function FuYiZong_2)
	endif
	set u=null
	set t=null
	set tm=null
	//local location loc = GetUnitLoc(u)
	//local integer i = 0
	//local integer num = 0
	//local location array loc2
	//local location loc3 = pu(loc, 400 + 80 * GetUnitAbilityLevel(u, 'A030'), GetRandomReal(0., 360.))
	//local group g = CreateGroup()
	//local group g2 = CreateGroup()
	//local unit uc = null
	//local lightning array light
	//call YDWEPolledWaitNull(.15)
	//call GroupEnumUnitsInRangeOfLoc(g, loc, 420 + 80 * GetUnitAbilityLevel(u, 'A030'), Condition(function YingZhaoZhuDong_Condition))
	//if g != null then
	//	set num = CountUnitsInGroup(g)
	//endif
	//if num >= 1 then
	//	set i = 1
	//	loop
	//		exitwhen i > (num + 1)/2
	//		set uc = GroupPickRandomUnit(g)
	//		call GroupAddUnit(g2, uc)
	//		call GroupRemoveUnit(g, uc)
	//		set loc2[i] = GetUnitLoc(uc)
	//		call SetUnitPositionLocFacingLocBJ(u,loc2[i],loc2[i])
	//		call SetUnitAnimation(u,"ATTACK")
	//		call YDWEPolledWaitNull(.15)
	//		if i > 1 then
	//			set light[i] = AddLightningLoc("FORK",loc2[i-1],loc2[i])
	//			call DestroyLightning(light[i-1])
	//			set light[i-1] = null
	//		else
	//			set light[i] = AddLightningLoc("FORK",loc,loc2[i])
	//		endif
	//		set uc = null
	//		set i = i + 1
	//	endloop
	//endif
	//if light[i-1] != null then
	//	call YDWEPolledWaitNull(.15)
	//	call DestroyLightning(light[i-1])
	//	set light[i-1] = null
	//endif
	//if g2 != null and CountUnitsInGroup(g2)>=1 then
	//	call SetUnitPositionLocFacingLocBJ(u,loc3,loc3)
	//	set light[1] = AddLightningLoc("FORK",loc2[i-1],loc3)
	//	set num = CountUnitsInGroup(g2)
	//endif
	//set i = 1
	//if num >= 1 then
	//	set i = 1
	//	loop
	//		exitwhen i >= num
	//		set uc = GroupPickRandomUnit(g2)
	//		call GroupRemoveUnit(g2, uc)
	//		call SetUnitPositionLocFacingLocBJ(uc,loc3,loc3)
	//		call SetUnitAnimation(uc,"ATTACK")
	//		if GetUnitAbilityLevel(u,'A0DE')>=1 then
	//			call WanBuff(u, uc, 12)
	//		else
	//			call WanBuff(u, uc, 11)
	//		endif
	//		set uc = null
	//		set i = i + 1
	//	endloop
	//endif
	//if light[1] != null then
	//	call YDWEPolledWaitNull(.15)
	//	call DestroyLightning(light[1])
	//endif
	//if num > 1 then
	//	call SetUnitPositionLocFacingLocBJ(u,loc,loc)
	//	set light[1] = AddLightningLoc("FORK",loc3,loc)
	//	call YDWEPolledWaitNull(.15)
	//	call DestroyLightning(light[1])
	//endif
	//if GetUnitAbilityLevel(u, 'A07W')>=1 then
	//	call UnitAddAbilityBJ( 'A02T', u )
 //   	call SetPlayerAbilityAvailableBJ( false, 'A02T', GetOwningPlayer(u) )
 //   	call YDWEPolledWaitNull(4.)
 //   	call UnitRemoveAbility(u, 'A02T')
	//endif
	//call RemoveLocation(loc)
	//call RemoveLocation(loc3)
	//call DestroyGroup(g)
	//call DestroyGroup(g2)
	//set u = null
	//set uc = null
	//set loc = null
	//set loc3 = null
	//set g = null
	//set g2 = null
	//set light[1] = null
endfunction
//ç‹®å­å¼ 15çº§æŠ€
function IsShiZi takes nothing returns boolean
	return GetSpellAbilityId() == 'A06R'
endfunction
function ShiZiHou_Action takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit uc= GetEnumUnit()
 local real shxishu=1.
    local real shanghai=0.
 local real dist= SquareRoot(( GetUnitX(u) - GetUnitX(uc) ) * ( GetUnitX(u) - GetUnitX(uc) ) + ( GetUnitY(u) - GetUnitY(uc) ) * ( GetUnitY(u) - GetUnitY(uc) ))
	if GetUnitAbilityLevel(u, 'A07W') >= 1 then
	    set shxishu=shxishu + 1.
    endif
    if GetUnitAbilityLevel(u, 'A07M') >= 1 then
	    set shxishu=shxishu + .7
    endif
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I00D') then
	    set shxishu=shxishu * 2
  	endif
	set shanghai=ShangHaiGongShi(u , uc , 100. , 200. , shxishu , 'A06R')
	call knock_back(uc , Atan2(GetUnitY(uc) - GetUnitY(u), GetUnitX(uc) - GetUnitX(u)) , GetRandomReal(320., 720.) + 80 * GetUnitAbilityLevel(u, 'A030') - dist , 1. , 0.05 , "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" , 0)
	call WuGongShangHai(u , uc , shanghai)
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 and GetRandomInt(1, 3) == 2 then
		call WanBuff(u , uc , 9)
	endif
	set u=null
	set uc=null
endfunction
function ShiZiHou takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local integer level= 0
 local group g= CreateGroup()
	call WuGongShengChong(u , 'A06R' , 200)
	call GroupEnumUnitsInRangeOfLoc(g, loc, 420 + 80 * GetUnitAbilityLevel(u, 'A030'), Condition(function YingZhaoZhuDong_Condition))
	call ForGroupBJ(g, function ShiZiHou_Action)
	if ( GetUnitAbilityLevel(u, 'A034') > 0 or GetUnitAbilityLevel(u, 'A035') >= 1 ) and GetRandomReal(0, 100) >= 30 then
		set level=GetUnitAbilityLevel(u, 'A06R')
		call UnitRemoveAbility(u, 'A06R')
		call UnitAddAbility(u, 'A06R')
		call SetUnitAbilityLevel(u, 'A06R', level)
	endif
	set u=null
	set loc=null
	set g=null
endfunction
//åœ£ç«ä»¤ç¥åŠŸ 25çº§æŠ€1
function IsShengHuo takes nothing returns boolean
	return GetSpellAbilityId() == 'A034'
endfunction
//æ”¹è¿›è½¬åœˆå‡½æ•°
function ZhuanQuan_1 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit uc= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local real angle= LoadReal(YDHT, GetHandleId(t), 2)
 local real dist= LoadReal(YDHT, GetHandleId(t), 3)
 local real angle0= LoadReal(YDHT, GetHandleId(t), 4)
 local real dist0= LoadReal(YDHT, GetHandleId(t), 5)
 local location loc= GetUnitLoc(u)
 local real x=.0
 local real y=.0
	//call BJDebugMsg("è½¬åœˆ1æ‰§è¡Œäº†ï¼Œangle0="+R2S(angle0))
	if IsUnitAliveBJ(u) == false then
		call KillUnit(uc)
		call RemoveUnit(uc)
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	if ( dist >= 0 ) and ( GetUnitState(uc, UNIT_STATE_LIFE) > 0 ) and ( GetUnitState(u, UNIT_STATE_LIFE) > 0 ) and ( ( uc == shenghuoling_1 and ling1zhuan ) or ( uc == shenghuoling_2 and ling2zhuan ) or ( uc == shenghuoling_3 and ling3zhuan ) ) then
		set x=GetUnitX(u) + ( dist + dist0 ) * Cos(angle + angle0)
		set y=GetUnitY(u) + ( dist + dist0 ) * Sin(angle + angle0)
		call SaveReal(YDHT, GetHandleId(t), 4, angle + angle0)
		call SaveReal(YDHT, GetHandleId(t), 5, dist + dist0)
		call SetUnitX(uc, CheckX(x))
		call SetUnitY(uc, CheckY(y))
		call SetUnitFacing(uc, Atan2(GetUnitY(uc) - GetUnitY(u), GetUnitX(uc) - GetUnitX(u)))
	else
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	call RemoveLocation(loc)
	set t=null
	set u=null
	set uc=null
	set loc=null
endfunction
function ZhuanQuan takes unit uc,unit u,real angle,real dist returns nothing
 local real x1=GetUnitX(uc)
 local real y1=GetUnitY(uc)
 local real x2=GetUnitX(u)
 local real y2=GetUnitY(u)
 local timer t= CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, uc)
	call SaveUnitHandle(YDHT, GetHandleId(t), 1, u)
	call SaveReal(YDHT, GetHandleId(t), 2, angle * ( 3.14159 / 180. ))
	call SaveReal(YDHT, GetHandleId(t), 3, dist)
	call SaveReal(YDHT, GetHandleId(t), 4, Atan2(y2 - y1, x2 - x1))
	call SaveReal(YDHT, GetHandleId(t), 5, SquareRoot(( x2 - x1 ) * ( x2 - x1 ) + ( y2 - y1 ) * ( y2 - y1 )))
	call TimerStart(t, 0.01, true, function ZhuanQuan_1)
	//call BJDebugMsg("è½¬åœˆæ‰§è¡Œäº†")
	set t=null
endfunction
function ShengHuoLing takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call WuGongShengChong(u , 'A034' , 100)
	call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A034' * 5, GetUnitAbilityLevel(u, 'A034'))
	call UnitRemoveAbility(u, 'A034')
	call UnitAddAbility(u, 'A035')
	call SetUnitAbilityLevel(u, 'A035', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A034' * 5))
	call CreateNUnitsAtLoc(1, 'e013', GetOwningPlayer(u), pu(loc , 325. , 0), 90)
	set shenghuoling_1=bj_lastCreatedUnit
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
	call ZhuanQuan(shenghuoling_1 , u , 1. , 0.)
	set ling1zhuan=true
	call CreateNUnitsAtLoc(1, 'e013', GetOwningPlayer(u), pu(loc , 325. , 120.), 210)
	set shenghuoling_2=bj_lastCreatedUnit
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
	call ZhuanQuan(shenghuoling_2 , u , 1. , 0.)
	set ling2zhuan=true
	call CreateNUnitsAtLoc(1, 'e013', GetOwningPlayer(u), pu(loc , 325. , 240.), 330)
	set shenghuoling_3=bj_lastCreatedUnit
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
	call ZhuanQuan(shenghuoling_3 , u , 1. , 0.)
	set ling3zhuan=true
	set u=null
	set loc=null
endfunction
function IsRengShengHuo takes nothing returns boolean
	return GetSpellAbilityId() == 'A035'
endfunction
function RengShengHuoLing_Action takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, p, 0)
 local unit uc=LoadUnitHandle(YDHT, p, 1)
 local unit l__ut=LoadUnitHandle(YDHT, p, 2)
 local location loc=LoadLocationHandle(YDHT, p, 3)
 local real myX=GetLocationX(loc)
    local real myY=GetLocationY(loc)
    local real hisX=GetUnitX(uc)
    local real hisY=GetUnitY(uc)
    local location loc2=null
    local real dist=0.
    local real angle=0.
    local integer i=LoadInteger(YDHT, p, 4)
    local real perc=0.04
    local integer imax=25
    local real shxishu=1.
    local real shanghai=0
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I00D') then
	    set shxishu=shxishu * 2
  	endif
    set shanghai=ShangHaiGongShi(u , uc , 400 , 300 , shxishu , 'A035')
    if i <= imax then
        set hisX=GetUnitX(uc)
        set hisY=GetUnitY(uc)
    	set angle=Atan2(hisY - myY, hisX - myX)
    	set dist=SquareRoot(( hisX - myX ) * ( hisX - myX ) + ( hisY - myY ) * ( hisY - myY ))
        set loc2=Location(myX + perc * i * dist * Cos(angle), myY + perc * i * dist * Sin(angle))
        call SetUnitPositionLoc(l__ut, loc2)
        call SaveInteger(YDHT, p, 4, i + 1)
    else
        call WuGongShangHai(u , uc , shanghai)
        call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", uc, "overhead"))
        call PauseTimer(t)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, p)
        call KillUnit(l__ut)
        call RemoveUnit(l__ut)
        if GetUnitState(shenghuoling_1, UNIT_STATE_LIFE) < 1 and GetUnitState(shenghuoling_2, UNIT_STATE_LIFE) < 1 and GetUnitState(shenghuoling_3, UNIT_STATE_LIFE) < 1 then
        	call UnitRemoveAbility(u, 'A035')
			call UnitAddAbility(u, 'A034')
			call SetUnitAbilityLevel(u, 'A034', LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 'A034' * 5))
		endif
        call RemoveLocation(loc)
    endif
    call RemoveLocation(loc2)
    set t=null
    set u=null
    set uc=null
    set l__ut=null
    set loc=null
    set loc2=null
endfunction
function RengShengHuoLing takes nothing returns nothing
 local unit u=GetTriggerUnit()
    local unit uc=GetSpellTargetUnit()
    local location loc= null
    local timer t=CreateTimer()
    local integer p=GetHandleId(t)
    local unit l__ut=null
    if GetUnitState(shenghuoling_1, UNIT_STATE_LIFE) > 0 then
	    set l__ut=shenghuoling_1
	    set ling1zhuan=false
	elseif GetUnitState(shenghuoling_2, UNIT_STATE_LIFE) > 0 then
		set l__ut=shenghuoling_2
		set ling2zhuan=false
	else
		set l__ut=shenghuoling_3
		set ling3zhuan=false
	endif
	set loc=GetUnitLoc(l__ut)
    call SaveUnitHandle(YDHT, p, 0, u)
    call SaveUnitHandle(YDHT, p, 1, uc)
    call SaveUnitHandle(YDHT, p, 2, l__ut)
    call SaveLocationHandle(YDHT, p, 3, loc)
    call SaveInteger(YDHT, p, 4, 0)
    call TimerStart(t, 0.03, true, function RengShengHuoLing_Action)
    set u=null
    set uc=null
    set l__ut=null
    set loc=null
    set t=null
endfunction
//ä¹¾å¤å¤§æŒªç§» 25çº§æŠ€2
function IsQianKunTan takes nothing returns boolean
	return ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) ) and GetUnitAbilityLevel(GetTriggerUnit(), 'A07W') >= 2
endfunction
function QianKunTan_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and IsUnitAliveBJ(GetFilterUnit()) and GetUnitAbilityLevel(GetFilterUnit(), 'Avul') < 1
endfunction
function QianKunTan takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit uc= GetEventDamageSource()
 local unit l__ut= null
 local group g= CreateGroup()
 local location loc= GetUnitLoc(u)
 local real shanghai= GetEventDamage()
	if GetRandomInt(0, 100) < 10 + 5 * GetUnitAbilityLevel(u, 'A07W') then
		call WuDi(u)
		call GroupEnumUnitsInRangeOfLoc(g, loc, 1000, Condition(function QianKunTan_Condition))
		if g != null then
			set l__ut=GroupPickRandomUnit(g)
			call WuGongShangHai(u , l__ut , shanghai * 50 * GetUnitAbilityLevel(u, 'A07W'))
			call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", l__ut, "overhead"))
		endif
		call WuGongShengChong(u , 'A07W' , 8000)
	endif
	call RemoveLocation(loc)
	call DestroyGroup(g)
	set u=null
	set uc=null
	set l__ut=null
	set loc=null
	set g=null
endfunction
//äº‹ä»¶
function VIPMingJiao_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsYingZhao))
    call TriggerAddAction(t, function YingZhaoGong)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsYingZhaoZhuDong))
    call TriggerAddAction(t, function YingZhaoGongZhuDong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsFuYi))
    call TriggerAddAction(t, function FuYiZong)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsShiZi))
    call TriggerAddAction(t, function ShiZiHou)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsShengHuo))
    call TriggerAddAction(t, function ShengHuoLing)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsRengShengHuo))
    call TriggerAddAction(t, function RengShengHuoLing)
    set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function IsQianKunTan))
    call TriggerAddAction(t, function QianKunTan)
    set t=null
endfunction
//=================================================
//ç¥é¾™æ•™
//ç”·æ€§è§’è‰²ï¼šå­èƒ¥ä¸¾é¼A04Wã€é²è¾¾æ‹”æŸ³A04Zã€ç‹„é’é™é¾™A051
//å¥³æ€§è§’è‰²ï¼šè´µå¦ƒå›çœ¸A04Xã€é£ç‡•å›ç¿”A054ã€å°æ€œæ¨ªé™ˆA056
//å†…åŠŸï¼šç¥é¾™å…«å¼A057ã€ç¥é¾™å¿ƒæ³•A059
//=================================================
//å­èƒ¥ä¸¾é¼
function IsZiXuBeiDong takes nothing returns boolean
	return IsUnitEnemy(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) and GetUnitAbilityLevel(GetTriggerUnit(), 'A04W') >= 1
endfunction
function ZiXuBeiDong takes nothing returns nothing
 local integer i= GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1
	if GetRandomReal(1, 300) < 15 + fuyuan[i] / 5 then
		call maJiaUseAbilityAtEnemysLoc(GetTriggerUnit() , 'e000' , 'A04W' , $D0102 , GetAttacker() , 15.)
	endif
endfunction
function IsZiXuJuDing takes nothing returns boolean
	return ( ( GetEventDamage() == .95 ) )
endfunction
function ZiXuJuDing takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    if ( ( GetUnitAbilityLevel(u, 'A06L') != 0 ) ) then //åŠ åŒ–éª¨ç»µæŒ
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A03N') != 0 ) ) then //åŠ ç¥è¡Œç™¾å˜
        set shxishu=shxishu + .7
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 24 , 40 , shxishu , 'A04W')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetUnitAbilityLevel(u, 'A06J') != 0 ) and ( GetRandomInt(1, 100) <= 30 ) and ( UnitHasBuffBJ(uc, 1111844210) == false ) ) then //åŠ è¿åŸèµ°ç«å…¥é­”
call WanBuff(u , uc , 2)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A04V') != 0 ) and ( GetRandomInt(1, 100) <= 30 ) and ( UnitHasBuffBJ(uc, 1110454323) == false ) ) then //åŠ å¤«å¦»ç¥ç»é”™ä¹±
call WanBuff(u , uc , 10)
    endif
    if ( GetUnitAbilityLevel(u, 'S002') != 0 ) and ( GetRandomInt(1, 100) <= 25 ) and IsUnitAliveBJ(uc) then //åŠ é¾™è±¡å‡ ç‡è¿ç¯çˆ†è£‚
call YDWEPolledWaitNull(0.15)
	    call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	    call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A04W')
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0102, uc)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
    endif
    call RemoveLocation(loc)
    call WuGongShengChong(u , 'A04W' , 2400.)
    call WuGongShengChong(u , 'A059' , 2500.)
    set u=null
    set uc=null
    set loc=null
endfunction
//å°æ€œæ¨ªé™ˆ
function IsXiaoLianHengChen takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A056') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function XiaoLian_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function XiaoLian_Action takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local unit u=GetAttacker()
 local real x=GetUnitX(uc)
 local real y=GetUnitY(uc)
 local location loc= GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then //åŠ ä¹é˜´
        set shxishu=shxishu + .7
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    // æ•™ä¸»å¤«äººåŠ æˆ
    if isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 33) then
        set shxishu=shxishu * 2
    endif
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", x, y))
	set shanghai=ShangHaiGongShi(u , uc , 8 , 11 , shxishu , 'A056')
	if GetUnitAbilityLevel(u, 'A059') != 0 and GetRandomReal(1, 100) <= 30 then //åŠ ç¥é¾™å¿ƒæ³•
// å°ç©´åŠ å˜ç¾Š
call WanBuff(u , uc , 11) //å°ç©´
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	    call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A05A')
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0216, uc)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	endif
	
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set loc=null
	set u=null
	set uc=null
endfunction
function XiaoLianHengChen takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc1=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	if ( GetRandomReal(.0, 100.) <= 30. + fuyuan[i] / 3 + GetUnitAbilityLevel(u, 'A056') * 4 ) then
		//åŠ çˆªå­åŠ èŒƒå›´
	    call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(800 + 100 * ( GetUnitAbilityLevel(u, 'A07N') ) , loc1 , Condition(function XiaoLian_Condition)), function XiaoLian_Action)
	    // call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500+500*(GetUnitAbilityLevel(u,'A07U')),loc1,Condition(function XiaoLian_Condition)),function XiaoLian_Action)
	    call WuGongShengChong(u , 'A056' , 900.)
	    call WuGongShengChong(u , 'A059' , 2500.)
	    if ( ( GetUnitAbilityLevel(u, 'A07U') != 0 ) ) then //åŠ åŒæ‰‹å›å¤20%å†…åŠŸ
		    call SetUnitState(u, UNIT_STATE_MANA, ( GetUnitState(u, UNIT_STATE_MANA) + ( .2 * GetUnitState(u, UNIT_STATE_MAX_MANA) ) ))
		endif
	endif
	call RemoveLocation(loc1)
	call RemoveLocation(loc2)
	set u=null
	set uc=null
	set loc1=null
	set loc2=null
endfunction
//è´µå¦ƒå›çœ¸
function IsGuiFeiHuiMou takes nothing returns boolean
	return GetSpellAbilityId() == 'A04X'
endfunction
function XiaoLian_Condition_1 takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetEventDamageSource())) and ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction
function XiaoLian_Action_1 takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
 local real x=GetUnitX(uc)
 local real y=GetUnitY(uc)
 local location loc= GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0.
	call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl", x, y))
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then //åŠ ä¹é˜´
        set shxishu=shxishu + .7
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    // æ•™ä¸»å¤«äººåŠ æˆ
    if isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 33) then
        set shxishu=shxishu * 2
    endif
	set shanghai=ShangHaiGongShi(u , uc , 8 , 11 , shxishu , 'A056')
	if GetUnitAbilityLevel(u, 'A059') != 0 and GetRandomReal(1, 100) <= 30 then //åŠ ç¥é¾™å¿ƒæ³•
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	    call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A05A')
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0216, uc)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	endif
	
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set loc=null
	set u=null
	set uc=null
endfunction
function GuiFeiHuiMou takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit l__ut= GetSpellTargetUnit()
 local player p= GetOwningPlayer(u)
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
    call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A04Y')
    call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, l__ut)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
    call RemoveLocation(loc)
    set loc=null
    set u=null
    set l__ut=null
    set p=null
endfunction
function IsGuiFeiHuiMouSH takes nothing returns boolean
	return ( ( GetEventDamage() == .96 ) )
endfunction
function GuiFeiHuiMouSH takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local location loc=GetUnitLoc(uc)
    local location loc2= GetUnitLoc(u)
    local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
    local real shxishu= RMinBJ(DistanceBetweenPoints(loc, loc2) / 500, 4)
    local real shanghai=0.
    call WuGongShengChong(u , 'A04X' , 500.)
    call WuGongShengChong(u , 'A059' , 2500.)
    // åŠ å¼¹æŒ‡æ¦‚ç‡ç©´ä½å…¨å°
    if ( GetUnitAbilityLevel(u, 'A06H') != 0 ) and GetRandomInt(1, 100) <= 40 + GetUnitAbilityLevel(u, 'A07N') * 4 then
        call WanBuff(u , uc , 12)
    endif
    if ( GetUnitAbilityLevel(u, 'A03V') != 0 ) then //åŠ æ“’é¾™
set shxishu=RMinBJ(DistanceBetweenPoints(loc, loc2) / 300, 10)
    endif
    if ( GetUnitAbilityLevel(u, 'A07S') != 0 ) then //åŠ ä¹é˜´çœŸç»
set shxishu=shxishu + 1
    endif
    // if (GetUnitAbilityLevel(u,'A083')!=0) then //åŠ å°æ— ç›¸
	//     set shxishu= shxishu + 1.2
    // endif
	if ( GetUnitAbilityLevel(u, 'A056') != 0 ) and ( GetRandomReal(.0, 100.) <= 30. + fuyuan[i] / 3 + GetUnitAbilityLevel(u, 'A04X') * 5 ) then //åŠ å°æ€œæ¨ªé™ˆ
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(800 + 100 * ( GetUnitAbilityLevel(u, 'A07N') ) , loc , Condition(function XiaoLian_Condition_1)), function XiaoLian_Action_1)
	    call WuGongShengChong(u , 'A056' , 900.)
	    call WuGongShengChong(u , 'A059' , 2500.)
	    if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) ) then //åŠ ä¹çˆª
		    call SetUnitState(u, UNIT_STATE_MANA, ( GetUnitState(u, UNIT_STATE_MANA) + ( .2 * GetUnitState(u, UNIT_STATE_MAX_MANA) ) ))
		endif
	endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , uc , 80 , 90 , shxishu , 'A04X')
    call WuGongShangHai(u , uc , shanghai)
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    set u=null
    set uc=null
    set loc=null
	set loc2=null
endfunction
//é²è¾¾æ‹”æŸ³
function IsLuDaBaLiu takes nothing returns boolean
	return UnitHasBuffBJ(GetAttacker(), 'B016') and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))
endfunction
function LuDaBaLiuYun takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit l__ut= LoadUnitHandle(YDHT, GetHandleId(t), 1)
	if ( ( GetUnitAbilityLevel(u, 'A06L') != 0 ) ) then //åŠ åŒ–éª¨ç©´ä½å…¨å°
		call WanBuff(u , l__ut , 12)
	else
		call WanBuff(u , l__ut , 11)
	endif
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call DestroyTimer(t)
	set t=null
	set u=null
	set l__ut=null
endfunction
function LuDaBaLiu takes nothing returns nothing
 local unit u=GetAttacker()
 local unit l__ut=GetTriggerUnit()
 local timer t=CreateTimer()
 local real shxishu= 1
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A057') != 0 ) ) then //åŠ ç¥é¾™å…«å¼
        set shxishu=shxishu + .6
    endif
    if ( ( GetUnitAbilityLevel(u, 'A0CE') != 0 ) ) then //åŠ é¾Ÿæ¯åŠŸ
        set shxishu=shxishu + 1.
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , l__ut , 80 , 100 , shxishu , 'A04Z')
    call WuGongShangHai(u , l__ut , shanghai)
    call WuGongShengChong(u , 'A04Z' , 200.)
    call WuGongShengChong(u , 'A059' , 2500.)
    if GetUnitAbilityLevel(u, 'A082') >= 1 or ( GetUnitAbilityLevel(u, 'A06J') >= 1 and GetRandomInt(1, 100) <= 30 ) then //åŠ åŒ—å†¥æˆ–è¿åŸå‡ ç‡ï¼ŒBUFFä¸æ¶ˆå¤±
else
		call UnitRemoveBuffBJ('B016', u)
	endif
	call YDWEJumpTimer(l__ut , 0 , 0.00 , 1.00 , 0.01 , 500.00)
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call SaveUnitHandle(YDHT, GetHandleId(t), 1, l__ut)
	call TimerStart(t, 1., false, function LuDaBaLiuYun)
	set u=null
	set l__ut=null
	set t=null
endfunction
//ç‹„é’é™é¾™
function IsDiQingXiangLong takes nothing returns boolean
	return GetSpellAbilityId() == 'A051'
endfunction
function DiQingXiangLongCai takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
    call ShowUnitHide(bj_lastCreatedUnit)
    call UnitAddAbility(bj_lastCreatedUnit, 'A050')
    call IssueImmediateOrderById(bj_lastCreatedUnit, $D0080)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
    call FlushChildHashtable(YDHT, GetHandleId(t))
	call DestroyTimer(t)
	set t=null
	set u=null
	set ut=null
	set loc=null
endfunction
function DiQingXiaoWu takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer i= LoadInteger(YDHT, GetHandleId(t), 0)
	set udg_shanghaixishou[i]=udg_shanghaixishou[i] - .1
    call FlushChildHashtable(YDHT, GetHandleId(t))
	call DestroyTimer(t)
	set t=null
endfunction
function DiQingXiangLong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit l__ut= GetSpellTargetUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
 local location loc2= GetUnitLoc(l__ut)
 local timer t=CreateTimer()
 local timer tm=CreateTimer()
    local integer beishu= 1
local integer gailv= 10
call WuGongShengChong(u , 'A051' , 150.)
	call WuGongShengChong(u , 'A059' , 2500.)
    // ä¸“å±åŠ æˆ,5å€å·æœ¨åŠ å†…åŠ›
	if UnitHaveItem(u , 'I0DZ') then
	    set beishu=beishu * 5
        set gailv=gailv + 40
    endif
    // ç¥é¾™æ•™ä¸»åŠ æˆ
    if isTitle(i , 32) then
        set beishu=beishu * 2
        set gailv=gailv + 10
    endif
	if GetUnitAbilityLevel(u, 'A03O') != 0 and GetRandomInt(1, 100) <= gailv + GetUnitLevel(l__ut) / 2 then //å¦™æ‰‹ç©ºç©ºå·çç¨€å¸
call AdjustPlayerStateBJ(beishu * GetRandomInt(1, 5), GetOwningPlayer(u), PLAYER_STATE_RESOURCE_LUMBER)
	endif
	if GetUnitAbilityLevel(u, 'A07R') != 0 and GetRandomInt(1, 100) <= gailv + GetUnitLevel(l__ut) / 2 then //å¸æ˜Ÿå¤§æ³•åŠ å†…åŠ›
call ModifyHeroStat(1, u, 0, beishu * GetRandomInt(1, 10))
	endif
	if GetUnitAbilityLevel(u, 'A083') != 0 and GetRandomInt(1, 100) <= gailv + GetUnitLevel(l__ut) / 2 then //å°æ— ç›¸åŠ ä¼¤å®³å¸æ”¶
set udg_shanghaixishou[i]=udg_shanghaixishou[i] + .1
		call SaveInteger(YDHT, GetHandleId(tm), 0, i)
		call TimerStart(tm, 15, false, function DiQingXiaoWu)
	endif
	call YDWEJumpTimer(u , AngleBetweenPoints(loc, loc2) , DistanceBetweenPoints(loc, loc2) , 0.70 , 0.02 , 500.00)
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call TimerStart(t, 0.7, false, function DiQingXiangLongCai)
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    set loc=null
    set loc2=null
    set u=null
    set l__ut=null
    set p=null
    set t=null
    set tm=null
endfunction
function IsDiQingXiangLongSH takes nothing returns boolean
	return ( ( GetEventDamage() == .97 ) )
endfunction
function DiQingXiangLongSH takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit l__ut=GetTriggerUnit()
    local real shxishu= 1
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) ) then //åŠ ä¸ƒä¼¤æ‹³
	    call WanBuff(u , l__ut , GetRandomInt(1, 13))
	else
		call WanBuff(u , l__ut , 9)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A03T') != 0 ) ) then //åŠ é¡»å¼¥å±±æŒ
        set shxishu=shxishu + 1.2
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , l__ut , 100 , 140 , shxishu , 'A051')
    call WuGongShangHai(u , l__ut , shanghai)
    set u=null
    set l__ut=null
endfunction
//é£ç‡•å›ç¿”
function IsFeiYanHuiXiang takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A054' ) )
endfunction
function isBirdEnemy takes nothing returns boolean
    return IsUnitAliveBJ(GetFilterUnit()) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 13)))
endfunction
function birdDamage takes unit u,unit l__ut returns nothing
 local real shxishu= 1
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then //åŠ ä¹é˜´çœŸç»
        set shxishu=shxishu + .7
    endif
    if ( ( GetUnitAbilityLevel(u, 'A083') != 0 ) ) then //åŠ å°æ— ç›¸åŠŸ
        set shxishu=shxishu + 1.3
    endif
    if ( ( GetUnitAbilityLevel(u, 'A059') != 0 ) ) then //åŠ ç¥é¾™å¿ƒæ³•ï¼Œç ´é˜²
        call WanBuff(u , l__ut , 9)
    endif
    if ( ( GetUnitAbilityLevel(u, 'A057') != 0 ) ) then //åŠ ç¥é¾™å…«å¼
        set shxishu=shxishu + 2.0
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    // æ•™ä¸»å¤«äººåŠ æˆ
    if isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 33) then
        set shxishu=shxishu * 2
    endif
    set shanghai=ShangHaiGongShi(u , l__ut , 15 , 10 , shxishu , 'A054')
    call WuGongShangHai(u , l__ut , shanghai)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", GetEnumUnit(), "overhead"))
endfunction
function leftBirdDamage takes nothing returns nothing
    call birdDamage(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 9) , GetEnumUnit())
endfunction
function rightBirdDamage takes nothing returns nothing
    call birdDamage(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 10) , GetEnumUnit())
endfunction
function birdFlying takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local real array x
    local real array y
    local real comp= LoadReal(YDHT, GetHandleId(t), 8)
    local unit left= LoadUnitHandle(YDHT, GetHandleId(t), 9)
    local unit right= LoadUnitHandle(YDHT, GetHandleId(t), 10)
    local group leftGroup= CreateGroup()
    local group rightGroup= CreateGroup()
    local real a= LoadReal(YDHT, GetHandleId(t), 11)
    local real b= 1 - a
    local boolean front= LoadBoolean(YDHT, GetHandleId(t), 12)
    local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 13)
    set x[0]=LoadReal(YDHT, GetHandleId(t), 0)
    set x[1]=LoadReal(YDHT, GetHandleId(t), 1)
    set x[2]=LoadReal(YDHT, GetHandleId(t), 2)
    set x[3]=LoadReal(YDHT, GetHandleId(t), 3)
    set y[0]=LoadReal(YDHT, GetHandleId(t), 4)
    set y[1]=LoadReal(YDHT, GetHandleId(t), 5)
    set y[2]=LoadReal(YDHT, GetHandleId(t), 6)
    set y[3]=LoadReal(YDHT, GetHandleId(t), 7)
    call SetUnitX(left, x[0] * a * a + x[2] * 2 * a * b + x[1] * b * b)
    call SetUnitY(left, y[0] * a * a + y[2] * 2 * a * b + y[1] * b * b)
    call SetUnitX(right, x[0] * a * a + x[3] * 2 * a * b + x[1] * b * b)
    call SetUnitY(right, y[0] * a * a + y[3] * 2 * a * b + y[1] * b * b)
    if GetUnitX(left) > GetRectMaxX(bj_mapInitialPlayableArea) - 50 then
        call SetUnitX(left, GetRectMaxX(bj_mapInitialPlayableArea) - 50)
    endif
    if GetUnitX(left) < GetRectMinX(bj_mapInitialPlayableArea) + 50 then
        call SetUnitX(left, GetRectMinX(bj_mapInitialPlayableArea) + 50)
    endif
    if GetUnitY(left) > GetRectMaxY(bj_mapInitialPlayableArea) - 50 then
        call SetUnitY(left, GetRectMaxY(bj_mapInitialPlayableArea) - 50)
    endif
    if GetUnitY(left) < GetRectMinY(bj_mapInitialPlayableArea) + 50 then
        call SetUnitY(left, GetRectMinY(bj_mapInitialPlayableArea) + 50)
    endif
    if GetUnitX(right) > GetRectMaxX(bj_mapInitialPlayableArea) - 50 then
        call SetUnitX(right, GetRectMaxX(bj_mapInitialPlayableArea) - 50)
    endif
    if GetUnitX(right) < GetRectMinX(bj_mapInitialPlayableArea) + 50 then
        call SetUnitX(right, GetRectMinX(bj_mapInitialPlayableArea) + 50)
    endif
    if GetUnitY(right) > GetRectMaxY(bj_mapInitialPlayableArea) - 50 then
        call SetUnitY(right, GetRectMaxY(bj_mapInitialPlayableArea) - 50)
    endif
    if GetUnitY(right) < GetRectMinY(bj_mapInitialPlayableArea) + 50 then
        call SetUnitY(right, GetRectMinY(bj_mapInitialPlayableArea) + 50)
    endif
    call GroupEnumUnitsInRange(leftGroup, GetUnitX(left), GetUnitY(left), 115, Condition(function isBirdEnemy))
    call GroupEnumUnitsInRange(rightGroup, GetUnitX(right), GetUnitY(right), 115, Condition(function isBirdEnemy))
    call ForGroup(leftGroup, function leftBirdDamage)
    call ForGroup(leftGroup, function rightBirdDamage)
    call DestroyGroup(leftGroup)
    call DestroyGroup(rightGroup)
    if front then
        set a=a - 0.05
        call SaveReal(YDHT, GetHandleId(t), 11, a)
    else
        set x[0]=GetUnitX(u)
        set y[0]=GetUnitY(u)
        set a=a + 0.05
        call SaveReal(YDHT, GetHandleId(t), 11, a)
        call SaveReal(YDHT, GetHandleId(t), 0, x[0])
        call SaveReal(YDHT, GetHandleId(t), 4, y[0])
        set comp=Atan2(y[1] - y[0], x[1] - x[0])
        call SaveReal(YDHT, GetHandleId(t), 8, comp)
    endif
    if ( a <= 0 and front ) then
        set front=false
        call SaveBoolean(YDHT, GetHandleId(t), 12, front)
        set x[2]=x[0] + 300 * Cos(comp - 45)
        set y[2]=y[0] + 300 * Sin(comp - 45)
        set x[3]=x[0] + 300 * Cos(comp + 45)
        set y[3]=y[0] + 300 * Sin(comp + 45)
        call SaveReal(YDHT, GetHandleId(t), 2, x[2])
        call SaveReal(YDHT, GetHandleId(t), 3, x[3])
        call SaveReal(YDHT, GetHandleId(t), 6, y[2])
        call SaveReal(YDHT, GetHandleId(t), 7, y[3])
    endif
    if ( a >= 1 and not front ) then
        call RemoveUnit(left)
        call RemoveUnit(right)
        call DestroyTimer(t)
    endif
    set t=null
    set left=null
    set right=null
    set leftGroup=null
    set rightGroup=null
    set u=null
endfunction
function FeiYanHuiXiang takes nothing returns nothing
    local timer t= CreateTimer()
    local real array x
    local real array y
    local real comp
    local unit u= GetTriggerUnit()
    local unit left
    local unit right
    call WuGongShengChong(u , 'A054' , 300.)
    call WuGongShengChong(u , 'A059' , 1500.)
    set x[0]=GetUnitX(u)
    set y[0]=GetUnitY(u)
    set x[1]=GetSpellTargetX()
    set y[1]=GetSpellTargetY()
    set comp=Atan2(y[1] - y[0], x[1] - x[0])
    set x[2]=x[0] + 300 * Cos(comp + 45)
    set y[2]=y[0] + 300 * Sin(comp + 45)
    set x[3]=x[0] + 300 * Cos(comp - 45)
    set y[3]=y[0] + 300 * Sin(comp - 45)
    set left=CreateUnit(GetTriggerPlayer(), 'h00L', x[0], y[0], 270)
    set right=CreateUnit(GetTriggerPlayer(), 'h00L', x[0], y[0], 270)
    // ä¸‹æ ‡0æ˜¯å•ä½æ‰€åœ¨ä½ç½®ï¼Œ1æ˜¯ç›®æ ‡ä½ç½®ï¼Œ2æ˜¯å·¦é¸Ÿä½ç½®ï¼Œ3æ˜¯å³é¸Ÿä½ç½®
    call SaveReal(YDHT, GetHandleId(t), 0, x[0])
    call SaveReal(YDHT, GetHandleId(t), 1, x[1])
    call SaveReal(YDHT, GetHandleId(t), 2, x[2])
    call SaveReal(YDHT, GetHandleId(t), 3, x[3])
    call SaveReal(YDHT, GetHandleId(t), 4, y[0])
    call SaveReal(YDHT, GetHandleId(t), 5, y[1])
    call SaveReal(YDHT, GetHandleId(t), 6, y[2])
    call SaveReal(YDHT, GetHandleId(t), 7, y[3])
    call SaveReal(YDHT, GetHandleId(t), 8, comp)
    call SaveUnitHandle(YDHT, GetHandleId(t), 9, left)
    call SaveUnitHandle(YDHT, GetHandleId(t), 10, right)
    call SaveReal(YDHT, GetHandleId(t), 11, 1)
    call SaveBoolean(YDHT, GetHandleId(t), 12, true)
    call SaveUnitHandle(YDHT, GetHandleId(t), 13, u)
    call TimerStart(t, 0.025, true, function birdFlying)
    set t=null
    set u=null
    set left=null
    set right=null
endfunction
//ç¥é¾™å…«å¼
function Trig_ciZhenSaoSheConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A057' ) )
endfunction
function Trig_ciZhenSaoSheFunc007Func001Func002Func007T takes nothing returns nothing
 local unit u= LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0)
    if LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000) > 0 then
	    call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000, LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000) - 1)
	    //call BJDebugMsg(I2S(LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000)))
    endif
    call DestroyTimer(GetExpiredTimer())
    set u=null
endfunction
function Trig_ciZhenSaoSheFunc007Conditions takes nothing returns boolean
 local timer ydl_timer
 local unit u= LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()), 0)
 local unit l__ut= GetTriggerUnit()
 local integer i= LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000)
 local real shxishu=1.
 local real shanghai=0.
    
    if ( ( EVENT_UNIT_DAMAGED == GetTriggerEventId() ) == false ) then
	    //call BJDebugMsg("123")
	    call FlushChildHashtable(YDHT, GetHandleId(GetTriggeringTrigger()))
        call DestroyTrigger(GetTriggeringTrigger())
        call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000, 0)
    else
        if ( GetEventDamage() == .98 ) and GetEventDamageSource() == u then
	        //call BJDebugMsg("456")
	        set shxishu=1 + I2R(i) * 0.1
	        set shanghai=ShangHaiGongShi(u , l__ut , 15 , 18 , shxishu , 'A057')
			call WuGongShangHai(u , l__ut , shanghai)
			if ( ( GetUnitAbilityLevel(u, 'A03L') != 0 ) ) then //åŠ å¯’å†°çœŸæ°”æ˜è¿·
	   			call WanBuff(u , l__ut , 5)
   			endif
   			if ( ( GetUnitAbilityLevel(u, 'A07W') != 0 ) ) then //åŠ ä¹¾å¤
    		    set shxishu=shxishu + .6
    		endif
    		if ( ( GetUnitAbilityLevel(u, 'A07R') != 0 ) ) then //åŠ å¸æ˜Ÿ
    		    set shxishu=shxishu + .7
    		endif
    		if ( ( GetUnitAbilityLevel(u, 'A084') != 0 ) ) then //åŠ è›¤èŸ†
    		    set shxishu=shxishu + 1.2
    		endif
			call SaveInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000, i + 1)
            set ydl_timer=CreateTimer()
            call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0, u)
            call TimerStart(ydl_timer, 14.00, false, function Trig_ciZhenSaoSheFunc007Func001Func002Func007T)
        endif
    endif
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0DZ') then
	    set shxishu=shxishu * 2
    endif
    // ç¥é¾™æ•™ä¸»åŠ æˆ
    if isTitle(i , 32) then
        set shxishu=shxishu * 2
    endif
    // æ•™ä¸»å¤«äººåŠ æˆ
    if isTitle(i , 33) then
        set shxishu=shxishu * 2
    endif
    set ydl_timer=null
    set u=null
    set l__ut=null
    return false
endfunction
function Trig_ciZhenSaoSheActions takes nothing returns nothing
    local trigger ydl_trigger
    local unit u= GetTriggerUnit()
     call WuGongShengChong(u , 'A057' , 900.)
    if LoadInteger(YDHT, GetHandleId(GetOwningPlayer(u)), 20000) <= 0 then
    	set ydl_trigger=CreateTrigger()
    	call SaveUnitHandle(YDHT, GetHandleId(ydl_trigger), 0, GetTriggerUnit())
    	call Ov(ydl_trigger)
    	call TriggerRegisterTimerEventSingle(ydl_trigger, 30.00)
    	call TriggerAddCondition(ydl_trigger, Condition(function Trig_ciZhenSaoSheFunc007Conditions))
	endif
    set ydl_trigger=null
    set u=null
endfunction
//function IsShenLongBaShiSH takes nothing returns boolean
//	return((GetEventDamage()==.98))
//endfunction
//function ShenLongBaShiSH takes nothing returns nothing
//	local unit u=udg_hero[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]
//    local unit ut=GetTriggerUnit()
//    local real shxishu= 1
//    local real shanghai=0.
//    set shanghai=ShangHaiGongShi(u,ut,7.2,8.9,shxishu,'A057')
//    call WuGongShangHai(u,ut,shanghai)
//    set u=null
//    set ut=null
//endfunction
function ShenLong_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	//å­èƒ¥ä¸¾é¼
	call Ov(t)
	call TriggerAddCondition(t, Condition(function IsZiXuJuDing))
    call TriggerAddAction(t, function ZiXuJuDing)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function IsZiXuBeiDong))
    call TriggerAddAction(t, function ZiXuBeiDong)
    //è´µå¦ƒå›çœ¸
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IsGuiFeiHuiMou))
    call TriggerAddAction(t, function GuiFeiHuiMou)
    set t=CreateTrigger()
    call Ov(t)
	call TriggerAddCondition(t, Condition(function IsGuiFeiHuiMouSH))
    call TriggerAddAction(t, function GuiFeiHuiMouSH)
    //é²è¾¾æ‹”æŸ³
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function IsLuDaBaLiu))
    call TriggerAddAction(t, function LuDaBaLiu)
    //ç‹„é’é™é¾™
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IsDiQingXiangLong))
    call TriggerAddAction(t, function DiQingXiangLong)
    set t=CreateTrigger()
    call Ov(t)
	call TriggerAddCondition(t, Condition(function IsDiQingXiangLongSH))
    call TriggerAddAction(t, function DiQingXiangLongSH)
    //é£ç‡•å›ç¿”
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IsFeiYanHuiXiang))
    call TriggerAddAction(t, function FeiYanHuiXiang)
	//å°æ€œæ¨ªé™ˆ
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function IsXiaoLianHengChen))
    call TriggerAddAction(t, function XiaoLianHengChen)
    //ç¥é¾™å…«å¼
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Trig_ciZhenSaoSheConditions))
    call TriggerAddAction(t, function Trig_ciZhenSaoSheActions)
 //    set t= CreateTrigger()
 //   call Ov(t)
	//call TriggerAddCondition(t,Condition(function IsShenLongBaShiSH))
 //   call TriggerAddAction(t,function ShenLongBaShiSH)
    //ç¥é¾™å¿ƒæ³•
    set t=null
endfunction
//å…¨çœŸå‰‘æ³• 3çº§æŠ€
function IsQuanZhen takes nothing returns boolean
	return ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) and GetUnitAbilityLevel(GetAttacker(), 'A0CF') >= 1
endfunction
function QuanZhen_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function QuanZhen_Action takes nothing returns nothing
    local unit u=GetAttacker()
    local unit uc=GetEnumUnit()
    local real shxishu=1.
    local real shanghai=0.
    local integer i=1 + GetPlayerId(GetOwningPlayer(u))
    local location loc=GetUnitLoc(u)
    local location loc2=GetUnitLoc(uc)
    set shxishu=1 + jingmai[i] / 20
    if UnitHaveItem(u , 'I0DP') then
		set shxishu=shxishu * 2
	endif
    // set shanghai=ShangHaiGongShi(u,uc,12.,21.,shxishu,'A0CF')
    set shanghai=ShangHaiGongShi(u , uc , 44. , 50. , shxishu , 'A0CF')
    call WuGongShangHai(u , uc , shanghai)
    call DestroyEffect(AddSpecialEffectTarget("Units\\NightElf\\Wisp\\WispExplode.mdl", uc, "overhead"))
    if GetUnitAbilityLevel(u, 'A07S') >= 1 and GetRandomReal(1., 100) <= 20 then
	    call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 1093678412)
        call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call ShowUnitHide(bj_lastCreatedUnit)
        call CreateTextTagLocBJ("å°ç©´", loc2, 0, 12., 65., 55., 42., 0)
        call Nw(3. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
    if GetUnitAbilityLevel(u, 'A07V') >= 1 then
	    call SetWidgetLife(u, GetUnitState(u, UNIT_STATE_LIFE) + GetUnitAbilityLevel(u, 'A0CF') * yishu[i] * 20)
    endif
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    set loc2=null
    set loc=null
    set u=null
    set uc=null
endfunction
function QuanZhenJian takes nothing returns nothing
    local unit uc=GetTriggerUnit()
    local unit u=GetAttacker()
    local player p=GetOwningPlayer(u)
    local integer i=1 + GetPlayerId(p)
    local location loc=GetUnitLoc(u)
    local group g=CreateGroup()
    local real chance=fuyuan[i]
    if GetUnitAbilityLevel(u, 'A07W') >= 1 then
	    set chance=chance * 4
    endif
    if GetRandomReal(0, 100) <= 20 + chance / 5 then
        call WuGongShengChong(u , 'A0CF' , 1100.)
        if danpo[i] >= 15 then
	        call GroupEnumUnitsInRangeOfLoc(g, loc, RMinBJ(danpo[i] * 20, 3000), Condition(function QuanZhen_Condition))
	    else
	        call GroupAddUnit(g, uc)
        endif
            call ForGroupBJ(g, function QuanZhen_Action)
        call GroupClear(g)
        call DestroyGroup(g)
        call RemoveLocation(loc)
    endif
    set g=null
    set loc=null
    set p=null
    set u=null
    set uc=null
endfunction
//æ˜Šå¤©æŒ 15çº§æŠ€
function IsXianTianYiYang takes nothing returns boolean
    return GetSpellAbilityId() == 'A0CM' and ( IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) or GetSpellTargetUnit() == GetTriggerUnit() )
endfunction
function XianTianYiYang_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function XianTianYiYang_Action takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local unit uc=GetEnumUnit()
    local unit l__ut=null
    local location loc1=GetUnitLoc(u)
    local location loc2=GetUnitLoc(uc)
    local real shxishu=1.
    local real shanghai=0.
    local integer level=0
    local integer i=1 + GetPlayerId(GetOwningPlayer(u))
    call CreateNUnitsAtLoc(1, 'e00X', GetOwningPlayer(u), loc1, bj_UNIT_FACING)
    set l__ut=bj_lastCreatedUnit
    call UnitAddAbility(l__ut, 'A0DJ')
    call IssueTargetOrderById(l__ut, $D0097, uc)
    call UnitApplyTimedLife(l__ut, 1112045413, 2.)
    call ShowUnitHide(l__ut)
    if GetUnitAbilityLevel(u, 'A0DE') >= 1 then
	    set shxishu=shxishu * 2
    endif
    if GetUnitAbilityLevel(u, 'A07U') >= 1 then
	    set shxishu=shxishu / 2
    endif
    if UnitHaveItem(u , 'I0DP') then
		set shxishu=shxishu * 2
	endif
    set shanghai=ShangHaiGongShi(u , uc , 250 , 700 , shxishu , 'A0CM')
    call WuGongShangHai(u , uc , shanghai)
    if GetUnitAbilityLevel(u, 'A06P') >= 1 and GetRandomReal(1., 200) <= fuyuan[i] then
	    //call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+80)
	    set level=GetUnitAbilityLevel(u, 'A06P')
	    //call UnitRemoveAbility(u,'A06P')
	    //call UnitAddAbility(u,'A06P')
	    //call SetUnitAbilityLevel(u,'A06P',level)
	    call IssuePointOrderByIdLoc(u, $D009D, loc2)
	    call UnitRemoveAbility(u, 'A06P')
	    call UnitAddAbility(u, 'A06P')
	    call SetUnitAbilityLevel(u, 'A06P', level)
    endif
    if fuyuan[i] >= 20 and jingmai[i] >= 20 and GetRandomReal(1., 200) <= fuyuan[i] then
	    set level=GetUnitAbilityLevel(u, 'A0CM')
	    call UnitRemoveAbility(u, 'A0CM')
	    call UnitAddAbility(u, 'A0CM')
	    call SetUnitAbilityLevel(u, 'A0CM', level)
    endif
    if GetUnitAbilityLevel(u, 'A07V') >= 1 then
        call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 1093678903)
        call IssueTargetOrderById(bj_lastCreatedUnit, $D008F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call CreateTextTagLocBJ("å†…ä¼¤", loc2, 60., 12., 65., 55., 42., 0)
        call Nw(3. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
    call RemoveLocation(loc1)
    call RemoveLocation(loc2)
    set u=null
    set uc=null
    set l__ut=null
    set loc1=null
    set loc2=null
endfunction
function XianTianYiYang takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local unit uc=GetSpellTargetUnit()
    local location loc=GetUnitLoc(uc)
    local group g=CreateGroup()
    call WuGongShengChong(u , 'A0CM' , 250)
    if u == uc then
	    call SetWidgetLife(u, 1.)
	    call WuGongShangHai(u , u , 299999)
    endif
    if GetUnitAbilityLevel(u, 'A07U') >= 1 then
	    call GroupEnumUnitsInRangeOfLoc(g, loc, 500, Condition(function XianTianYiYang_Condition))
	else
	    call GroupAddUnit(g, uc)
    endif
    call ForGroupBJ(g, function XianTianYiYang_Action)
    call GroupClear(g)
    call DestroyGroup(g)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
    set g=null
endfunction
//é‡‘é›åŠŸ 8çº§æŠ€
function IsJinYanKai takes nothing returns boolean
    return GetIssuedOrderId() == $D00D1 and GetUnitAbilityLevel(GetTriggerUnit(), 'A0DA') >= 1
endfunction
//æ²¡è“è‡ªåŠ¨å…³é—­é‡‘é›åŠŸ
function JinYanMeiLan takes nothing returns nothing
    local timer t=GetExpiredTimer()
    local unit u=LoadUnitHandle(YDHT, GetHandleId(t), 0)
    if UnitHasBuffBJ(u, 'B00W') == false then
	    call UnitRemoveAbility(u, 'A0DB')
        call UnitRemoveAbility(u, 'A0DC')
        call UnitRemoveAbility(u, 'Aspb')
        call FlushChildHashtable(YDHT, GetHandleId(t))
        call PauseTimer(t)
        call DestroyTimer(t)
    endif
    set u=null
    set t=null
endfunction
//å¼€å¯é‡‘é›åŠŸ
function JinYanKai takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local integer level=GetUnitAbilityLevel(u, 'A0DA')
    local integer attackSpeedLevel= level
    local timer t=CreateTimer()
    call UnitAddAbility(u, 'A0DB')
    call UnitAddAbility(u, 'A0DC')
    call UnitAddAbilityBJ('Aspb', u)
    call SetPlayerAbilityAvailableBJ(false, 'Aspb', GetOwningPlayer(u))
    // æ­é…è‘µèŠ±æ”»é€Ÿ+1çº§
    if GetUnitAbilityLevel(u, 'A07T') >= 1 then
        set attackSpeedLevel=attackSpeedLevel + 1
    endif
    // ä¸ƒæ˜Ÿé“è¢ï¼Œæ”»é€Ÿ+1çº§
    if UnitHaveItem(u , 'I0DP') then
        set attackSpeedLevel=attackSpeedLevel + 1
    endif
    call SetUnitAbilityLevel(u, 'A0DB', attackSpeedLevel)
    // ç§»é€Ÿ
    if GetUnitAbilityLevel(u, 'A0CH') >= 1 then
        call SetUnitAbilityLevel(u, 'A0DC', level + 1)
    else
        call SetUnitAbilityLevel(u, 'A0DC', level)
    endif
    // é—ªé¿
    if GetUnitAbilityLevel(u, 'A0DE') >= 1 then
        call SetUnitAbilityLevel(u, 'A0DD', level + 1)
    else
        call SetUnitAbilityLevel(u, 'A0DD', level)
    endif
    //set fuyuan[1+GetPlayerId(GetOwningPlayer(u))]=fuyuan[1+GetPlayerId(GetOwningPlayer(u))]+10
    call WuGongShengChong(u , 'A0DA' , 150.)
    //call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,I2S(GetUnitAbilityLevel(u,'A0DD')))
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call TimerStart(t, 0.5, true, function JinYanMeiLan)
    set t=null
    set u=null
endfunction
//å…³é—­é‡‘é›åŠŸ
function IsJinYanGuan takes nothing returns boolean
    return GetIssuedOrderId() == $D00D2 and GetUnitAbilityLevel(GetTriggerUnit(), 'A0DA') >= 1
endfunction
function JinYanGuan takes nothing returns nothing
    local unit u=GetTriggerUnit()
    call UnitRemoveAbility(u, 'A0DB')
    call UnitRemoveAbility(u, 'A0DC')
    call UnitRemoveAbility(u, 'Aspb')
    //set fuyuan[1+GetPlayerId(GetOwningPlayer(u))]=fuyuan[1+GetPlayerId(GetOwningPlayer(u))]-10
    set u=null
endfunction
//é‡‘é›åŠŸè¢«åŠ¨
function IsJinYan takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and UnitHasBuffBJ(GetAttacker(), 'B00W')
endfunction
function JinYanFanWei takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function JinYanGong takes nothing returns nothing
    local unit u=GetAttacker()
    local unit l__ut=GetTriggerUnit()
    local group g=CreateGroup()
    local location loc=GetUnitLoc(u)
    local unit uc=null
    local location loc2=GetUnitLoc(l__ut)
    local integer level=0
    call GroupEnumUnitsInRangeOfLoc(g, loc, 1000, Condition(function JinYanFanWei))
    set uc=GroupPickRandomUnit(g)
    if GetRandomReal(1., 100) <= fuyuan[1 + GetPlayerId(GetOwningPlayer(u))] then
        if GetUnitAbilityLevel(u, 'A07T') >= 1 then
	        call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
            call ShowUnitHide(bj_lastCreatedUnit)
            call UnitAddAbility(bj_lastCreatedUnit, 1093678903)
            call IssueTargetOrderById(bj_lastCreatedUnit, $D008F, l__ut)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
            call CreateTextTagLocBJ("å†…ä¼¤", loc2, 60., 12., 65., 55., 42., 0)
            call Nw(3. , bj_lastCreatedTextTag)
            call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
        endif
        if GetUnitAbilityLevel(u, 'A0CH') >= 1 then
            call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
            call UnitAddAbility(bj_lastCreatedUnit, 1093678900)
            call IssueTargetOrderById(bj_lastCreatedUnit, $D022F, l__ut)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
            call ShowUnitHide(bj_lastCreatedUnit)
            call CreateTextTagLocBJ("ä¸­æ¯’", loc2, 0, 12., 65., 55., 42., 0)
            call Nw(3. , bj_lastCreatedTextTag)
            call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
        endif
        if GetUnitAbilityLevel(u, 'A0DE') >= 1 then
            call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(u), loc2, bj_UNIT_FACING)
            call ShowUnitHide(bj_lastCreatedUnit)
            call UnitAddAbility(bj_lastCreatedUnit, 1093681498)
            call IssueTargetOrderById(bj_lastCreatedUnit, $D006B, l__ut)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
            call CreateTextTagLocBJ("æ˜è¿·", loc2, 60., 12., 65., 55., 42., 0)
            call Nw(3. , bj_lastCreatedTextTag)
            call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
        endif
        if uc != null and GetUnitAbilityLevel(u, 'A0CM') >= 1 and GetRandomInt(1, 10) == 1 then
	        call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + 70)
            set level=GetUnitAbilityLevel(u, 'A0CM')
	        call UnitRemoveAbility(u, 'A0CM')
	        call UnitAddAbility(u, 'A0CM')
	        call SetUnitAbilityLevel(u, 'A0CM', level)
        endif
    endif
    call GroupClear(g)
    call DestroyGroup(g)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set g=null
    set loc=null
    set l__ut=null
    set loc2=null
endfunction
//å…ˆå¤©åŠŸ
function IsXianTian takes nothing returns boolean
    return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0CH') >= 1 ) and ( GetEventDamage() >= GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) ) )
endfunction
function XianTian_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_xiantiandanwei)) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function XianTian_Action takes nothing returns nothing
    local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit uc=GetEnumUnit()
 local real shxishu=1.
 local real shanghai=0.
 local location loc=GetUnitLoc(uc)
    if isTitle(i , 14) then
        set shxishu=shxishu * 5
    endif
    // ä¸“å±åŠ æˆ
    if UnitHaveItem(GetTriggerUnit() , 'I0DP') then
		set shxishu=shxishu * 2
	endif
    set shanghai=ShangHaiGongShi(udg_xiantiandanwei , uc , 2000 , 800 , shxishu , 'A0CH')
	call WuGongShangHai(udg_xiantiandanwei , uc , shanghai)
	if GetUnitAbilityLevel(udg_xiantiandanwei, 'A07V') >= 1 then
		set shxishu=shxishu + 1.
	endif
	if GetUnitAbilityLevel(udg_xiantiandanwei, 'A06P') >= 1 then
		call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(udg_xiantiandanwei), loc, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 1093678412)
        call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call ShowUnitHide(bj_lastCreatedUnit)
        call CreateTextTagLocBJ("å°ç©´", loc, 0, 12., 65., 55., 42., 0)
        call Nw(3. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
    if GetUnitAbilityLevel(udg_xiantiandanwei, 'A07O') >= 1 then
        call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(udg_xiantiandanwei), loc, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0DF')
        call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, udg_xiantiandanwei)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 3.)
    endif
    call RemoveLocation(loc)
    set loc=null
	set uc=null
endfunction
function XianTian2 takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, p, 0)
 local group g=CreateGroup()
 local location loc=GetUnitLoc(u)
 local real range=800
	set udg_xiantiandanwei=u
	if GetUnitAbilityLevel(u, 'A07W') >= 0 then
		set range=range + 700
	endif
    call GroupEnumUnitsInRangeOfLoc(g, loc, range, Condition(function XianTian_Condition))
    call ForGroupBJ(g, function XianTian_Action)
    call GroupClear(g)
    call DestroyGroup(g)
    call PauseTimer(t)
    call DestroyTimer(t)
    call RemoveLocation(loc)
    set u=null
    set t=null
    set g=null
    set loc=null
endfunction
//æ•æ‰é‡ç”Ÿäº‹ä»¶
function XianTian1 takes nothing returns nothing
    local timer t=GetExpiredTimer()
    local timer tm=null
    local integer p=GetHandleId(t)
    local unit u=LoadUnitHandle(YDHT, p, 0)
    // call BJDebugMsg("æ•æ‰é‡ç”Ÿäº‹ä»¶")
    if GetPlayerState(GetOwningPlayer(u), PLAYER_STATE_RESOURCE_FOOD_USED) == LoadInteger(YDHT, p, 1) then
        // call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "æ•æ‰æˆåŠŸ" )
        if GetPlayerController(GetOwningPlayer(u)) == MAP_CONTROL_USER then
            call WuGongShengChong(u , 'A0CH' , 40.)
        endif
        set tm=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(tm), 0, u)
        call SaveInteger(YDHT, GetHandleId(tm), 1, LoadInteger(YDHT, p, 1))
        call PauseTimer(t)
        call DestroyTimer(t)
        call FlushChildHashtable(YDHT, p)
        call TimerStart(tm, 3.01, false, function XianTian2)
    else
    endif
    set t=null
    set tm=null
    set u=null
endfunction
function XianTianGong takes nothing returns nothing
    local timer t= CreateTimer()
    local integer p=GetHandleId(t)
    local unit u=GetTriggerUnit()
    // call BJDebugMsg("è§¦å‘å¼€å§‹é‡ç”Ÿ")
    call SaveUnitHandle(YDHT, p, 0, u)
    call SaveInteger(YDHT, p, 1, GetPlayerState(GetOwningPlayer(u), PLAYER_STATE_RESOURCE_FOOD_USED))
    call TimerStart(t, 0.00, false, function XianTian1)
    set t=null
    set u=null
endfunction
//ä¸‰èŠ±èšé¡¶
function IsSanHua takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A0DE' )
endfunction
function SanHua_Condition takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'e00Y'
endfunction
function SanHua_Action takes nothing returns nothing
    local player p=GetOwningPlayer(GetEventDamageSource())
    local integer i=1 + GetPlayerId(p)
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local location loc= GetUnitLoc(uc)
 local real shxishu=1.
 local real shanghai=0
	if GetUnitAbilityLevel(u, 'A07R') >= 1 then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A07A') >= 1 then
		call WanBuff(u , uc , 5)
	endif
    if UnitHaveItem(u , 'I0DP') then
		set shxishu=shxishu * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 250 , 180 , shxishu , 'A0DE')
	if IsUnitEnemy(uc, GetOwningPlayer(u)) then
		call WuGongShangHai(u , uc , shanghai)
	else
	    call SetWidgetLife(uc, GetUnitState(uc, UNIT_STATE_LIFE) + shanghai / 10)
	    call SetUnitState(uc, UNIT_STATE_MANA, GetUnitState(uc, UNIT_STATE_MANA) + 200)
    endif
    call RemoveLocation(loc)
    set p=null
    set u=null
    set uc=null
    set loc=null
endfunction
function SanHua_1 takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit())
endfunction
function SanHua takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local location loc2= null
 local group g= null
 local unit l__ut=null
 local unit uc=GetSpellTargetUnit()
 local integer i= 0
 local integer imax= 10
	if GetUnitAbilityLevel(u, 'A06H') >= 1 then
		set imax=imax + 3
	endif
	if GetUnitAbilityLevel(u, 'A07V') >= 1 then
		set imax=imax + 3
	endif
	if GetUnitAbilityLevel(u, 'A0D4') >= 1 then
		set imax=imax + 50
	endif
    // ä¸“å±åŠ æˆ
    if UnitHaveItem(u , 'I0DP') then
		set imax=imax + 50
	endif
	call WuGongShengChong(u , 'A0DE' , 150.)
	call CreateNUnitsAtLoc(1, 'e00Y', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	set l__ut=bj_lastCreatedUnit
	call UnitAddAbility(l__ut, 'A0DG')
	call UnitApplyTimedLife(l__ut, 1112045413, 2.)
    call ShowUnitHide(l__ut)
	call IssueTargetOrderById(l__ut, $D0097, uc)
    call RemoveLocation(loc)
    loop
	    exitwhen i > imax
		set loc2=GetUnitLoc(uc)
		set g=CreateGroup()
		call GroupEnumUnitsInRangeOfLoc(g, loc2, 800, Condition(function SanHua_1))
		if g != null then
			call CreateNUnitsAtLoc(1, 'e00Y', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
			set l__ut=bj_lastCreatedUnit
			call UnitAddAbility(l__ut, 'A0DG')
			call UnitApplyTimedLife(l__ut, 1112045413, 2.)
    		call ShowUnitHide(l__ut)
    		set uc=GroupPickRandomUnit(g)
			call IssueTargetOrderById(l__ut, $D0097, uc)
			call DestroyGroup(g)
			call RemoveLocation(loc2)
			call YDWEPolledWaitNull(0.15)
		else
			call DestroyGroup(g)
			call RemoveLocation(loc2)
			exitwhen true
		endif
	    set i=i + 1
    endloop
	set u=null
	set loc=null
	set loc2=null
	set uc=null
	set l__ut=null
	set g=null
endfunction
//äº‹ä»¶
function QuanZhen_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsQuanZhen))
    call TriggerAddAction(t, function QuanZhenJian)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsXianTianYiYang))
    call TriggerAddAction(t, function XianTianYiYang)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function IsJinYanKai))
    call TriggerAddAction(t, function JinYanKai)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function IsJinYanGuan))
    call TriggerAddAction(t, function JinYanGuan)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsJinYan))
    call TriggerAddAction(t, function JinYanGong)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsXianTian))
    call TriggerAddAction(t, function XianTianGong)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsSanHua))
    call TriggerAddAction(t, function SanHua)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function SanHua_Condition))
    call TriggerAddAction(t, function SanHua_Action)
    set t=null
endfunction
// 1æŠ€èƒ½ é“¶é’ˆé£èŠ±ï¼šå‘å‰æ–¹å°„å‡ºä¸‰é“æ¿€å…‰ï¼Œé€ æˆå¤§é‡ä¼¤å®³
// æ¯•ä¸šæŠ€èƒ½2 ç‰¹æ®Šï¼šç¢§ç‰ä¸¹ +ç¥æœ¨ç‹é¼ å’Œç‚¼ä¸¹ç³»ç»Ÿç»“åˆ å¯ä»¥ä½¿æœ€åŠ£çš„é…’å˜æˆä¸€ç­‰ä¸€çš„ä½³é…¿
// é˜µæ³•ï¼šä¹å®«å…«å¦é˜µ
// æ¯•ä¸šæŠ€èƒ½1 å¿ƒæ³•ï¼šå…­åˆç»
// ä¸“å±1ï¼šå­åˆç ‚ æ”»å‡»æ—¶æ·±åº¦ä¸­æ¯’
// ä¸“å±2ï¼šè§‚éŸ³æ³ª
// 2æŠ€èƒ½ æ¼«å¤©èŠ±é›¨
// 3æŠ€èƒ½ çƒŸé›¨å¤ºé­‚

function isYinZhen takes nothing returns boolean
    return GetSpellAbilityId() == 'A098'
endfunction
function yinZhen takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local real angle= 0
    local real range= 1000
    local location source= null
    local location target= null
    local integer i= 1
    local integer max= 3
    call WuGongShengChong(u , 'A098' , 250.)
    // + åŒæ‰‹äº’æ å‘å‰å°„å‡ºå…­é“æ¿€å…‰
    if GetUnitAbilityLevel(u, 'A07U') >= 1 then
        set max=6
    endif
    loop
        exitwhen i > max
        set angle=GetUnitFacing(u)
        set source=GetUnitLoc(u)
        set target=PolarProjectionBJ(source, range, angle)
        call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), source, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 'A099')
        call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, target)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 3)
        call YDWEPolledWaitNull(0.2)
        if GetUnitAbilityLevel(u, 'A07A') >= 1 then
            call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), target, bj_UNIT_FACING)
            call ShowUnitHide(bj_lastCreatedUnit)
            call UnitAddAbility(bj_lastCreatedUnit, 'A07A')
            call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D9)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 3)
        endif
        call RemoveLocation(source)
        call RemoveLocation(target)
        set i=i + 1
    endloop
    set u=null
    set source=null
    set target=null
endfunction
function isYinZhenDamage takes nothing returns boolean
    return GetEventDamage() == 0.92
endfunction
function yinZhenDamage takes nothing returns nothing
    local unit u= GetEventDamageSource()
    local unit target= GetTriggerUnit()
    local real shxishu= 1
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07Q') != 0 ) ) then // æ–—è½¬æ˜Ÿç§»
set shxishu=shxishu + 0.9
    endif
    if ( ( GetUnitAbilityLevel(u, 'A083') != 0 ) ) then // åŠ å°æ— ç›¸åŠŸ
set shxishu=shxishu + 1.5
    endif
    if ( ( GetUnitAbilityLevel(u, 'A018') != 0 ) ) then // åŠ ç¢§æµ·æ½®ç”Ÿæ›² è‡´ç›²
call WanBuff(u , target , 15)
    endif
    // ä¸“å±åŠ æˆ
    // å­åˆç ‚
    if UnitHaveItem(u , 'I0EP') then
        set shxishu=shxishu * 2.0
    endif
    // è§‚éŸ³æ³ª
    if UnitHaveItem(u , 'I0EQ') then
        set shxishu=shxishu * 3.0
    endif
    set shanghai=ShangHaiGongShi(u , target , 60 , 60 , shxishu , 'A098')
    call WuGongShangHai(u , target , shanghai)
endfunction
 
function isManTian takes nothing returns boolean
    return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A09A')
endfunction
function manTianCondition takes nothing returns boolean
    return DamageFilter(GetAttacker() , GetFilterUnit())
endfunction
function manTian takes nothing returns nothing
    local unit u= GetAttacker()
    local unit l__ut= GetTriggerUnit()
    local unit target= null
    local unit dummy= null
    local group g= null
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    local integer j= 1
    local integer max= 4
    local real range= 1300
    if GetRandomInt(1, 100) < 15 + fuyuan[i] / 5 then
        call WuGongShengChong(u , 'A09A' , 900.)
        // åŒæ‰‹äº’æ åŒå€å¯¼å¼¹
        if GetUnitAbilityLevel(u, 'A07U') >= 1 then
            set max=8
        endif
        loop
            exitwhen j > max
            set g=CreateGroup()
            call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), range, Condition(function manTianCondition))
            set target=GroupPickRandomUnit(g)
            set dummy=CreateUnit(p, 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
            call ShowUnitHide(dummy)
            call UnitAddAbility(dummy, 'A09B')
            call IssueTargetOrderById(dummy, $D007F, target)
            call UnitApplyTimedLife(dummy, 'BHwe', 3)
            call DestroyGroup(g)
            call YDWEPolledWaitNull(0.2)
            if GetUnitAbilityLevel(u, 'A07A') >= 1 and GetRandomInt(1, 100) <= 15 then
                set dummy=CreateUnit(p, 'e000', GetUnitX(target), GetUnitY(target), bj_UNIT_FACING)
                call ShowUnitHide(dummy)
                call UnitAddAbility(dummy, 'A07A')
                call IssueImmediateOrderById(dummy, $D00D9)
                call UnitApplyTimedLife(dummy, 'BHwe', 3)
            endif
            set j=j + 1
        endloop
    endif
    set u=null
    set l__ut=null
    set target=null
    set g=null
    set dummy=null
    set p=null
endfunction
function isManTianDamage takes nothing returns boolean
    return GetEventDamage() == 0.93
endfunction
function manTianDamage takes nothing returns nothing
    local unit u= udg_hero[1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
    local unit target= GetTriggerUnit()
    local real shxishu= 1
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07T') != 0 ) ) then // è‘µèŠ±å®å…¸
set shxishu=shxishu + 0.9
    endif
    if ( ( GetUnitAbilityLevel(u, 'A0B6') != 0 ) ) then // åŠ å…­åˆç» ç ´é˜²
call WanBuff(u , target , 9)
    endif
    // å­åˆç ‚
     if UnitHaveItem(u , 'I0EP') then
         set shxishu=shxishu * 2.0
     endif
     // è§‚éŸ³æ³ª
     if UnitHaveItem(u , 'I0EQ') then
         set shxishu=shxishu * 3.0
     endif
    set shanghai=ShangHaiGongShi(u , target , 160 , 180 , shxishu , 'A09A')
    if GetUnitAbilityLevel(u, 'A0B3') != 0 then
        set shanghai=ShangHaiGongShi(u , target , 800 , 900 , shxishu , 'A0B3')
    endif
    call WuGongShangHai(u , target , shanghai)
endfunction
 
function isDuoHun takes nothing returns boolean
    return GetSpellAbilityId() == 'A0B0'
endfunction
function duoHun takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local real x= GetSpellTargetX()
    local real y= GetSpellTargetY()
    local real distance= SquareRoot(( x - GetUnitX(u) ) * ( x - GetUnitX(u) ) + ( y - GetUnitY(u) ) * ( y - GetUnitY(u) ))
    local real angle= Atan2BJ(y - GetUnitY(u), x - GetUnitX(u))
    local real speed= 1200
    // å‘å‘¨å›´æ–½æ”¾çƒŸé›¾
    local unit dummy= CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
    if ( GetUnitAbilityLevel(u, 'A03V') >= 1 ) then // +æ“’é¾™æ§é¹¤ å†²åˆºé€Ÿåº¦åŠ å€
set speed=speed * 2
    endif
    call ShowUnitHide(dummy)
    call UnitAddAbility(dummy, 'A09C')
    call IssuePointOrderById(dummy, $D0208, GetUnitX(u), GetUnitY(u))
    call UnitApplyTimedLife(dummy, 'BHwe', 3)
    // å‘ç›®æ ‡æ–¹å‘å†²åˆº
    call YDWETimerPatternRushSlide(u , angle , distance , distance / speed , 0.03 , 0 , false , false , true , "origin" , "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl" , "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
    // æ­¦åŠŸå‡é‡
    call WuGongShengChong(u , 'A0B0' , 200.)
    call YDWEPolledWaitNull(distance / 1000)
    if ( GetUnitAbilityLevel(u, 'A07U') >= 1 ) then // +åŒæ‰‹ åœ¨ç›®æ ‡ä½ç½®ä¹Ÿæ–½æ”¾çƒŸé›¾
set dummy=CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
        call ShowUnitHide(dummy)
        call UnitAddAbility(dummy, 'A09C')
        call IssuePointOrderById(dummy, $D0208, GetUnitX(u), GetUnitY(u))
        call UnitApplyTimedLife(dummy, 'BHwe', 3)
    endif
    set u=null
    set dummy=null
endfunction
function isDuoHunPassive takes nothing returns boolean
    return GetUnitAbilityLevel(GetAttacker(), 'A0B0') >= 1 and GetUnitAbilityLevel(GetAttacker(), 'A083') >= 1 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))
endfunction
function duoHunPassive takes nothing returns nothing
    local unit u= GetAttacker()
    local real distance= 1000
    local real angle= GetUnitFacing(u)
    local real speed= 1200
    local unit dummy= null
    local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
    if GetRandomInt(1, 100) <= 15 + fuyuan[i] / 5 then
        // å‘å‘¨å›´æ–½æ”¾çƒŸé›¾
        set dummy=CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
        if ( GetUnitAbilityLevel(u, 'A03V') >= 1 ) then // +æ“’é¾™æ§é¹¤ å†²åˆºé€Ÿåº¦åŠ å€
set speed=speed * 2
        endif
        call ShowUnitHide(dummy)
        call UnitAddAbility(dummy, 'A09C')
        call IssuePointOrderById(dummy, $D0208, GetUnitX(u), GetUnitY(u))
        call UnitApplyTimedLife(dummy, 'BHwe', 3)
    endif
    set u=null
    set dummy=null
endfunction
function isDuoHunDamage takes nothing returns boolean
    return GetEventDamage() == 2.01
endfunction
function duoHunDamage takes nothing returns nothing
    local unit u= GetEventDamageSource()
    local unit target= GetTriggerUnit()
    local real shxishu= 1
    local real shanghai=0.
    if ( ( GetUnitAbilityLevel(u, 'A07M') != 0 ) ) then // ä¸ƒä¼¤æ‹³
set shxishu=shxishu + 1.5
    endif
    call WanBuff(u , target , 4)
    // å­åˆç ‚
    if UnitHaveItem(u , 'I0EP') then
        set shxishu=shxishu * 2.0
    endif
    // è§‚éŸ³æ³ª
    if UnitHaveItem(u , 'I0EQ') then
        set shxishu=shxishu * 3.0
    endif
    set shanghai=ShangHaiGongShi(u , target , 100 , 100 , shxishu , 'A0B0')
    call WuGongShangHai(u , target , shanghai)
endfunction

 function liuHeCondition takes nothing returns boolean
     return GetSpellAbilityId() == 'A0B6'
 endfunction
function removeLiuHeState takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
    call UnitRemoveAbility(u, 'A00S')
    call PauseTimer(t)
    call DestroyTimer(t)
    set t=null
    set u=null
endfunction
function liuHeAction takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
    local integer key= $FFAFBF + i
    local integer which= LoadInteger(YDHT, key, 1)
local real oldSpeed= LoadReal(YDHT, key, 2)
    local real oldSpeed2= (s__ModSpeed_getSpeed((u))) - LoadReal(YDHT, key, 3) // INLINED!!
    local real critical= LoadReal(YDHT, key, 4)
    local integer profound= LoadInteger(YDHT, key, 5)
    local real addition= LoadReal(YDHT, key, 6)
    local integer j= GetRandomInt(1, 6)
    local timer t= null
    // æ¸…é™¤ä¸Šä¸€æ¬¡çš„çŠ¶æ€
    if which == 1 then //ç§»é€Ÿ
call h__SetUnitMoveSpeed(u, RMaxBJ(RMinBJ(oldSpeed, oldSpeed2), 350.))
    elseif which == 2 then //çˆ†ä¼¤
set udg_baojishanghai[i]=udg_baojishanghai[i] - critical
    elseif which == 3 then //æ”»é€Ÿ
call UnitRemoveAbility(u, 'A0DB')
    elseif which == 4 then // æœ€å¤§æŠ¤ç”²
call UnitRemoveAbility(u, 'A00S')
    elseif which == 5 then
        set juexuelingwu[i]=juexuelingwu[i] - profound
    elseif which == 6 then
        set udg_shanghaijiacheng[i]=udg_shanghaijiacheng[i] - addition
    endif
    // å¢åŠ æœ¬æ¬¡çš„çŠ¶æ€
    call SaveInteger(YDHT, key, 1, j)
    call SetUnitAbilityLevel(u, 'A0B4', j)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", u, "overhead"))
    if j == 1 then
        call h__SetUnitMoveSpeed(u, RMinBJ((s__ModSpeed_getSpeed((u))) + jingmai[i] * 20, 1400)) // INLINED!!
        call SaveReal(YDHT, key, 2, (s__ModSpeed_getSpeed((u)))) // INLINED!!
        call SaveReal(YDHT, key, 3, jingmai[i] * 20)
    elseif j == 2 then
        set critical=0.1 * gengu[i]
        call SaveReal(YDHT, key, 4, critical)
        set udg_baojishanghai[i]=udg_baojishanghai[i] + critical
    elseif j == 3 then
        call UnitAddAbility(u, 'A0DB')
        call SetUnitAbilityLevel(u, 'A0DB', IMinBJ(1 + fuyuan[i] / 20, 10))
    elseif j == 4 then
        call UnitAddAbility(u, 'A00S')
        set t=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
        call TimerStart(t, 10, false, function removeLiuHeState)
    elseif j == 5 then
        set profound=wuxing[i]
        call SaveInteger(YDHT, key, 5, profound)
        set juexuelingwu[i]=juexuelingwu[i] + profound
    elseif j == 6 then
        set addition=0.1 * danpo[i]
        call SaveReal(YDHT, key, 6, addition)
        set udg_shanghaijiacheng[i]=udg_shanghaijiacheng[i] + addition
    endif
    call YDWEPolledWaitNull(0.2)
    // åŒæ‰‹æˆ–å°æ— ç›¸åŠŸçš„æ­é…
    if GetUnitAbilityLevel(u, 'A07U') >= 1 then
        call EXSetAbilityState(EXGetUnitAbility(u, 'A0B6'), 1, EXGetAbilityState(EXGetUnitAbility(u, 'A0B6'), 1) - 5)
    endif
    if GetUnitAbilityLevel(u, 'A083') >= 1 then
       call EXSetAbilityState(EXGetUnitAbility(u, 'A0B6'), 1, EXGetAbilityState(EXGetUnitAbility(u, 'A0B6'), 1) - 5)
    endif
    set u=null
    set t=null
endfunction
function liuHe takes nothing returns nothing
    local integer i= 1
    local timer t= null
    loop
        exitwhen i > 5
        if liuHeFlag[i] == 0 and GetUnitAbilityLevel(udg_hero[i], 'A0B6') >= 1 then
            set liuHeFlag[i]=1
            call UnitAddAbility(udg_hero[i], 'A0B5')
            call SetPlayerAbilityAvailable(GetOwningPlayer(udg_hero[i]), 'A0B5', false)
        endif
        set i=i + 1
    endloop
    set t=null
endfunction

function isBiYuDan takes nothing returns boolean
    return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A0B1')
endfunction
function biYuCondition takes nothing returns boolean
	return DamageFilter(GetAttacker() , GetFilterUnit())
endfunction
function biYuAction takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
 local real shxishu= ( 1. + I2R(yishu[i]) / 15. ) * ( 1 + biYuAddition[i] )
	// +æ·±åº¦ä¸­æ¯’
	if UnitHasBuffBJ(GetEnumUnit(), 'B01J') then
		set shxishu=shxishu + 2.0
	endif
	// ç¥æœ¨ç‹é¼æˆ–ç‚¼ä¸¹å¸ˆ
	if UnitHaveItem(GetAttacker() , 'I0AM') or (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( LIAN_DAN) - 1)])) != 0) then // INLINED!!
	    set shxishu=shxishu + 2.0
    endif
    // æœé­‚ä¾ åŠ æˆ
    if isTitle(i , 36) then
        set shxishu=shxishu * 2
    endif
    // å­åˆç ‚
    if UnitHaveItem(GetAttacker() , 'I0EP') then
        set shxishu=shxishu * 2.0
    endif
    // è§‚éŸ³æ³ª
    if UnitHaveItem(GetAttacker() , 'I0EQ') then
        set shxishu=shxishu * 3.0
    endif
    call WuGongShangHai(GetAttacker() , GetEnumUnit() , ShangHaiGongShi(GetAttacker() , GetEnumUnit() , 200 , 200 , shxishu , 'A0B1'))
endfunction
function biYuDan takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
    local location loc= GetUnitLoc(GetAttacker())
    local unit dummy= null
    local group g= null
    if ( GetRandomInt(1, 100) <= fuyuan[i] / 5 + 18 ) then
        set dummy=CreateUnit(GetOwningPlayer(GetAttacker()), 'e000', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), bj_UNIT_FACING)
        call ShowUnitHide(dummy)
        call UnitAddAbility(dummy, 'A0B2')
        call IssuePointOrderById(dummy, $D02AC, GetUnitX(GetAttacker()), GetUnitY(GetAttacker()))
        call UnitApplyTimedLife(dummy, 'BHwe', 3)
        call YDWEPolledWaitNull(0.3)
        set g=YDWEGetUnitsInRangeOfLocMatchingNull(800 , loc , Condition(function biYuCondition))
        call ForGroup(g, function biYuAction)
        call DestroyGroup(g)
        call WuGongShengChong(GetAttacker() , 'A0B1' , 700)
    endif
    call RemoveLocation(loc)
    set loc=null
    set dummy=null
    set g=null
endfunction
function isGuanYinLei takes nothing returns boolean
    return UnitHaveItem(GetAttacker() , 'I0EQ')
endfunction
function guanYinLei takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
    // è§‚éŸ³æ³ªæ”»å‡»æ·±åº¦ä¸­æ¯’
    if GetRandomInt(1, 100) <= 15 + fuyuan[i] / 5 then
        call WanBuff(GetAttacker() , GetTriggerUnit() , 14)
    endif
endfunction
function tangMenTrigger takes nothing returns nothing
    local trigger t= CreateTrigger()
    local integer i= 1
    loop
        exitwhen i > 5
        // åˆå§‹åŒ–ç¢§ç‰ä¸¹æŠ€èƒ½æ°¸ä¹…åŠ æˆ
        set biYuAddition[i]=0
        // åˆå§‹åŒ–å…­åˆç»æ ‡è¯†
        set liuHeFlag[i]=0
        set i=i + 1
    endloop
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function isYinZhen))
    call TriggerAddAction(t, function yinZhen)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function isYinZhenDamage))
    call TriggerAddAction(t, function yinZhenDamage)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function isManTian))
    call TriggerAddAction(t, function manTian)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function isManTianDamage))
    call TriggerAddAction(t, function manTianDamage)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function isDuoHun))
    call TriggerAddAction(t, function duoHun)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function isDuoHunPassive))
    call TriggerAddAction(t, function duoHunPassive)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function isDuoHunDamage))
    call TriggerAddAction(t, function duoHunDamage)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function isBiYuDan))
    call TriggerAddAction(t, function biYuDan)
    set t=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(t, 1.)
    call TriggerAddAction(t, function liuHe)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function liuHeCondition))
    call TriggerAddAction(t, function liuHeAction)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function isGuanYinLei))
    call TriggerAddAction(t, function guanYinLei)
    set t=null
endfunction// é“æŒå¸®æ­¦åŠŸï¼šé“ç ‚æŒã€æ¯’è›‡ç¥æŒã€é€šèƒŒæ‹³ã€æ°´ä¸Šæ¼‚ã€å½’å…ƒåçº³åŠŸ

function IsTieShaZhang takes nothing returns boolean
	return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A06Y')
endfunction
function TieSha_Condition takes nothing returns boolean
	return DamageFilter(GetAttacker() , GetFilterUnit())
endfunction
function TieSha_Action takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
	// ä¹¾å¤å¤§æŒªç§» +80%
 local real shxishu= 1. + I2R(jingmai[i]) / 15. + DamageCoefficientByAbility(GetAttacker() , 'A07W' , 0.8)
	if UnitHasBuffBJ(GetEnumUnit(), 'BEsh') then
	    // åŒæ‰‹+ä¸­æ¯’
		set shxishu=shxishu + DamageCoefficientByAbility(GetAttacker() , 'A07U' , 1.5)
	    // ä¹é˜´+ä¸­æ¯’
		set shxishu=shxishu + DamageCoefficientByAbility(GetAttacker() , 'A07S' , 2.0)
	    // ä¹çˆª+ä¸­æ¯’
        set shxishu=shxishu + DamageCoefficientByAbility(GetAttacker() , 'A07N' , 1.5)
	endif
	// ä¸€é˜³æŒ‡=ç ´é˜²
	if GetUnitAbilityLevel(GetAttacker(), 'A06P') >= 1 and GetRandomInt(1, 100) <= 60 then
    	call WanBuff(GetAttacker() , GetEnumUnit() , 9)
    endif
    //æ‘§å¿ƒæŒ=ä¸­æ¯’
	if GetUnitAbilityLevel(GetAttacker(), 'A0D3') >= 1 and GetRandomInt(1, 100) <= 60 then
		if ( UnitHasBuffBJ(GetEnumUnit(), 'BEsh') == false ) then
			call WanBuff(GetAttacker() , GetEnumUnit() , 13)
		endif
	endif
	// ä¸“å±
	if UnitHaveItem(GetAttacker() , 'I0EJ') then
	    set shxishu=shxishu * 4
    endif
	call PassiveWuGongEffectAndDamage(GetAttacker() , GetEnumUnit() , "Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl" , 14 , 18 , shxishu , 'A06Y')
endfunction
function TieShaZhang takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
	call PassiveWuGongAction(GetAttacker() , GetTriggerUnit() , 18 + fuyuan[i] * 0.2 , RMinBJ(600 + danpo[i] * 10, 5000) , Condition(function TieSha_Condition) , function TieSha_Action , 'A06Y' , 900.)
endfunction

function IsDuSheShenZhang takes nothing returns boolean
	return GetSpellAbilityId() == 'A06Z' and ( IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction
function IsDuSheEnemy takes nothing returns boolean
	//ä¸æ˜¯ç©å®¶çš„å•ä½ä¸”ä¸æ— æ•Œ
	return IsUnitEnemy(GetFilterUnit(), Player(0)) and GetUnitAbilityLevel(GetFilterUnit(), 'Avul') == 0 and IsUnitAliveBJ(GetFilterUnit())
endfunction
function DuSheMove takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit l__ut= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local location source= LoadLocationHandle(YDHT, GetHandleId(t), 2)
 local location destination= LoadLocationHandle(YDHT, GetHandleId(t), 3)
 local unit majia= LoadUnitHandle(YDHT, GetHandleId(t), 4)
 local integer counter= LoadInteger(YDHT, GetHandleId(t), 5)
 local integer maxCount= 10 + GetUnitAbilityLevel(u, 'A07U') * 20 + GetUnitAbilityLevel(u, 'A06H') * 8
 local real angle= AngleBetweenPoints(source, destination)
 local group g= null
 local real shxishu= 1 + DamageCoefficientByItem(u , 'I09B' , 3.)
 local integer speed= 15
	if GetUnitAbilityLevel(u, 'A06H') >= 1 then
	    set speed=15
	endif
	if ( UnitHasBuffBJ(l__ut, 'BEsh') or UnitHasBuffBJ(l__ut, 'B01J') ) then
		set shxishu=shxishu + 1.
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0EJ') then
	    set shxishu=shxishu * 4
    endif
	if ( counter >= maxCount ) then
		call FlushChildHashtable(YDHT, GetHandleId(t))
		call PauseTimer(t)
		call DestroyTimer(t)
		call RemoveUnit(majia)
	else
		//è·ç¦»å°äº15åˆ™ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®å¹¶é€ æˆä¼¤å®³ï¼Œç„¶åè·å–ä¸‹ä¸€ä¸ªä¼¤å®³ç›®æ ‡
		if DistanceBetweenPoints(source, destination) < 15 then
			call SetUnitPositionLoc(majia, destination)
			//è®¾ç½®ä¸‹ä¸€ä¸ªæºåœ°ç‚¹
			call SaveLocationHandle(YDHT, GetHandleId(t), 2, destination)
			//é€ æˆä¼¤å®³ ä¼¤å®³å•ä½ä¸ªæ•°åŠ 1
			call PassiveWuGongEffectAndDamage(u , l__ut , "Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl" , 30 , 30 , shxishu , 'A06Z')
			if ( ( UnitHasBuffBJ(l__ut, 'BEsh') or UnitHasBuffBJ(l__ut, 'B01J') ) and GetUnitAbilityLevel(u, 'A07S') >= 1 ) then
				call WanBuff(u , l__ut , 7)
			endif
			call SaveInteger(YDHT, GetHandleId(t), 5, counter + 1)
			//è·å–ä¸‹ä¸€ä¸ªä¼¤å®³ç›®æ ‡
			set g=YDWEGetUnitsInRangeOfLocMatchingNull(500 , destination , Condition(function IsDuSheEnemy))
			if ( CountUnitsInGroup(g) > 0 ) then
				set l__ut=GroupPickRandomUnit(g)
				call SaveUnitHandle(YDHT, GetHandleId(t), 1, l__ut)
				//è®¾ç½®ä¸‹ä¸€ä¸ªç›®æ ‡åœ°ç‚¹
				call SaveLocationHandle(YDHT, GetHandleId(t), 3, GetUnitLoc(l__ut))
				//call RemoveLocation(destination)
			else
				
				set g=YDWEGetUnitsInRangeOfLocMatchingNull(1500 , destination , Condition(function IsDuSheEnemy))
				if ( CountUnitsInGroup(g) > 0 ) then
					set l__ut=GroupPickRandomUnit(g)
					call SaveUnitHandle(YDHT, GetHandleId(t), 1, l__ut)
					//è®¾ç½®ä¸‹ä¸€ä¸ªç›®æ ‡åœ°ç‚¹
					call SaveLocationHandle(YDHT, GetHandleId(t), 3, GetUnitLoc(l__ut))
					//call RemoveLocation(destination)
				else
					call FlushChildHashtable(YDHT, GetHandleId(t))
					call PauseTimer(t)
					call DestroyTimer(t)
					call RemoveUnit(majia)
				endif
			endif
		else
			//æ¯’è›‡é©¬ç”²å‘ç›®æ ‡ç§»åŠ¨
			call SetUnitPositionLoc(majia, PolarProjectionBJ(source, speed, angle))
			call SaveLocationHandle(YDHT, GetHandleId(t), 2, PolarProjectionBJ(source, speed, angle))
			call SaveLocationHandle(YDHT, GetHandleId(t), 3, GetUnitLoc(l__ut))
		endif
	endif
	call RemoveLocation(source)
	set source=null
	set destination=null
	set t=null
	set l__ut=null
	set majia=null
	set u=null
	set g=null
endfunction
function DuSheShenZhang takes nothing returns nothing
 local timer t= CreateTimer()
 local group g= CreateGroup()
 local location loc= GetSpellTargetLoc()
 local unit l__ut= null
	set g=YDWEGetUnitsInRangeOfLocMatchingNull(500 , loc , Condition(function IsDuSheEnemy))
	if ( CountUnitsInGroup(g) > 0 ) then
    	set l__ut=GroupPickRandomUnit(g)
    else
        set g=YDWEGetUnitsInRangeOfLocMatchingNull(1500 , loc , Condition(function IsDuSheEnemy))
        set l__ut=GroupPickRandomUnit(g)
    endif
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, GetTriggerUnit())
	call SaveUnitHandle(YDHT, GetHandleId(t), 1, l__ut)
	call SaveLocationHandle(YDHT, GetHandleId(t), 2, GetUnitLoc(GetTriggerUnit()))
	call SaveLocationHandle(YDHT, GetHandleId(t), 3, loc)
	call CreateNUnitsAtLocFacingLocBJ(1, 'e01E', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), GetUnitLoc(GetSpellTargetUnit()))
	call SaveUnitHandle(YDHT, GetHandleId(t), 4, bj_lastCreatedUnit)
	call WuGongShengChong(GetTriggerUnit() , 'A06Z' , 200)
	call TimerStart(t, 0.02, true, function DuSheMove)
	call DestroyGroup(g)
	set t=null
	set g=null
	set loc=null
	set l__ut=null
endfunction

function IsTongBeiQuan takes nothing returns boolean
	return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A070')
endfunction
function TongBeiQuan takes nothing returns nothing
 local unit u= udg_hero[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))]
 local unit l__ut= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local location loc= GetUnitLoc(l__ut)
 local real shxishu= 1. + DamageCoefficientByAbility(u , 'A07W' , 0.7) + DamageCoefficientByAbility(u , 'A0D3' , 0.9)
 local real coefficient= 0.5
	if ( GetUnitAbilityLevel(u, 'A089') >= 1 ) then
		set coefficient=1
	endif
	// ä¸“å±
	if UnitHaveItem(u , 'I0EJ') then
	    set shxishu=shxishu * 4
    endif
	if ( GetRandomInt(1, 100) <= fuyuan[i] / 5 + 15 ) then
		//+è›¤èŸ†åŠŸ A084 å¬å”¤ä¸€ä¸ªä¼šé€šèƒŒæ‹³çš„é“æŒå¸®é•¿è€ååŠ©æˆ˜æ–— æ­¤å¤„æ¦‚ç‡æœ‰å¾…å¹³è¡¡ TODO
		if ( GetUnitAbilityLevel(u, 'A084') >= 1 and GetRandomInt(1, 100) <= 7 ) then
			call CreateNUnitsAtLoc(1, 'o02O', GetOwningPlayer(u), loc, bj_UNIT_FACING)
			call UnitAddAbility(bj_lastCreatedUnit, 'A070')
	    	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
		endif
		call WuGongShengChong(u , 'A070' , 800)
		if ( UnitHasBuffBJ(l__ut, 'BEsh') ) then //å·²ä¸­æ¯’åˆ™ä½¿ä¹‹ä¸­æ¯’åŠ æ·±
call SaveReal(YDHT, GetHandleId(l__ut), StringHash("TongBei"), 1.)
			set shxishu=shxishu + LoadReal(YDHT, GetHandleId(l__ut), StringHash("TongBei"))
			call WanBuff(u , l__ut , 14)
		elseif ( UnitHasBuffBJ(l__ut, 'B01J') ) then //å·²æ·±åº¦ä¸­æ¯’åˆ™é€ æˆé¢å¤–ä¼¤å®³
call SaveReal(YDHT, GetHandleId(l__ut), StringHash("TongBei"), LoadReal(YDHT, GetHandleId(l__ut), StringHash("TongBei")) + coefficient)
			set shxishu=shxishu + LoadReal(YDHT, GetHandleId(l__ut), StringHash("TongBei"))
			call FontFloat("+" + I2S(R2I(shxishu)) , loc , 60. , 14 , 100. , 100. , 0. , 0 , 2.)
		else //æœªä¸­æ¯’åˆ™ä½¿ä¹‹ä¸­æ¯’
call SaveReal(YDHT, GetHandleId(l__ut), StringHash("TongBei"), 0.)
			call WanBuff(u , l__ut , 13)
		endif
		call PassiveWuGongEffectAndDamage(u , l__ut , "Abilities\\Spells\\NightElf\\EntanglingRoots\\EntanglingRootsTarget.mdl" , 120 , 120 , shxishu , 'A070')
	endif
	call RemoveLocation(loc)
	set u=null
	set l__ut=null
	set loc=null
endfunction
function IsGuiYuan takes nothing returns boolean
	return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A0DP') or PassiveWuGongCondition(GetTriggerUnit() , GetAttacker() , 'A0DP')
endfunction
function selectAttr takes nothing returns nothing
 local player p= GetTriggerPlayer()
 local string s= GetEventPlayerChatString()
 local integer i= 1 + GetPlayerId(p)
	// å½’å…ƒåçº³+ä¸ƒä¼¤æ‹³æ”¹æˆ+é“æŒæ°´ä¸Šæ¼‚ç§°å·
	// if GetUnitAbilityLevel(udg_hero[i], 'A07M') >= 1 and GetUnitAbilityLevel(udg_hero[i], 'A0DP') >= 1 then
	if isTitle(i , 35) and GetUnitAbilityLevel(udg_hero[i], 'A0DP') >= 1 then
		if s == "jwx" then
			set selected_attr[i]=1
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºæ‚Ÿæ€§")
		elseif s == "jgg" then
			set selected_attr[i]=2
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºæ ¹éª¨")
		elseif s == "jfy" then
			set selected_attr[i]=3
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºç¦ç¼˜")
		elseif s == "jys" then
			set selected_attr[i]=4
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºåŒ»æœ¯")
		elseif s == "jdp" then
			set selected_attr[i]=5
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºèƒ†é­„")
		elseif s == "jjm" then
			set selected_attr[i]=6
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºç»è„‰")
		elseif s == "jsj" then
			set selected_attr[i]=0
			call DisplayTextToPlayer(p, 0, 0, "|cffffff00ä¸´æ—¶å¢åŠ çš„å±æ€§è®¾å®šä¸ºéšæœº")
		endif
	endif
	set p=null
endfunction
function reduceAttr takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer attr= LoadInteger(YDHT, GetHandleId(t), 0)
 local string text= LoadStr(YDHT, GetHandleId(t), 1)
 local integer value= LoadInteger(YDHT, GetHandleId(t), 2)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 3)
	if attr == 1 then
		set wuxing[i]=wuxing[i] - value
	elseif attr == 2 then
		set gengu[i]=gengu[i] - value
	elseif attr == 3 then
		set fuyuan[i]=fuyuan[i] - value
	elseif attr == 4 then
		set yishu[i]=yishu[i] - value
	elseif attr == 5 then
		set danpo[i]=danpo[i] - value
	elseif attr == 6 then
		set jingmai[i]=jingmai[i] - value
	endif
	call CreateTextTagUnitBJ(text + "-" + I2S(value), udg_hero[i], 60, 14, 100, 0, 0, 30)
	call Nw(3. , bj_lastCreatedTextTag)
    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 400., GetRandomReal(80, 100))
endfunction
function addRealAttrTemp takes integer i,integer j returns nothing
 local integer value= GetUnitAbilityLevel(udg_hero[i], 'A0DP') * j
 local integer attr= 0
 local string text= ""
 local timer t= null
	if selected_attr[i] != 0 then
		set attr=selected_attr[i]
	else
		set attr=GetRandomInt(1, 6)
	endif
	if attr == 1 then
		set wuxing[i]=wuxing[i] + value
		set text="æ‚Ÿæ€§"
	elseif attr == 2 then
		set gengu[i]=gengu[i] + value
		set text="æ ¹éª¨"
	elseif attr == 3 then
		set fuyuan[i]=fuyuan[i] + value
		set text="ç¦ç¼˜"
	elseif attr == 4 then
		set yishu[i]=yishu[i] + value
		set text="åŒ»æœ¯"
	elseif attr == 5 then
		set danpo[i]=danpo[i] + value
		set text="èƒ†é­„"
	elseif attr == 6 then
		set jingmai[i]=jingmai[i] + value
		set text="ç»è„‰"
	endif
	call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\frozenarmor.mdx", udg_hero[i], "overhead"))
	call CreateTextTagUnitBJ(text + "+" + I2S(value), udg_hero[i], 60, 14, 100, 0, 0, 30)
	call Nw(3. , bj_lastCreatedTextTag)
    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 400., GetRandomReal(80, 100))
	if ( GetUnitAbilityLevel(udg_hero[i], 'S002') < 1 or GetRandomInt(1, 20) <= 19 ) then
		set t=CreateTimer()
		call SaveInteger(YDHT, GetHandleId(t), 0, attr)
		call SaveStr(YDHT, GetHandleId(t), 1, text)
		call SaveInteger(YDHT, GetHandleId(t), 2, value)
		call SaveInteger(YDHT, GetHandleId(t), 3, i)
		call TimerStart(t, 30, false, function reduceAttr)
	endif
	set t=null
endfunction
function GuiYuanTuNa takes nothing returns nothing
    local unit u= GetAttacker()
    local integer i= 0
	if ( GetUnitAbilityLevel(u, 'A0DP') >= 1 ) then
		set i=1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
		if GetRandomInt(0, 100) <= 15 + fuyuan[i] / 5 then
			call WuGongShengChong(u , 'A0DP' , 800)
		endif
		if GetUnitAbilityLevel(u, 'A07W') >= 1 and GetRandomInt(0, 100) <= 15 then
			call addRealAttrTemp(i , 1)
		endif
	endif
	if ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0DP') >= 1 ) then
		set i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
		if GetUnitAbilityLevel(GetTriggerUnit(), 'A07T') >= 1 and GetRandomInt(0, 100) <= 15 then
			call addRealAttrTemp(i , 1)
		endif
	endif
	set u=null
endfunction
function periodicAddAttr takes nothing returns nothing
    local integer i= 1
    loop
        exitwhen i > 5
        if GetUnitAbilityLevel(udg_hero[i], 'A0DP') >= 1 then
            call addRealAttrTemp(i , 5)
        endif
        set i=i + 1
    endloop
endfunction

function IsShuiShangPiao takes nothing returns boolean
	return GetSpellAbilityId() == 'A07Y'
endfunction
function XYInMap takes real x,real y returns boolean
    if x < GetRectMinX(GetEntireMapRect()) then
        return false
    endif
    if x > GetRectMaxX(GetEntireMapRect()) then
        return false
    endif
    if y < GetRectMinY(GetEntireMapRect()) then
        return false
    endif
    if y > GetRectMaxY(GetEntireMapRect()) then
        return false
    endif
    return true
endfunction
function saveVarsInTimer takes timer tm,unit u,real x,real y,real n,real distance,real angle,real a,real b,real m returns nothing
	call SaveUnitHandle(YDHT, GetHandleId(tm), 0, u)
    call SaveReal(YDHT, GetHandleId(tm), 1, x)
    call SaveReal(YDHT, GetHandleId(tm), 2, y)
    call SaveReal(YDHT, GetHandleId(tm), 3, n)
    call SaveReal(YDHT, GetHandleId(tm), 4, distance)
    call SaveReal(YDHT, GetHandleId(tm), 5, angle)
    call SaveReal(YDHT, GetHandleId(tm), 6, a)
    call SaveReal(YDHT, GetHandleId(tm), 7, b)
    call SaveReal(YDHT, GetHandleId(tm), 8, m)
endfunction
function Fly_tm takes nothing returns nothing
 local timer tm=GetExpiredTimer()
    local unit u=LoadUnitHandle(YDHT, GetHandleId(tm), 0)
    local real x=LoadReal(YDHT, GetHandleId(tm), 1)
    local real y=LoadReal(YDHT, GetHandleId(tm), 2)
    local real n=LoadReal(YDHT, GetHandleId(tm), 3)
    local real dis=LoadReal(YDHT, GetHandleId(tm), 4)
    local real ang=LoadReal(YDHT, GetHandleId(tm), 5)
    local real a=LoadReal(YDHT, GetHandleId(tm), 6)
    local real b=LoadReal(YDHT, GetHandleId(tm), 7)
    local real m=LoadReal(YDHT, GetHandleId(tm), 8) + 1
    local real h=a * m * m + b * m
    if m <= n then
        call SaveReal(YDHT, GetHandleId(tm), 8, m)
        call PauseUnit(u, true)
        call SetUnitFlyHeight(u, h, 0)
        if XYInMap(x + m * dis * Cos(ang * bj_DEGTORAD) , y + m * dis * Sin(ang * bj_DEGTORAD)) then
            set x=x + m * dis * Cos(ang * bj_DEGTORAD)
            set y=y + m * dis * Sin(ang * bj_DEGTORAD)
            call SetUnitX(u, x)
            call SetUnitY(u, y)
        else
            call SetUnitFlyHeight(u, 0, 0)
            call PauseUnit(u, false)
            call clearTimer(tm)
        endif
    else
        call PauseUnit(u, false)
        call clearTimer(tm)
    endif
    set u=null
    set tm=null
endfunction
function Fly takes unit u,real speed,real height,real angle,real time returns nothing
    local timer tm=CreateTimer()
    local real x=GetUnitX(u)
    local real y=GetUnitY(u)
    local real n=time * 100
    local real distance=speed / 100
    local real a=- 4 * height / ( n * n )
    local real b=4 * height / n
    if height > 0 then
        call UnitAddAbility(u, 'Arav')
        call UnitRemoveAbility(u, 'Arav')
    endif
    call saveVarsInTimer(tm , u , x , y , n , distance , angle , a , b , 0)
    call TimerStart(tm, 0.01, true, function Fly_tm)
    set tm=null
endfunction
function FlyEnd takes nothing returns nothing
 local timer tm=GetExpiredTimer()
 local unit u=LoadUnitHandle(YDHT, GetHandleId(tm), 0)
	call DestroyEffect(udg_JTX[GetPlayerId(GetOwningPlayer(u)) + 1])
	call clearTimer(tm)
	set u=null
	set tm=null
endfunction
function ShuiShangPiao takes nothing returns nothing
 local location source= GetUnitLoc(GetTriggerUnit())
 local location destination= GetSpellTargetLoc()
 local real angle= AngleBetweenPoints(source, destination)
 local real speed= 800. + 50 * GetUnitAbilityLevel(GetTriggerUnit(), 'A07Y')
 local real height= 200.
 local timer t= CreateTimer()
 local real lastTime= 2
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A07W') >= 1 then // ä¹¾å¤å¤§æŒªç§»
set speed=speed * 2
	endif
	set lastTime=RMinBJ(DistanceBetweenPoints(source, destination) / speed, 2.) //è½»åŠŸæŒç»­æ—¶é—´
call WuGongShengChong(GetTriggerUnit() , 'A07Y' , 100)
	call SetUnitFacing(GetTriggerUnit(), angle)
	call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin", GetTriggerUnit(), "Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"))
	set udg_JTX[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]=AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl", GetTriggerUnit(), "origin")
    call SetUnitAnimation(GetTriggerUnit(), "walk")
	call Fly(GetTriggerUnit() , speed , height , angle , lastTime)
	//call YDWEJumpTimer(GetTriggerUnit(),angle,speed*lastTime,lastTime,0.03,height)
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, GetTriggerUnit())
	call TimerStart(t, lastTime, false, function FlyEnd)
	call RemoveLocation(source)
	call RemoveLocation(destination)
	set source=null
	set destination=null
	set t=null
endfunction

function TieZhang_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
 local timer tm= CreateTimer()
 local integer i= 1
	loop
		exitwhen i > 5
		call TriggerRegisterPlayerChatEvent(t, Player(i - 1), "", true)
		set selected_attr[i]=0
		set i=i + 1
	endloop
	call TriggerAddAction(t, function selectAttr)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsTieShaZhang))
	call TriggerAddAction(t, function TieShaZhang)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsDuSheShenZhang))
    call TriggerAddAction(t, function DuSheShenZhang)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsTongBeiQuan))
	call TriggerAddAction(t, function TongBeiQuan)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsShuiShangPiao))
    call TriggerAddAction(t, function ShuiShangPiao)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsGuiYuan))
	call TriggerAddAction(t, function GuiYuanTuNa)
    call TimerStart(tm, 30, true, function periodicAddAttr)
	set t=null
	set tm=null
endfunction


 // è§¦å‘å™¨æ¡ä»¶
 function IsQiXingLuo takes nothing returns boolean
	return GetSpellAbilityId() == 'A08A'
 endfunction
 
 function QiXingLuo_Condition takes nothing returns boolean
	return DamageFilter(LoadUnitHandle(YDHT, $6162A, 0) , GetFilterUnit())
 endfunction
 
 function QiXingLuo_Action takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local integer iMax= LoadInteger(YDHT, GetHandleId(t), 0)
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local real range= LoadReal(YDHT, GetHandleId(t), 2)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 3)
 local location loc= GetUnitLoc(u)
 local real shxishu= 1 + DamageCoefficientByAbility(u , 'A07W' , 0.6) + DamageCoefficientByAbility(u , 'A07T' , 1)
local real shanghai= 0.
 local group g= null
 local unit l__ut= null
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , 'I0E2') then
	    set shxishu=shxishu * 2
  endif
	if ( i <= iMax ) then
		set g=CreateGroup()
		call SaveUnitHandle(YDHT, $6162A, 0, u)
		call GroupEnumUnitsInRangeOfLoc(g, loc, range, Condition(function QiXingLuo_Condition))
		set l__ut=GroupPickRandomUnit(g)
		//æ·»åŠ ç‰¹æ•ˆ
		call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin", l__ut, "Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl"))
		//uå¯¹uté€ æˆä¼¤å®³
		set shanghai=ShangHaiGongShi(u , l__ut , 30 * ( 0.8 + i * 0.2 ) , 30 * ( 0.8 + i * 0.2 ) , shxishu , 'A08A')
		call WuGongShangHai(u , l__ut , shanghai)
		if ( GetUnitAbilityLevel(u, 'A07R') >= 1 ) then // +å¸æ˜Ÿå¤§æ³•
if ( GetRandomInt(0, 100) <= 50 ) then
				call WanBuff(u , l__ut , 4) //æ··ä¹±
else
				call WanBuff(u , l__ut , 11) //å°ç©´
endif
		endif
		call DestroyGroup(g)
		call SaveInteger(YDHT, GetHandleId(t), 3, i + 1)
	else
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	call RemoveLocation(loc)
	set t=null
	set u=null
	set loc=null
	set g=null
	set l__ut=null
 endfunction
 
 
 function QiXingLuoChangKong takes nothing returns nothing
 local timer t= CreateTimer()
 local integer i= 0
 local unit u= GetTriggerUnit()
 local real range= 800
	if ( GetUnitAbilityLevel(u, 'A07U') >= 1 ) then // +åŒæ‰‹
set range=range / 2
	endif
	if ( GetUnitAbilityLevel(u, 'A083') >= 1 ) then // +å°æ— ç›¸
set range=range / 2
	endif
	call WuGongShengChong(u , 'A08A' , 200) //æ­¦åŠŸå‡é‡
call SaveInteger(YDHT, GetHandleId(t), 0, 7 * ( 1 + GetUnitAbilityLevel(u, 'A07U') ) * ( 1 + GetUnitAbilityLevel(u, 'A083') ))
	call SaveUnitHandle(YDHT, GetHandleId(t), 1, u)
	call SaveReal(YDHT, GetHandleId(t), 2, range)
	call TimerStart(t, 0.3, true, function QiXingLuo_Action)
	set t=null
	set u=null
 endfunction

 // è§¦å‘å™¨æ¡ä»¶
function IsDaiZongRuHe takes nothing returns boolean
	return GetSpellAbilityId() == 'A08B'
endfunction
// ç§»é™¤å²±å®—å¦‚ä½•çš„BUFF
function removeDaiZongBuff takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local real extraHit= LoadReal(YDHT, GetHandleId(t), 1)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 2)
	// call BJDebugMsg("t:"+I2S(GetHandleId(t))+", i:"+I2S(i))
	//å‡å°‘æš´å‡»å€æ•°
	set udg_baojishanghai[i]=udg_baojishanghai[i] - extraHit
	//åœæ­¢è®¡æ—¶å™¨
	call clearTimer(t)
	set t=null
	set u=null
endfunction
// å‘ç›®æ ‡æ–½æ”¾å²±å®—å¦‚ä½•
function issueTargetDaiZong takes unit u,integer i,timer t,real extraHit returns nothing
	// é©¬ç”²å¯¹è‹±é›„æ–½æ”¾é›·å‡»
	call maJiaUseAbilityAtEnemysLoc(u , 'e01F' , 'A08C' , $D0097 , u , 3)
	// å¦ä¸€é©¬ç”²å¯¹è‹±é›„æ–½æ”¾å¢ç›ŠæŠ€èƒ½ï¼Œè‹±é›„è·å¾—BUFF
	call maJiaUseAbilityAtEnemysLoc(u , 'e000' , 'A08D' , $D0062 , u , 3)
	// è‹±é›„æš´å‡»å€æ•°å¢åŠ 
	set udg_baojishanghai[i]=udg_baojishanghai[i] + extraHit
	// 1ç§’è§¦å‘1æ¬¡çš„å®šæ—¶å™¨ï¼Œå¦‚æœè‹±é›„å¤±å»BUFFï¼Œåˆ™å¤±å»æš´å‡»å€æ•°
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call SaveReal(YDHT, GetHandleId(t), 1, extraHit)
	call SaveInteger(YDHT, GetHandleId(t), 2, i)
	call TimerStart(t, 10, false, function removeDaiZongBuff)
endfunction
function IsDaiZongBeiDong takes nothing returns boolean
	return UnitHasBuffBJ(GetAttacker(), 'B01K') and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))
endfunction
function DaiZongBeiDongDamageFilter takes nothing returns boolean
	return DamageFilter(GetAttacker() , GetFilterUnit())
endfunction
function DaiZongBeiDong_Action takes nothing returns nothing
 local unit u= GetAttacker()
 local unit l__ut= GetEnumUnit()
 local string modelName= "Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathTargetArt.mdl"
local real shxishu= 1
	if GetRandomInt(0, 100) <= 15 then
		call PassiveWuGongEffectAndDamage(u , l__ut , modelName , 20 , 20 , shxishu , 'A08B')
	endif
	set u=null
	set l__ut=null
endfunction
function DaiZongBeiDong takes nothing returns nothing
 local location loc= GetUnitLoc(GetAttacker())
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(700 , loc , Condition(function DaiZongBeiDongDamageFilter)), function DaiZongBeiDong_Action)
	call RemoveLocation(loc)
	set loc=null
endfunction
 
function DaiZongRuHe takes nothing returns nothing
 local integer i= 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
 local real extraHit= ( 0.5 + 0.2 * GetUnitAbilityLevel(GetTriggerUnit(), 'A07T') + 0.2 * GetUnitAbilityLevel(GetTriggerUnit(), 'A07U') ) * GetUnitAbilityLevel(GetTriggerUnit(), 'A08B')
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(GetTriggerUnit() , 'I0E2') then
	    set extraHit=extraHit * 3
  endif
	if isTitle(i , 34) then
			set extraHit=extraHit * 2
	endif
	call WuGongShengChong(GetTriggerUnit() , 'A08B' , 100) //æ­¦åŠŸå‡é‡
if GetUnitAbilityLevel(GetTriggerUnit(), 'A083') >= 1 then // å°æ— ç›¸åŠŸ
call issueTargetDaiZong(udg_hero[1] , 1 , CreateTimer() , extraHit)
		call issueTargetDaiZong(udg_hero[2] , 2 , CreateTimer() , extraHit)
		call issueTargetDaiZong(udg_hero[3] , 3 , CreateTimer() , extraHit)
		call issueTargetDaiZong(udg_hero[4] , 4 , CreateTimer() , extraHit)
		call issueTargetDaiZong(udg_hero[5] , 5 , CreateTimer() , extraHit)
	else
		call issueTargetDaiZong(GetTriggerUnit() , i , CreateTimer() , extraHit)
	endif
endfunction

// è§¦å‘å™¨æ¡ä»¶
function IsShiBaPan takes nothing returns boolean
	return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A08E')
endfunction
// è§¦å‘å™¨åŠ¨ä½œ
function ShiBaPan takes nothing returns nothing
 local unit u= GetAttacker()
 local unit l__ut= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	// local integer abilityLevel = IMinBJ(1 + GetUnitAbilityLevel(u, 'A07T') + GetUnitAbilityLevel(u, 'A07R') + GetUnitAbilityLevel(u, 'A07W'), 4)
 local integer abilityLevel= IMinBJ(1 + GetUnitAbilityLevel(u, 'A07T') + GetUnitAbilityLevel(u, 'A07R') + GetUnitAbilityLevel(u, 'A07U'), 4)
 local integer gailv= 15
// ä¸“å±åŠ æˆï¼Œè§¦å‘æ¦‚ç‡100%
if UnitHaveItem(u , 'I0E2') then
	    set gailv=gailv + 15
    endif
	if ( GetRandomInt(1, 100) <= gailv + GetUnitAbilityLevel(u, 'A08F') + fuyuan[i] / 5 and not ( UnitHasBuffBJ(u, 'B01L') ) ) then
      call WuGongShengChong(u , 'A08E' , 500)
      if GetUnitAbilityLevel(u, 'A083') >= 1 then
		 call maJiaUseLeveldAbilityAtTargetLoc(udg_hero[1] , 'e000' , 'A08F' , abilityLevel , $D0085 , udg_hero[1] , 3)
		 call maJiaUseLeveldAbilityAtTargetLoc(udg_hero[2] , 'e000' , 'A08F' , abilityLevel , $D0085 , udg_hero[2] , 3)
		 call maJiaUseLeveldAbilityAtTargetLoc(udg_hero[3] , 'e000' , 'A08F' , abilityLevel , $D0085 , udg_hero[3] , 3)
		 call maJiaUseLeveldAbilityAtTargetLoc(udg_hero[4] , 'e000' , 'A08F' , abilityLevel , $D0085 , udg_hero[4] , 3)
		 call maJiaUseLeveldAbilityAtTargetLoc(udg_hero[5] , 'e000' , 'A08F' , abilityLevel , $D0085 , udg_hero[5] , 3)
	  else
		 call maJiaUseLeveldAbilityAtTargetLoc(u , 'e000' , 'A08F' , abilityLevel , $D0085 , u , 3)
	  endif
	endif
	set u=null
	set l__ut=null
endfunction

// è§¦å‘å™¨æ¡ä»¶
function IsWuDaFu takes nothing returns boolean
	return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A08G')
endfunction
function WuDaFuJianDamageFilter takes nothing returns boolean
	return DamageFilter(GetAttacker() , GetFilterUnit())
endfunction
function WuDaFuJian_Action takes nothing returns nothing
 local unit u= GetAttacker()
 local unit l__ut= GetEnumUnit()
 local string modelName1= "Abilities\\Spells\\Other\\Tornado\\TornadoElementalSmall.mdl"
local string modelName2= "Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl"
local string modelName3= "Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"
local string modelName4= "Abilities\\Spells\\NightElf\\EntanglingRoots\\EntanglingRootsTarget.mdl"
local string modelName5= "Abilities\\Spells\\Human\\Blizzard\\BlizzardTarget.mdl"
local real shxishu= 1 + DamageCoefficientByAbility(u , 'A07P' , 1.0) + DamageCoefficientByAbility(u , 'A07T' , 1.0) + DamageCoefficientByItem(u , 'I0E2' , 3.0)
 local integer i= GetRandomInt(0, 100)
	// ä¸“å±åŠ æˆ
	// if UnitHaveItem(u, 'I0E2') then
	//     set shxishu = shxishu * 2
  // endif
	if ( i <= 20 ) then
		call PassiveWuGongEffectAndDamage(u , l__ut , modelName1 , 20 , 100 , shxishu , 'A08G')
		if ( GetRandomInt(0, 100) < 20 and GetUnitAbilityLevel(u, 'A07U') >= 1 ) then
			call WanBuff(u , l__ut , 4)
		endif
	elseif ( i <= 40 ) then
		call PassiveWuGongEffectAndDamage(u , l__ut , modelName2 , 40 , 80 , shxishu , 'A08G')
		if ( GetRandomInt(0, 100) < 20 and GetUnitAbilityLevel(u, 'A07U') >= 1 ) then
			call WanBuff(u , l__ut , 5)
		endif
	elseif ( i <= 60 ) then
		call PassiveWuGongEffectAndDamage(u , l__ut , modelName3 , 60 , 60 , shxishu , 'A08G')
		if ( GetRandomInt(0, 100) < 20 and GetUnitAbilityLevel(u, 'A07U') >= 1 ) then
			call WanBuff(u , l__ut , 3)
		endif
	elseif ( i <= 80 ) then
		call PassiveWuGongEffectAndDamage(u , l__ut , modelName4 , 80 , 40 , shxishu , 'A08G')
		if ( GetRandomInt(0, 100) < 20 and GetUnitAbilityLevel(u, 'A07U') >= 1 ) then
			call WanBuff(u , l__ut , 13)
		endif
	else
		call PassiveWuGongEffectAndDamage(u , l__ut , modelName5 , 100 , 20 , shxishu , 'A08G')
		if ( GetRandomInt(0, 100) < 20 and GetUnitAbilityLevel(u, 'A07U') >= 1 ) then
			call WanBuff(u , l__ut , 9)
		endif
	endif
		
	set u=null
	set l__ut=null
endfunction
// è§¦å‘å™¨åŠ¨ä½œ
function WuDaFuJian takes nothing returns nothing
	call PassiveWuGongAction(GetAttacker() , GetTriggerUnit() , 15 , 700 , Condition(function WuDaFuJianDamageFilter) , function WuDaFuJian_Action , 'A08G' , 500)
endfunction

// è§¦å‘å™¨æ¡ä»¶
function IsKuaiHuoSan takes nothing returns boolean
	return PassiveWuGongCondition(GetAttacker() , GetTriggerUnit() , 'A08H')
endfunction
// è§¦å‘å™¨åŠ¨ä½œ
function KuaiHuoSanJian takes nothing returns nothing
 local unit caster= GetAttacker()
local real angle= 270
local unit missile= null
 local real originspeed= 500
local real maxspeed= 800
local real accel= 56
local real distance= 2000
local real arc= 0
local real range= 300
local real damage= 0
local location loc= GetUnitLoc(caster)
local unit target= null
local real height= 50
local real l__hp= 400
local string Effect= "Abilities\\Weapons\\Dryadmissile\\Dryadmissile.mdl"
local boolean gravity= false
local integer i= 1 + GetPlayerId(GetOwningPlayer(caster))
 local integer j= 0
 local integer jmax= 2
 local real shxishu= 1 + DamageCoefficientByAbility(GetTriggerUnit() , 'A07R' , 1) + DamageCoefficientByAbility(GetTriggerUnit() , 'A07U' , 0.8) + DamageCoefficientByAbility(GetTriggerUnit() , 'A083' , 1.5)
	if ( GetUnitAbilityLevel(caster, 'A07T') >= 1 ) then
		set range=range + 200
	endif
	// if (GetUnitAbilityLevel(caster, 'A07U') >= 1) then
		// set jmax = jmax + 2
	// endif
	// if (GetUnitAbilityLevel(caster, 'A083') >= 1) then
		// set jmax = jmax + 6
	// endif
	set damage=ShangHaiGongShi(caster , null , 16 , 16 , shxishu , 'A08H')
	if ( GetRandomInt(0, 100) <= 15 + fuyuan[i] ) then
		call WuGongShengChong(caster , 'A08H' , 700 - GetUnitAbilityLevel(caster, 'A03V') * 350)
		loop
			exitwhen j >= jmax
			set angle=GetUnitFacing(caster) + 360 / jmax * j + GetRandomReal(- 90, 90)
			set missile=CreateUnit(GetOwningPlayer(caster), 'h00M', GetUnitX(caster), GetUnitY(caster), angle) //å¼¹å¹•å•ä½
call MissileCast(caster , missile , originspeed , maxspeed , accel , angle , distance , arc , range , damage , loc , target , height , l__hp , Effect , gravity)
			set j=j + 1
		endloop
		//call MissileCast(caster, missile, originspeed, maxspeed, accel, angle, distance, arc, range, damage, loc, target, height, hp, Effect, gravity)
	endif
	// æ’æ³„
	call RemoveLocation(loc)
	set caster=null
	set missile=null
	set target=null
	set loc=null
endfunction

function TaiShan_Trigger takes nothing returns nothing
	
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsQiXingLuo))
    call TriggerAddAction(t, function QiXingLuoChangKong)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsDaiZongRuHe))
	call TriggerAddAction(t, function DaiZongRuHe)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsDaiZongBeiDong))
	call TriggerAddAction(t, function DaiZongBeiDong)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsShiBaPan))
	call TriggerAddAction(t, function ShiBaPan)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsWuDaFu))
	call TriggerAddAction(t, function WuDaFuJian)
	
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsKuaiHuoSan))
	call TriggerAddAction(t, function KuaiHuoSanJian)
	set t=null
endfunction
// é—¨æ´¾â€”â€”åµ©å±±
// åµ©å±±å‰‘æ³• è¢«åŠ¨ç™½æ¿

function isSongShanJian takes unit u,unit l__ut returns boolean
	return PassiveWuGongCondition(u , l__ut , 'A0BF')
endfunction
function songShanCondition takes nothing returns boolean
	return DamageFilter(GetAttacker() , GetFilterUnit())
endfunction
function songSanAction takes nothing returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(GetAttacker()))
	// åŒæ‰‹äº’æ +80%
 local real shxishu= 1. + DamageCoefficientByAbility(GetAttacker() , 'A07U' , 0.8)
	// è¿åŸå‰‘æ³•=èµ°ç«å…¥é­”
	if GetUnitAbilityLevel(GetAttacker(), 'A06J') >= 1 and GetRandomInt(1, 100) <= 60 then
    	call WanBuff(GetAttacker() , GetEnumUnit() , 2)
    endif
	// ä¸“å± FIXME
	if UnitHaveItem(GetAttacker() , 'I0EJ') then
	    set shxishu=shxishu * 4
    endif
	call PassiveWuGongEffectAndDamage(GetAttacker() , GetEnumUnit() , "war3mapImported\\zhiyu.mdx" , 24 , 28 , shxishu , 'A0BF')
endfunction
function songShanJianFa takes unit u,unit l__ut returns nothing
    local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	call PassiveWuGongAction(u , l__ut , 15 + fuyuan[i] * 0.3 , 700 , Condition(function songShanCondition) , function songSanAction , 'A0BF' , 900.)
endfunction
// å­åˆåäºŒå‰‘ æš´é£é›ª æ¢ä¸ªåŒºåŸŸç‰¹æ•ˆ
function isZiWuJian takes nothing returns boolean
	return GetSpellAbilityId() == 'A0BG'
endfunction
function ziWuJian takes nothing returns nothing
 local real x= GetSpellTargetX()
 local real y= GetSpellTargetY()
 local unit u= null
	call WuGongShengChong(GetTriggerUnit() , 'A0BG' , 250)
	set u=null
endfunction
// å¯’å†°ç¥æŒ éœœå†»é—ªç”µ
// å¤§åµ©é˜³ç¥æŒ å¿«é€Ÿå‡»é€€
// æ— åå†…åŠŸ å¯ä»¥å°†å†…åŠ›éšè—èµ·æ¥ï¼Œä¸è®©å¯¹æ–¹å¸åˆ°ä¸€ä¸ä¸€æ¯«ã€‚
// ä¸å¯’å†°çœŸæ°”è”åŠ¨
// ä¸“å±
// å¯’é­„å‰‘
// ç§°å·
// åµ©å±±æŒé—¨

// åƒè››æ‰‹çš„èœ˜è››
function qianZhuZhu takes nothing returns nothing
 local player p= GetOwningPlayer(GetAttacker())
 local integer i= 1 + GetPlayerId(p)
 local unit u= udg_hero[i]
 local unit uc= GetTriggerUnit()
 local real shanghai= 0.
 local real shxishu= 1.

    // ç‰¹æ”»ä¼¤å®³åŠ æˆ
    if special_attack[i] >= 10 then
        set shxishu=shxishu + 0.7 + 0.03 * special_attack[i]
    endif
    // è‘µèŠ±ä¼¤å®³åŠ æˆ
    if GetUnitAbilityLevel(u, KUI_HUA) >= 1 then
        set shxishu=shxishu + 0.8
    endif
    // ä¸“å±åŠ æˆ
    if UnitHaveItem(u , ITEM_HAN_SHA) then
        set shxishu=shxishu * ( 2 + 0.03 * GetItemCharges(FetchUnitItem(u , ITEM_HAN_SHA)) )
    endif
	set shanghai=ShangHaiGongShi(u , uc , 64. , 78. , shxishu , QIAN_ZHU_SHOU)
	call WuGongShangHai(u , uc , shanghai)
    // æ¯’è››æ”»å‡»è§¦å‘ä¸­æ¯’æ•ˆæœ
	if GetRandomInt(1, 100) <= 20 then
	    call WanBuff(u , uc , 13) // ä¸­æ¯’
elseif GetRandomInt(1, 100) <= 20 then
	    call WanBuff(u , uc , 14) // æ·±åº¦ä¸­æ¯’
endif
	set uc=null
	set u=null
	set p=null
endfunction
function qianZhuShouCondition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
// åƒè››æ‰‹çš„AOEæ•ˆæœ
function qianZhuShouAoe takes nothing returns nothing
    local unit uc= GetEnumUnit()
 local unit u= GetAttacker()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
    // ç‰¹æ”»ä¼¤å®³åŠ æˆ
    if special_attack[i] >= 10 then
        set shxishu=shxishu + 0.7 + 0.03 * special_attack[i]
    endif
    // è‘µèŠ±ä¼¤å®³åŠ æˆ
    if GetUnitAbilityLevel(u, KUI_HUA) >= 1 then
        set shxishu=shxishu + 0.8
    endif
    // ä¸“å±åŠ æˆ
    if UnitHaveItem(u , ITEM_HAN_SHA) then
        set shxishu=shxishu * ( 2 + 0.03 * GetItemCharges(FetchUnitItem(u , ITEM_HAN_SHA)) )
    endif
	set shanghai=ShangHaiGongShi(u , uc , 16. , 20. , shxishu , QIAN_ZHU_SHOU)
	call WuGongShangHai(u , uc , shanghai)
    // AOEçš„ç‰¹æ•ˆ
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl", uc, "origin"))
    // ç»è„‰è¾¾åˆ°20æœ‰ä¸€å®šæ¦‚ç‡è§¦å‘ä¸­æ¯’
    if jingmai[i] >= 20 and GetRandomInt(1, 100) < 30 then
        call WanBuff(u , uc , 13)
    endif
	set u=null
    set uc=null
endfunction
// åƒè››æ‰‹ï¼šå¯¹å‘¨å›´æ•Œäººé€ æˆå°‘é‡AOEä¼¤å®³
function qianZhuShou takes nothing returns nothing
    local unit u= GetAttacker()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer id= 'n00Y'
 local unit temp= null
    local group g=CreateGroup()
    local real r= 500. + 40. * GetUnitAbilityLevel(u, QIAN_ZHU_SHOU)
    // AOEæ•ˆæœ
    if GetRandomInt(1, 100) <= 15 + fuyuan[i] / 5 then
        call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), r, Condition(function qianZhuShouCondition))
        call ForGroup(g, function qianZhuShouAoe)
        call WuGongShengChong(u , QIAN_ZHU_SHOU , 900.)
    endif
    // ç¦ç¼˜è¾¾åˆ°20ï¼Œå¬å”¤æ¯’è››æ•ˆæœ
    if fuyuan[i] >= 20 and GetRandomInt(1, 100) <= 15 + fuyuan[i] / 5 then
        set temp=CreateUnit(p, id, GetUnitX(u), GetUnitY(u), 270)
    	call UnitApplyTimedLifeBJ(5, 'BTLF', temp)
    	call WuGongShengChong(u , QIAN_ZHU_SHOU , 900.)
        // æ­é…åŒæ‰‹ï¼šåŒå€æ¯’è››æ•ˆæœ
    	if GetUnitAbilityLevel(u, SHUANG_SHOU) >= 1 then
    	    set temp=CreateUnit(p, id, GetUnitX(u), GetUnitY(u), 270)
            call UnitApplyTimedLifeBJ(5, 'BTLF', temp)
    	endif
    endif
    call GroupClear(g)
    call DestroyGroup(g)
    set g=null
	set p=null
	set u=null
	set temp=null
endfunction

// äº”æ¯’ç¬›å’’
function wuDuZhou takes nothing returns nothing
    local unit temp= null
    local unit u= GetTriggerUnit()
    local player p= GetOwningPlayer(u)
    local real x= GetUnitX(u)
    local real y= GetUnitY(u)
    call WuGongShengChong(u , WU_DU_ZHOU , 100)
    set temp=CreateUnit(p, 'e000', x, y, 270)
    call UnitAddAbility(temp, 'A0DW')
    call SetUnitAbilityLevel(temp, 'A0DW', GetUnitAbilityLevel(u, WU_DU_ZHOU))
    call ShowUnitHide(temp)
    call IssuePointOrderById(temp, $D0208, x, y)
    call UnitApplyTimedLife(temp, 'BHwe', 3.)
    set temp=null
    set u=null
    set p=null
endfunction
function wuDuZhouDamage takes nothing returns nothing
 local unit u= udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc= GetTriggerUnit()
    local real shxishu= 1.
    local real shanghai= 0.
    // ä¸€å®šæ¦‚ç‡éšæœºäº§ç”Ÿä¸€ç§debuff
    if GetRandomInt(1, 100) <= 25 then
        call WanBuff(u , uc , GetRandomInt(1, 16))
    endif
    if GetUnitAbilityLevel(u, KUI_HUA) != 0 then
        set shxishu=shxishu + 0.8
    endif
    if GetUnitAbilityLevel(u, HUA_GU) != 0 then
        set shxishu=shxishu + 0.8
    endif
    if GetUnitAbilityLevel(u, HUA_GONG) != 0 then
        set shxishu=shxishu + 0.8
	endif
	// ä¸“å±åŠ æˆ
    if UnitHaveItem(u , ITEM_HAN_SHA) then
        set shxishu=shxishu * ( 2 + 0.03 * GetItemCharges(FetchUnitItem(u , ITEM_HAN_SHA)) )
    endif
    set shanghai=ShangHaiGongShi(u , uc , 14 , 80 , shxishu , WU_DU_ZHOU)
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction

// é©­è›‡æœ¯å¼•å‘æ¯’çˆ†
function yuSheShuExplosion takes nothing returns nothing
    local unit uc= GetEnumUnit()
 local unit u= GetAttacker()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1.
 local real shanghai=0.
    // è›‡æ–æ•ˆæœ æ¯’çˆ†ä¼¤å®³+200%
    if UnitHaveItem(u , ITEM_SHE_ZHANG) then
        set shxishu=shxishu + 2
    endif
    // ä¸“å±åŠ æˆ
    if UnitHaveItem(u , ITEM_HAN_SHA) then
        set shxishu=shxishu * ( 2 + 0.03 * GetItemCharges(FetchUnitItem(u , ITEM_HAN_SHA)) )
    endif
	set shanghai=ShangHaiGongShi(u , uc , 16. , 80. , shxishu , YU_SHE_SHU)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl", uc, "origin"))
	call WuGongShangHai(u , uc , shanghai)
	set u=null
    set uc=null
endfunction
// å™¬å¿ƒå‰‘æ³•
function yuSheShu takes nothing returns nothing
    local unit u= GetAttacker()
    local unit l__ut= GetTriggerUnit()
    local player p= GetOwningPlayer(u)
    local integer i= 1 + GetPlayerId(p)
    local real shxishu= 1.
    local real damage= 1.
    local real range= 600
    local group g= null
    // 1. é€ æˆå•ä½“ä¼¤å®³
    if GetRandomInt(1, 100) <= fuyuan[i] / 5 + 15 then
        // 5. è›‡æ–æ•ˆæœ ä¼¤å®³+200%ï¼Œæ¯’çˆ†ä¼¤å®³ä¹Ÿ+200%ä¼¤å®³
        if UnitHaveItem(u , ITEM_SHE_ZHANG) then
            set shxishu=shxishu + 2
        endif
        // ä¸“å±åŠ æˆ
        if UnitHaveItem(u , ITEM_HAN_SHA) then
            set shxishu=shxishu * ( 2 + 0.03 * GetItemCharges(FetchUnitItem(u , ITEM_HAN_SHA)) )
        endif
        
        set damage=ShangHaiGongShi(u , l__ut , 30 , 160 , shxishu , YU_SHE_SHU)
        call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UDeathSmall\\UDeathSmall.mdl", l__ut, "overhead"))
        call WuGongShangHai(u , l__ut , damage)
        // 3. æŠ€èƒ½æ­é… + åŒ–éª¨ï¼šç ´é˜² 
        if GetUnitAbilityLevel(u, HUA_GU) >= 1 then
            call WanBuff(u , l__ut , 9)
        endif
        // 4. æŠ€èƒ½æ­é… + è‘µèŠ±ï¼šè™šå¼±
        if GetUnitAbilityLevel(u, KUI_HUA) >= 1 then
            call WanBuff(u , l__ut , 16)
        endif
        // 2. å¦‚æœç›®æ ‡æœ‰ä¸­æ¯’/æ·±åº¦ä¸­æ¯’BUFFï¼Œé€ æˆæ¯’çˆ†
        if UnitHasBuffBJ(l__ut, POISONED_BUFF) or UnitHasBuffBJ(l__ut, DEEP_POISONED_BUFF) then
            // æ·±åº¦ä¸­æ¯’æ¯’çˆ†èŒƒå›´æ‰©å¤§
            if UnitHasBuffBJ(l__ut, DEEP_POISONED_BUFF) then
                set range=900
            endif
            set g=CreateGroup()
            call GroupEnumUnitsInRange(g, GetUnitX(l__ut), GetUnitY(l__ut), range, Condition(function qianZhuShouCondition))
            call ForGroup(g, function yuSheShuExplosion)
            call DestroyGroup(g)
        endif
        // 6. æ­¦åŠŸå‡é‡
        call WuGongShengChong(u , YU_SHE_SHU , 600.)
    endif
    set g=null
    set u=null
    set l__ut=null
endfunction

function buTianHalfCd takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
    // æ­é… +é¾™è±¡èˆ¬è‹¥åŠŸ CDå‡åŠ
    if GetUnitAbilityLevel(u, LONG_XIANG) >= 1 then
        call EXSetAbilityState(EXGetUnitAbility(u, BU_TIAN_JING), 1, EXGetAbilityState(EXGetUnitAbility(u, BU_TIAN_JING), 1) / 2)
    endif
    call FlushChildHashtable(YDHT, GetHandleId(t))
    call DestroyTimer(t)
    set t=null
    set u=null
endfunction
// è¡¥å¤©å¿ƒç»
function buTianJing takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local integer level= GetUnitAbilityLevel(u, BU_TIAN_JING)
    local integer lifeBase= 500
    local integer realDamageBase= 10
    local integer deathPossibility= 15 - level
    local timer t= CreateTimer()
    call WuGongShengChong(u , BU_TIAN_JING , 60.)
    // æ­é… +è‘µèŠ± æå‡å¢åŠ é‡ï¼Œä½†åŒæ—¶æå‡æ­»äº¡æ¦‚ç‡
    if GetUnitAbilityLevel(u, KUI_HUA) >= 1 then
        set lifeBase=lifeBase * 2
        set deathPossibility=deathPossibility * 2
    endif
    // æ­é… +å°æ— ç›¸ ä¸ä¼šæ­»äº¡
    if GetUnitAbilityLevel(u, XIAO_WU_XIANG) >= 1 then
        set deathPossibility=0
    endif
    // æ­é… +å¸æ˜Ÿå¤§æ³• 10ç§’ä¹‹å†…æå‡æ”»é€Ÿ
    if GetUnitAbilityLevel(u, XI_XING) >= 1 then
        call maJiaUseLeveldAbilityAtTargetLoc(u , 'e000' , 'A08F' , 4 , $D0085 , u , 3)
    endif
    
    // 50%æ¦‚ç‡å¢åŠ æ°”è¡€ä¸Šé™ï¼Œ50%æ¦‚ç‡å¢åŠ çœŸå®ä¼¤å®³
    if GetRandomInt(1, 100) <= 50 then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\zhiyu.mdx", u, "overhead"))
        call LifeChange(u , 1 , - lifeBase * level , 'A0DQ')
    else
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\lifebreak.mdx", u, "overhead"))
        call ModifyHeroStat(2, u, 0, realDamageBase * level)
    endif
    // ä¸€å®šæ¦‚ç‡æ­»äº¡
    if GetRandomInt(1, 100) <= deathPossibility then
        call KillUnit(u)
    endif
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call TimerStart(t, 0.2, false, function buTianHalfCd)
    
    set t=null
    set u=null
endfunction

function wanChuCondition takes nothing returns boolean
    return DamageFilter(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0) , GetFilterUnit())
endfunction
function wanChuAction takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
    local player p= GetOwningPlayer(u)
    local integer j= LoadInteger(YDHT, GetHandleId(t), 1)
    local integer jmax= 4
    local group g= null
    local unit target= null
    local unit dummy= null
    // æ­é…åŒæ‰‹ï¼šæš—å™¨æ•°é‡åŠ å€
    if GetUnitAbilityLevel(u, SHUANG_SHOU) >= 1 then
        set jmax=jmax * 2
    endif
    // æ­é…å«æ²™å°„å½±ï¼šæš—å™¨æ•°é‡åŠ å€
    if UnitHaveItem(u , ITEM_HAN_SHA) then
        set jmax=jmax * 2
    endif
    
    if j == 1 then
        // æ­é… +å°æ— ç›¸ CDå‡åŠ
        if GetUnitAbilityLevel(u, XIAO_WU_XIANG) >= 1 then
            call EXSetAbilityState(EXGetUnitAbility(u, WAN_CHU_SHI_XIN), 1, EXGetAbilityState(EXGetUnitAbility(u, WAN_CHU_SHI_XIN), 1) / 2)
        endif
        // "å©†å©†å§Šå§Š"ç§°å· CDå‡åŠ
        if isTitle(1 + GetPlayerId(p) , 45) then
            // call EXSetAbilityState(EXGetUnitAbility(u, WAN_CHU_SHI_XIN), 1, 0)
            call EXSetAbilityState(EXGetUnitAbility(u, WAN_CHU_SHI_XIN), 1, EXGetAbilityState(EXGetUnitAbility(u, WAN_CHU_SHI_XIN), 1) / 2)
        endif
    endif
    if j < jmax then
        set g=CreateGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1200, Condition(function wanChuCondition))
        set target=GroupPickRandomUnit(g)
        set dummy=CreateUnit(p, 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
        call ShowUnitHide(dummy)
        call UnitAddAbility(dummy, 'A0DK')
        call IssueTargetOrderById(dummy, $D007F, target)
        call UnitApplyTimedLife(dummy, 'BHwe', 3)
        call DestroyGroup(g)
        call SaveInteger(YDHT, GetHandleId(t), 1, j + 1)
    else
        call FlushChildHashtable(YDHT, GetHandleId(t))
        call PauseTimer(t)
        call DestroyTimer(t)
    endif
    set g=null
    set target=null
    set dummy=null
    set t=null
    set u=null
    set p=null
endfunction
// ä¸‡èœå™¬å¿ƒ
function wanChuShiXin takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local timer t= CreateTimer()
    call WuGongShengChong(u , WAN_CHU_SHI_XIN , 120.)
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call TimerStart(t, 0.2, true, function wanChuAction)
    
    set u=null
endfunction
function wanChuEffect takes nothing returns nothing
    local unit u= udg_hero[1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
    local unit target= GetTriggerUnit()
    // è‘µèŠ±æ­é…ï¼šå¢åŠ ç™¾åˆ†æ¯”ä¼¤å®³
    local real coeff= 0.77 - 0.03 * GetUnitAbilityLevel(u, WAN_CHU_SHI_XIN) * ( 1 + GetUnitAbilityLevel(u, KUI_HUA) )
    call percentDamage(target , 100 - 100 * coeff , false)
    call WanBuff(u , target , 14)
    set u=null
    set target=null
endfunction

// æ¡ƒèŠ±å²›
// è½è‹±ç¥å‰‘æŒ
function luoYingZhang takes unit u returns nothing
 local real radius= 350
 local real duration= 3
 local real frequency= 0.03
 local real angleSpeed= 3.6
	
	// æ­¦åŠŸå‡é‡
	call WuGongShengChong(u , LUO_YING_ZHANG , 300)
	
	// +ä¹é˜´çœŸç»Â·å†…åŠŸï¼šæŒç»­æ—¶é—´ç¿»å€
	if GetUnitAbilityLevel(u, JIU_YIN) >= 1 then
		set duration=duration * 2
	endif
	
	// +ç¢§æµ·æ½®ç”Ÿæ›²ï¼šæŒç»­æ—¶é—´ç¿»å€
	if GetUnitAbilityLevel(u, BI_HAI) >= 1 then
		set duration=duration * 2
	endif
	
	// +åŒæ‰‹äº’æï¼šé¢å¤–å‘ä¸€ä¸ªåå‘æ—‹è½¬çš„èŠ±ç›˜
	if GetUnitAbilityLevel(u, SHUANG_SHOU) >= 1 then
		call YDWECreateEwsp(u , 'e01H' , 1 , radius , duration , frequency , - angleSpeed)
	endif
	call YDWECreateEwsp(u , 'e01H' , 1 , radius , duration , frequency , angleSpeed)
endfunction
function luoYingZhangDamage takes unit u,unit l__ut returns nothing
 local real shxishu= 1.
 local real shanghai= 0.
	
	// +å¼¹æŒ‡ç¥é€šï¼šä¼¤å®³+80%
	if GetUnitAbilityLevel(u, TAN_ZHI) != 0 then
		set shxishu=shxishu + 0.8
	endif
 
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , ITEM_YU_XIAO) then
		set shxishu=shxishu * 3
	endif
	
	set shanghai=ShangHaiGongShi(u , l__ut , 15 , 15 , shxishu , LUO_YING_ZHANG)
	call WuGongShangHai(u , l__ut , shanghai)
	
	set u=null
	set l__ut=null
endfunction
// è½è‹±å‰‘æ³•
function luoYingJian takes unit u,unit l__ut returns nothing
	
 local group g= CreateGroup()
 local group l__gt
 local unit current_unit
 local unit dummy
 local real range= 600
	
	
	// æ­¦åŠŸå‡é‡
	call WuGongShengChong(u , LUO_YING_JIAN , 700)
	
	//+ä¹é˜´çœŸç»å†…åŠŸï¼šå¢åŠ ä¼¤å®³èŒƒå›´
	if GetUnitAbilityLevel(u, JIU_YIN) >= 1 then
		set range=range + 300
	endif
	
	call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), range, Condition(function isAttackerEnemy))
	loop
	exitwhen CountUnitsInGroup(g) == 0
		set current_unit=FirstOfGroup(g)
		set dummy=CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
		call ShowUnitHide(dummy)
		call UnitAddAbility(dummy, 'A0EF') // é©¬ç”²æŠ€èƒ½
call IssueTargetOrderById(dummy, $D007F, current_unit)
		call UnitApplyTimedLife(dummy, 'BHwe', 3)
		call GroupRemoveUnit(g, current_unit)
		// +ä¹é˜´ç™½éª¨çˆªï¼šå‰‘æ³•å¼¹å°„ä¸€æ¬¡
		if GetUnitAbilityLevel(u, JIU_ZHAO) >= 1 then
			set l__gt=CreateGroup()
			call GroupEnumUnitsInRange(l__gt, GetUnitX(current_unit), GetUnitY(current_unit), range, Condition(function isAttackerEnemy))
			set dummy=CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(current_unit), GetUnitY(current_unit), bj_UNIT_FACING)
			set current_unit=GroupPickRandomUnit(l__gt)
			call ShowUnitHide(dummy)
			call UnitAddAbility(dummy, 'A0EF') // é©¬ç”²æŠ€èƒ½
call IssueTargetOrderById(dummy, $D007F, current_unit)
			call UnitApplyTimedLife(dummy, 'BHwe', 3)
			call GroupRemoveUnit(g, current_unit)
			call GroupClear(l__gt)
			call DestroyGroup(l__gt)
		endif
	endloop
	call DestroyGroup(g)
	set g=null
	set l__gt=null
	set current_unit=null
	set dummy=null
	
endfunction
function luoYingJianDamage takes unit u,unit l__ut returns nothing
 local real shxishu= 1.
 local real shanghai= 0.
 local integer biBoPoint= LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT)
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
	// +å¼¹æŒ‡ç¥é€šï¼šä¼¤å®³+80%
	if GetUnitAbilityLevel(u, TAN_ZHI) != 0 then
		set shxishu=shxishu + 0.8
	endif
	// ç¢§æ³¢å¿ƒç»ç‚¹æ•°ï¼šä¼¤å®³
	if biBoPoint > 0 then
		set shxishu=shxishu + biBoPoint * 0.02
	endif
	// æ ¹éª¨å’Œèƒ†é­„ï¼šå¢åŠ ä¼¤å®³
	if gengu[i] >= 20 and danpo[i] >= 20 then
		set shxishu=shxishu + 0.03 * ( gengu[i] - 20 ) + 0.03 * ( danpo[i] - 20 )
	endif
	// +æ‰“ç‹—æ£’æ³•ï¼šé€ æˆæµè¡€
	if GetUnitAbilityLevel(u, DA_GOU) != 0 then
		call WanBuff(u , l__ut , 3)
	endif
 
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , ITEM_YU_XIAO) then
		set shxishu=shxishu * 3
	endif
	
	set shanghai=ShangHaiGongShi(u , l__ut , 80 , 80 , shxishu , LUO_YING_JIAN)
	call WuGongShangHai(u , l__ut , shanghai)
	
endfunction
// æ—‹é£æ‰«å¶è…¿
function xuanFengTui takes unit u,unit l__ut returns nothing
 local unit dummy
 local integer level= 1
 local integer biBoPoint= LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT)
	
	// æ­¦åŠŸå‡é‡
	call WuGongShengChong(u , XUAN_FENG_TUI , 600)
	
	// ç¢§æ³¢å¿ƒç»ç‚¹æ•°ï¼šæŒç»­æ—¶é—´
	if biBoPoint > 0 then
		set level=IMinBJ(9, R2I(level + biBoPoint * 0.2))
	endif
	
	// +åŒæ‰‹äº’æï¼šé¢å¤–å½¢æˆä¸€é˜µæ—‹é£
	set dummy=CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
	call ShowUnitHide(dummy)
	call UnitAddAbility(dummy, 'A0EJ') // é©¬ç”²æŠ€èƒ½
call SetUnitAbilityLevel(dummy, 'A0EJ', level)
	call IssueTargetOrderById(dummy, $D0275, l__ut)
	call UnitApplyTimedLife(dummy, 'BHwe', 3)
	
	if GetUnitAbilityLevel(u, SHUANG_SHOU) >= 1 then
		set dummy=CreateUnit(GetOwningPlayer(u), 'e000', GetUnitX(u), GetUnitY(u), bj_UNIT_FACING)
		call ShowUnitHide(dummy)
		call UnitAddAbility(dummy, 'A0EJ') // é©¬ç”²æŠ€èƒ½
call SetUnitAbilityLevel(dummy, 'A0EJ', level)
		call IssueTargetOrderById(dummy, $D0275, l__ut)
		call UnitApplyTimedLife(dummy, 'BHwe', 3)
	endif
	set dummy=null
endfunction
function xuanFengTuiDamage takes unit u,unit l__ut returns nothing
	
 local real shxishu= 1.
 local real shanghai= 0.
 local integer biBoPoint= LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT)
	// +å¼¹æŒ‡ç¥é€šï¼šä¼¤å®³+80%
	if GetUnitAbilityLevel(u, TAN_ZHI) != 0 then
		set shxishu=shxishu + 0.8
	endif
	
	// +ä¹é˜´çœŸç»å†…åŠŸï¼šä¼¤å®³+70%
	if GetUnitAbilityLevel(u, JIU_YIN) != 0 then
		set shxishu=shxishu + 0.7
	endif
 
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , ITEM_YU_XIAO) then
		set shxishu=shxishu * 3
	endif
	
	set shanghai=ShangHaiGongShi(u , l__ut , 15 , 20 , shxishu , XUAN_FENG_TUI)
	call WuGongShangHai(u , l__ut , shanghai)
	
endfunction
// å¥‡é—¨æœ¯æ•°
function qimenCd takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local real cdPercent= LoadReal(YDHT, GetHandleId(t), 1)
	
	call EXSetAbilityState(EXGetUnitAbility(u, QI_MEN_SHU_SHU), 1, EXGetAbilityState(EXGetUnitAbility(u, QI_MEN_SHU_SHU), 1) * cdPercent)
	
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function qiMenShuShu takes unit u returns nothing
 local integer base= 10
 local integer num0
 local integer num1
 local string s= ""
 local integer opera= 0
local integer count
 local location loc= GetUnitLoc(u)
 local group g
 local integer rand= GetRandomInt(1, 3)
 local unit currentUnit
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
    local real damage
    local unit dummy
 local real param= 1
 local timer t
 local real cdPercent= 1
    // ä¸“å±åŠ æˆ
	if UnitHaveItem(u , ITEM_YU_XIAO) then
		set param=param * 3
	endif
    //     â€œå¥³ä¸­è¯¸è‘›ç§°å·â€ï¼šå°†åŠ æ³•å˜ä¸ºä¹˜æ³•
	if isTitle(i , 46) then
		set opera=1
	endif
    // æ‚Ÿæ€§å¤§äº50ï¼šæ”¹ä¸ºéšæœºè®¡ç®—20ä»¥å†…çš„åŠ æ³•ï¼ˆæˆ–ä¹˜æ³•ï¼‰
    if wuxing[i] >= 50 then
        set base=20
    endif
	// æ­¦åŠŸå‡é‡
	call WuGongShengChong(u , QI_MEN_SHU_SHU , 70)
	
	set num0=GetRandomInt(1, base)
	set num1=GetRandomInt(1, base)
	if opera == 0 then
		set count=num0 + num1
		set s=I2S(num0) + "+" + I2S(num1) + "=" + I2S(count)
	elseif opera == 1 then
		set count=num0 * num1
		set s=I2S(num0) + "Ã—" + I2S(num1) + "=" + I2S(count)
	endif
	
	call CreateTextTagLocBJ(s, loc, 0, 16., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
	call Nw(3 , bj_lastCreatedTextTag)
	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, GetRandomReal(50, 70), GetRandomReal(70, 110))
	
	if qimen_status[i] == 0 then
		// æ•ˆæœ1 ç«åˆ‡
		set g=CreateGroup()
		call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 2000, Condition(function isTriggerEnemy))
		loop
		exitwhen count <= 0 or CountUnitsInGroup(g) <= 0
			set currentUnit=FirstOfGroup(g)
			
			call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\huoqie.mdx", currentUnit, "origin"))
			set damage=ShangHaiGongShi(u , currentUnit , 800 , 800 , param , QI_MEN_SHU_SHU)
			call WuGongShangHai(u , currentUnit , damage)
			
			set count=count - 1
			call GroupRemoveUnit(g, currentUnit)
        endloop
		call DestroyGroup(g)
		set cdPercent=0.2
	elseif qimen_status[i] == 1 then
		// æ•ˆæœ2 éšæœºåŠ å…­å›´
		call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\lifebreak.mdx", u, "overhead"))
		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", u, "overhead"))
		if count > 50 then
			set count=50
		endif
		if GetRandomInt(1, 6) == 1 then
			set wuxing[i]=wuxing[i] + count
			set s="æ‚Ÿæ€§+" + I2S(count)
		elseif GetRandomInt(1, 5) == 1 then
			set gengu[i]=gengu[i] + count
			set s="æ ¹éª¨+" + I2S(count)
		elseif GetRandomInt(1, 4) == 1 then
			set fuyuan[i]=fuyuan[i] + count
			set s="ç¦ç¼˜+" + I2S(count)
		elseif GetRandomInt(1, 3) == 1 then
			set danpo[i]=danpo[i] + count
			set s="èƒ†é­„+" + I2S(count)
		elseif GetRandomInt(1, 2) == 1 then
			set jingmai[i]=jingmai[i] + count
			set s="ç»è„‰" + I2S(count)
		else
			set yishu[i]=yishu[i] + count
			set s="åŒ»æœ¯+" + I2S(count)
		endif
		call CreateTextTagLocBJ(s, loc, 0, 15., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
		call Nw(3 , bj_lastCreatedTextTag)
		call SetTextTagVelocityBJ(bj_lastCreatedTextTag, GetRandomReal(50, 70), GetRandomReal(70, 110))
		set cdPercent=0.8
	elseif qimen_status[i] == 2 then
        // æ•ˆæœ3 å¤§çƒ
		call YDWECreateEwsp(u , 'e01J' , 2 , 450 , count , 0.03 , 3.6)
		set cdPercent=0.5
	endif
	set t=CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call SaveReal(YDHT, GetHandleId(t), 1, cdPercent)
	call TimerStart(t, 0.2, false, function qimenCd)
    call RemoveLocation(loc)
    set dummy=null
	set currentUnit=null
	set g=null
	set loc=null
	set t=null
endfunction
function qiMenShuShuDamage takes unit u,unit l__ut returns nothing
    local real shxishu= 1.
 local real shanghai= 0.
	// ä¸“å±åŠ æˆ
	if UnitHaveItem(u , ITEM_YU_XIAO) then
		set shxishu=shxishu * 3
	endif
	
	set shanghai=ShangHaiGongShi(u , l__ut , 90 , 90 , shxishu , QI_MEN_SHU_SHU)
	call WuGongShangHai(u , l__ut , shanghai)
	
endfunction
// ç¢§æ³¢å¿ƒç»
function biBoXinJingRemoveBuff takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
	call UnitRemoveAbility(u, 'A0DB')
	call UnitRemoveAbility(u, 'A0DC')
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call PauseTimer(t)
	call DestroyTimer(t)
	set u=null
	set t=null
endfunction
function biBoXinJingHalfCd takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
	
	call EXSetAbilityState(EXGetUnitAbility(u, BI_BO_XIN_JING), 1, EXGetAbilityState(EXGetUnitAbility(u, BI_BO_XIN_JING), 1) / 2)
	
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function biBoXinJing takes unit u returns nothing
 local integer point= LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT)
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer level= GetUnitAbilityLevel(u, BI_BO_XIN_JING)
 local timer t
 local string s= ""
 local location loc
	if tide_rising[i] then
		// æ½®èµ·
		if point < 5 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFDD0000ç¢§æ³¢å¿ƒç»ç‚¹æ•°ä¸è¶³ï¼Œæ— æ³•ä½¿ç”¨")
			call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + 120)
			call UnitRemoveAbility(u, BI_BO_XIN_JING)
			call UnitAddAbility(u, BI_BO_XIN_JING)
			call SetUnitAbilityLevel(u, BI_BO_XIN_JING, level)
		else
			call SaveInteger(YDHT, GetHandleId(u), BI_BO_POINT, LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT) - 5)
			call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", u, "overhead"))
			call WuGongShengChong(u , BI_BO_XIN_JING , 70)
			call ModifyHeroStat(0, u, 0, 30 * level)
			call ModifyHeroStat(1, u, 0, 30 * level)
			call ModifyHeroStat(2, u, 0, 30 * level)
			
			set loc=GetUnitLoc(u)
			set s="æ‹›å¼ä¼¤å®³+" + I2S(30 * level)
			call CreateTextTagLocBJ(s, loc, 0, 15., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
			call Nw(3 , bj_lastCreatedTextTag)
			call SetTextTagVelocityBJ(bj_lastCreatedTextTag, GetRandomReal(50, 70), GetRandomReal(70, 110))
			set s="å†…åŠ›+" + I2S(30 * level)
			call CreateTextTagLocBJ(s, loc, 0, 15., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
			call Nw(3 , bj_lastCreatedTextTag)
			call SetTextTagVelocityBJ(bj_lastCreatedTextTag, GetRandomReal(50, 70), GetRandomReal(70, 110))
			set s="çœŸå®ä¼¤å®³+" + I2S(30 * level)
			call CreateTextTagLocBJ(s, loc, 0, 15., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
			call Nw(3 , bj_lastCreatedTextTag)
			call SetTextTagVelocityBJ(bj_lastCreatedTextTag, GetRandomReal(50, 70), GetRandomReal(70, 110))
			call RemoveLocation(loc)
			
			if GetUnitAbilityLevel(u, DA_GOU) >= 1 then
				set t=CreateTimer()
				call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
				call TimerStart(t, 0.2, false, function biBoXinJingHalfCd)
			endif
		endif
	else
		// æ½®è½
		if point < 3 then
			call DisplayTextToPlayer(p, 0, 0, "|cFFDD0000ç¢§æ³¢å¿ƒç»ç‚¹æ•°ä¸è¶³ï¼Œæ— æ³•ä½¿ç”¨")
			call UnitRemoveAbility(u, BI_BO_XIN_JING)
			call UnitAddAbility(u, BI_BO_XIN_JING)
			call SetUnitAbilityLevel(u, BI_BO_XIN_JING, level)
		else
			call SaveInteger(YDHT, GetHandleId(u), BI_BO_POINT, LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT) - 3)
			call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\zhiyu.mdx", u, "overhead"))
			call UnitAddAbility(u, 'A0DB')
			call UnitAddAbility(u, 'A0DC')
			call SetUnitAbilityLevel(u, 'A0DB', level)
			call SetUnitAbilityLevel(u, 'A0DC', level)
			
			set t=CreateTimer()
			call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
			call TimerStart(t, 25, false, function biBoXinJingRemoveBuff)
			call WuGongShengChong(u , BI_BO_XIN_JING , 70)
			if GetUnitAbilityLevel(u, DA_GOU) >= 1 then
				set t=CreateTimer()
				call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
				call TimerStart(t, 0.2, false, function biBoXinJingHalfCd)
			endif
		endif
	endif
	set loc=null
	set t=null
	set p=null
endfunction
//------------æ±Ÿæ¹–æ­¦åŠŸå¼€å§‹------------
//å¼¹æŒ‡ç¥é€š
function IsTanZhi takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A06H' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function TanZhi_Condition takes nothing returns boolean
	return IsUnitAliveBJ(GetFilterUnit()) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function TanZhiShenTong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local location loc= GetUnitLoc(u)
 local location loc2= GetUnitLoc(GetSpellTargetUnit())
 local integer i= 1 + GetPlayerId(p)
 local integer level= 0
	if ( GetUnitAbilityLevel(u, 'A07U') >= 1 ) then
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06H')
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A06H', GetUnitAbilityLevel(u, 'A06H'))
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0097, GroupPickRandomUnit(YDWEGetUnitsInRangeOfLocMatchingNull(300 , loc2 , Condition(function TanZhi_Condition))))
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call ShowUnitHide(bj_lastCreatedUnit)
	endif
	call WuGongShengChong(GetTriggerUnit() , 'A06H' , 350.)
	set level=GetUnitAbilityLevel(u, 'A06H')
	call YDWEPolledWaitNull(5.0)
	// 5sååˆ¤æ–­å¦‚æœæ˜¯ä¸œé‚ªï¼Œç«‹åˆ»é‡ç½®cd
	if isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 39) then
		call UnitRemoveAbility(u, 'A06H')
		call UnitAddAbility(u, 'A06H')
		call SetUnitAbilityLevel(u, 'A06H', level)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set p=null
	set loc=null
	set loc2=null
endfunction
function IsTanZhiBeiDong takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A06H') >= 1 ) and ( GetUnitAbilityLevel(GetAttacker(), 'A07S') >= 1 ) )
endfunction
function TanZhiBeiDong takes nothing returns nothing
 local unit u= GetAttacker()
 local unit l__ut= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local player p= GetOwningPlayer(u)
	if GetRandomReal(0, 100) <= 8 then
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06H')
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A06H', GetUnitAbilityLevel(u, 'A06H'))
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0097, l__ut)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call ShowUnitHide(bj_lastCreatedUnit)
	endif
	call RemoveLocation(loc)
	set u=null
	set l__ut=null
	set p=null
	set loc=null
endfunction
function IsTanZhiShangHai takes nothing returns boolean
	return ( ( GetEventDamage() == .21 ) )
endfunction
function TanZhiShangHai_Conditiom takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetEventDamageSource())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function TanZhiShangHai_Action takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetEnumUnit()
 local real shxishu=1. + gengu[i] / 20
 local real shanghai=0.
	if isTitle(i , 39) then
		set shxishu=shxishu * 5
	endif
	set shanghai=ShangHaiGongShi(u , uc , 30.8 , 30.8 , shxishu , 'A06H')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function TanZhiShangHai takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + gengu[i] / 20
 local real shanghai=0.
 local location loc=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
	if ( ( GetUnitAbilityLevel(u, 'A06P') != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A085') != 0 ) ) then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A085') != 0 and GetUnitAbilityLevel(u, 'A06P') != 0 and GetUnitAbilityLevel(u, 1093679152) != 0 and GetUnitAbilityLevel(u, 1093679152) != 0 and GetUnitAbilityLevel(u, 1395666994) != 0 and GetUnitAbilityLevel(u, 'A07U') != 0 then
		set shxishu=shxishu * 6 * 2
	endif
	if isTitle(i , 39) then
		set shxishu=shxishu * 5
	endif
	set shanghai=ShangHaiGongShi(u , uc , 30.8 , 30.8 , shxishu , 'A06H')
	call WuGongShangHai(u , uc , shanghai)
	
	if ( ( danpo[i] >= 23 ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
		call WanBuff(u , uc , 11)
	endif
	if ( ( GetUnitAbilityLevel(u, 1093679152) != 0 ) and ( UnitHasBuffBJ(uc, 'Bcri') == false ) ) then
		call WanBuff(u , uc , 4)
	endif
	if ( ( GetUnitAbilityLevel(u, 1395666994) != 0 ) ) then
		call DestroyEffect(AddSpecialEffectLocBJ(loc2, "war3mapImported\\PsiWave.mdx"))
		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(100. , loc2 , Condition(function TanZhiShangHai_Conditiom)), function TanZhiShangHai_Action)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set uc=null
	set loc=null
	set loc2=null
endfunction
//å†°é­„é“¶é’ˆ
function dF takes nothing returns boolean
	return GetSpellAbilityId() == 'A07A'
endfunction
function eF takes nothing returns nothing
 local unit uc=GetTriggerUnit()
 local location loc=GetUnitLoc(uc)
 local location array loc_bp
 local integer level= 0
	if (IsUnitType((uc ), ( UNIT_TYPE_HERO)) != null) then // INLINED!!
		call WuGongShengChong(GetTriggerUnit() , 'A07A' , 260.)
	endif
	set H7=1
	loop
	exitwhen H7 > 12
		set loc_bp[H7]=pu(loc , 256 , 30. * I2R(H7))
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 1093678914)
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, loc_bp[H7])
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call RemoveLocation(loc_bp[H7])
		set loc_bp[H7]=null
		set H7=H7 + 1
	endloop
	set level=GetUnitAbilityLevel(uc, 'A07A')
	call YDWEPolledWaitNull(5.0)
	// 5sååˆ¤æ–­å¦‚æœæ˜¯èµ¤ç»ƒä»™å­ï¼Œç«‹åˆ»é‡ç½®cd
	if isTitle(1 + GetPlayerId(GetOwningPlayer(uc)) , 8) then
		call UnitRemoveAbility(uc, 'A07A')
		call UnitAddAbility(uc, 'A07A')
		call SetUnitAbilityLevel(uc, 'A07A', level)
	endif
	call RemoveLocation(loc)
	set uc=null
	set loc=null
endfunction
function gF takes nothing returns boolean
	return ( ( GetEventDamage() == .24 ) )
endfunction
function hF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + yishu[i] / 20
 local real shanghai=0.
 local location loc=GetUnitLoc(uc)
	if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A083') != 0 ) ) then
		set shxishu=shxishu + 2.0
	endif
	if GetUnitAbilityLevel(u, 1093678932) != 0 and GetUnitAbilityLevel(u, 'A083') != 0 and GetUnitAbilityLevel(u, 'A07S') != 0 and GetUnitAbilityLevel(u, 1093679154) != 0 then
		set shxishu=shxishu * 4 * 2
	endif
	if isTitle(i , 8) then // èµ¤ç‚¼ä»™å­
set shxishu=shxishu * 5
	endif
	set shanghai=ShangHaiGongShi(u , uc , 26 , 26 , shxishu , 'A07A')
	call WuGongShangHai(u , uc , shanghai)
	if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 1093678915)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0102, GetTriggerUnit())
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	endif
	if ( ( GetUnitAbilityLevel(u, 1093679154) != 0 ) ) and isTitle(i , 8) then // èµ¤ç‚¼ä»™å­
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 1093678916)
		call IssueTargetOrderById(bj_lastCreatedUnit, $D00F1, GetTriggerUnit())
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function jF takes nothing returns boolean
	return ( ( GetEventDamage() == .25 ) )
endfunction
function kF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1.
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 1093678932) != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A083') != 0 ) ) then
		set shxishu=shxishu + 2.0
	endif
	if GetUnitAbilityLevel(u, 1093678932) != 0 and GetUnitAbilityLevel(u, 'A083') != 0 and GetUnitAbilityLevel(u, 'A07S') != 0 and GetUnitAbilityLevel(u, 1093679154) != 0 then
		set shxishu=shxishu * 4 * 2
	endif
	if isTitle(i , 8) then // èµ¤ç‚¼ä»™å­
set shxishu=shxishu * 5
	endif
	set shanghai=ShangHaiGongShi(u , uc , 6 , 6 , shxishu , 'A07A')
	if isTitle(i , 8) then // èµ¤ç‚¼ä»™å­
set shanghai=ShangHaiGongShi(u , uc , 26 , 26 , shxishu , 'A07A')
	endif
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
//è¿åŸå‰‘æ³•
function nF takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A06J' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function oF takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
	call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A06J')
	call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
	call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetSpellTargetLoc())
	call SaveReal(YDHT, id * cx, - $60249D54, AngleBetweenPoints(LoadLocationHandle(YDHT, id * cx, - $72C3E060), LoadLocationHandle(YDHT, id * cx, $5E83114F)))
	call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 200. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 120. ) )))
	call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
	call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
	call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 200. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 240. ) )))
	call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
	call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
	call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
	call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
	if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1093678932) != 0 ) and ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07F') != 0 ) ) then
		call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 550. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 120. ) )))
		call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
		call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 550. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 240. ) )))
		call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
		call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 400. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 120. ) )))
		call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
		call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 400. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 240. ) )))
		call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
		call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
		call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
		call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
		call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
	else
		if ( ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1093678932) != 0 ) or ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07F') != 0 ) ) ) then
			call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 400. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 120. ) )))
			call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
			call ShowUnitHide(bj_lastCreatedUnit)
			call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
			call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
			call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
			call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 400. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( 240. ) )))
			call SaveLocationHandle(YDHT, id * cx, $247CC5E5, pu(LoadLocationHandle(YDHT, id * cx, - $3348E012) , 150. , ( ( LoadReal(YDHT, id * cx, - $60249D54) ) + ( .0 ) )))
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
			call ShowUnitHide(bj_lastCreatedUnit)
			call UnitAddAbility(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3))
			call SetUnitAbilityLevel(bj_lastCreatedUnit, LoadInteger(YDHT, id * cx, - $2A41B3A3), GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)))
			call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, $247CC5E5))
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $247CC5E5))
		endif
	endif
	call WuGongShengChong(GetTriggerUnit() , 'A06J' , 250)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
	call YDWELocalVariableEnd()
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function qF takes nothing returns boolean
	return ( ( GetEventDamage() == .23 ) )
endfunction
function rF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + wuxing[i] / 20
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'A07J') != 0 ) ) then
		set shxishu=shxishu + .7
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07X') != 0 ) ) then
		set shxishu=shxishu + .8
	endif
	if GetUnitAbilityLevel(u, 'A07J') != 0 and GetUnitAbilityLevel(u, 'A07X') != 0 and GetUnitAbilityLevel(u, 1093678932) != 0 and GetUnitAbilityLevel(u, 'A07F') != 0 then
		set shxishu=shxishu * 4 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 53 , 53 , shxishu , 'A06J')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
//åŒ–éª¨ç»µæŒ
function tF takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A06L' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function uF takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( UnitHasBuffBJ(GetFilterUnit(), 1114467444) == false ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) ) )
endfunction
//åŒ–éª¨æ­é…
function HuaGuWuDi takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local integer j= LoadInteger(YDHT, GetHandleId(t), 1)
 local integer jmax= 40
	if UnitHasBuffBJ(u, 'Bmlc') and j < jmax then
		call SaveInteger(YDHT, GetHandleId(t), 1, j + 1)
	else
		call UnitRemoveAbility(u, 'A00S')
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	set t=null
	set u=null
endfunction
function yF takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc= GetSpellTargetUnit()
 local unit l__ut
 local location loc=GetUnitLoc(u)
 local player p=GetOwningPlayer(u)
 local location loc2
 local timer t= null
	if ( ( GetUnitAbilityLevel(u, 'A07Q') != 0 ) ) then
		set loc2=GetUnitLoc(uc)
		set l__ut=GroupPickRandomUnit(YDWEGetUnitsInRangeOfLocMatchingNull(1000. , loc2 , Condition(function uF)))
		call CreateNUnitsAtLoc(1, 'e000', p, loc2, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06L')
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A06L', GetUnitAbilityLevel(u, 'A06L'))
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0200, l__ut)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
		call RemoveLocation(loc2)
		
		set loc2=GetUnitLoc(l__ut)
		set l__ut=GroupPickRandomUnit(YDWEGetUnitsInRangeOfLocMatchingNull(1000. , loc2 , Condition(function uF)))
		call CreateNUnitsAtLoc(1, 'e000', p, loc2, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06L')
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A06L', GetUnitAbilityLevel(u, 'A06L'))
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0200, l__ut)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
		call RemoveLocation(loc2)
		
		set loc2=GetUnitLoc(l__ut)
		set l__ut=GroupPickRandomUnit(YDWEGetUnitsInRangeOfLocMatchingNull(1000. , loc2 , Condition(function uF)))
		call CreateNUnitsAtLoc(1, 'e000', p, loc2, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06L')
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A06L', GetUnitAbilityLevel(u, 'A06L'))
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0200, l__ut)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
		call RemoveLocation(loc2)
		
		set loc2=GetUnitLoc(l__ut)
		set l__ut=GroupPickRandomUnit(YDWEGetUnitsInRangeOfLocMatchingNull(1000. , loc2 , Condition(function uF)))
		call CreateNUnitsAtLoc(1, 'e000', p, loc2, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06L')
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A06L', GetUnitAbilityLevel(u, 'A06L'))
		call IssueTargetOrderById(bj_lastCreatedUnit, $D0200, l__ut)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
		call RemoveLocation(loc2)
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07X') != 0 ) ) then
		set t=CreateTimer()
		call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
		call UnitAddAbility(u, 'A00S')
		call TimerStart(t, 0.5, true, function HuaGuWuDi)
	endif
	call WuGongShengChong(u , 'A06L' , 200.)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set l__ut=null
	set p=null
	set loc=null
	set loc2=null
	set t=null
endfunction
//åŒ–éª¨ä¼¤å®³
function AF takes nothing returns boolean
	return ( ( GetEventDamage() == .26 ) )
endfunction
function aF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + jingmai[i] / 20
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) ) then
		set shxishu=shxishu + .7
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07G') != 0 ) ) then
		set shxishu=shxishu + .7
	endif
	if ( ( GetUnitAbilityLevel(u, 'A084') != 0 ) ) then
		set shxishu=shxishu + .8
	endif
	if GetUnitAbilityLevel(u, 'A07P') != 0 and GetUnitAbilityLevel(u, 'A07G') != 0 and GetUnitAbilityLevel(u, 'A084') != 0 and GetUnitAbilityLevel(u, 'A07Q') != 0 and GetUnitAbilityLevel(u, 'A07X') != 0 and GetUnitAbilityLevel(u, 'A07R') != 0 then
		set shxishu=shxishu * 6 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 80. , 80. , shxishu , 'A06L')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
//å››é—¨åˆ€æ³•
function bF takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A06M' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function CF takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
	call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A06M')
	call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
	if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07H') != 0 ) ) then
		set H7=1
		loop
		exitwhen H7 > 4
			call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 300. , ( ( 90. ) * ( I2R(H7) ) )))
			call CreateNUnitsAtLoc(1, 1697656883, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
			call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
			call Gw(20. , bj_lastCreatedUnit)
			call CreateNUnitsAtLoc(1, 1697656884, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
			call Gw(20. , bj_lastCreatedUnit)
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
			set H7=H7 + 1
		endloop
		if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A086') != 0 ) and ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07X') != 0 ) ) then
			set H7=1
			loop
			exitwhen H7 > 8
				call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 650. , ( ( 45. ) * ( I2R(H7) ) )))
				call CreateNUnitsAtLoc(1, 1697656883, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
				call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
				call Gw(20. , bj_lastCreatedUnit)
				call CreateNUnitsAtLoc(1, 1697656884, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
				call Gw(20. , bj_lastCreatedUnit)
				call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
				set H7=H7 + 1
			endloop
		endif
		if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1093678935) != 0 ) ) then
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
			call UnitAddAbility(bj_lastCreatedUnit, 1093678670)
			call Gw(20. , bj_lastCreatedUnit)
			call ShowUnit(bj_lastCreatedUnit, false)
		endif
	else
		set H7=1
		loop
		exitwhen H7 > 4
			call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 300. , ( ( 90. ) * ( I2R(H7) ) )))
			call CreateNUnitsAtLoc(1, 1697656883, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
			call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
			call Gw(10. , bj_lastCreatedUnit)
			call CreateNUnitsAtLoc(1, 1697656884, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
			call Gw(10. , bj_lastCreatedUnit)
			call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
			set H7=H7 + 1
		endloop
		if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A086') != 0 ) and ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 'A07X') != 0 ) ) then
			set H7=1
			loop
			exitwhen H7 > 8
				call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 650. , ( ( 45. ) * ( I2R(H7) ) )))
				call CreateNUnitsAtLoc(1, 1697656883, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
				call IssueImmediateOrderById(bj_lastCreatedUnit, $D00A0)
				call Gw(10. , bj_lastCreatedUnit)
				call CreateNUnitsAtLoc(1, 1697656884, GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
				call Gw(10. , bj_lastCreatedUnit)
				call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
				set H7=H7 + 1
			endloop
		endif
		if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1093678935) != 0 ) ) then
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
			call UnitAddAbility(bj_lastCreatedUnit, 1093678670)
			call Gw(10. , bj_lastCreatedUnit)
			call ShowUnit(bj_lastCreatedUnit, false)
		endif
	endif
	call WuGongShengChong(GetTriggerUnit() , 'A06M' , 150.)
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
	call YDWELocalVariableEnd()
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function DF takes nothing returns boolean
	return ( ( GetEventDamage() == .27 ) )
endfunction
function EF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + jingmai[i] / 20
 local real shanghai=0.
	if ( ( GetUnitAbilityLevel(u, 'A07P') != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A086') != 0 ) ) and ( GetUnitAbilityLevel(u, 'A07X') != 0 ) then
		set shxishu=shxishu + 1.5
	endif
	if GetUnitAbilityLevel(u, 'A07P') != 0 and GetUnitAbilityLevel(u, 'A086') != 0 and GetUnitAbilityLevel(u, 'A07X') != 0 and GetUnitAbilityLevel(u, 1093678935) != 0 and GetUnitAbilityLevel(u, 'A07H') != 0 then
		set shxishu=shxishu * 5 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 7.2 , 7.2 , shxishu , 'A06M')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
//ä¸€é˜³æŒ‡
function GF takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A06P' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function HF takes nothing returns nothing
 local location loc= GetUnitLoc(GetTriggerUnit())
 local location loc2= null
 local integer i= 1
	if ( ( GetUnitAbilityLevel(GetTriggerUnit(), 1093679152) != 0 ) and ( GetRandomInt(1, 100) <= 40 ) ) then
		call SetUnitManaBJ(GetTriggerUnit(), ( GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) + 80. ))
	endif
	call WuGongShengChong(GetTriggerUnit() , 'A06P' , 250.)
	if ( GetUnitAbilityLevel(GetTriggerUnit(), 'A09D') != 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'A085') != 0 ) then
		loop
		exitwhen i >= 6
			set loc2=pu(loc , 200. , 60. * i)
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
			call ShowUnitHide(bj_lastCreatedUnit)
			call UnitAddAbility(bj_lastCreatedUnit, 'A06P')
			call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D009D, loc2)
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
			call RemoveLocation(loc2)
			set i=i + 1
		endloop
	endif
	call RemoveLocation(loc)
	set loc=null
	set loc2=null
endfunction
//ä¸€é˜³æŒ‡ä¼¤å®³
function lF takes nothing returns boolean
	return ( ( GetEventDamage() == .29 ) ) and IsUnitAliveBJ(GetTriggerUnit())
endfunction
function JF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + gengu[i] / 20
 local real shanghai=0.
 local location loc=GetUnitLoc(uc)
 local location loc2=null
	if ( ( GetUnitAbilityLevel(u, 'A07O') != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A0DN') != 0 ) ) then
		set shxishu=shxishu + .7
	endif
	if GetUnitAbilityLevel(u, 'A07O') != 0 and GetUnitAbilityLevel(u, 'A0DN') != 0 and GetUnitAbilityLevel(u, 'A07U') != 0 and GetUnitAbilityLevel(u, 'A09D') != 0 and GetUnitAbilityLevel(u, 'A085') != 0 and GetUnitAbilityLevel(u, 1093679152) != 0 then
		set shxishu=shxishu * 6 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 40. , 40. , shxishu , 'A06P')
	call WuGongShangHai(u , uc , shanghai)
	// ä¸€é˜³æŒ‡+åŒæ‰‹ å¯¹æœ€ç»ˆBOSSæ— æ•ˆ
	if GetUnitAbilityLevel(u, 'A07U') != 0 and (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) and GetUnitTypeId(uc) != 'nbds' then // INLINED!!
		call percentDamage(uc , 5 , true)
	endif
	if ( ( gengu[( 1 + GetPlayerId(GetOwningPlayer(u)) )] >= 30 ) and ( (IsUnitType((GetEventDamageSource() ), ( UNIT_TYPE_HERO)) != null) ) ) then // INLINED!!
		call WanBuff(u , uc , 12)
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
	set loc2=null
endfunction
//å”è¯—å‰‘æ³•
function LF takes nothing returns boolean
	return ( ( GetEventDamage() == .31 ) )
endfunction
function MF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1. + jingmai[i] / 20
 local real shanghai=0.
 local location loc=GetUnitLoc(uc)
	if ( ( GetUnitAbilityLevel(u, 'A06J') != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07F') != 0 ) ) then
		set shxishu=shxishu + .8
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07X') != 0 ) ) then
		set shxishu=shxishu + 1.
	endif
	if GetUnitAbilityLevel(u, 'A06J') != 0 and GetUnitAbilityLevel(u, 'A07F') != 0 and GetUnitAbilityLevel(u, 'A07X') != 0 and GetUnitAbilityLevel(u, 'A06M') != 0 and GetUnitAbilityLevel(u, 1093678935) != 0 and GetUnitAbilityLevel(u, 'A084') != 0 and GetUnitAbilityLevel(u, 1093678930) != 0 then
		set shxishu=shxishu * 7 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 75 , 75 , shxishu , 'A071')
	call WuGongShangHai(u , uc , shanghai)
	if ( ( GetUnitAbilityLevel(u, 'A06M') != 0 ) and ( GetRandomInt(1, $A) < 5 ) and ( UnitHasBuffBJ(uc, 1110454323) == false ) ) then
		call WanBuff(u , uc , 3)
	endif
	if ( ( GetUnitAbilityLevel(u, 1093678935) != 0 ) and ( GetRandomInt(1, $A) < 5 ) and ( UnitHasBuffBJ(uc, 'Bcri') == false ) ) then
		call WanBuff(u , uc , 4)
	endif
	if ( ( GetUnitAbilityLevel(u, 'A084') != 0 ) and ( GetRandomInt(1, $A) < 5 ) and ( UnitHasBuffBJ(uc, 1110454324) == false ) ) then
		call WanBuff(u , uc , 7)
	endif
	if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) ) then
		call SetWidgetLife(u, ( GetUnitState(u, UNIT_STATE_LIFE) + ( shanghai * .02 ) ))
	endif
	call WuGongShengChong(GetEventDamageSource() , 'A071' , 950.)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
//ä¸ƒä¼¤æ‹³
function OF takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07M') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function PF takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function QF takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1. + wuxing[i] / 20
 local real shanghai=0.
	// æ­é…å¸æ˜Ÿï¼Œä¼¤å®³åŠ 50%
	if GetUnitAbilityLevel(u, 'A07R') != 0 then
		set shanghai=shanghai + .5
	endif
	// æ­é…åŒæ‰‹
	if GetUnitAbilityLevel(u, 'A07U') != 0 then
		set shanghai=shanghai + .6
	endif
	// æ­é…å¼¹æŒ‡
	if GetUnitAbilityLevel(u, 'A06H') != 0 then
		set shanghai=shanghai + .7
	endif
	// æ­é…ä¹é˜´ï¼Œ
	if GetUnitAbilityLevel(u, 'A07S') != 0 then
		set shanghai=shanghai + .8
	endif
	
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "war3mapImported\\PhoenixAttack.mdx"))
	if GetUnitAbilityLevel(u, 'A07R') != 0 and GetUnitAbilityLevel(u, 'A07S') != 0 and GetUnitAbilityLevel(u, 'A084') != 0 and GetUnitAbilityLevel(u, 'A07X') != 0 and GetUnitAbilityLevel(u, 'A07U') != 0 and GetUnitAbilityLevel(u, 1395666994) != 0 and GetUnitAbilityLevel(u, 'A06H') != 0 then
		set shxishu=shxishu * 7 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 12. , 16. , shxishu , 'A07M')
	call WuGongShangHai(u , uc , shanghai)
	// æ­é…å¸æ˜Ÿï¼Œå†…ä¼¤
	if ( ( GetUnitAbilityLevel(u, 'A07R') != 0 ) and ( GetRandomReal(.0, 100.) <= 5. ) and ( UnitHasBuffBJ(uc, 'B002') == false ) ) then
		call WanBuff(u , uc , 1)
	endif
	// æ­é…ä¹é˜´ï¼Œéº»ç—¹
	if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1111844210) == false ) ) then
		call WanBuff(u , uc , 8)
	endif
	// æ­é…è›¤èŸ†ï¼Œä¸­æ¯’
	if ( ( GetUnitAbilityLevel(u, 'A084') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1111847784) == false ) ) then
		call WanBuff(u , uc , 13)
	endif
	// æ­é…ç¥ç…§ï¼Œæµè¡€
	if ( ( GetUnitAbilityLevel(u, 'A07X') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454323) == false ) ) then
		call WanBuff(u , uc , 3)
	endif
	// æ­é…åŒæ‰‹ï¼Œæ··ä¹±
	if ( ( GetUnitAbilityLevel(u, 'A07U') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 'Bcri') == false ) ) then
		call WanBuff(u , uc , 4)
	endif
	// æ­é…é¾™è±¡ï¼Œç ´é˜²
	if ( ( GetUnitAbilityLevel(u, 1395666994) != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454326) == false ) ) then
		call WanBuff(u , uc , 9)
	endif
	// æ­é…å¼¹æŒ‡ï¼Œå°ç©´
	if ( ( GetUnitAbilityLevel(u, 'A06H') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
		call WanBuff(u , uc , 11)
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function RF takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call YDWELocalVariableInitiliation()
	call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
	call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
	call SaveLocationHandle(YDHT, id * cx, - $3348E012, GetUnitLoc(GetAttacker()))
	call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07M')
	call SaveReal(YDHT, id * cx, $2392447A, 25.)
	call SaveReal(YDHT, id * cx, $41713DA3, 500.)
	call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( 3. + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(danpo[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .06 ) ))
	call SaveReal(YDHT, id * cx, $1968F401, ( 1.5 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
	call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * LoadReal(YDHT, id * cx, $1968F401) ))
	if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)) == 9 ) ) then
		call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 10. ))
	endif
	if ( ( GetRandomReal(.0, 100.) <= LoadReal(YDHT, id * cx, $2392447A) ) ) then
		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(LoadReal(YDHT, id * cx, $41713DA3) , LoadLocationHandle(YDHT, id * cx, - $72C3E060) , Condition(function PF)), function QF)
		call WuGongShengChong(GetAttacker() , 'A07M' , 500.)
	endif
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
	call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
	call YDWELocalVariableEnd()
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä¹é˜´ç™½éª¨çˆª
function TF takes nothing returns boolean
	return ( ( GetEventDamage() == .35 ) )
endfunction
function UF takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
 local unit uc=GetTriggerUnit()
 local real shxishu=1.
 local real shanghai=0.
 local integer level= 0
	if ( ( GetUnitAbilityLevel(u, 1093678930) != 0 ) ) then
		set shxishu=shxishu + .5
	endif
	if ( ( GetUnitAbilityLevel(u, 'A06H') != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	if ( ( GetUnitAbilityLevel(u, 'A089') != 0 ) ) then
		set shxishu=shxishu + .7
	endif
	if ( ( GetUnitAbilityLevel(u, 'A07S') != 0 ) ) then
		set shxishu=shxishu + .8
	endif
	if ( ( GetUnitAbilityLevel(u, 1093679154) != 0 ) ) then
		set shxishu=shxishu + .6
	endif
	// ä¹é˜´çœŸäººåŠ æˆ20å€
	if isTitle(i , 37) then
		set shxishu=shxishu * 20
	endif
	if GetUnitAbilityLevel(u, 1093678930) != 0 and GetUnitAbilityLevel(u, 'A06H') != 0 and GetUnitAbilityLevel(u, 'A089') != 0 and GetUnitAbilityLevel(u, 'A07S') != 0 and GetUnitAbilityLevel(u, 1093679154) != 0 then
		set shxishu=shxishu * 5 * 2
	endif
	set shanghai=ShangHaiGongShi(u , uc , 36 , 36 , shxishu , 'A07N')
	call WuGongShangHai(u , uc , shanghai)
	call WuGongShengChong(GetEventDamageSource() , 'A07N' , 3000.)
	set level=GetUnitAbilityLevel(u, 'A07N')
	// 3sååˆ¤æ–­å¦‚æœæ˜¯ä¹é˜´çœŸäººï¼Œç«‹åˆ»é‡ç½®cd
	if isTitle(i , 37) then
		call YDWEPolledWaitNull(3.0)
		call UnitRemoveAbility(u, 'A07N')
		call UnitAddAbility(u, 'A07N')
		call SetUnitAbilityLevel(u, 'A07N', level)
	endif
	// 5sååˆ¤æ–­å¦‚æœæ˜¯èŠ·è‹¥æˆ–ç‘¶ç´ï¼Œç«‹åˆ»é‡ç½®cd
	if isTitle(i , 19) or isTitle(i , 41) then
		call YDWEPolledWaitNull(5.0)
		call UnitRemoveAbility(u, 'A07N')
		call UnitAddAbility(u, 'A07N')
		call SetUnitAbilityLevel(u, 'A07N', level)
	endif
	set u=null
	set uc=null
endfunction
//-------ç©ºæ˜æ‹³å¼€å§‹-------//
function IsKongMing takes nothing returns boolean
	return GetUnitAbilityLevel(GetAttacker(), 'A017') >= 1 and GetRandomReal(.0, 100.) <= 15. + I2R(fuyuan[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))]) / 5.
endfunction
function KongMing_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function KongMing_Action takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local real hujia=GetUnitState(uc, ConvertUnitState(0x20))
 local real shengming=GetUnitState(uc, UNIT_STATE_MAX_LIFE)
 local real shxishu=1. + shengming / 500000000 + hujia / 2000
 local real shanghai=0.
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local location loc=GetUnitLoc(uc)
	if GetUnitAbilityLevel(u, 'A07S') >= 1 then
		set shxishu=shxishu + .6
	endif
	if GetUnitAbilityLevel(u, 'A0D1') >= 1 then
		set shxishu=shxishu + .8
	endif
	if GetUnitAbilityLevel(u, 'A07S') >= 1 and GetUnitAbilityLevel(u, 'A0D1') >= 1 and GetUnitAbilityLevel(u, 'A06P') != 0 and GetUnitAbilityLevel(u, 'A07U') != 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'A018') != 0 then
		set shxishu=shxishu * 5 * 2
	endif
	if isTitle(i , 13) or isTitle(i , 43) then // è€é¡½ç«¥æˆ–åŒ—ä¾ 
set shxishu=shxishu * 5
	endif
	set shanghai=ShangHaiGongShi(u , uc , 10 , 8 , shxishu , 'A017')
	call WuGongShangHai(u , uc , shanghai)
	call DestroyEffect(AddSpecialEffectTarget("Units\\NightElf\\Wisp\\WispExplode.mdl", uc, "overhead"))
	if ( ( GetUnitAbilityLevel(u, 'A06P') != 0 ) and ( GetRandomInt(1, $A) < 5 ) and ( UnitHasBuffBJ(uc, 'Bcri') == false ) ) then
		call WanBuff(u , uc , 4)
	endif
	call RemoveLocation(loc)
	set loc=null
	set u=null
	set uc=null
endfunction
function KongMingQuan takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc=GetUnitLoc(uc)
 local player p=GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
 local group g=CreateGroup()
 local integer range= 1
call WuGongShengChong(u , 'A017' , 1200.)
	// æ­é…åŒæ‰‹ï¼ŒèŒƒå›´ä¼¤å®³
	if GetUnitAbilityLevel(u, 'A07U') != 0 then
		// è€é¡½ç«¥æˆ–è€…åŒ—ä¾ ç§°å·ï¼ŒèŒƒå›´3å€
		if isTitle(i , 13) or isTitle(i , 43) then
			set range=3
		endif
		call GroupEnumUnitsInRangeOfLoc(g, loc, 400 * range, Condition(function KongMing_Condition))
	else
		call GroupAddUnit(g, uc)
	endif
	call ForGroupBJ(g, function KongMing_Action)
	call GroupClear(g)
	call DestroyGroup(g)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
	set p=null
	set g=null
endfunction
function IsKongMingBeiDa takes nothing returns boolean
	return (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) and GetUnitAbilityLevel(GetTriggerUnit(), 'A017') >= 1 and GetUnitAbilityLevel(GetTriggerUnit(), 'A018') >= 1 // INLINED!!
endfunction
function KongMingBeiDa takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
	if aidacishu[i] >= 100 then
		set aidacishu[i]=0
		call unitadditembyidswapped('rsps' , GetTriggerUnit())
	else
		set aidacishu[i]=aidacishu[i] + 1
	endif
endfunction
//-------ç©ºæ˜æ‹³ç»“æŸ-------//
//-------ç¢§æµ·æ½®ç”Ÿæ›²å¼€å§‹-------//
function IsBiHai takes nothing returns boolean
	return ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) and GetSpellAbilityId() == 'A018' // INLINED!!
endfunction
function BiHai_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function BiHai_Action takes nothing returns nothing
 local unit u=GetTriggerUnit()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=GetRandomInt(1, 5)
 local integer j=5
 local real shxishu=1.
 local real shanghai=0.
 local string array yinlv
	set yinlv[1]="å®«!"
	set yinlv[2]="å•†!"
	set yinlv[3]="è§’!"
	set yinlv[4]="å¾µ!"
	set yinlv[5]="ç¾½!"
	if isTitle(i , 39) then
		set shxishu=shxishu * 10
	endif
	if GetUnitAbilityLevel(u, 'A06H') >= 1 then
		set j=3
	endif
	if GetUnitAbilityLevel(u, 'A0D3') >= 1 then
		set j=GetRandomInt(2, 5)
	endif
	if GetUnitAbilityLevel(u, 'A07N') >= 1 then
		set shxishu=shxishu + 1
	endif
	if GetUnitAbilityLevel(u, 'A06H') >= 1 and GetUnitAbilityLevel(u, 'A0D3') >= 1 and GetUnitAbilityLevel(u, 'A07N') >= 1 and GetUnitAbilityLevel(u, 'A084') >= 1 then
		set shxishu=shxishu * 4 * 2
	endif
	if UnitHaveItem(u , 'I09D') then
		set shxishu=shxishu * 8
	endif
	if GetUnitAbilityLevel(u, 'A084') >= 1 and UnitHasBuffBJ(u, 'B00Y') then
		set i=5
	endif
	call CreateTextTagLocBJ(yinlv[i], loc, 40., 14., 10., 60., 30., 0)
	call Nw(1.5 , bj_lastCreatedTextTag)
	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
	if i == 1 then
		call WanBuff(u , uc , 1)
	elseif i == 2 then
		call WanBuff(u , uc , 9)
	elseif i == 3 then
		set shanghai=ShangHaiGongShi(u , uc , 20 , 30 , shxishu , 'A018')
		call WuGongShangHai(u , uc , shanghai)
		call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"))
	elseif i == 4 then
		call WanBuff(u , uc , 4)
	elseif i == 5 then
		if UnitHasBuffBJ(u, 'B00Y') == false then
			set bihai[1 + GetPlayerId(GetOwningPlayer(u))]=1
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
			call ShowUnitHide(bj_lastCreatedUnit)
			call UnitAddAbility(bj_lastCreatedUnit, 'A01A')
			call IssueTargetOrderById(bj_lastCreatedUnit, $D006B, uc)
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		else
			set bihai[1 + GetPlayerId(GetOwningPlayer(u))]=bihai[1 + GetPlayerId(GetOwningPlayer(u))] + 1
			call UnitRemoveBuffBJ('B00Y', u)
			call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(u), loc, bj_UNIT_FACING)
			call ShowUnitHide(bj_lastCreatedUnit)
			call UnitAddAbility(bj_lastCreatedUnit, 'A01A')
			call IssueTargetOrderById(bj_lastCreatedUnit, $D006B, uc)
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
		endif
		if bihai[1 + GetPlayerId(GetOwningPlayer(u))] >= j then
			call UnitRemoveBuffBJ('B00Y', u)
			call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"))
			set shanghai=ShangHaiGongShi(u , uc , 800 , 1600 , shxishu , 'A018')
			call WuGongShangHai(u , uc , shanghai)
		endif
	endif
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function BiHaiChaoSheng takes nothing returns nothing
 local group g=CreateGroup()
 local unit u=GetTriggerUnit()
 local location loc=GetUnitLoc(u)
 local sound sd=CreateSound("Sound\\Music\\mp3Music\\UndeadVictory.mp3", false, false, false, $A, $A, "DefaultEAXON")
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\Brilliance\\Brilliance.mdl"))
	//call PlaySoundOnUnitBJ(sd,100,u)
	call WuGongShengChong(u , 'A018' , 700.)
	call GroupEnumUnitsInRangeOfLoc(g, loc, 500, Condition(function BiHai_Condition))
	call ForGroupBJ(g, function BiHai_Action)
	call GroupClear(g)
	call DestroyGroup(g)
	call RemoveLocation(loc)
	set u=null
	set g=null
	set loc=null
	set sd=null
endfunction
//-------ç¢§æµ·æ½®ç”Ÿæ›²ç»“æŸ-------//
//------------æ±Ÿæ¹–æ­¦åŠŸç»“æŸ------------
function JiangHuWuGong_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsTanZhi))
	call TriggerAddAction(t, function TanZhiShenTong)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsTanZhiBeiDong))
	call TriggerAddAction(t, function TanZhiBeiDong)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function IsTanZhiShangHai))
	call TriggerAddAction(t, function TanZhiShangHai)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function dF))
	call TriggerAddAction(t, function eF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function gF))
	call TriggerAddAction(t, function hF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function jF))
	call TriggerAddAction(t, function kF)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function nF))
	call TriggerAddAction(t, function oF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function qF))
	call TriggerAddAction(t, function rF)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function tF))
	call TriggerAddAction(t, function yF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function AF))
	call TriggerAddAction(t, function aF)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function bF))
	call TriggerAddAction(t, function CF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function DF))
	call TriggerAddAction(t, function EF)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function GF))
	call TriggerAddAction(t, function HF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function lF))
	call TriggerAddAction(t, function JF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function LF))
	call TriggerAddAction(t, function MF)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function OF))
	call TriggerAddAction(t, function RF)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function TF))
	call TriggerAddAction(t, function UF)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsKongMingBeiDa))
	call TriggerAddAction(t, function KongMingBeiDa)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsKongMing))
	call TriggerAddAction(t, function KongMingQuan)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsBiHai))
	call TriggerAddAction(t, function BiHaiChaoSheng)
	set t=null
endfunction
//------------ç»ä¸–æ­¦åŠŸå¼€å§‹------------
//é™é¾™åå…«æŒ
function WF takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A07E' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function XF takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
	call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07E')
	call GroupAddUnit(j9, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
	call WuGongShengChong(GetTriggerUnit() , 'A07E' , 100.)
	call YDWEWaitForLocalVariable(29.)
	call GroupRemoveUnit(j9, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
	call YDWELocalVariableEnd()
	call FlushChildHashtable(YDHT, id * cx)
endfunction
function ZF takes nothing returns boolean
	return ( ( CountUnitsInGroup(j9) > 0 ) )
endfunction
function dG takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function eG takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), - $1317DA19), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shanghai=0.
 local real shxishu=jueXueXiShu(i)
	// åŒ—ä¹”å³°ç§°å·åŠ å¼ºé™é¾™ä¼¤å®³
	if isTitle(i , 10) then
		set shxishu=shxishu * 5
	endif
	// åŒ—ä¸æˆ–åŒ—ä¾ ç§°å·åŠ å¼ºé™é¾™ä¼¤å®³
	if isTitle(i , 9) or isTitle(i , 43) then
		set shxishu=shxishu * 3
	endif
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl"))
    set shanghai=ShangHaiGongShi(u , uc , 60. , 60. , shxishu , 'A07E')
	
  	call WuGongShangHai(u , uc , shanghai)
  	call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
function fG takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
	if ( ( IsUnitDeadBJ(GetEnumUnit()) ) ) then
	else
	call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB, GetEnumUnit())
	call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB)))
	call SaveInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3, 'A07E')
	call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( ( ( 3. + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB), LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3))) / 2. ) ) + ( I2R(gengu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )]) * .06 ) ))
	call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $1968F401, ( 10. + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )] ))
	call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086) * ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $1968F401) * 2.5 ) ))
	if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB), LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3)) == 9 ) ) then
	call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086) * 10. ))
	endif
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(700. , LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060) , Condition(function dG)), function eG)
	call RemoveLocation(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060))
	call RemoveLocation(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $3348E012))
	call YDWELocalVariableEnd()
	endif
endfunction
function gG takes nothing returns nothing
	call ForGroupBJ(j9, function fG)
endfunction
//ç‹¬å­¤ä¹å‰‘
function IsDuGuJiuJian takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A07F' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function DuGuJiuJian takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
	call GroupAddUnit(k9, u)
	set m9=.0
	set n9=.0
	set o9[0]=GetUnitLoc(u)
	set p9=1
	loop
		exitwhen p9 > 20
		set m9=m9 + 18.
		set o9[1]=pu(o9[0] , 300. , ( I2R(p9) * 28. ))
		call CreateNUnitsAtLoc(1, 'h003', p, o9[1], bj_UNIT_FACING)
		set q9[p9]=bj_lastCreatedUnit
		call RemoveLocation(o9[1])
		call SetUnitAnimation(q9[p9], "birth")
		call SetUnitFlyHeight(q9[p9], m9, 100.)
		set p9=p9 + 1
	endloop
	call RemoveLocation(o9[0])
	call WuGongShengChong(GetTriggerUnit() , 'A07F' , 120.)
	call YDWEPolledWaitNull(10.)
	call GroupRemoveUnit(k9, u)
	set u=null
	set p=null
endfunction
function mG takes nothing returns boolean
	return ( ( CountUnitsInGroup(k9) > 0 ) )
endfunction
function nG takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function oG takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), - $1317DA19), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 9. , 9. , shxishu , 'A07F')
  	call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
function pG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
if ( ( IsUnitDeadBJ(GetEnumUnit()) ) ) then
else
call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB, GetEnumUnit())
call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB)))
set n9=( n9 + 12. )
set p9=1
loop
exitwhen p9 > 48
set o9[2]=pu(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060) , 300. , ( ( I2R(p9) * 16. ) + n9 ))
call SetUnitPositionLoc(q9[p9], o9[2])
call RemoveLocation(o9[2])
set p9=p9 + 1
endloop
call SaveInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3, 'A07F')
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( ( ( 1. + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB), LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3))) / 2. ) ) + ( I2R(wuxing[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )]) * .06 ) ))
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $1968F401, ( .2 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )] ))
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086) * LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $1968F401) ))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB), LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3)) == 9 ) ) then
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086) * 10. ))
endif
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(450. , LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060) , Condition(function nG)), function oG)
call RemoveLocation(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060))
call YDWELocalVariableEnd()
endif
endfunction
function qG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call ForGroupBJ(k9, function pG)
call FlushChildHashtable(YDHT, id * cx)
endfunction
//é»¯ç„¶é”€é­‚æŒ
function sG takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A07G' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function tG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07G')
call WuGongShengChong(GetTriggerUnit() , 'A07G' , 90.)
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function vG takes nothing returns boolean
    return ( ( GetEventDamage() == 4.21 ) )
endfunction
function wG takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    set shanghai=ShangHaiGongShi(u , uc , 33. , 33. , shxishu , 'A07G')
    call WuGongShangHai(u , uc , shanghai)
    if ( ( GetRandomInt(1, 50) >= 20 ) and ( UnitHasBuffBJ(uc, 1110454328) == false ) ) then
        call WanBuff(u , uc , 11)
    endif
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
//åä¸¤ä»ªåˆ€æ³•
function yG takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A07H' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function zG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)))
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07H')
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit, 1093681495)
call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
call ShowUnitHide(bj_lastCreatedUnit)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call WuGongShengChong(GetTriggerUnit() , 'A07H' , 90.)
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function aG takes nothing returns boolean
return ( ( GetEventDamage() == 4.13 ) )
endfunction
function BG takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 50. , 50. , shxishu , 'A07H')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//é‡çƒæ‹³
function CG takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A07I' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function cG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07I')
call CreateNUnitsAtLoc(1, 1697656904, GetOwningPlayer(GetTriggerUnit()), pu(GetUnitLoc(GetTriggerUnit()) , 325. , 0), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , GetTriggerUnit() , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1, 1697656904, GetOwningPlayer(GetTriggerUnit()), pu(GetUnitLoc(GetTriggerUnit()) , 325. , 120.), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , GetTriggerUnit() , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1, 1697656904, GetOwningPlayer(GetTriggerUnit()), pu(GetUnitLoc(GetTriggerUnit()) , 325. , 240.), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , GetTriggerUnit() , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call WuGongShengChong(GetTriggerUnit() , 'A07I' , 90.)
call GroupAddUnit(r9, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call YDWEWaitForLocalVariable(19.)
call GroupRemoveUnit(r9, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function EG takes nothing returns boolean
return ( ( CountUnitsInGroup(r9) > 0 ) )
endfunction
function FG takes nothing returns boolean
local integer id=GetHandleId(GetTriggeringTrigger())
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function GG takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), - $1317DA19), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
	if isTitle(i , 42) then
		set shxishu=shxishu * 3
	endif
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "war3mapImported\\CrimsonWake.mdx"))
    set shanghai=ShangHaiGongShi(u , uc , 30 , 30 , shxishu , 'A07I')
  	call WuGongShangHai(u , uc , shanghai)
  	call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
function HG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEnumUnit())) )])
call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060, GetUnitLoc(GetEnumUnit()))
call SaveInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3, 'A07I')
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(650. , LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060) , Condition(function FG)), function GG)
call RemoveLocation(LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060))
endfunction
function IG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call ForGroupBJ(r9, function HG)
call FlushChildHashtable(YDHT, id * cx)
endfunction
//è¾Ÿé‚ªå‰‘æ³•
function JG takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A07J' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function KG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) ))
set t9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=GetSpellTargetLoc()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07J')
call WuGongShengChong(GetTriggerUnit() , 'A07J' , 80.)
call GroupAddUnit(s9, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call YDWEWaitForLocalVariable(20.)
call GroupRemoveUnit(s9, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call RemoveLocation(t9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)])
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function MG takes nothing returns boolean
return ( ( CountUnitsInGroup(s9) > 0 ) )
endfunction
function NG takes nothing returns boolean
local integer id=GetHandleId(GetTriggeringTrigger())
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function OG takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetTriggeringTrigger()) * LoadInteger(YDHT, GetHandleId(GetTriggeringTrigger()), - $1317DA19), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 43 , 43 , shxishu , 'A07J')
  	call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
function PG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
if ( ( IsUnitDeadBJ(GetEnumUnit()) ) ) then
else
call SaveUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB, udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEnumUnit())) )])
call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060, t9[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )])
call SaveInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3, 'A07J')
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( ( ( 1.7 + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB), LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3))) / 2. ) ) + ( I2R(jingmai[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )]) * .05 ) ))
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $1968F401, ( 8.5 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) )] ))
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086) * LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $1968F401) ))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB), LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2A41B3A3)) == 9 ) ) then
call SaveReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086, ( LoadReal(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $2CEF3086) * 10. ))
endif
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600. , LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060) , Condition(function NG)), function OG)
call YDWELocalVariableEnd()
endif
endfunction
function QG takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call ForGroupBJ(s9, function PG)
call FlushChildHashtable(YDHT, id * cx)
endfunction
//èƒ¡å®¶åˆ€æ³•
function SG takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A086' ) )
endfunction
function TG takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function UG takes nothing returns nothing
    local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 20 , 20 , shxishu , 'A086')
  	call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
function VG takes nothing returns nothing
if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 500. ) ) then
call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 10. ))
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, pu(GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)) , GetRandomReal(100., 350.) , ( GetRandomReal(0, 360.) )))
call CreateNUnitsAtLoc(1, 1697656908, GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F), bj_UNIT_FACING)
call Gw(2. , bj_lastCreatedUnit)
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(350. , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , Condition(function TG)), function UG)
endif
endfunction
function WG takes nothing returns nothing
local timer ky
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A086')
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( ( 2. + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(gengu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .07 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( 8.3 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * LoadReal(YDHT, id * cx, $1968F401) ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 1.8 ))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)) == 9 ) ) then
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 10. ))
endif
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)))
call WuGongShengChong(GetTriggerUnit() , 'A086' , 100.)
set H7=1
loop
exitwhen H7 > 18
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 256 , ( ( 20. ) * ( I2R(H7) ) )))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093679159)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, id * cx, - $3348E012))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
set H7=H7 + 1
endloop
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call SaveReal(YDHT, GetHandleId(ky), - $2CEF3086, LoadReal(YDHT, id * cx, - $2CEF3086))
call TimerStart(ky, .3, true, function VG)
call FlushChildHashtable(YDHT, id * cx)
set ky=null
endfunction
function YG takes nothing returns boolean
return ( ( GetEventDamage() == 4.22 ) )
endfunction
function ZG takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 16.6 , 16.6 , shxishu , 'A086')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//è¥¿æ¯’æ–æ³•
function e6 takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A089' and (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) // INLINED!!
endfunction
function f6 takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
	call CreateNUnitsAtLoc(1, 'e00M', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call UnitAddAbility(bj_lastCreatedUnit, 'A088')
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D7)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 31.)
	call RemoveLocation(loc)
	call WuGongShengChong(GetTriggerUnit() , 'A089' , 100.)
	set u=null
	set loc=null
endfunction
function h6 takes nothing returns boolean
	return ( GetEventDamage() == 4.35 )
endfunction
function i6 takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    if UnitHaveItem(u , 'I09B') then
	    set shxishu=shxishu * 8
    endif
	// è¥¿æ¯’ç§°å·åŠ æˆ
	if isTitle(i , 38) then
		set shxishu=shxishu * 3
	endif
    set shanghai=ShangHaiGongShi(u , uc , 45. , 45. , shxishu , 'A089')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//å…­è„‰ç¥å‰‘
function k6 takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A085' ) )
endfunction
function m6 takes nothing returns boolean
	return ( ( ( IsUnitAliveBJ(GetFilterUnit()) ) and ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 1))) ) ) )
endfunction
function o6 takes nothing returns nothing
	call GroupRemoveUnit(LoadGroupHandle(YDHT, GetHandleId(GetExpiredTimer()), 6), GetEnumUnit())
endfunction
function p6 takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 1)
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
 local location loc=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
 local location loc3=pu(loc2 , GetRandomReal(5., 15.) , AngleBetweenPoints(loc, loc2))
    call PauseUnit(uc, true)
    call SetUnitPositionLoc(uc, loc3)
    call Jw(1. , AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", uc, "chest"))
    set shanghai=ShangHaiGongShi(u , uc , 19. , 19. , shxishu , 'A085')
  	call WuGongShangHai(u , uc , shanghai)
    call PauseUnit(uc, false)
    call RemoveLocation(loc)
    call RemoveLocation(loc2)
    call RemoveLocation(loc3)
    set u=null
    set uc=null
    set loc=null
    set loc2=null
    set loc3=null
endfunction
function q6 takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local location loc= GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(t), 1))
 local real r= LoadReal(YDHT, GetHandleId(t), 4)
	if ( r >= 500. ) then
		call KillUnit(u)
		call RemoveLocation(loc)
		call FlushChildHashtable(YDHT, GetHandleId(t))
		call PauseTimer(t)
		call DestroyTimer(t)
	else
		call SaveReal(YDHT, GetHandleId(t), 4, r + 10.)
		call SetUnitPositionLoc(u, loc)
		call SaveGroupHandle(YDHT, GetHandleId(t), 5, YDWEGetUnitsInRangeOfLocMatchingNull(r + 20. , loc , Condition(function m6)))
		call SaveGroupHandle(YDHT, GetHandleId(t), 6, YDWEGetUnitsInRangeOfLocMatchingNull(r + 40. , loc , Condition(function m6)))
		call SetUnitScalePercent(u, r + 10, r + 10, r + 10)
		call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(t), 5), function o6)
		call ForGroupBJ(LoadGroupHandle(YDHT, GetHandleId(t), 6), function p6)
		call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(t), 5))
		call DestroyGroup(LoadGroupHandle(YDHT, GetHandleId(t), 6))
		call RemoveLocation(loc)
	endif
	set u=null
	set t=null
	set loc=null
endfunction
function MM6 takes nothing returns nothing
 local timer ky
 local integer i=1
 local location loc
	call WuGongShengChong(GetTriggerUnit() , 'A085' , 100.)
	loop
		exitwhen i > 6
		set loc=GetUnitLoc(GetTriggerUnit())
		call Jw(1. , AddSpecialEffectLoc("war3mapImported\\DarkNova.mdx", loc))
		call CreateNUnitsAtLoc(1, 'e00K', GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 1.)
		call SetUnitTimeScalePercent(bj_lastCreatedUnit, 200.)
		set ky=CreateTimer()
		call SaveUnitHandle(YDHT, GetHandleId(ky), 0, bj_lastCreatedUnit)
		call SaveUnitHandle(YDHT, GetHandleId(ky), 1, GetTriggerUnit())
		call TimerStart(ky, 0.02, true, function q6)
		call TriggerSleepAction(1.5)
		call RemoveLocation(loc)
		set i=i + 1
	endloop
	set ky=null
	set loc=null
endfunction
//æ‰“ç‹—æ£’æ³•
function O6 takes nothing returns boolean
return ( ( GetSpellAbilityId() == 'A07L' ) )
endfunction
function P6 takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(C9)) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function Q6 takes nothing returns nothing
 local unit u=C9
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
	// åŒ—ä¸æ‰“ç‹—5å€
	if isTitle(i , 9) then
		set shxishu=shxishu * 5
	endif
	if UnitHaveItem(u , 'I097') then
	    set shxishu=shxishu * 8
    endif
    set shanghai=ShangHaiGongShi(u , uc , 35. , 35. , shxishu , 'A07L')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function R6 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call DisableTrigger(GetTriggeringTrigger())
set C9=GetTriggerUnit()
set c9=GetUnitLoc(GetTriggerUnit())
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07L')
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( ( 1.8 + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(gengu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .06 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( 9. + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * LoadReal(YDHT, id * cx, $1968F401) ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 1.5 ))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)) == 9 ) ) then
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 10. ))
endif
call WuGongShengChong(GetTriggerUnit() , 'A07L' , 70.)
call TriggerSleepAction(.2)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call PauseUnit(C9, true)
call CreateNUnitsAtLoc(1, 1747988532, GetOwningPlayer(C9), c9, bj_UNIT_FACING)
set D9=bj_lastCreatedUnit
call SetUnitPositionLocFacingLocBJ(C9, pu(c9 , 800. , 135.), c9)
call SetUnitAnimation(C9, "ATTACK")
call SetUnitPositionLocFacingLocBJ(D9, GetUnitLoc(C9), GetUnitLoc(C9))
call TriggerSleepAction(.15)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SetUnitPositionLocFacingLocBJ(C9, pu(c9 , 800. , 45.), c9)
call SetUnitAnimation(C9, "ATTACK")
call SetUnitPositionLocFacingLocBJ(D9, GetUnitLoc(C9), GetUnitLoc(C9))
call TriggerSleepAction(.15)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SetUnitPositionLocFacingLocBJ(C9, pu(c9 , 600. , 225.), c9)
call SetUnitAnimation(C9, "ATTACK")
call SetUnitPositionLocFacingLocBJ(D9, GetUnitLoc(C9), GetUnitLoc(C9))
call TriggerSleepAction(.15)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SetUnitPositionLocFacingLocBJ(C9, pu(c9 , 900. , 90.), c9)
call SetUnitAnimation(C9, "ATTACK")
call SetUnitPositionLocFacingLocBJ(D9, GetUnitLoc(C9), GetUnitLoc(C9))
call TriggerSleepAction(.15)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SetUnitPositionLocFacingLocBJ(C9, pu(c9 , 600. , 315.), c9)
call SetUnitAnimation(C9, "ATTACK")
call SetUnitPositionLocFacingLocBJ(D9, GetUnitLoc(C9), GetUnitLoc(C9))
call TriggerSleepAction(.15)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(), pu(c9 , 800. , 135.), c9)
call SetUnitAnimation(C9, "ATTACK")
call SetUnitPositionLocFacingLocBJ(D9, GetUnitLoc(C9), GetUnitLoc(C9))
call TriggerSleepAction(.15)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call AddLightningLoc("FORK", pu(c9 , 800. , 135.), pu(c9 , 800. , 45.))
set E9[1]=bj_lastCreatedLightning
call AddLightningLoc("FORK", pu(c9 , 800. , 45.), pu(c9 , 600. , 225.))
set E9[2]=bj_lastCreatedLightning
call AddLightningLoc("FORK", pu(c9 , 600. , 225.), pu(c9 , 900. , 90.))
set E9[3]=bj_lastCreatedLightning
call AddLightningLoc("FORK", pu(c9 , 900. , 90.), pu(c9 , 600. , 315.))
set E9[4]=bj_lastCreatedLightning
call AddLightningLoc("FORK", pu(c9 , 600. , 315.), pu(c9 , 800. , 135.))
set E9[5]=bj_lastCreatedLightning
call SetUnitPositionLocFacingLocBJ(C9, c9, c9)
call RemoveUnit(D9)
set F9=1
loop
exitwhen F9 > 12
call AddSpecialEffectLocBJ(pu(c9 , 100. , ( 30. * I2R(F9) )), "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(pu(c9 , 300. , ( 30. * I2R(F9) )), "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(pu(c9 , 500. , ( 30. * I2R(F9) )), "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set F9=F9 + 1
endloop
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600. , c9 , Condition(function P6)), function Q6)
call TriggerSleepAction(1.)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call DestroyLightning(E9[1])
call DestroyLightning(E9[2])
call DestroyLightning(E9[3])
call DestroyLightning(E9[4])
call DestroyLightning(E9[5])
call PauseUnit(C9, false)
call ResetUnitAnimation(C9)
call EnableTrigger(jn)
call TriggerSleepAction(6.)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call DisableTrigger(jn)
call RemoveLocation(c9)
call EnableTrigger(in)
call FlushChildHashtable(YDHT, id * cx)
endfunction
function T6 takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(C9)) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function U6 takes nothing returns nothing
 local unit u=C9
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 18. , 18. , shxishu , 'A07L')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function V6 takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, C9)
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07L')
call SaveLocationHandle(YDHT, id * cx, $5E83114F, pu(GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)) , GetRandomReal(100., 350.) , ( GetRandomReal(0, 360.) )))
call CreateNUnitsAtLoc(1, 1697656905, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
call Gw(2. , bj_lastCreatedUnit)
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( ( 1.8 + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(gengu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .06 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( 9. * udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * LoadReal(YDHT, id * cx, $1968F401) ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 1.5 ))
if ( ( GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3)) == 9 ) ) then
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * 10. ))
endif
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(400. , LoadLocationHandle(YDHT, id * cx, $5E83114F) , Condition(function T6)), function U6)
call FlushChildHashtable(YDHT, id * cx)
endfunction
//æ®‹ç« ï¼šè¾Ÿé‚ªå‰‘æ³•ä¹‹æµæ˜Ÿèµ¶æœˆ
function X6 takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07J') >= 1 ) and ( GetRandomReal(.0, 100.) <= 5. ) and ( Kd[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function Y6 takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function Z6 takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl"))
    set shanghai=ShangHaiGongShi(u , uc , 18. , 18. , shxishu , 'A07J')
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function dH takes nothing returns nothing
if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 400. ) ) then
call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 11. ))
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), - $2EC5CBA0)))
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(200. , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , Condition(function Y6)), function Z6)
call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
endif
endfunction
function eH takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function fH takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl"))
    set shanghai=ShangHaiGongShi(u , uc , 18. , 18. , shxishu , 'A07J')
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function gH takes nothing returns nothing
if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 400. ) ) then
call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 11. ))
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), - $2EC5CBA0)))
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(200. , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , Condition(function eH)), function fH)
call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $3348E012))
endif
endfunction
function hH takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function iH takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl"))
    set shanghai=ShangHaiGongShi(u , uc , 18. , 18. , shxishu , 'A07J')
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function jH takes nothing returns nothing
if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 400. ) ) then
call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 11. ))
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), - $2EC5CBA0)))
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(200. , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , Condition(function hH)), function iH)
call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $3348E012))
endif
endfunction
function kH takes nothing returns nothing
local timer ky
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07J')
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( ( 1.6 + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(gengu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .07 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( 8.3 + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * ( LoadReal(YDHT, id * cx, $1968F401) * 3. ) ))
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("è¾Ÿé‚ªå‰‘æ³•ä¹‹æµæ˜Ÿèµ¶æœˆ", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1, 1697656910, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, bj_lastCreatedUnit)
call zw(bj_lastCreatedUnit , GetAttacker() , .5 , 600. , 1500. , 2000. , 100)
call Gw(20. , bj_lastCreatedUnit)
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call SaveUnitHandle(YDHT, GetHandleId(ky), - $2EC5CBA0, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call SaveReal(YDHT, GetHandleId(ky), - $2CEF3086, LoadReal(YDHT, id * cx, - $2CEF3086))
call TimerStart(ky, .5, true, function dH)
call YDWEPolledWaitNull(1.)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call CreateNUnitsAtLoc(1, 1697656910, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, bj_lastCreatedUnit)
call zw(bj_lastCreatedUnit , GetAttacker() , .5 , 600. , 1500. , 2000. , 100)
call Gw(25. , bj_lastCreatedUnit)
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call SaveUnitHandle(YDHT, GetHandleId(ky), - $2EC5CBA0, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call SaveReal(YDHT, GetHandleId(ky), - $2CEF3086, LoadReal(YDHT, id * cx, - $2CEF3086))
call TimerStart(ky, .5, true, function gH)
call YDWEPolledWaitNull(1.)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call CreateNUnitsAtLoc(1, 1697656910, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, bj_lastCreatedUnit)
call zw(bj_lastCreatedUnit , GetAttacker() , .5 , 600. , 1500. , 2000. , 100)
call Gw(25. , bj_lastCreatedUnit)
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call SaveUnitHandle(YDHT, GetHandleId(ky), - $2EC5CBA0, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call SaveReal(YDHT, GetHandleId(ky), - $2CEF3086, LoadReal(YDHT, id * cx, - $2CEF3086))
call TimerStart(ky, .5, true, function jH)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
set ky=null
endfunction
//æ®‹ç« ï¼šæ‰“ç‹—æ£’æ³•ä¹‹æ¶ç‹—æ‹¦è·¯
function nH takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07L') >= 1 ) and ( GetRandomReal(.0, 100.) <= 6. ) and ( Qd[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function oH takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("æ‰“ç‹—æ£’æ³•ä¹‹æ¶ç‹—æ‹¦è·¯", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $72C3E060) , 256 , ( ( GetUnitPropWindowBJ(GetTriggerUnit()) ) + ( 90. ) )))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetAttacker()), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093678938)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D0271, LoadLocationHandle(YDHT, id * cx, - $3348E012))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 12.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $72C3E060))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call FlushChildHashtable(YDHT, id * cx)
endfunction
function qH takes nothing returns boolean
return ( ( GetEventDamage() == 4.51 ) )
endfunction
function rH takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
	// åŒ—ä¸æ‰“ç‹—5å€
	if isTitle(i , 9) then
		set shxishu=shxishu * 5
	endif
    set shanghai=ShangHaiGongShi(u , uc , 35. , 35. , shxishu , 'A07L')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ®‹ç« ï¼šé™é¾™ç¬¬ä¸€å¼ã€ç¬¬äºŒå¼
function tH takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07E') >= 1 ) and ( GetRandomReal(.0, 100.) <= 8. ) and ( Nd[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function uH takes nothing returns boolean
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function vH takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shanghai=0.
 local real shxishu=jueXueXiShu(i)
	// åŒ—ä¹”å³°ç§°å·åŠ å¼ºé™é¾™ä¼¤å®³
	if isTitle(i , 10) then
		set shxishu=shxishu * 5
	endif
	// åŒ—ä¸æˆ–åŒ—ä¾ ç§°å·åŠ å¼ºé™é¾™ä¼¤å®³
	if isTitle(i , 9) or isTitle(i , 43) then
		set shxishu=shxishu * 3
	endif
    set shanghai=ShangHaiGongShi(u , uc , 70. , 70. , shxishu , 'A07E')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function wH takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local location loc=GetUnitLoc(LoadUnitHandle(YDHT, p, $59BEA0CB))
	if ( ( LoadReal(YDHT, p, - $4DA64D97) >= 600. ) ) then
		call FlushChildHashtable(YDHT, p)
		call PauseTimer(t)
		call DestroyTimer(t)
	else
		call SaveReal(YDHT, p, - $4DA64D97, ( LoadReal(YDHT, p, - $4DA64D97) + 10. ))
		call SaveLocationHandle(YDHT, p, $50525CFC, GetUnitLoc(LoadUnitHandle(YDHT, p, $59BEA0CB)))
		call SaveLocationHandle(YDHT, p, - $2103C000, pu(loc , GetRandomReal(50., 600.) , ( GetRandomReal(0, 360.) )))
		call AddSpecialEffectLocBJ(LoadLocationHandle(YDHT, p, - $2103C000), "war3mapImported\\FireStomp.mdx")
		call DestroyEffect(bj_lastCreatedEffect)
		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300. , LoadLocationHandle(YDHT, p, - $2103C000) , Condition(function uH)), function vH)
		call RemoveLocation(LoadLocationHandle(YDHT, p, $50525CFC))
		call RemoveLocation(LoadLocationHandle(YDHT, p, - $2103C000))
	endif
	call RemoveLocation(loc)
	set loc=null
	set t=null
endfunction
function XLES_Condition takes nothing returns boolean
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function XLES_Action takes nothing returns nothing
 local unit u=LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0)
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shanghai=0.
 local real shxishu=jueXueXiShu(i)
	// åŒ—ä¹”å³°ç§°å·åŠ å¼ºé™é¾™ä¼¤å®³
	if isTitle(i , 10) then
		set shxishu=shxishu * 5
	endif
	// åŒ—ä¸æˆ–åŒ—ä¾ ç§°å·åŠ å¼ºé™é¾™ä¼¤å®³
	if isTitle(i , 9) or isTitle(i , 43) then
		set shxishu=shxishu * 3
	endif
    set shanghai=ShangHaiGongShi(u , uc , 80. , 80. , shxishu , 'A07E')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function XiangLongErShi takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local integer p=GetHandleId(t)
 local unit u=LoadUnitHandle(YDHT, p, 0)
 local location loc=GetUnitLoc(u)
 local location loc2=pu(loc , GetRandomReal(50., 600.) , ( GetRandomReal(0, 360.) ))
	if ( ( LoadReal(YDHT, p, 1) >= 600. ) ) then
		call FlushChildHashtable(YDHT, p)
		call PauseTimer(t)
		call DestroyTimer(t)
	else
		call SaveReal(YDHT, p, 1, LoadReal(YDHT, p, 1) + 10.)
		call DestroyEffect(AddSpecialEffectLocBJ(loc2, "war3mapImported\\ChaosExplosion.mdl"))
		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(300. , loc2 , Condition(function XLES_Condition)), function XLES_Action)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set t=null
	set u=null
	set loc=null
	set loc2=null
endfunction
function xH takes nothing returns nothing
 local timer t=null
 local unit u=GetAttacker()
 local unit uc=GetTriggerUnit()
 local location loc=GetUnitLoc(u)
 local location loc2=GetUnitLoc(uc)
	if Nd[1 + GetPlayerId(GetOwningPlayer(u))] == 2 and GetRandomInt(1, 3) == 1 then
		set t=CreateTimer()
		call CreateTextTagLocBJ("é™é¾™åå…«æŒä¹‹äº¢é¾™æœ‰æ‚”", loc, 0, 14., 21., 15., 90., .0)
		call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
		call Nw(4. , bj_lastCreatedTextTag)
		call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
		call TimerStart(t, .3, true, function XiangLongErShi)
	else
		set t=CreateTimer()
		call CreateTextTagLocBJ("é™é¾™åå…«æŒä¹‹ç¥é¾™æ‘†å°¾", loc, 0, 14., 90., 21., 15., .0)
		call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
		call Nw(4. , bj_lastCreatedTextTag)
		call SaveUnitHandle(YDHT, GetHandleId(t), $59BEA0CB, u)
		call TimerStart(t, .3, true, function wH)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set t=null
	set u=null
	set uc=null
	set loc=null
	set loc2=null
endfunction
//æ®‹ç« ï¼šèƒ¡å®¶åˆ€æ³•ä¹‹å…«æ–¹è—åˆ€å¼
function zH takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A086') >= 1 ) and ( GetRandomReal(.0, 100.) <= 8. ) and ( Od[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function IsKongJun takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_FLYING) )
endfunction
function HuJiaKongJun takes nothing returns nothing
	call WuGongShangHai(GetAttacker() , GetEnumUnit() , 4.53)
endfunction
function AH takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
local unit u=GetAttacker()
local group g=CreateGroup()
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("èƒ¡å®¶åˆ€æ³•ä¹‹å…«æ–¹è—åˆ€å¼", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
set H7=1
loop
exitwhen H7 > 8
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $6923AD87) , 256 , ( ( 45. ) * ( I2R(H7) ) )))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetAttacker()), LoadLocationHandle(YDHT, id * cx, - $6923AD87), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093679430)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D024B, LoadLocationHandle(YDHT, id * cx, - $3348E012))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
set H7=H7 + 1
endloop
call GroupEnumUnitsInRangeOfLoc(g, LoadLocationHandle(YDHT, id * cx, - $6923AD87), 700, Condition(function IsKongJun))
call ForGroupBJ(g, function HuJiaKongJun)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
call DestroyGroup(g)
set u=null
set g=null
endfunction
//å…«æ–¹è—åˆ€å¼ä¼¤å®³
function BH takes nothing returns boolean
	return ( ( GetEventDamage() == 4.53 ) )
endfunction
function bH takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    local location loc=GetUnitLoc(uc)
    call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl"))
    set shanghai=ShangHaiGongShi(u , uc , 500. , 500. , shxishu , 'A086')
    call WuGongShangHai(u , uc , shanghai)
    call RemoveLocation(loc)
    set u=null
    set uc=null
    set loc=null
endfunction
//æ®‹ç« ï¼šè¥¿æ¯’æ£æ³•ä¹‹è›‡ç›˜é’ç«¹
function cH takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A089') >= 1 ) and ( GetRandomReal(.0, 100.) <= 5. ) and ( Pd[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function DH takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("è¥¿æ¯’æ£æ³•ä¹‹è›‡ç›˜é’ç«¹", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
set H7=1
loop
exitwhen H7 > 12
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $6923AD87) , 350. , ( ( 30. ) * ( I2R(H7) ) )))
call CreateNUnitsAtLoc(1, 1869836340, GetOwningPlayer(GetAttacker()), LoadLocationHandle(YDHT, id * cx, - $3348E012), bj_UNIT_FACING)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
set H7=H7 + 1
endloop
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function FH takes nothing returns boolean
return ( ( GetEventDamage() == 4.54 ) )
endfunction
function GH takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
	// è¥¿æ¯’ç§°å·åŠ æˆ
	if isTitle(i , 38) then
		set shxishu=shxishu * 3
	endif
    set shanghai=ShangHaiGongShi(u , uc , 42. , 42. , shxishu , 'A089')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ®‹ç« ï¼šåä¸¤ä»ªåˆ€æ³•ä¹‹è¡Œæ°”å¦‚è™¹
function IH takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07H') >= 1 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( Jd[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function lH takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
call SetUnitFlyHeight(GetEnumUnit(), 600., 200.)
call IssuePointOrderByIdLoc(GetEnumUnit(), $D0012, LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $6923AD87))
endfunction
function JH takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function KH takes nothing returns boolean
local integer id=GetHandleId(GetTriggeringTrigger())
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function LH takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 40. , 40. , shxishu , 'A07H')
	call WuGongShangHai(u , uc , shanghai)
	set u=null
	set uc=null
endfunction
function MH takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07H')
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("åä¸¤ä»ªåˆ€æ³•ä¹‹è¡Œæ°”å¦‚è™¹", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
call SaveGroupHandle(YDHT, id * cx, $312C4181, CreateGroup())
set H7=1
loop
exitwhen H7 > 9
call SaveReal(YDHT, id * cx, - $6329FB8A, ( LoadReal(YDHT, id * cx, - $6329FB8A) + 45. ))
call SaveLocationHandle(YDHT, id * cx, - $3348E012, pu(LoadLocationHandle(YDHT, id * cx, - $6923AD87) , 700. , LoadReal(YDHT, id * cx, - $6329FB8A)))
call CreateNUnitsAtLoc(1, 1747988528, GetOwningPlayer(GetAttacker()), LoadLocationHandle(YDHT, id * cx, - $6923AD87), bj_UNIT_FACING)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D0012, LoadLocationHandle(YDHT, id * cx, - $3348E012))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $3348E012))
call GroupAddUnit(LoadGroupHandle(YDHT, id * cx, $312C4181), bj_lastCreatedUnit)
set H7=H7 + 1
endloop
call TriggerSleepAction(3.)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call ForGroupBJ(LoadGroupHandle(YDHT, id * cx, $312C4181), function lH)
call TriggerSleepAction(3.)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call ForGroupBJ(LoadGroupHandle(YDHT, id * cx, $312C4181), function JH)
call CreateNUnitsAtLoc(1, 1747988529, GetOwningPlayer(GetAttacker()), LoadLocationHandle(YDHT, id * cx, - $6923AD87), bj_UNIT_FACING)
call SaveUnitHandle(YDHT, id * cx, $197A3E5D, bj_lastCreatedUnit)
call DestroyGroup(LoadGroupHandle(YDHT, id * cx, $312C4181))
call TriggerSleepAction(.5)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call AddSpecialEffectLocBJ(LoadLocationHandle(YDHT, id * cx, - $6923AD87), "war3mapImported\\LightningWrath.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerSleepAction(.3)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call RemoveUnit(LoadUnitHandle(YDHT, id * cx, $197A3E5D))
call AddSpecialEffectLocBJ(LoadLocationHandle(YDHT, id * cx, - $6923AD87), "war3mapImported\\FrostNova.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( ( 2.5 + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(jingmai[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .05 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( 8. + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * ( LoadReal(YDHT, id * cx, $1968F401) * 6. ) ))
call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(800. , LoadLocationHandle(YDHT, id * cx, - $6923AD87) , Condition(function KH)), function LH)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function OH takes nothing returns boolean
return ( ( GetEventDamage() == 4.55 ) )
endfunction
function PH takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 20. , 20. , shxishu , 'A07H')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ®‹ç« ï¼šé»¯ç„¶é”€é­‚æŒä¹‹æ— ä¸­ç”Ÿæœ‰
function RH takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07G') >= 1 ) and ( GetRandomReal(.0, 100.) <= 6. ) and ( Md[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function SH takes nothing returns nothing
if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 2400. ) ) then
call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
else
call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 20. ))
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $50525CFC, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)))
call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $3348E012, pu(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $50525CFC) , 256 , LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97)))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB)), LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $50525CFC), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093677131)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D00FA, LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $3348E012))
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 2.)
call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $50525CFC))
call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), - $3348E012))
endif
endfunction
function TH takes nothing returns nothing
local timer ky
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07G')
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("é»¯ç„¶é”€é­‚æŒä¹‹æ— ä¸­ç”Ÿæœ‰", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call TimerStart(ky, .1, true, function SH)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
set ky=null
endfunction
function VH takes nothing returns boolean
return ( ( GetEventDamage() == 4.56 ) )
endfunction
function WH takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 36. , 36. , shxishu , 'A07G')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ®‹ç« ï¼šç‹¬å­¤ä¹å‰‘å¥¥ä¹‰ä¹‹ç ´å‰‘å¼
function YH takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07F') >= 1 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( ld[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function ZH takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07F')
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("ç‹¬å­¤ä¹å‰‘å¥¥ä¹‰ä¹‹ç ´å‰‘å¼", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
call SaveLocationHandle(YDHT, id * cx, $5E83114F, pu(LoadLocationHandle(YDHT, id * cx, - $6923AD87) , 500. , ( ( GetUnitFacing(GetAttacker()) ) + ( 180. ) )))
call CreateNUnitsAtLoc(1, 1747988530, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, $5E83114F), GetUnitFacing(GetAttacker()))
call Gw(4. , bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit, $D02AC, LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, $5E83114F))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function eI takes nothing returns boolean
return ( ( GetEventDamage() == 4.57 ) )
endfunction
function fI takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 44. , 44. , shxishu , 'A07F')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ®‹ç« ï¼šå…­è„‰ç¥å‰‘ä¹‹å°‘å•†å‰‘
function hI takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A085') >= 1 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( Id[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function iI takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call YDWELocalVariableInitiliation()
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A085')
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("å…­è„‰ç¥å‰‘ä¹‹å°‘å•†å‰‘", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $6923AD87), GetUnitFacing(GetAttacker()))
call ShowUnitHide(bj_lastCreatedUnit)
call Gw(4. , bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093679439)
call IssueTargetOrderById(bj_lastCreatedUnit, $D0097, GetTriggerUnit())
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call YDWELocalVariableEnd()
call FlushChildHashtable(YDHT, id * cx)
endfunction
function kI takes nothing returns boolean
return ( ( GetEventDamage() == 4.58 ) )
endfunction
function mI takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=jueXueXiShu(i)
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 300. , 300. , shxishu , 'A085')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ®‹ç« ï¼šé‡çƒæ‹³ç¬¬ä¸€å¼
function oI takes nothing returns boolean
return ( ( GetUnitAbilityLevel(GetAttacker(), 'A07I') >= 1 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( Ld[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function pI takes nothing returns boolean
return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function qI takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local unit u=LoadUnitHandle(YDHT, GetHandleId(t), $59BEA0CB)
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=jueXueXiShu(i)
 local real shanghai=0.
	if isTitle(i , 42) then
		set shxishu=shxishu * 3
	endif
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
	set shanghai=ShangHaiGongShi(u , uc , 44. , 44. , shxishu , 'A07I')
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set t=null
	set u=null
	set uc=null
	set loc=null
endfunction
function rI takes nothing returns nothing
    if ( ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) >= 420. ) ) then
        call FlushChildHashtable(YDHT, GetHandleId(GetExpiredTimer()))
        call DestroyTimer(GetExpiredTimer())
    else
        call SaveReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97, ( LoadReal(YDHT, GetHandleId(GetExpiredTimer()), - $4DA64D97) + 11. ))
        call SaveLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F, GetUnitLoc(LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), - $2EC5CBA0)))
        call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(250. , LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F) , Condition(function pI)), function qI)
        call RemoveLocation(LoadLocationHandle(YDHT, GetHandleId(GetExpiredTimer()), $5E83114F))
    endif
endfunction
function sI takes nothing returns nothing
local timer ky
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetAttacker())
call SaveInteger(YDHT, id * cx, - $2A41B3A3, 'A07I')
call SaveLocationHandle(YDHT, id * cx, - $6923AD87, GetUnitLoc(GetAttacker()))
call CreateTextTagLocBJ("é‡çƒæ‹³ä¹‹ç¿»è‚˜è£‚æ¶", LoadLocationHandle(YDHT, id * cx, - $6923AD87), 0, 14., 90., 21., 15., .0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
call Nw(4. , bj_lastCreatedTextTag)
call RemoveLocation(LoadLocationHandle(YDHT, id * cx, - $6923AD87))
call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1, 1697656912, GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), LoadLocationHandle(YDHT, id * cx, - $72C3E060), bj_UNIT_FACING)
call zw(bj_lastCreatedUnit , GetAttacker() , .5 , 600. , 1500. , 2000. , 100)
call Gw(20. , bj_lastCreatedUnit)
call SaveUnitHandle(YDHT, id * cx, - $2EC5CBA0, bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1, 1697656913, GetOwningPlayer(GetAttacker()), pu(GetUnitLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) , 250. , 0), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0) , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1, 1697656913, GetOwningPlayer(GetAttacker()), pu(GetUnitLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) , 250. , 90.), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0) , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1, 1697656913, GetOwningPlayer(GetAttacker()), pu(GetUnitLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) , 250. , 180.), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0) , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1, 1697656913, GetOwningPlayer(GetAttacker()), pu(GetUnitLoc(LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0)) , 250. , 270.), bj_UNIT_FACING)
call Yv(bj_lastCreatedUnit , LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0) , 6. , .0 , 0 , 20. , .03)
call Gw(20. , bj_lastCreatedUnit)
call SaveReal(YDHT, id * cx, - $2CEF3086, ( ( ( 3. + I2R(juexuelingwu[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) ) + ( I2R(GetUnitAbilityLevel(LoadUnitHandle(YDHT, id * cx, $59BEA0CB), LoadInteger(YDHT, id * cx, - $2A41B3A3))) / 2. ) ) + ( I2R(danpo[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )]) * .07 ) ))
call SaveReal(YDHT, id * cx, $1968F401, ( 11. + udg_shanghaijiacheng[( 1 + GetPlayerId(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB))) )] ))
call SaveReal(YDHT, id * cx, - $2CEF3086, ( LoadReal(YDHT, id * cx, - $2CEF3086) * ( LoadReal(YDHT, id * cx, $1968F401) * 3. ) ))
set ky=CreateTimer()
call SaveUnitHandle(YDHT, GetHandleId(ky), $59BEA0CB, LoadUnitHandle(YDHT, id * cx, $59BEA0CB))
call SaveUnitHandle(YDHT, GetHandleId(ky), - $2EC5CBA0, LoadUnitHandle(YDHT, id * cx, - $2EC5CBA0))
call SaveReal(YDHT, GetHandleId(ky), - $2CEF3086, LoadReal(YDHT, id * cx, - $2CEF3086))
call TimerStart(ky, .5, true, function rI)
call FlushChildHashtable(YDHT, id * cx)
set ky=null
endfunction
//ä¹é˜³çœŸç»æ®‹å·
function isJiuYangCanJuanAct takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A0DN') >= 1 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( JYd[( 1 + GetPlayerId(GetOwningPlayer(GetAttacker())) )] >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) ) )
endfunction
function isJiuYangEnemy takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function jiuYangCanJuanAction takes nothing returns nothing
 local unit u=GetAttacker()
 local unit uc=GetEnumUnit()
 local location loc=GetUnitLoc(uc)
 local integer i=1 + GetPlayerId(GetOwningPlayer(u))
	// ä¹é˜³æ®‹ç« ä¼¤å®³ä¹˜ä»¥10
 local real shxishu=( jueXueXiShu(i) + 5 * GetUnitAbilityLevel(u, 'A06S') ) * 10
 local real shanghai=0.
	call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))
	set shanghai=ShangHaiGongShi(u , uc , 132. , 132. , shxishu , 'A0DN')
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set u=null
	set uc=null
	set loc=null
endfunction
function jiuYangCanJuanAct takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
 local integer i= 0
 local integer j= 0
 local location loc1= null
 local location loc2= null
 local group g= null
	call CreateTextTagLocBJ("ä¹é˜³çœŸç»æ®‹å·", loc, 0, 14., 90., 21., 15., .0)
	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., ( GetRandomReal(80., 100.) ))
	call Nw(4. , bj_lastCreatedTextTag)
	set j=0
	loop
		exitwhen j >= 5
		set loc2=PolarProjectionBJ(loc, GetRandomReal(300, 1000), GetRandomReal(0, 360))
		call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl", loc2))
		set i=0
		loop
			exitwhen i >= 8
			set loc1=PolarProjectionBJ(loc2, 400, 45 * i)
			call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl", loc1))
			call RemoveLocation(loc1)
			set i=i + 1
		endloop
		set g=CreateGroup()
		call GroupEnumUnitsInRangeOfLoc(g, loc2, 575, Condition(function isJiuYangEnemy))
		call ForGroupBJ(g, function jiuYangCanJuanAction)
		call DestroyGroup(g)
		call RemoveLocation(loc2)
		call YDWEPolledWaitNull(0.8)
		set j=j + 1
	endloop
	call RemoveLocation(loc)
	set g=null
	set u=null
	set loc=null
	set loc1=null
	set loc2=null
endfunction
//------------ç»ä¸–æ­¦åŠŸç»“æŸ------------
function JueShiWuGong_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function WF))
	call TriggerAddAction(t, function XF)
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, 1.)
	call TriggerAddCondition(t, Condition(function ZF))
	call TriggerAddAction(t, function gG)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsDuGuJiuJian))
	call TriggerAddAction(t, function DuGuJiuJian)
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, .03)
	call TriggerAddCondition(t, Condition(function mG))
	call TriggerAddAction(t, function qG)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function sG))
	call TriggerAddAction(t, function tG)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function vG))
	call TriggerAddAction(t, function wG)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function yG))
	call TriggerAddAction(t, function zG)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function aG))
	call TriggerAddAction(t, function BG)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function CG))
	call TriggerAddAction(t, function cG)
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, .3)
	call TriggerAddCondition(t, Condition(function EG))
	call TriggerAddAction(t, function IG)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function JG))
	call TriggerAddAction(t, function KG)
	set t=CreateTrigger()
	call TriggerRegisterTimerEventPeriodic(t, 1.)
	call TriggerAddCondition(t, Condition(function MG))
	call TriggerAddAction(t, function QG)
	//èƒ¡å®¶åˆ€æ³•
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function SG))
	call TriggerAddAction(t, function WG)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function YG))
	call TriggerAddAction(t, function ZG)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function e6))
	call TriggerAddAction(t, function f6)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function h6))
	call TriggerAddAction(t, function i6)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function k6))
	call TriggerAddAction(t, function MM6)
	set in=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(in, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(in, Condition(function O6))
	call TriggerAddAction(in, function R6)
	set jn=CreateTrigger()
	call DisableTrigger(jn)
	call TriggerRegisterTimerEventPeriodic(jn, .3)
	call TriggerAddAction(jn, function V6)
	
	//æ®‹ç« å¼€å§‹
	//è¾Ÿé‚ªå‰‘æ³•ä¹‹æµæ˜Ÿèµ¶æœˆ
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function X6))
	call TriggerAddAction(t, function kH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function nH))
	call TriggerAddAction(t, function oH)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function qH))
	call TriggerAddAction(t, function rH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function tH))
	call TriggerAddAction(t, function xH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function zH))
	call TriggerAddAction(t, function AH)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function BH))
	call TriggerAddAction(t, function bH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function cH))
	call TriggerAddAction(t, function DH)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function FH))
	call TriggerAddAction(t, function GH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IH))
	call TriggerAddAction(t, function MH)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function OH))
	call TriggerAddAction(t, function PH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function RH))
	call TriggerAddAction(t, function TH)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function VH))
	call TriggerAddAction(t, function WH)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function YH))
	call TriggerAddAction(t, function ZH)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function eI))
	call TriggerAddAction(t, function fI)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function hI))
	call TriggerAddAction(t, function iI)
	set an=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(an)
	call TriggerAddCondition(an, Condition(function kI))
	call TriggerAddAction(an, function mI)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function oI))
	call TriggerAddAction(t, function sI)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function isJiuYangCanJuanAct))
	call TriggerAddAction(t, function jiuYangCanJuanAct)
	set t=null
endfunction
//-----------æ±Ÿæ¹–å†…åŠŸå’Œä¹é˜´æ­¦åŠŸå¼€å§‹-----------
//ä½¿ç”¨ç½—æ±‰ä¼é­”åŠŸ
function uI takes nothing returns boolean
return GetKillingUnit() != null and ( ( GetUnitAbilityLevel(GetKillingUnit(), 'A07O') > 0 ) )
endfunction
function vI takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
set G9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( G9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( G9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 100 ) ) then
set G9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call YDWEGeneralBounsSystemUnitSetBonus(GetKillingUnit() , 2 , 0 , $A)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "é˜²å¾¡+10")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä½¿ç”¨åŒ–åŠŸå¤§æ³•
function xI takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A07P' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function yI takes nothing returns boolean
 local integer id=GetHandleId(GetTriggeringTrigger())
	return ( ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(LoadUnitHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $59BEA0CB))) ) and ( IsUnitAliveBJ(GetFilterUnit()) ) ) )
endfunction
function zI takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
	call SaveLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $3348E012, GetUnitLoc(GetEnumUnit()))
	call AddLightningLoc("DRAM", LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $72C3E060), LoadLocationHandle(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), - $3348E012))
	call Lw(2 , bj_lastCreatedLightning)
	call SaveInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $45541105, ( LoadInteger(YDHT, id * LoadInteger(YDHT, id, - $1317DA19), $45541105) + 1 ))
endfunction
function AI takes nothing returns nothing
 local integer id=GetHandleId(GetTriggeringTrigger())
 local integer cx=LoadInteger(YDHT, id, - $3021938A)
 local integer i= GetUnitAbilityLevel(GetTriggerUnit(), 'A07P')
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A0BQ') >= 1 then
		if UnitHaveItem(GetTriggerUnit() , 'I0AM') then
			call WuGongShengChong(GetTriggerUnit() , 'A07P' , 150)
		else
			call WuGongShengChong(GetTriggerUnit() , 'A07P' , 300)
		endif
	endif
	set cx=cx + 3
	call SaveInteger(YDHT, id, - $3021938A, cx)
	call SaveInteger(YDHT, id, - $1317DA19, cx)
	call SaveUnitHandle(YDHT, id * cx, $59BEA0CB, GetTriggerUnit())
	call SaveLocationHandle(YDHT, id * cx, - $72C3E060, GetUnitLoc(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)))
	call SaveInteger(YDHT, id * cx, $45541105, 0)
	call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(1000. , LoadLocationHandle(YDHT, id * cx, - $72C3E060) , Condition(function yI)), function zI)
	call ModifyHeroStat(1, LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 0, ( i * 50 * LoadInteger(YDHT, id * cx, $45541105) ))
	call DisplayTimedTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDHT, id * cx, $59BEA0CB)), 0, 0, 5., ( "å†…åŠ›æå‡ ï¼š " + I2S(( i * 50 * LoadInteger(YDHT, id * cx, $45541105) )) ))
	call YDWEWaitForLocalVariable(20.)
	call ModifyHeroStat(1, LoadUnitHandle(YDHT, id * cx, $59BEA0CB), 1, ( i * 50 * LoadInteger(YDHT, id * cx, $45541105) ))
	call YDWELocalVariableEnd()
	call FlushChildHashtable(YDHT, id * cx)
endfunction
//ä½¿ç”¨å¸æ˜Ÿå¤§æ³•
function BI takes nothing returns boolean
return GetKillingUnit() != null and ( ( GetUnitAbilityLevel(GetKillingUnit(), 1093678930) > 0 ) )
endfunction
function bI takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
set H9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( H9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( H9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= $C8 ) ) then
set H9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call ModifyHeroStat(1, GetKillingUnit(), 0, $A)
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "å†…åŠ›+10")
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//==================ä¹é˜´çœŸç»ç³»ç»Ÿå¼€å§‹==================//
	//æ‘§åšç¥æŠ“å’Œæ‘§å¿ƒæŒ
    function JiuYin_Condition takes nothing returns boolean
    	return ( GetUnitAbilityLevel(GetAttacker(), 'A0D1') >= 1 or GetUnitAbilityLevel(GetAttacker(), 'A0D3') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) )
    endfunction
    function CuiJian_Condition takes nothing returns boolean
        return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
    endfunction
    function CuiJian_Action takes nothing returns nothing
  local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
     local unit u=GetAttacker()
     local unit uc=GetEnumUnit()
     local location loc=GetUnitLoc(uc)
     local real shxishu=1.
     local real shanghai=0.
        call DestroyEffect(AddSpecialEffectLocBJ(loc, "Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"))
        if GetUnitAbilityLevel(GetAttacker(), 'A07S') >= 1 then
	        set shxishu=shxishu + 1.
        endif
        if isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 37) then // ä¹é˜´çœŸäºº
set shxishu=shxishu * 20
        endif
		if isTitle(i , 41) then
			set shxishu=shxishu * 10
		endif
        set shanghai=ShangHaiGongShi(u , uc , 30. , 30. , shxishu , 'A0D1')
        call WuGongShangHai(u , uc , shanghai)
        if ( ( GetUnitAbilityLevel(u, 'A07N') != 0 ) and ( GetRandomReal(.0, 100.) <= 10. ) and ( UnitHasBuffBJ(uc, 'B008') == false ) ) then
            call WanBuff(u , uc , 11)
        endif
        call RemoveLocation(loc)
        set loc=null
        set u=null
        set uc=null
    endfunction
    function JiuYin_Action takes nothing returns nothing
     local unit u=GetAttacker()
     local unit uc=GetTriggerUnit()
     local location loc=GetUnitLoc(u)
     local player p=GetOwningPlayer(u)
     local integer i=1 + GetPlayerId(p)
        local real shanghai=0.
        local real shxishu=1.
	    //æ‘§åšç¥æŠ“
        if GetUnitAbilityLevel(GetAttacker(), 'A0D1') >= 1 then
            if GetRandomReal(.0, 100.) <= 15. + I2R(fuyuan[i]) / 5. then
                call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(500. , loc , Condition(function CuiJian_Condition)), function CuiJian_Action)
                call WuGongShengChong(GetAttacker() , 'A0D1' , 700.)
            endif
        endif
        //æ‘§å¿ƒæŒ
        if GetUnitAbilityLevel(GetAttacker(), 'A0D3') >= 1 then
	        if GetRandomReal(.0, 100.) <= 15. + I2R(fuyuan[i]) / 5. then
		        if GetUnitAbilityLevel(u, 'A07S') >= 1 then
	                set shxishu=shxishu + 1.
                endif
		        if isTitle(i , 37) then // ä¹é˜´çœŸäºº
set shxishu=shxishu * 20
                endif
                if ( ( GetUnitAbilityLevel(u, 'A0D2') != 0 ) and ( GetRandomInt(1, $A) < 5 ) and ( UnitHasBuffBJ(uc, 'Bcri') == false ) ) then
                    call WanBuff(u , uc , 4)
                endif
                if ( ( GetUnitAbilityLevel(u, 'A0D6') != 0 ) and ( GetRandomInt(1, $A) < 5 ) and ( UnitHasBuffBJ(uc, 1110454324) == false ) ) then
                    call WanBuff(u , uc , 7)
                endif
		        set shanghai=ShangHaiGongShi(u , uc , 80 , 64 , shxishu , 'A0D3')
                call AddSpecialEffectTargetUnitBJ("overhead", GetTriggerUnit(), "Abilities\\Spells\\Items\\OrbDarkness\\OrbDarkness.mdl")
                call DestroyEffect(GetLastCreatedEffectBJ())
                call WuGongShangHai(u , uc , shanghai)
                call WuGongShengChong(u , 'A0D3' , 1050.)
            endif
        endif
        call RemoveLocation(loc)
        set u=null
        set uc=null
        set loc=null
        set p=null
    endfunction
function cI takes nothing returns boolean
return ( GetUnitAbilityLevel(GetKillingUnit(), 'A07S') > 0 or GetUnitAbilityLevel(GetKillingUnit(), 'A0D2') > 0 or GetUnitAbilityLevel(GetKillingUnit(), 'A0D6') > 0 )
endfunction
//ä¹é˜´çœŸç»æ€100æ€ª
function DI takes nothing returns nothing
    local integer id=GetHandleId(GetTriggeringTrigger())
    local integer cx=LoadInteger(YDHT, id, - $3021938A)
    local integer i=1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))
 local integer beishu= 1
// ä¹é˜´çœŸäººç§°å·
if isTitle(i , 37) then
		set beishu=2
	endif
    set cx=cx + 3
    call SaveInteger(YDHT, id, - $3021938A, cx)
    call SaveInteger(YDHT, id, - $1317DA19, cx)
    call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
    set I9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( I9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
    if ( ( I9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 100 ) ) then
        set I9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
        if GetUnitAbilityLevel(GetKillingUnit(), 'A07S') > 0 then
            call ModifyHeroStat(0, GetKillingUnit(), 0, 10 * beishu)
            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "æ‹›å¼ä¼¤å®³+" + I2S(10 * beishu))
        endif
        if GetUnitAbilityLevel(GetKillingUnit(), 'A0D2') > 0 then
	        if GetRandomInt(1, 2) == 1 then
            	call ModifyHeroStat(0, GetKillingUnit(), 1, 10 * beishu)
            	call ModifyHeroStat(1, GetKillingUnit(), 0, 30 * beishu)
            	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "æ‹›å¼ä¼¤å®³-" + I2S(10 * beishu))
            	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "å†…åŠ›+" + I2S(30 * beishu))
            else
            	call ModifyHeroStat(2, GetKillingUnit(), 0, 10 * beishu)
            	call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "çœŸå®ä¼¤å®³+" + I2S(10 * beishu))
        	endif
        endif
        if GetUnitAbilityLevel(GetKillingUnit(), 'A0D6') > 0 then
            if GetRandomInt(1, 6) == 1 then
	            set wuxing[i]=wuxing[i] + beishu
	            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "æ‚Ÿæ€§+" + I2S(beishu))
	        elseif GetRandomInt(1, 5) == 1 then
	            set gengu[i]=gengu[i] + beishu
	            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "æ ¹éª¨+" + I2S(beishu))
	        elseif GetRandomInt(1, 4) == 1 then
	            set danpo[i]=danpo[i] + beishu
	            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "èƒ†é­„+" + I2S(beishu))
	        elseif GetRandomInt(1, 3) == 1 then
	            set yishu[i]=yishu[i] + beishu
	            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "åŒ»æœ¯+" + I2S(beishu))
	        elseif GetRandomInt(1, 2) == 1 then
	            set jingmai[i]=jingmai[i] + beishu
	            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "ç»è„‰+" + I2S(beishu))
	        else
	            set fuyuan[i]=fuyuan[i] + beishu
	            call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "ç¦ç¼˜+" + I2S(beishu))
            endif
            if GetRandomInt(1, 5) <= 3 then
                if GetRandomInt(1, 6) == 1 then
	                set wuxing[i]=wuxing[i] - beishu
	                call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "æ‚Ÿæ€§-" + I2S(beishu))
	            elseif GetRandomInt(1, 5) == 1 then
	                set gengu[i]=gengu[i] - beishu
	                call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "æ ¹éª¨-" + I2S(beishu))
	            elseif GetRandomInt(1, 4) == 1 then
	                set danpo[i]=danpo[i] - beishu
	                call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "èƒ†é­„-" + I2S(beishu))
	            elseif GetRandomInt(1, 3) == 1 then
	                set yishu[i]=yishu[i] - beishu
	                call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "åŒ»æœ¯-" + I2S(beishu))
	            elseif GetRandomInt(1, 2) == 1 then
	                set jingmai[i]=jingmai[i] - beishu
	                call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "ç»è„‰-" + I2S(beishu))
	            else
	                set fuyuan[i]=fuyuan[i] - beishu
	                call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "ç¦ç¼˜-" + I2S(beishu))
                endif
            endif
        endif
    endif
    call FlushChildHashtable(YDHT, id * cx)
endfunction
//==================ä¹é˜´çœŸç»ç³»ç»Ÿç»“æŸ==================//
//åŒæ‰‹äº’æ
function FI takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A07U' ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function GI takes nothing returns nothing
	call UnitResetCooldown(GetTriggerUnit())
endfunction
function isShuangShouBeiDong takes nothing returns boolean
	// å­¦ä¼šåŒæ‰‹ï¼Œè€é¡½ç«¥æˆ–éƒ­å¤§ä¾ æˆ–å°é¾™å¥³ç§°å·
	return GetUnitAbilityLevel(GetAttacker(), 'A07U') >= 1 and ( isTitle(1 + GetPlayerId(GetOwningPlayer(GetAttacker())) , 13) or isTitle(1 + GetPlayerId(GetOwningPlayer(GetAttacker())) , 43) or isTitle(1 + GetPlayerId(GetOwningPlayer(GetAttacker())) , 6) )
endfunction
function shuangShouBeiDong takes nothing returns nothing
 local unit u=GetAttacker()
 local player p= GetOwningPlayer(u)
 local integer i=1 + GetPlayerId(p)
	// è¢«åŠ¨åŒæ‰‹åˆ·æ–°æ¦‚ç‡
	if GetRandomReal(1., 800) <= fuyuan[i] then
		call DisplayTextToPlayer(p, 0, 0, "|cff00FF66åŒæ‰‹è¢«åŠ¨åˆ·æ–°")
		call UnitResetCooldown(u)
	endif
	set u=null
	set p=null
endfunction
//ä½¿ç”¨ä¹é˜³ç¥åŠŸ
function II takes nothing returns boolean
return GetKillingUnit() != null and ( ( GetUnitAbilityLevel(GetKillingUnit(), 'A0DN') > 0 ) )
endfunction
function lI takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveInteger(YDHT, id * cx, - $5E9EB4B3, ( 1 + GetPlayerId(GetOwningPlayer(GetKillingUnit())) ))
set l9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=( l9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] + 1 )
if ( ( l9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)] >= 100 ) ) then
set l9[LoadInteger(YDHT, id * cx, - $5E9EB4B3)]=0
call DisplayTextToPlayer(Player(- 1 + ( LoadInteger(YDHT, id * cx, - $5E9EB4B3) )), 0, 0, "ç”Ÿå‘½å€¼æé«˜2000")
call unitadditembyidswapped('I04T' , GetKillingUnit())
endif
call FlushChildHashtable(YDHT, id * cx)
endfunction
//-----------æ±Ÿæ¹–å†…åŠŸå’Œä¹é˜´æ­¦åŠŸç»“æŸ-----------
//æ¨¡æ‹Ÿä¹é˜³ç¥åŠŸ
function IsJiuYang takes nothing returns boolean
	return GetSpellAbilityId() == 'A0DN' or GetSpellAbilityId() == 'A01B' or GetSpellAbilityId() == 'A01C' or GetSpellAbilityId() == 'A01D'
endfunction
function JiuYang_End takes nothing returns nothing
 local timer t=GetExpiredTimer()
 local unit u=LoadUnitHandle(YDHT, GetHandleId(t), 0)
	call UnitRemoveAbility(u, 'A0DL')
	call UnitRemoveAbility(u, 'A0DM')
	call UnitRemoveAbility(u, 'A0CO')
	call UnitRemoveAbility(u, 'A0CQ')
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call PauseTimer(t)
	call DestroyTimer(t)
	set t=null
	set u=null
endfunction
function JiuYang takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local timer t=CreateTimer()
    local real r=0.
    call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	// ä¹é˜³åŠ æ”»å‡»
    call UnitAddAbility(u, 'A0DL')
	// ä¹é˜³åŠ æŠ¤ç”²
    call UnitAddAbility(u, 'A0DM')
	// ä¹é˜³åŠ 
    call UnitAddAbility(u, 'A0CO')
    call UnitAddAbilityBJ('A0CQ', u)
    call SetPlayerAbilityAvailableBJ(false, 'A0CQ', GetOwningPlayer(u))
    if GetSpellAbilityId() == 'A0DN' then
	    set r=30
	elseif GetSpellAbilityId() == 'A01B' then
		set r=12
	elseif GetSpellAbilityId() == 'A01C' then
		set r=20
	elseif GetSpellAbilityId() == 'A01D' then
		set r=30
	endif
    call TimerStart(t, r, false, function JiuYang_End)
    set t=null
    set u=null
endfunction
//åŒ»ç–—ç¯‡
function IsYiLiao takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A0D4' ) )
endfunction
function YiLiaoPian takes nothing returns nothing
 local unit u=GetTriggerUnit()
    local unit uc=GetSpellTargetUnit()
    call SetWidgetLife(uc, GetWidgetLife(u) + 20000)
    if isTitle(1 + GetPlayerId(GetOwningPlayer(u)) , 37) then
	    call SetWidgetLife(uc, GetWidgetLife(u) + 380000)
    endif
    set u=null
    set uc=null
endfunction
//ä½¿ç”¨æ´—é«“ç»
function QI takes nothing returns boolean
return ( ( GetSpellAbilityId() == 1093679152 ) and ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) ) ) // INLINED!!
endfunction
function RI takes nothing returns nothing
local integer id=GetHandleId(GetTriggeringTrigger())
local integer cx=LoadInteger(YDHT, id, - $3021938A)
set cx=cx + 3
call SaveInteger(YDHT, id, - $3021938A, cx)
call SaveInteger(YDHT, id, - $1317DA19, cx)
call SaveLocationHandle(YDHT, id * cx, $5E83114F, GetUnitLoc(GetTriggerUnit()))
call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), LoadLocationHandle(YDHT, id * cx, $5E83114F), bj_UNIT_FACING)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit, 1093679153)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 26.)
call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D8)
call FlushChildHashtable(YDHT, id * cx)
endfunction
function JiangHuNeiGong_Trigger takes nothing returns nothing
 local trigger t= null
	set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function JiuYin_Condition))
    call TriggerAddAction(t, function JiuYin_Action)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsJiuYang))
	call TriggerAddAction(t, function JiuYang)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsYiLiao))
	call TriggerAddAction(t, function YiLiaoPian)
	set bn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(bn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(bn, Condition(function uI))
	call TriggerAddAction(bn, function vI)
	set Cn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Cn, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(Cn, Condition(function xI))
	call TriggerAddAction(Cn, function AI)
	set cn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(cn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(cn, Condition(function BI))
	call TriggerAddAction(cn, function bI)
	set Dn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Dn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Dn, Condition(function cI))
	call TriggerAddAction(Dn, function DI)
	set En=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(En, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(En, Condition(function FI))
	call TriggerAddAction(En, function GI)
	// åŒæ‰‹è¢«åŠ¨
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function isShuangShouBeiDong))
	call TriggerAddAction(t, function shuangShouBeiDong)
	set Fn=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(Fn, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(Fn, Condition(function II))
	call TriggerAddAction(Fn, function lI)
	set In=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(In, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(In, Condition(function QI))
	call TriggerAddAction(In, function RI)
	// ç‰¹æ®Šäº‹ä»¶â€”â€”è¾½å›½è¿›æ”»
	set t=CreateTrigger()
	call TriggerRegisterTimerEventSingle(t, 2100.)
	call TriggerAddAction(t, function LiaoGuoJinGong)
	// ç‰¹æ®Šäº‹ä»¶â€”â€”çµé¹«å®«è¿›æ”»
	set t=CreateTrigger()
	call TriggerRegisterTimerEventSingle(t, 3000.)
	call TriggerAddAction(t, function LingJiuGongJinGong)
	set t=null
endfunction
 function IsTiaoZhan takes nothing returns boolean
		return GetItemTypeId(GetManipulatedItem()) == 'I09O' and ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) )
	endfunction
    function TiaoZhan takes nothing returns nothing
        local unit u=GetTriggerUnit()
        local player p=GetOwningPlayer(u)
        local integer i=1 + GetPlayerId(p)
        if udg_tiaozhanguai != null then
	        call DisplayTimedTextToPlayer(p, 0, 0, 15, "|cFFFFFF00æŒ‘æˆ˜åœºæ­£åœ¨ä½¿ç”¨ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…")
	        call AdjustPlayerStateBJ(100000, p, PLAYER_STATE_RESOURCE_GOLD)
	    else
            if ( GetPlayerController(p) == MAP_CONTROL_USER ) and ( GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING ) then
                call DialogClear(tiaozhanwho)
                call DialogSetMessage(tiaozhanwho, "è¯·é€‰æ‹©è¦æŒ‘æˆ˜çš„å¯¹è±¡")
                if udg_tiaodugu[i] == false and GetUnitLevel(u) >= 90 then
                    set b_dugu=DialogAddButtonBJ(tiaozhanwho, "|cFF00CC00ç‹¬å­¤æ±‚è´¥")
                endif
                if udg_tiaoxuedao[i] == false and GetUnitLevel(u) >= 90 then
                    set b_xuedaozu=DialogAddButtonBJ(tiaozhanwho, "|cFFCC0066è¡€åˆ€è€ç¥–")
                endif
				// and udg_runamen[i]==1
                if udg_tiaodamo[i] == false and GetUnitLevel(u) >= 90 then
                    set b_damozushi=DialogAddButtonBJ(tiaozhanwho, "|cFFCC0066è¾¾æ‘©ç¥–å¸ˆ")
                endif
                if udg_tiaozhangsanfeng[i] == false and udg_runamen[i] == 9 and GetUnitLevel(u) >= 90 then
                    set b_sanfeng=DialogAddButtonBJ(tiaozhanwho, "|cFFCC0066å¼ ä¸‰ä¸°")
                endif
                set b_ronglianlaozu=DialogAddButtonBJ(tiaozhanwho, "|cFFFF6600å†¯é»˜é£")
                if GetUnitLevel(u) >= 90 then
                	set b_zhucong=DialogAddButtonBJ(tiaozhanwho, "|cFFFF0000æœ±èª")
            	endif
                set b_cancel=DialogAddButtonBJ(tiaozhanwho, "|cFFFFFF00å–æ¶ˆ")
                call DialogDisplayBJ(true, tiaozhanwho, p)
            endif
        endif
        set u=null
        set p=null
    endfunction
    function TiaoZhan_Action takes nothing returns nothing
        local location loc=Location(12156, - 12021)
        local player p=GetTriggerPlayer()
        local unit u=udg_hero[1 + GetPlayerId(p)]
        if GetClickedButton() == b_dugu then
	        call CreateNUnitsAtLoc(1, 'n005', Player(12), loc, bj_UNIT_FACING)
            set udg_tiaozhanguai=bj_lastCreatedUnit
	        call SetUnitPosition(u, 11459, - 12021)
            call PanCameraToTimedForPlayer(p, 11459, - 12021, 0)
        endif
        if GetClickedButton() == b_xuedaozu then
	        call CreateNUnitsAtLoc(1, 'o01W', Player(12), loc, bj_UNIT_FACING)
	        set udg_tiaozhanguai=bj_lastCreatedUnit
	        call SetUnitPosition(u, 11459, - 12021)
            call PanCameraToTimedForPlayer(p, 11459, - 12021, 0)
        endif
        if GetClickedButton() == b_damozushi then
	        call CreateNUnitsAtLoc(1, 'o024', Player(12), loc, bj_UNIT_FACING)
	        set udg_tiaozhanguai=bj_lastCreatedUnit
	        call SetUnitPosition(u, 11459, - 12021)
            call PanCameraToTimedForPlayer(p, 11459, - 12021, 0)
        endif
		// ç‚¹å‡»æŒ‘æˆ˜å¼ ä¸‰ä¸°
        if GetClickedButton() == b_sanfeng then
	        call CreateNUnitsAtLoc(1, 'o02R', Player(12), loc, bj_UNIT_FACING)
	        set udg_tiaozhanguai=bj_lastCreatedUnit
	        call SetUnitPosition(u, 11459, - 12021)
            call PanCameraToTimedForPlayer(p, 11459, - 12021, 0)
        endif
        if GetClickedButton() == b_ronglianlaozu then
	        call CreateNUnitsAtLoc(1, 'o01V', Player(12), loc, bj_UNIT_FACING)
	        set udg_tiaozhanguai=bj_lastCreatedUnit
	        call SetUnitPosition(u, 11459, - 12021)
            call PanCameraToTimedForPlayer(p, 11459, - 12021, 0)
        endif
        if GetClickedButton() == b_zhucong then
	        call CreateNUnitsAtLoc(1, 'n006', Player(12), loc, bj_UNIT_FACING)
	        set udg_tiaozhanguai=bj_lastCreatedUnit
	        call SetUnitPosition(u, 11459, - 12021)
            call PanCameraToTimedForPlayer(p, 11459, - 12021, 0)
        endif
        if GetClickedButton() == b_cancel then
            call AdjustPlayerStateBJ(100000, p, PLAYER_STATE_RESOURCE_GOLD)
        endif
        call RemoveLocation(loc)
        set loc=null
        set u=null
        set p=null
    endfunction
    function DiaoLuo takes nothing returns boolean
    	return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) and ( GetUnitTypeId(GetTriggerUnit()) == 'n005' or GetUnitTypeId(GetTriggerUnit()) == 'o01W' or GetUnitTypeId(GetTriggerUnit()) == 'o01V' or GetUnitTypeId(GetTriggerUnit()) == 'n006' or GetUnitTypeId(GetTriggerUnit()) == 'o024' or GetUnitTypeId(GetTriggerUnit()) == 'o02R' or GetUnitTypeId(GetTriggerUnit()) == 'o01D' )
    endfunction
    function DiaoLuo_Action takes nothing returns nothing
        local location loc= GetUnitLoc(GetTriggerUnit())
        local integer i= 0
		// æŒ‘æˆ˜ç‹¬å­¤æ±‚è´¥ï¼Œæ‰€æœ‰ç©å®¶åªèƒ½æ‰“ä¸€æ¬¡
    	if GetUnitTypeId(GetTriggerUnit()) == 'n005' then
	    	call CreateItemLoc('I09Q', loc)
	    	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFF00CC00" + GetPlayerName(GetOwningPlayer(GetKillingUnit())) + "æ€æ­»äº†ç‹¬å­¤æ±‚è´¥ï¼Œè·å¾—äº†æ­¦é­‚çŸ³")
	    	//call SaveInteger(YDHT,GetHandleId(bj_lastCreatedItem),0,25000)
	    	set i=1
	    	loop
	    		exitwhen i >= 6
	    		set udg_tiaodugu[i]=true
	    		set i=i + 1
	    	endloop
	    	set udg_tiaozhanguai=null
		// æŒ‘æˆ˜è¡€åˆ€
	    elseif GetUnitTypeId(GetTriggerUnit()) == 'o01W' then
	        call CreateItemLoc('I098', loc)
			// æ‰“ä¸è¿‡å°±æ²¡äº†
	        call SaveInteger(YDHT, GetHandleId(bj_lastCreatedItem), 0, 25000)
	        set udg_tiaoxuedao[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
	        set udg_tiaozhanguai=null
		// æŒ‘æˆ˜è¾¾æ‘©ï¼Œæ‰“ä¸è¿‡å¯ä»¥å†æ‰“
	    elseif GetUnitTypeId(GetTriggerUnit()) == 'o024' then
	        call CreateItemLoc('I0AL', loc)
	        set udg_tiaodamo[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
	        set udg_tiaozhanguai=null
		// æŒ‘æˆ˜å¼ ä¸‰ä¸°ï¼Œæ‰“ä¸è¿‡å¯ä»¥å†æ‰“
	    elseif GetUnitTypeId(GetTriggerUnit()) == 'o02R' then
	        call CreateItemLoc('I0DK', loc)
	        set udg_tiaozhangsanfeng[1 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
	        set udg_tiaozhanguai=null
		// æŒ‘æˆ˜å†¯é»˜é£
	    elseif GetUnitTypeId(GetTriggerUnit()) == 'o01V' then
	        call CreateItemLoc('I09P', loc)
	        set udg_tiaozhanguai=null
		// æŒ‘æˆ˜æœ±èª
	    elseif GetUnitTypeId(GetTriggerUnit()) == 'n006' then
	        if GetRandomInt(0, 100) <= 30 then
	            call CreateItemLoc('I09Z', loc) // é€šç¥
else
	            call CreateItemLoc('I06K', loc) // é—å¿˜çŸ³
endif
	        set udg_tiaozhanguai=null
        endif
        call RemoveLocation(loc)
        set loc=null
    endfunction
	//ç¦»å¼€æŒ‘æˆ˜åŒºåŸŸæŒ‘æˆ˜å¤±è´¥
 function TiaoZhanShiBai takes nothing returns boolean
		return IsUnitType(GetLeavingUnit(), UNIT_TYPE_HERO) and GetPlayerController(GetOwningPlayer(GetLeavingUnit())) == MAP_CONTROL_USER and udg_tiaozhanguai != null
	endfunction
 function TiaoZhanShiBai_Action takes nothing returns nothing
  local unit u=GetLeavingUnit()
  local player p=GetOwningPlayer(u)
  local integer i=1 + GetPlayerId(p)
		call DisplayTimedTextToPlayer(p, 0, 0, 15, "|cFFFFFF00ç¦»å¼€åŒºåŸŸï¼ŒæŒ‘æˆ˜å¤±è´¥")
		if GetUnitTypeId(udg_tiaozhanguai) == 'n005' then
			set udg_tiaodugu[i]=true
		endif
		// if GetUnitTypeId(udg_tiaozhanguai)=='o01W' then
		// 	set udg_tiaoxuedao[i]=true
		// endif
		call RemoveUnit(udg_tiaozhanguai)
		set udg_tiaozhanguai=null
		set u=null
		set p=null
	endfunction
    function TiaoZhan_Trigger takes nothing returns nothing
        local trigger t=CreateTrigger()
        local integer i=0
        set i=1
        loop
        	exitwhen i >= 6
        	set udg_tiaoxuedao[i]=false
        	set udg_tiaodugu[i]=false
        	set udg_tiaodamo[i]=false
        	set udg_tiaozhangsanfeng[i]=false
        	set i=i + 1
        endloop
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
        call TriggerAddCondition(t, Condition(function IsTiaoZhan))
        call TriggerAddAction(t, function TiaoZhan)
        set t=CreateTrigger()
        call TriggerRegisterDialogEvent(t, tiaozhanwho)
        call TriggerAddAction(t, function TiaoZhan_Action)
        set t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function DiaoLuo))
        call TriggerAddAction(t, function DiaoLuo_Action)
		// ç¦»å¼€æŒ‘æˆ˜åŒºæŒ‘æˆ˜å¤±è´¥
		set t=CreateTrigger()
		call YDWETriggerRegisterLeaveRectSimpleNull(t , udg_tiaozhanqu)
		call TriggerAddCondition(t, Condition(function TiaoZhanShiBai))
		call TriggerAddAction(t, function TiaoZhanShiBai_Action)
        set t=null
    endfunction
 function s__DaPei_create takes integer wugongid,integer dapeixiaoguo returns integer
  local integer dpi
		set dpi=s__DaPei__allocate()
		set s__DaPei_wugongid[dpi]=wugongid
		set s__DaPei_dapeixiaoguo[dpi]=dapeixiaoguo
		if dapeixiaoguo == 1 then
			set s__DaPei_r[dpi]=GetRandomReal(1.0, 1.6)
		elseif dapeixiaoguo == 2 then
			set s__DaPei_r[dpi]=I2R(GetRandomInt(1, 13))
		elseif dapeixiaoguo == 3 then
			set s__DaPei_r[dpi]=GetRandomReal(1.4, 1.9)
		elseif dapeixiaoguo == 4 then
			set s__DaPei_r[dpi]=GetRandomReal(2.0, 3.0)
		endif
		return dpi
 endfunction
 function s__DaPei_onDestroy takes integer this returns nothing
		set s__DaPei_wugongid[this]=0
		set s__DaPei_dapeixiaoguo[this]=0
		set s__DaPei_shxishu[this]=0
 endfunction

//Generated destructor of DaPei
function s__DaPei_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__DaPei_V[this]!=-1) then
        return
    endif
    call s__DaPei_onDestroy(this)
    set si__DaPei_V[this]=si__DaPei_F
    set si__DaPei_F=this
endfunction
 function s__DaPei_XiaoGuo takes integer this,unit u,unit uc returns nothing
		if s__DaPei_dapeixiaoguo[this] != 2 then
			set s__DaPei_shxishu[this]=s__DaPei_r[this]
		else
			if GetRandomReal(1, 100) <= 13 then
				call WanBuff(u , uc , R2I(s__DaPei_r[this]))
			endif
		endif
 endfunction
 function s__DaPei_XiaoGuoShuoMing takes integer this returns string
  local string s= ""
		set s=s + "+" + GetAbilityName(s__DaPei_wugongid[this]) + "ï¼š"
		if s__DaPei_dapeixiaoguo[this] != 2 then
			set s=s + "ä¼¤å®³+" + I2S(R2I(s__DaPei_r[this] * 100)) + "%"
		else
			if R2I(s__DaPei_r[this]) == 1 then
				set s=s + "å‡ ç‡é€ æˆå†…ä¼¤"
			elseif R2I(s__DaPei_r[this]) == 2 then
				set s=s + "å‡ ç‡é€ æˆèµ°ç«å…¥é­”"
			elseif R2I(s__DaPei_r[this]) == 3 then
				set s=s + "å‡ ç‡é€ æˆæµè¡€"
			elseif R2I(s__DaPei_r[this]) == 4 then
				set s=s + "å‡ ç‡é€ æˆæ··ä¹±"
			elseif R2I(s__DaPei_r[this]) == 5 then
				set s=s + "å‡ ç‡é€ æˆæ˜è¿·"
			elseif R2I(s__DaPei_r[this]) == 6 then
				set s=s + "å‡ ç‡é€ æˆé‡ä¼¤"
			elseif R2I(s__DaPei_r[this]) == 7 then
				set s=s + "å‡ ç‡é€ æˆè¡€æµä¸æ­¢"
			elseif R2I(s__DaPei_r[this]) == 8 then
				set s=s + "å‡ ç‡é€ æˆéº»ç—¹"
			elseif R2I(s__DaPei_r[this]) == 9 then
				set s=s + "å‡ ç‡é€ æˆç ´é˜²"
			elseif R2I(s__DaPei_r[this]) == 10 then
				set s=s + "å‡ ç‡é€ æˆç¥ç»é”™ä¹±"
			elseif R2I(s__DaPei_r[this]) == 11 then
				set s=s + "å‡ ç‡é€ æˆå°ç©´"
			elseif R2I(s__DaPei_r[this]) == 12 then
				set s=s + "å‡ ç‡é€ æˆç©´ä½å…¨å°"
			elseif R2I(s__DaPei_r[this]) == 13 then
				set s=s + "å‡ ç‡é€ æˆä¸­æ¯’"
			endif
		endif
		return s
 endfunction
 function s__ZiZhiWuGong_create takes integer xishu,integer range,integer texiao,integer dapeishu,integer scrate returns integer
  local integer zz
		set zz=s__ZiZhiWuGong__allocate()
		set s__ZiZhiWuGong_xishu[zz]=xishu
		set s__ZiZhiWuGong_range[zz]=range
		set s__ZiZhiWuGong_texiao[zz]=texiao
		set s__ZiZhiWuGong_dapeishu[zz]=dapeishu
		set s__ZiZhiWuGong_scrate[zz]=scrate
		return zz
 endfunction
 function s__ZiZhiWuGong_onDestroy takes integer this returns nothing
		set s__ZiZhiWuGong_xishu[this]=0
		set s__ZiZhiWuGong_range[this]=0
		set s__ZiZhiWuGong_texiao[this]=0
		set s__ZiZhiWuGong_dapeishu[this]=0
		set s__ZiZhiWuGong_scrate[this]=0
 endfunction

//Generated destructor of ZiZhiWuGong
function s__ZiZhiWuGong_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ZiZhiWuGong_V[this]!=-1) then
        return
    endif
    call s__ZiZhiWuGong_onDestroy(this)
    set si__ZiZhiWuGong_V[this]=si__ZiZhiWuGong_F
    set si__ZiZhiWuGong_F=this
endfunction
function IsZiZhi takes nothing returns boolean
	return ( GetRandomReal(0., 100) < 15 + fuyuan[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))] / 5 ) and ( GetUnitAbilityLevel(GetAttacker(), 'A036') >= 1 ) and ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) )
endfunction
function ZiZhiShangHai_Condition takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function ZiZhiShangHai_Action takes nothing returns nothing
 local unit u= GetAttacker()
 local unit uc=GetEnumUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j= 1
 local location loc= GetUnitLoc(u)
 local real shxishu= ( 1. + I2R(juexuelingwu[i]) / 3 )
 local real shanghai=0.
	loop
		exitwhen j > s__ZiZhiWuGong_dapeishu[zizhiwugong[i]]
		if GetUnitAbilityLevel(u, s__DaPei_wugongid[dapei[i * 20 + j]]) >= 1 then
			call s__DaPei_XiaoGuo(dapei[i * 20 + j],u , uc)
			//call BJDebugMsg(R2S(dapei[i*10+j].shxishu))
			set shxishu=shxishu + s__DaPei_shxishu[dapei[i * 20 + j]]
		endif
		set j=j + 1
	endloop
	set shxishu=shxishu * ( 1. + 0.3 * I2R(s__ZiZhiWuGong_xishu[zizhiwugong[i]]) )
	set shanghai=ShangHaiGongShi(u , uc , 25. , 25. , shxishu , 'A036')
	call CreateTextTagLocBJ(s__ZiZhiWuGong_name[zizhiwugong[i]], loc, 0, 14., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
	call Nw(3 , bj_lastCreatedTextTag)
    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50., 90)
	call AddSpecialEffectTargetUnitBJ("overhead", uc, lh_texiao[s__ZiZhiWuGong_texiao[zizhiwugong[i]]])
	call DestroyEffect(GetLastCreatedEffectBJ())
	call WuGongShangHai(u , uc , shanghai)
	call RemoveLocation(loc)
	set loc=null
	set uc=null
	set u=null
	set p=null
endfunction
function ZiZhi takes nothing returns nothing
 local group g=CreateGroup()
 local unit u= GetAttacker()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer zz= zizhiwugong[i]
	call WuGongShengChong(u , 'A036' , 1000. - I2R(s__ZiZhiWuGong_scrate[zz]) * 100.)
	call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 400. + 100. * I2R(s__ZiZhiWuGong_range[zz]), Condition(function ZiZhiShangHai_Condition))
    call ForGroupBJ(g, function ZiZhiShangHai_Action)
    call GroupClear(g)
    call DestroyGroup(g)
    set g=null
    set u=null
    set p=null
endfunction
function IsAllocateWuXueDian takes nothing returns boolean
	return ( (IsUnitType((GetTriggerUnit() ), ( UNIT_TYPE_HERO)) != null) and ( GetItemTypeId(GetManipulatedItem()) == 'I0BN' or GetItemTypeId(GetManipulatedItem()) == 'I0BI' or GetItemTypeId(GetManipulatedItem()) == 'I0BJ' or GetItemTypeId(GetManipulatedItem()) == 'I0BK' or GetItemTypeId(GetManipulatedItem()) == 'I0BL' ) ) // INLINED!!
endfunction
function AllocateWuXueDian takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
	if GetItemTypeId(GetManipulatedItem()) == 'I0BN' then
		if zizhibool[i] then
			call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCå°‘ä¾ å·²æœ‰è‡ªåˆ›æ­¦åŠŸ|r\n")
		else
			if xiuxing[i] < 5 then
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCå°‘ä¾ ç­‰çº§åˆ°å†ç»ƒ5ä¹‹åå†æ¥å§|r\n")
			else
				set L7[i]=1
				loop
					exitwhen L7[i] >= wugongshu[i] + 1
					if ( I7[( i - 1 ) * 20 + L7[i]] != 'AEfk' ) then
						if L7[i] == wugongshu[i] then
							call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCå°‘ä¾ ï¼Œä½ å­¦çš„æ­¦åŠŸå¤ªå¤šäº†ï¼Œé—å¿˜ä¸€äº›å†æ¥è‡ªåˆ›å§|r\n")
							exitwhen true
						endif
					else
						call UnitAddAbility(u, 'A036')
						set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A036'
						call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|CFFFF0033æ­å–œ" + GetPlayerName(p) + "è‡ªåˆ›æ­¦åŠŸæˆåŠŸ")
						set zizhibool[i]=true
						exitwhen true
					endif
					set L7[i]=L7[i] + 1
				endloop
			endif
		endif
	else
		if wuxuedian[i] >= 1 then
			set wuxuedian[i]=wuxuedian[i] - 1
			if GetItemTypeId(GetManipulatedItem()) == 'I0BI' then
				set s__ZiZhiWuGong_xishu[zizhiwugong[i]]=s__ZiZhiWuGong_xishu[zizhiwugong[i]] + 1
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCåˆ†é…ä¸€ç‚¹è‡³ä¼¤å®³ç³»æ•°|r\n")
			endif
			if GetItemTypeId(GetManipulatedItem()) == 'I0BJ' then
				set s__ZiZhiWuGong_range[zizhiwugong[i]]=s__ZiZhiWuGong_range[zizhiwugong[i]] + 1
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCåˆ†é…ä¸€ç‚¹è‡³ä¼¤å®³èŒƒå›´|r\n")
			endif
			if GetItemTypeId(GetManipulatedItem()) == 'I0BK' then
				set s__ZiZhiWuGong_dapeishu[zizhiwugong[i]]=s__ZiZhiWuGong_dapeishu[zizhiwugong[i]] + 1
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCåˆ†é…ä¸€ç‚¹è‡³æ­¦å­¦æ­é…|r\n")
				if GetRandomInt(1, 10) <= 7 then
					set dapei[i * 20 + s__ZiZhiWuGong_dapeishu[zizhiwugong[i]]]=s__DaPei_create(LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(1, 18), 2) , GetRandomInt(1, 2))
				else
					if GetRandomInt(1, 3) <= 2 then
						set dapei[i * 20 + s__ZiZhiWuGong_dapeishu[zizhiwugong[i]]]=s__DaPei_create(LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(19, 28), 2) , 3)
					else
						set dapei[i * 20 + s__ZiZhiWuGong_dapeishu[zizhiwugong[i]]]=s__DaPei_create(LoadInteger(YDHT, StringHash("æ­¦å­¦") + GetRandomInt(29, 41), 2) , 4)
					endif
				endif
			endif
			if GetItemTypeId(GetManipulatedItem()) == 'I0BL' then
				set s__ZiZhiWuGong_scrate[zizhiwugong[i]]=s__ZiZhiWuGong_scrate[zizhiwugong[i]] + 1
				call DisplayTextToPlayer(p, 0, 0, "|cFFFFCC00æ¸¸å¦ä¹‹ï¼š|r |cFF99FFCCåˆ†é…ä¸€ç‚¹è‡³å‡é‡é€Ÿç‡|r\n")
			endif
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 30., "|cff66ff00è‡ªåˆ›æ­¦å­¦ç‚¹ä¸è¶³")
		endif
	endif
	set u=null
	set p=null
endfunction
function ZiZhi_Trigger takes nothing returns nothing
 local trigger t= CreateTrigger()
	set lh_texiao[1]="Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl"
	set lh_texiao[2]="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"
	set lh_texiao[3]="Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"
	set lh_texiao[4]="Abilities\\Spells\\Items\\OrbDarkness\\OrbDarkness.mdl"
	set lh_texiao[5]="Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"
	set lh_texiao[6]="Abilities\\Spells\\Human\\Brilliance\\Brilliance.mdl"
	set lh_texiao[7]="Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
	set lh_texiao[8]="Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"
	set lh_texiao[9]="Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl"
	set lh_texiao[10]="Abilities\\Spells\\Other\\Transmute\\GoldBottleMissile.mdl"
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsZiZhi))
	call TriggerAddAction(t, function ZiZhi)
	set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsAllocateWuXueDian))
	call TriggerAddAction(t, function AllocateWuXueDian)
	set t=null
endfunction
//é‡‘åˆšä¼é­”åœˆ
function IsJinGangFuMo takes nothing returns boolean
	return GetSpellAbilityId() == 'A039'
endfunction
function IsFuMoEnemy takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), Player(0)) and UnitHasBuffBJ(GetFilterUnit(), 'BHds') == false and GetUnitAbilityLevel(GetFilterUnit(), 'Avul') < 1 )
endfunction
//--æ¸¡åŠ«é­æ³•
function JinGang_DuJie takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 2)
 local location loc= LoadLocationHandle(YDHT, GetHandleId(t), 3)
 local unit l__ut= null
 local group g= CreateGroup()
	call GroupEnumUnitsInRangeOfLoc(g, loc, 325, Condition(function IsFuMoEnemy))
	set l__ut=GroupPickRandomUnit(g)
	if i - i / 3 * 3 == 0 then
		call ShowUnitShow(u)
		call IssueTargetOrderById(u, $D0200, l__ut)
		call AddSpecialEffectLocBJ(GetUnitLoc(l__ut), "war3mapImported\\ChaosExplosion.mdl")
	else
		call ShowUnitHide(u)
	endif
	call SaveInteger(YDHT, GetHandleId(t), 2, i + 1)
	if i > 15 then
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
		call RemoveLocation(loc)
	endif
	call DestroyGroup(g)
	set u=null
	set t=null
	set l__ut=null
	set loc=null
	set g=null
endfunction
//--æ¸¡å„é­æ³•
function JinGang_DuE takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 2)
 local location loc= LoadLocationHandle(YDHT, GetHandleId(t), 3)
 local unit l__ut= null
 local group g= CreateGroup()
	call GroupEnumUnitsInRangeOfLoc(g, loc, 325, Condition(function IsFuMoEnemy))
	set l__ut=GroupPickRandomUnit(g)
	if i - i / 3 * 3 == 1 then
		call ShowUnitShow(u)
		call IssueTargetOrderById(u, $D0200, l__ut)
		call AddSpecialEffectLocBJ(GetUnitLoc(l__ut), "war3mapImported\\FireStomp.mdx")
	else
		call ShowUnitHide(u)
	endif
	call SaveInteger(YDHT, GetHandleId(t), 2, i + 1)
	if i > 15 then
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
		call RemoveLocation(loc)
	endif
	call DestroyGroup(g)
	set u=null
	set t=null
	set l__ut=null
	set loc=null
	set g=null
endfunction
//--æ¸¡éš¾é­æ³•
function JinGang_DuNan takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 2)
 local location loc= LoadLocationHandle(YDHT, GetHandleId(t), 3)
 local unit l__ut= null
 local group g= CreateGroup()
	call GroupEnumUnitsInRangeOfLoc(g, loc, 350, Condition(function IsFuMoEnemy))
	set l__ut=GroupPickRandomUnit(g)
	if i - i / 3 * 3 == 2 then
		call ShowUnitShow(u)
		call IssueTargetOrderById(u, $D0200, l__ut)
		call AddSpecialEffectLocBJ(GetUnitLoc(l__ut), "war3mapImported\\FireStomp.mdx")
	else
		call ShowUnitHide(u)
	endif
	call SaveInteger(YDHT, GetHandleId(t), 2, i + 1)
	if i > 15 then
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
		call RemoveLocation(loc)
	endif
	call DestroyGroup(g)
	set u=null
	set t=null
	set l__ut=null
	set loc=null
	set g=null
endfunction
//ä¸èƒ½å‡ºä¼é­”åœˆ
function FuMoBuNengChu takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local location loc= LoadLocationHandle(YDHT, GetHandleId(t), 1)
 local integer i= LoadInteger(YDHT, GetHandleId(t), 2)
 local location loc2= GetUnitLoc(u)
	if i < 500 then
		if DistanceBetweenPoints(loc2, loc) > 250 then
			call SetUnitX(u, GetLocationX(loc) + GetRandomReal(- 250., 250.) * CosBJ(AngleBetweenPoints(loc, loc2)))
			call SetUnitY(u, GetLocationY(loc) + GetRandomReal(- 250., 250.) * SinBJ(AngleBetweenPoints(loc, loc2)))
			if ( ModuloInteger(GetUnitPointValue(u), 100) == 0 ) then
				call percentDamage(GetEnumUnit() , 50 , false)
			else
				call percentDamage(GetEnumUnit() , 15 , false)
			endif
		endif
		call SaveInteger(YDHT, GetHandleId(t), 2, i + 1)
	else
		call RemoveLocation(loc)
		call PauseTimer(t)
		call DestroyTimer(t)
		call FlushChildHashtable(YDHT, GetHandleId(t))
	endif
	set t=null
	set u=null
	set loc=null
	set loc2=null
endfunction
function FuMoQuan takes nothing returns nothing
 local unit l__ut= GetEnumUnit()
 local unit u= GetTriggerUnit()
 local location loc= LoadLocationHandle(YDHT, GetHandleId(u), StringHash("ä¼é­”"))
 local timer t= CreateTimer()
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, l__ut)
	call SaveLocationHandle(YDHT, GetHandleId(t), 1, loc)
	call TimerStart(t, 0.03, true, function FuMoBuNengChu)
	set t=null
	set u=null
	set l__ut=null
	set loc=null
endfunction
function FuMoTeXiao takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local location loc= LoadLocationHandle(YDHT, GetHandleId(t), 0)
	call YDWETimerDestroyEffect(15. , AddSpecialEffectLoc("war3mapImported\\kineticfield_fx_stand.mdx", loc))
	set t=null
	set loc=null
endfunction
function JinGangFuMo takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit uc= GetSpellTargetUnit()
 local location loc= GetUnitLoc(uc)
 local location loc1= pu(loc , 325 , 90)
 local location loc2= pu(loc , 325 , 210)
 local location loc3= pu(loc , 325 , 330)
 local group g= CreateGroup()
 local timer tt1= CreateTimer()
 local timer tt2= CreateTimer()
 local timer tt3= CreateTimer()
 local timer tt4= CreateTimer()
	//ä¼é­”åœˆ
	call GroupEnumUnitsInRangeOfLoc(g, loc, 325, Condition(function IsFuMoEnemy))
	call SaveLocationHandle(YDHT, GetHandleId(u), StringHash("ä¼é­”"), loc)
	call YDWETimerDestroyEffect(1.2 , AddSpecialEffectLoc("war3mapImported\\kineticfield_fx_start.mdx", loc))
	call SaveLocationHandle(YDHT, GetHandleId(tt4), 0, loc)
	call TimerStart(tt4, 1.2, false, function FuMoTeXiao)
	call ForGroupBJ(g, function FuMoQuan)
	//æ¸¡åŠ«
	call CreateNUnitsAtLoc(1, 'e017', GetOwningPlayer(u), loc1, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03A')
	call SaveUnitHandle(YDHT, GetHandleId(tt1), 0, bj_lastCreatedUnit)
	call SaveUnitHandle(YDHT, GetHandleId(tt1), 1, uc)
	call SaveLocationHandle(YDHT, GetHandleId(tt1), 3, loc)
	call TimerStart(tt1, 1, true, function JinGang_DuJie)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	//æ¸¡å„
    call CreateNUnitsAtLoc(1, 'e016', GetOwningPlayer(u), loc2, bj_UNIT_FACING)
    call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03B')
	call SaveUnitHandle(YDHT, GetHandleId(tt2), 0, bj_lastCreatedUnit)
	call SaveUnitHandle(YDHT, GetHandleId(tt2), 1, uc)
	call SaveLocationHandle(YDHT, GetHandleId(tt2), 3, loc)
	call TimerStart(tt2, 1, true, function JinGang_DuE)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
	//æ¸¡éš¾
    call CreateNUnitsAtLoc(1, 'e018', GetOwningPlayer(u), loc3, bj_UNIT_FACING)
    call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03C')
	call SaveUnitHandle(YDHT, GetHandleId(tt3), 0, bj_lastCreatedUnit)
	call SaveUnitHandle(YDHT, GetHandleId(tt3), 1, uc)
	call SaveLocationHandle(YDHT, GetHandleId(tt3), 3, loc)
	call TimerStart(tt3, 1, true, function JinGang_DuNan)
    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 15.)
    call RemoveLocation(loc1)
    call RemoveLocation(loc2)
    call RemoveLocation(loc3)
    set u=null
    set uc=null
    set loc=null
    set loc1=null
    set loc2=null
    set loc3=null
    set tt1=null
    set tt2=null
    set tt3=null
    set tt4=null
    set g=null
endfunction
//ä¼é­”åœˆä¼¤å®³
function IsFuMoShangHai takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'e017' or GetUnitTypeId(GetEventDamageSource()) == 'e016' or GetUnitTypeId(GetEventDamageSource()) == 'e018'
endfunction
function FuMoShangHai takes nothing returns nothing
 local unit uc= GetTriggerUnit()
	call percentDamage(uc , 10 , true)
	
    set uc=null
endfunction
// å”é—¨ï¼šä¹å®«å…«å¦é˜µ
function IsJiuGongBaGua takes nothing returns boolean
	return GetSpellAbilityId() == 'A0B3'
endfunction
function JiuGongBaGua_Condition takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), Player(0)) and GetUnitAbilityLevel(GetFilterUnit(), 'Avul') == 0 and IsUnitAliveBJ(GetFilterUnit())
endfunction
function JiuGongBaGua_Action takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local real x= LoadReal(YDHT, GetHandleId(t), 0)
    local real y= LoadReal(YDHT, GetHandleId(t), 1)
    local real range= LoadReal(YDHT, GetHandleId(t), 2)
    local integer j= LoadInteger(YDHT, GetHandleId(t), 3)
    local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 4)
    local unit dummy= null
    local unit target= null
    local group g= null
    local integer i= 1
    local integer jmax= 50
    if j > jmax then
        call clearTimer(t)
    else
        call SaveInteger(YDHT, GetHandleId(t), 3, j + 1)
        loop
            exitwhen i > 8
            set dummy=CreateUnit(GetOwningPlayer(u), 'e000', x + range * CosBJ(45 * i), y + range * SinBJ(45 * i), 270 + 45 * i)
            set g=CreateGroup()
            call GroupEnumUnitsInRange(g, GetUnitX(dummy), GetUnitY(dummy), range + 200, Condition(function JiuGongBaGua_Condition))
            set target=GroupPickRandomUnit(g)
            call ShowUnitHide(dummy)
            call UnitAddAbility(dummy, 'A09B')
            call IssueTargetOrderById(dummy, $D007F, target)
            call UnitApplyTimedLife(dummy, 'BHwe', 3)
            call DestroyGroup(g)
            set i=i + 1
        endloop
    endif
    set g=null
    set u=null
    set dummy=null
    set t=null
    set target=null
endfunction
function attackPeriodicly takes nothing returns nothing
    local timer t= GetExpiredTimer()
    local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
    if GetUnitState(u, UNIT_STATE_LIFE) > 0 then
        call SetUnitAnimation(u, "attack")
    else
        call clearTimer(t)
    endif
    set t=null
    set u=null
endfunction
function JiuGongBaGua takes nothing returns nothing
    local unit u= GetTriggerUnit()
    local unit dummy= null
    local integer id= 0
    local integer i= 1
    local real range= GetRandomReal(500, 800)
    local timer t= CreateTimer()
    local timer tt= null
    if ( ( GetUnitTypeId(u) == 'O004' ) ) then
        set id=1747988533
    elseif ( ( GetUnitTypeId(u) == 'O001' ) ) then
        set id=1747988535
    elseif ( ( GetUnitTypeId(u) == 'O002' ) ) then
        set id=1747988536
    elseif ( ( GetUnitTypeId(u) == 'O003' ) ) then
        set id=1747988537
    elseif ( ( GetUnitTypeId(u) == 'O000' ) ) then
        set id=1747988534
    elseif ( ( GetUnitTypeId(u) == 'O023' or GetUnitTypeId(u) == 'O02H' or GetUnitTypeId(u) == 'O02I' ) ) then
        set id='h00I'
    elseif ( ( GetUnitTypeId(u) == 'O02J' ) ) then
        set id='h00K'
    endif
    loop
        exitwhen i > 8
        set dummy=CreateUnit(GetOwningPlayer(u), id, GetUnitX(u) + range * CosBJ(45 * i), GetUnitY(u) + range * SinBJ(45 * i), 45 * i)
        call YDWETimerDestroyLightning(15. , AddLightning("MFPB", true, GetUnitX(u) + range * CosBJ(45 * i), GetUnitY(u) + range * SinBJ(45 * i), GetUnitX(u) + range * CosBJ(45 * i + 45), GetUnitY(u) + range * SinBJ(45 * i + 45)))
        call h__SetUnitMoveSpeed(dummy, 0)
        set tt=CreateTimer()
        call SaveUnitHandle(YDHT, GetHandleId(tt), 0, dummy)
        call TimerStart(tt, 1, true, function attackPeriodicly)
        call SetUnitVertexColorBJ(dummy, GetRandomReal(20., 80.), GetRandomReal(20., 80.), GetRandomReal(20., 80.), GetRandomReal(20., 60.))
        call UnitAddAbility(dummy, 'Aloc')
        call UnitApplyTimedLife(dummy, 1112045413, 15.)
        set i=i + 1
    endloop
    call SaveReal(YDHT, GetHandleId(t), 0, GetUnitX(u))
    call SaveReal(YDHT, GetHandleId(t), 1, GetUnitY(u))
    call SaveReal(YDHT, GetHandleId(t), 2, range)
    call SaveInteger(YDHT, GetHandleId(t), 3, 0)
    call SaveUnitHandle(YDHT, GetHandleId(t), 4, u)
    call TimerStart(t, 0.3, true, function JiuGongBaGua_Action)
    set dummy=null
    set u=null
    set t=null
    set tt=null
endfunction
//åå…«ç½—æ±‰é˜µ
//çœŸæ­¦ä¸ƒæˆªé˜µ
function IsZhenWuQiJie takes nothing returns boolean
	return GetSpellAbilityId() == 'A03J'
endfunction
function ZhenWuQiJieZhen takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local location tianji= GetUnitLoc(u)
 local location tianxuan= Location(GetUnitX(u) - 500, GetUnitY(u) - 100)
 local location tianshu= Location(GetUnitX(u) + 500, GetUnitY(u) + 100)
 local location tianquan= Location(GetUnitX(u), GetUnitY(u) + 300)
 local location yuheng= Location(GetUnitX(u), GetUnitY(u) - 500)
 local location kaiyang= Location(GetUnitX(u) + 500, GetUnitY(u) - 500)
 local location yaoguang= Location(GetUnitX(u) + 500, GetUnitY(u) - 300)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, tianji, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, tianxuan, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, tianshu, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, tianquan, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, yuheng, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, kaiyang, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02G', p, yaoguang, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03K')
	call Gw(10. , bj_lastCreatedUnit)
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", kaiyang, yaoguang))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", yuheng, kaiyang))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianji, yuheng))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianquan, tianji))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianxuan, tianji))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianji, tianshu))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", tianji))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", tianxuan))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", tianquan))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", tianshu))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", yuheng))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", kaiyang))
	call YDWETimerDestroyEffect(7. , AddSpecialEffectLoc("war3mapImported\\divinering.mdx", yaoguang))
	call RemoveLocation(tianji)
	call RemoveLocation(tianxuan)
	call RemoveLocation(tianquan)
	call RemoveLocation(tianshu)
	call RemoveLocation(yuheng)
	call RemoveLocation(kaiyang)
	call RemoveLocation(yaoguang)
	set u=null
	set p=null
	set tianji=null
	set tianxuan=null
	set tianshu=null
	set tianquan=null
	set yuheng=null
	set kaiyang=null
	set yaoguang=null
endfunction
function IsZhenWuShangHai takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'o02G'
endfunction
function ZhenWuShangHai takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=1. + I2R(juexuelingwu[i])
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 3000. , 3000. , shxishu , 'A03J')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//å¤©ç½¡åŒ—æ–—é˜µ
function IsTianGangBeiDou takes nothing returns boolean
	return GetSpellAbilityId() == 'A03G'
endfunction
function TianGangBeiDouZhen takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local location tianji= GetUnitLoc(u)
 local location tianxuan= Location(GetUnitX(u) + 300, GetUnitY(u) - 50)
 local location tianshu= Location(GetUnitX(u) + 500, GetUnitY(u) + 250)
 local location tianquan= Location(GetUnitX(u) - 50, GetUnitY(u) + 300)
 local location yuheng= Location(GetUnitX(u) - 300, GetUnitY(u) + 500)
 local location kaiyang= Location(GetUnitX(u) - 500, GetUnitY(u) + 700)
 local location yaoguang= Location(GetUnitX(u) - 800, GetUnitY(u) + 700)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, tianji, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, tianxuan, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, tianshu, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, tianquan, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, yuheng, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, kaiyang, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call CreateNUnitsAtLocFacingLocBJ(1, 'o02F', p, yaoguang, tianji)
	call UnitAddAbility(bj_lastCreatedUnit, 'A03I')
	call Gw(10. , bj_lastCreatedUnit)
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", yaoguang, kaiyang))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", kaiyang, yuheng))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", yuheng, tianquan))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianquan, tianji))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianji, tianxuan))
	call YDWETimerDestroyLightning(10. , AddLightningLoc("SPLK", tianxuan, tianshu))
	call RemoveLocation(tianji)
	call RemoveLocation(tianxuan)
	call RemoveLocation(tianquan)
	call RemoveLocation(tianshu)
	call RemoveLocation(yuheng)
	call RemoveLocation(kaiyang)
	call RemoveLocation(yaoguang)
	set u=null
	set p=null
	set tianji=null
	set tianxuan=null
	set tianshu=null
	set tianquan=null
	set yuheng=null
	set kaiyang=null
	set yaoguang=null
endfunction
function TianGangEnemy takes nothing returns boolean
	return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function TianGangSha takes nothing returns nothing
 local unit u= GetAttacker()
 local location loc= GetUnitLoc(u)
 local group g= CreateGroup()
 local group gg2= CreateGroup()
 local unit l__ut= null
 local integer i= 1
 local integer imax= 0
	call GroupEnumUnitsInRangeOfLoc(g, loc, 600, Condition(function TianGangEnemy))
	set imax=CountUnitsInGroup(g)
	if imax >= 1 then
		set i=1
		loop
			exitwhen i > imax
			set l__ut=FirstOfGroup(g)
			if GetUnitAbilityLevel(l__ut, 'A03I') != 0 then
				call GroupAddUnit(gg2, l__ut)
			endif
			call GroupRemoveUnit(g, l__ut)
			set i=i + 1
		endloop
	endif
	set imax=CountUnitsInGroup(gg2)
	if imax >= 1 then
		set i=1
		loop
			exitwhen i > imax
			set l__ut=FirstOfGroup(gg2)
			call IssueTargetOrderById(l__ut, $D0097, u)
			call GroupRemoveUnit(gg2, l__ut)
			set i=i + 1
		endloop
	endif
	call RemoveLocation(loc)
	call DestroyGroup(g)
	call DestroyGroup(gg2)
	set u=null
	set l__ut=null
	set loc=null
	set g=null
	set gg2=null
endfunction
function IsTianGangShangHai takes nothing returns boolean
	return GetUnitTypeId(GetEventDamageSource()) == 'o02F'
endfunction
function TianGangShangHai takes nothing returns nothing
 local integer i=1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
 local unit u=udg_hero[i]
    local unit uc=GetTriggerUnit()
    local real shxishu=1. + I2R(juexuelingwu[i])
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 3000. , 3000. , shxishu , 'A03G')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//æ‰“ç‹—é˜µ
//æ€ç‹—é˜µ
//äºŒåå…«æ˜Ÿå®¿é˜µ
//å…­è„‰å‰‘é˜µ
//å¤©ç½—åœ°ç½‘é˜µ
//ä¿®ä¹ é˜µæ³•
function IsXueZhenFa takes nothing returns boolean
	return GetItemTypeId(GetManipulatedItem()) == 'I0BY' or GetItemTypeId(GetManipulatedItem()) == 'I0BZ' or GetItemTypeId(GetManipulatedItem()) == 'I0C0' or GetItemTypeId(GetManipulatedItem()) == 'I0C1' or GetItemTypeId(GetManipulatedItem()) == 'I0ER'
endfunction
function XueZhenFa takes nothing returns nothing
 local integer id= GetItemTypeId(GetManipulatedItem())
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local integer j= 0
	if (IsUnitType((u ), ( UNIT_TYPE_HERO)) != null) == false then // INLINED!!
		call DisplayTextToPlayer(p, 0, 0, "|cff00FF66ä¾ ä¾£ä¸èƒ½ä¿®è¡Œé˜µæ³•")
	else
		if id == 'I0C1' then
			if GetUnitAbilityLevel(u, 'A03J') != 0 then
				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ‚¨å·²ç»ä¿®è¡Œè¿‡è¯¥é˜µæ³•")
			else
				if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 9) - 1)])) != 0) and GetUnitAbilityLevel(u, 'A08R') == 9 then // INLINED!!
					set j=1
		        	loop
		        	exitwhen j > wugongshu[i]
		        	    if ( I7[( i - 1 ) * 20 + j] ) != 'AEfk' then
			    	        if j == wugongshu[i] then
		        	        	call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
		        	    	endif
		        	    else
			    	        call UnitAddAbility(u, 'A03J')
    	    				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName('A03J'))
    	    				set L7[i]=1
    	    				loop
    	    				    exitwhen L7[i] > wugongshu[i]
    	    				    if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
    	    				    else
    	    				        set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A03J'
    	    				        exitwhen true
    	    				    endif
    	    				    set L7[i]=L7[i] + 1
    	    				endloop
    	    				exitwhen true
	    				endif
	    				set j=j + 1
	    			endloop
	    		else
	    			call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ¡ä»¶ä¸è¶³ï¼Œæ— æ³•ä¿®è¡Œæ­¤é˜µæ³•")
    			endif
    		endif
    	elseif id == 'I0BZ' then
			if GetUnitAbilityLevel(u, 'A039') != 0 then
				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ‚¨å·²ç»ä¿®è¡Œè¿‡è¯¥é˜µæ³•")
			else
				if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 1) - 1)])) != 0) and GetUnitAbilityLevel(u, 'A05K') == 9 then // INLINED!!
					set j=1
		        	loop
		        	exitwhen j > wugongshu[i]
		        	    if ( I7[( i - 1 ) * 20 + j] ) != 'AEfk' then
			    	        if j == wugongshu[i] then
		        	        	call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
		        	    	endif
		        	    else
			    	        call UnitAddAbility(u, 'A039')
    	    				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName('A039'))
    	    				set L7[i]=1
    	    				loop
    	    				    exitwhen L7[i] > wugongshu[i]
    	    				    if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
    	    				    else
    	    				        set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A039'
    	    				        exitwhen true
    	    				    endif
    	    				    set L7[i]=L7[i] + 1
    	    				endloop
    	    				exitwhen true
	    				endif
	    				set j=j + 1
	    			endloop
	    		else
	    			call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ¡ä»¶ä¸è¶³ï¼Œæ— æ³•ä¿®è¡Œæ­¤é˜µæ³•")
    			endif
    		endif
    	elseif id == 'I0C0' then
			if GetUnitAbilityLevel(u, 'A03F') != 0 then
				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ‚¨å·²ç»ä¿®è¡Œè¿‡è¯¥é˜µæ³•")
			else
				if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 2) - 1)])) != 0) and GetUnitAbilityLevel(u, 'A09M') == 9 then // INLINED!!
					set j=1
		        	loop
		        	exitwhen j > wugongshu[i]
		        	    if ( I7[( i - 1 ) * 20 + j] ) != 'AEfk' then
			    	        if j == wugongshu[i] then
		        	        	call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
		        	    	endif
		        	    else
			    	        call UnitAddAbility(u, 'A03F')
    	    				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName('A03F'))
    	    				set L7[i]=1
    	    				loop
    	    				    exitwhen L7[i] > wugongshu[i]
    	    				    if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
    	    				    else
    	    				        set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A03F'
    	    				        exitwhen true
    	    				    endif
    	    				    set L7[i]=L7[i] + 1
    	    				endloop
    	    				exitwhen true
	    				endif
	    				set j=j + 1
	    			endloop
	    		else
	    			call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ¡ä»¶ä¸è¶³ï¼Œæ— æ³•ä¿®è¡Œæ­¤é˜µæ³•")
    			endif
    		endif
    	elseif id == 'I0BY' then
			if GetUnitAbilityLevel(u, 'A03G') != 0 then
				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ‚¨å·²ç»ä¿®è¡Œè¿‡è¯¥é˜µæ³•")
			else
				if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 5) - 1)])) != 0) and GetUnitAbilityLevel(u, 'A0CM') == 9 then // INLINED!!
					set j=1
		        	loop
		        	exitwhen j > wugongshu[i]
		        	    if ( I7[( i - 1 ) * 20 + j] ) != 'AEfk' then
			    	        if j == wugongshu[i] then
		        	        	call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
		        	    	endif
		        	    else
			    	        call UnitAddAbility(u, 'A03G')
    	    				call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName('A03G'))
    	    				set L7[i]=1
    	    				loop
    	    				    exitwhen L7[i] > wugongshu[i]
    	    				    if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
    	    				    else
    	    				        set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A03G'
    	    				        exitwhen true
    	    				    endif
    	    				    set L7[i]=L7[i] + 1
    	    				endloop
    	    				exitwhen true
	    				endif
	    				set j=j + 1
	    			endloop
	    		else
	    			call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ¡ä»¶ä¸è¶³ï¼Œæ— æ³•ä¿®è¡Œæ­¤é˜µæ³•")
    			endif
    		endif
    	elseif id == 'I0ER' then
            if GetUnitAbilityLevel(u, 'A03G') != 0 then
                call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ‚¨å·²ç»ä¿®è¡Œè¿‡è¯¥é˜µæ³•")
            else
                if (YDWEBitwise_AND(chief[(i )] , ((1 ) * YDWEBitwise__C2[( ( 20) - 1)])) != 0) and GetUnitAbilityLevel(u, 'A09A') == 9 then // å”é—¨é—¨ä¸»ã€æ¼«å¤©é£èŠ±è¾¾åˆ°9çº§ // INLINED!!
set j=1
                    loop
                    exitwhen j > wugongshu[i]
                        if ( I7[( i - 1 ) * 20 + j] ) != 'AEfk' then
                            if j == wugongshu[i] then
                                call DisplayTextToPlayer(p, 0, 0, "|CFF34FF00å­¦ä¹ æŠ€èƒ½å·²è¾¾ä¸Šé™ï¼Œè¯·å…ˆé—å¿˜éƒ¨åˆ†æŠ€èƒ½")
                            endif
                        else
                            call UnitAddAbility(u, 'A0B3')
                            call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ­å–œé¢†æ‚ŸæŠ€èƒ½ï¼š" + GetObjectName('A0B3'))
                            set L7[i]=1
                            loop
                                exitwhen L7[i] > wugongshu[i]
                                if ( ( I7[( ( ( i - 1 ) * 20 ) + L7[i] )] != 'AEfk' ) ) then
                                else
                                    set I7[( ( ( i - 1 ) * 20 ) + L7[i] )]='A0B3'
                                    exitwhen true
                                endif
                                set L7[i]=L7[i] + 1
                            endloop
                            exitwhen true
                        endif
                        set j=j + 1
                    endloop
                else
                    call DisplayTextToPlayer(p, 0, 0, "|cff00FF66æ¡ä»¶ä¸è¶³ï¼Œæ— æ³•ä¿®è¡Œæ­¤é˜µæ³•")
                endif
            endif
		endif
	endif
	set u=null
	set p=null
endfunction
//äº‹ä»¶
function ZhenFa_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsJinGangFuMo))
    call TriggerAddAction(t, function JinGangFuMo)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsFuMoShangHai))
    call TriggerAddAction(t, function FuMoShangHai)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsTianGangBeiDou))
    call TriggerAddAction(t, function TianGangBeiDouZhen)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	//call TriggerAddCondition(t,Condition(function HaveTianGang))
	call TriggerAddAction(t, function TianGangSha)
	set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsTianGangShangHai))
    call TriggerAddAction(t, function TianGangShangHai)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsZhenWuQiJie))
    call TriggerAddAction(t, function ZhenWuQiJieZhen)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsZhenWuShangHai))
    call TriggerAddAction(t, function ZhenWuShangHai)
    // å”é—¨ï¼šä¹å®«å…«å¦é˜µ
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IsJiuGongBaGua))
    call TriggerAddAction(t, function JiuGongBaGua)
    set t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsXueZhenFa))
	call TriggerAddAction(t, function XueZhenFa)
    set t=null
endfunction
//å¯’å†°çœŸæ°”
function IsHanBingZhenQi takes nothing returns boolean
	return GetSpellAbilityId() == 'A03L'
endfunction
function HanBingZhenQi takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit l__ut= GetSpellTargetUnit()
 local player p= GetOwningPlayer(u)
 local location loc= GetUnitLoc(l__ut)
	call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A038')
	if GetUnitAbilityLevel(u, 'A07T') != 0 or GetUnitAbilityLevel(u, 'A07Q') != 0 then
		call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A038', 3)
	endif
	if GetUnitAbilityLevel(u, 'A0DN') != 0 or GetUnitAbilityLevel(u, 'A07O') != 0 then
		call IncUnitAbilityLevel(bj_lastCreatedUnit, 'A038')
	endif
	call IssueTargetOrderById(bj_lastCreatedUnit, $D0101, l__ut)
	set u=null
	set l__ut=null
	set p=null
	set loc=null
endfunction
//ç™¾æ­¥ç¥æ‹³
//æ— ç›¸åŠ«æŒ‡
function IsWuXiangJieZhi takes nothing returns boolean
	return GetSpellAbilityId() == 'A03P'
endfunction
function WuXiangTimeOut takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
	call UnitRemoveAbility(u, 'A03M')
	call PauseTimer(t)
	call DestroyTimer(t)
	call FlushChildHashtable(YDHT, GetHandleId(t))
	set u=null
	set t=null
endfunction
function WuXiangJieZhi takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local timer t= CreateTimer()
	call UnitAddAbility(u, 'A03M')
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
	call TimerStart(t, 3600, false, function WuXiangTimeOut)
	set u=null
	set t=null
endfunction
function IsWuXiangShangHai takes nothing returns boolean
	return GetEventDamage() == 1.58
endfunction
function WuXiangShangHai takes nothing returns nothing
 local unit l__ut= GetEventDamageSource()
 local unit uc= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(l__ut))
 local unit u= udg_hero[i]
 local real shxishu= 1.
 local real shanghai=0.
	if GetUnitAbilityLevel(u, 'A06H') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	if GetUnitAbilityLevel(u, 'A07O') >= 1 then
		set shxishu=shxishu + 0.6
	endif
	if UnitHasBuffBJ(uc, 'Bfro') then
		set shxishu=shxishu * 3
	endif
	if isTitle(i , 3) then // å¤§è½®æ˜ç‹
set shxishu=shxishu * 5
	endif
	set shxishu=shxishu * ( 1. + I2R(danpo[i]) / 20 + I2R(juexuelingwu[i]) )
	set shanghai=ShangHaiGongShi(u , uc , 130 , 150 , shxishu , 'A03P')
	call WuGongShangHai(u , uc , shanghai)
	if GetUnitAbilityLevel(u, 'A06P') >= 1 and GetRandomInt(1, 100) <= 8 then
		call WanBuff(u , uc , 11)
	endif
	set u=null
    set uc=null
    set l__ut=null
endfunction
//ç¥è¡Œç™¾å˜
function IsShenXingBaiBian takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A03N' ) )
endfunction
function ShenXingBaiBian_2 takes nothing returns nothing
 local trigger t= GetTriggeringTrigger()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local real r= LoadReal(YDHT, GetHandleId(t), 1)
    if ( ( ( EVENT_UNIT_SPELL_EFFECT == GetTriggerEventId() ) == true ) ) then
        set udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(u))]=0.
        call DestroyTrigger(t)
    else
        if udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(u))] <= 0.00 then
            call DestroyTrigger(t)
        else
            set udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(u))]=udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(u))] - 0.01
        endif
    endif
    set t=null
    set u=null
endfunction
function ShenXingBaiBian_1 takes nothing returns nothing
 local timer tm= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(tm), 0)
 local trigger t= CreateTrigger()
	set udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(u))]=19.5
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEventPeriodic(t, 0.01)
    call TriggerAddCondition(t, Condition(function ShenXingBaiBian_2))
    call DestroyTimer(tm)
    set t=null
    set tm=null
    set u=null
endfunction
function ShenXingBaiBian takes nothing returns nothing
 local timer t= CreateTimer()
 local unit u= GetTriggerUnit()
	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    call TimerStart(t, 0.5, false, function ShenXingBaiBian_1)
    set t=null
    set u=null
endfunction
function IsShenXingShangHai takes nothing returns boolean
    return ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) == false ) and ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) and udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))] > 0.00
endfunction
function ShenXingShaRen takes nothing returns nothing
 local unit u= GetKillingUnit()
 local integer level= 0
	//call BJDebugMsg("åˆ°è¿™äº†å—2ï¼Ÿ")
	if GetUnitAbilityLevel(u, 'A06L') != 0 then
		set level=GetUnitAbilityLevel(u, 'A03N')
		call UnitRemoveAbility(u, 'A03N')
		call UnitAddAbility(u, 'A03N')
		call SetUnitAbilityLevel(u, 'A03N', level)
	endif
	set u=null
endfunction
function ShenXingShangHai_1 takes nothing returns nothing
 local trigger t= GetTriggeringTrigger()
 local trigger t2= null
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit uc= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local real shxishu=1 + udg_lilianxishu[i]
 local real shanghai=0.
	if GetUnitAbilityLevel(u, 'A07T') >= 1 then
		set shxishu=shxishu + 1.
	endif
	if GetUnitAbilityLevel(u, 'A07X') >= 1 then
		set shxishu=shxishu + 1.6
	endif
	set t2=CreateTrigger()
    call TriggerRegisterUnitEvent(t2, uc, EVENT_UNIT_DEATH)
	call TriggerAddAction(t2, function ShenXingShaRen)
    if ( ( ( EVENT_UNIT_DAMAGED == GetTriggerEventId() ) == true ) ) then
        if u == GetEventDamageSource() then
            call DisableTrigger(t)
            set shanghai=ShangHaiGongShi(u , uc , 140. , 190. , shxishu , 'A03N')
           	call WuGongShangHai(u , uc , shanghai)
            call EnableTrigger(t)
			set udg_shenxingfuzhu[i]=u
            call DestroyTrigger(t)
        endif
    else
        set udg_shenxingfuzhu[i]=u
        call DestroyTrigger(t)
    endif
    set t=null
    set t2=null
    set u=null
    set uc=null
endfunction
function ShenXingShangHai takes nothing returns nothing
    local trigger t= CreateTrigger()
    local unit u= GetAttacker()
    local unit uc= GetAttackedUnitBJ()
    set udg_shenxingpoyin[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))]=0.00
    call UnitRemoveAbility(GetAttacker(), 'BOwk')
    if udg_shenxingfuzhu[1 + GetPlayerId(GetOwningPlayer(u))] != GetAttackedUnitBJ() then
    	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
    	call SaveUnitHandle(YDHT, GetHandleId(t), 1, uc)
        call TriggerRegisterUnitEvent(t, uc, EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEventSingle(t, 1.00)
        call TriggerAddCondition(t, Condition(function ShenXingShangHai_1))
    endif
    set t=null
    set u=null
    set uc=null
endfunction
function IsShenXingMianShang takes nothing returns boolean
	return ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) ) and GetUnitAbilityLevel(GetTriggerUnit(), 'A03N') >= 1
endfunction
function ShenXingMianShang takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit uc= GetEventDamageSource()
 local location loc= GetUnitLoc(u)
	if GetRandomInt(0, 100) < 15 * GetUnitAbilityLevel(u, 'A07Q') then
		call WuDi(u)
		call CreateTextTagLocBJ("MISS", loc, 0, 14., GetRandomReal(0., 100), GetRandomReal(0., 100), GetRandomReal(0., 100), .0)
		call Nw(3 , bj_lastCreatedTextTag)
	endif
	call RemoveLocation(loc)
	set loc=null
	set u=null
	set uc=null
endfunction
//å¦™æ‰‹ç©ºç©º
function IsMiaoShouKongKong takes nothing returns boolean
	return ( IsUnitAlly(GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker())) == false ) and ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == false ) and GetUnitAbilityLevel(GetAttacker(), 'A03O') != 0
endfunction
function MiaoShouKongKong_1 takes nothing returns nothing
 local trigger t= GetTriggeringTrigger()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local unit uc= LoadUnitHandle(YDHT, GetHandleId(t), 1)
 local real shxishu= GetPlayerState(GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
 local real shanghai=0.
	if ( ( ( EVENT_UNIT_DAMAGED == GetTriggerEventId() ) ) ) then
		call AdjustPlayerStateBJ(5 * GetUnitLevel(uc), GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
		if ( GetUnitAbilityLevel(u, 'A03N') ) != 0 then
			call AdjustPlayerStateBJ(5 * GetUnitLevel(uc), GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
		endif
		if UnitHaveItem(udg_hero[1 + GetPlayerId(GetOwningPlayer(u))] , 'I09Z') then
			call AdjustPlayerStateBJ(5 * GetUnitLevel(uc), GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
			set shxishu=shxishu * 2
		endif
		if ( GetUnitAbilityLevel(u, 'A03Q') ) != 0 then
			call DisableTrigger(t)
			set shanghai=ShangHaiGongShi(u , uc , 0.001 , 0.002 , shxishu , 'A03O')
    		call WuGongShangHai(u , uc , shanghai)
    		call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", uc, "overhead"))
    		call EnableTrigger(t)
		endif
		if ( GetUnitAbilityLevel(u, 'S002') ) != 0 and GetRandomInt(1, 100) <= 15 then
			call AdjustPlayerStateBJ(2, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_LUMBER)
		endif
		set udg_miaoshoufuzhu[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))]=u
		call DestroyTrigger(t)
	else
		set udg_miaoshoufuzhu[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))]=u
		call DestroyTrigger(t)
	endif
	set t=null
	set u=null
	set uc=null
endfunction
function MiaoShouKongKong takes nothing returns nothing
    local trigger t= CreateTrigger()
    local unit u= GetAttacker()
    if udg_miaoshoufuzhu[1 + GetPlayerId(GetOwningPlayer(GetAttacker()))] != GetAttackedUnitBJ() then
    	call SaveUnitHandle(YDHT, GetHandleId(t), 0, udg_hero[1 + GetPlayerId(GetOwningPlayer(u))])
    	call SaveUnitHandle(YDHT, GetHandleId(t), 1, GetAttackedUnitBJ())
    	call TriggerRegisterUnitEvent(t, GetAttackedUnitBJ(), EVENT_UNIT_DAMAGED)
    	call TriggerRegisterTimerEventSingle(t, 1.00)
    	call TriggerAddCondition(t, Condition(function MiaoShouKongKong_1))
	endif
    set t=null
    set u=null
endfunction
//é¾Ÿæ¯åŠŸ
function IsGuiXiGong takes nothing returns boolean
	return GetUnitAbilityLevel(GetTriggerUnit(), 'A0CE') != 0 and GetEventDamage() >= GetWidgetLife(GetTriggerUnit())
endfunction
//function GuiXiGong_1 takes nothing returns nothing
//	local timer t = GetExpiredTimer()
//	local unit u = LoadUnitHandle(YDHT, GetHandleId(t), 0)
//	local integer j = LoadInteger(YDHT, GetHandleId(t), 1)
//	if j <=10 then
//endfunction
function GuiXiXianTian_Condition takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ) and IsUnitAliveBJ(GetFilterUnit())
endfunction
function GuiXiXianTian_Action takes nothing returns nothing
 local unit uc=GetEnumUnit()
 local real shxishu=1.
 local real shanghai=0.
 local location loc=GetUnitLoc(uc)
	set shanghai=ShangHaiGongShi(GetTriggerUnit() , uc , 800 , 320 , shxishu , 'A0CH')
	call WuGongShangHai(GetTriggerUnit() , uc , shanghai)
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A07V') >= 1 then
		set shxishu=shxishu + 1.
	endif
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A06P') >= 1 then
		call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 1093678412)
        call IssueTargetOrderById(bj_lastCreatedUnit, $D007F, uc)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 2.)
        call ShowUnitHide(bj_lastCreatedUnit)
        call CreateTextTagLocBJ("å°ç©´", loc, 0, 12., 65., 55., 42., 0)
        call Nw(3. , bj_lastCreatedTextTag)
        call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 100., 90)
    endif
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A07O') >= 1 then
        call CreateNUnitsAtLoc(1, 1697656880, GetOwningPlayer(GetTriggerUnit()), loc, bj_UNIT_FACING)
        call ShowUnitHide(bj_lastCreatedUnit)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0DF')
        call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, GetTriggerUnit())
        call UnitApplyTimedLife(bj_lastCreatedUnit, 1112045413, 3.)
    endif
    call RemoveLocation(loc)
    set loc=null
	set uc=null
endfunction
function GuiXiGong takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local group g= CreateGroup()
 local location loc= GetUnitLoc(u)
 local real range= 800.
	//local timer t = null
	if ( GetUnitState(u, UNIT_STATE_LIFE) >= 0.99 * GetUnitState(u, UNIT_STATE_MAX_LIFE) ) or ( GetRandomReal(1, 100) <= 40 ) or ( GetRandomReal(1, 100) <= 40 and GetUnitAbilityLevel(u, 'A0DN') != 0 ) then
		call WuDi(u)
		call SetWidgetLife(u, 1.)
		if GetUnitAbilityLevel(u, 'A0CH') != 0 then
			if GetUnitAbilityLevel(u, 'A07W') >= 0 then
				set range=range + 700
			endif
			call GroupEnumUnitsInRangeOfLoc(g, loc, range, Condition(function GuiXiXianTian_Condition))
			call ForGroupBJ(g, function GuiXiXianTian_Action)
		endif
		if GetUnitAbilityLevel(u, 'A080') != 0 then
			set guixihuixie[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=20.
			call YDWEPolledWaitNull(2.)
			set guixihuixie[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0.
		endif
	endif
	call GroupClear(g)
	call RemoveLocation(loc)
	set loc=null
	set g=null
	set u=null
	//set t = null
endfunction
function GuiXiJiaFang takes nothing returns boolean
 local integer i= 1
	set i=1
	loop
		exitwhen i >= 6
		if GetUnitAbilityLevel(udg_hero[i], 'A0CE') != 0 then
			if GetUnitMoveSpeed(udg_hero[i]) <= 200 then
				call UnitAddAbility(udg_hero[i], 'A03S')
				call UnitAddAbility(udg_hero[i], 'A03R')
			elseif GetUnitMoveSpeed(udg_hero[i]) <= 300 then
				call UnitRemoveAbility(udg_hero[i], 'A03S')
				call UnitAddAbility(udg_hero[i], 'A03R')
			else
				call UnitRemoveAbility(udg_hero[i], 'A03R')
				call UnitRemoveAbility(udg_hero[i], 'A03S')
			endif
		endif
		set i=i + 1
	endloop
	return false
endfunction
//é¡»å¼¥å±±æŒ
function IsXuMiKai takes nothing returns boolean
    return GetIssuedOrderId() == $D0057 and GetUnitAbilityLevel(GetTriggerUnit(), 'A03T') >= 1
endfunction
//å¼€å¯é¡»å¼¥å±±æŒ
function XuMiKai takes nothing returns nothing
    local unit u=GetTriggerUnit()
    local integer level=GetUnitAbilityLevel(u, 'A03T')
    call UnitAddAbility(u, 'A0DB')
    if GetUnitAbilityLevel(u, 'A09D') >= 1 then
        call SetUnitAbilityLevel(u, 'A0DB', level + 1)
    else
        call SetUnitAbilityLevel(u, 'A0DB', level)
    endif
    set u=null
endfunction
//å…³é—­é¡»å¼¥å±±æŒ
function IsXuMiGuan takes nothing returns boolean
    return GetIssuedOrderId() == $D0058 and GetUnitAbilityLevel(GetTriggerUnit(), 'A03T') >= 1
endfunction
function XuMiGuan takes nothing returns nothing
    local unit u=GetTriggerUnit()
    call UnitRemoveAbility(u, 'A0DB')
    set u=null
endfunction
//å¤«å¦»åˆ€æ³•
function IsYuanYangDaoFa takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A04V' )
endfunction
function YuanYangDaoFa takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local unit l__ut= GetSpellTargetUnit()
 local location loc= GetUnitLoc(u)
 local location loc2= GetUnitLoc(l__ut)
 local real time= 0.5
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local integer j= 1
 local real lasttime= 5.
	call YDWEJumpTimer(u , AngleBetweenPoints(loc, loc2) , DistanceBetweenPoints(loc, loc2) , time , 0.01 , 0.)
	call YDWEPolledWaitNull(time)
	call UnitAddAbility(u, 'A04S')
	call SetPlayerAbilityAvailableBJ(false, 'A04S', GetOwningPlayer(u))
	if IsUnitAlly(l__ut, GetOwningPlayer(u)) then
		call UnitAddAbility(l__ut, 'A04S')
		call SetPlayerAbilityAvailableBJ(false, 'A04S', GetOwningPlayer(l__ut))
	endif
	loop
		exitwhen j > 6
		if ( udg_hero[i] == bd[j] ) then
			if ( ModuloInteger(j, 2) == 0 ) then
				if ( bd[j - 1] != null ) and bd[j - 1] == l__ut then
					call SetUnitAbilityLevel(u, 'A04T', 3)
					call SetUnitAbilityLevel(u, 'A04U', 3)
					if IsUnitAlly(l__ut, GetOwningPlayer(u)) then
						call SetUnitAbilityLevel(l__ut, 'A04T', 3)
						call SetUnitAbilityLevel(l__ut, 'A04U', 3)
					endif
				endif
			else
				if ( bd[j + 1] != null ) and bd[j + 1] == l__ut then
					call SetUnitAbilityLevel(u, 'A04T', 3)
					call SetUnitAbilityLevel(u, 'A04U', 3)
					if IsUnitAlly(l__ut, GetOwningPlayer(u)) then
						call SetUnitAbilityLevel(l__ut, 'A04T', 3)
						call SetUnitAbilityLevel(l__ut, 'A04U', 3)
					endif
				endif
			endif
		endif
		set j=j + 1
	endloop
	if GetUnitAbilityLevel(u, 'A09D') >= 1 then
		set lasttime=10.
	endif
	call YDWEPolledWaitNull(lasttime)
	call UnitRemoveAbility(u, 'A04S')
	// if GetUnitAbilityLevel(ut, 'A04S') >= 1 then
	// 	call UnitRemoveAbility(ut, 'A04S')
	// endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set l__ut=null
	set loc=null
	set loc2=null
endfunction
//å¯¿æœ¨é•¿ç”ŸåŠŸ
function isShouMu takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A06A' )
endfunction
function shouMu takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local location loc= GetUnitLoc(u)
	//é©¬ç”²æ–½æ”¾é˜²å¾¡æœ€å¤§åŒ–
	call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
	call ShowUnitHide(bj_lastCreatedUnit)
	call UnitAddAbility(bj_lastCreatedUnit, 'A06V')
	call IssueTargetOrderById(bj_lastCreatedUnit, $D0062, u)
	//é©¬ç”²æ–½æ”¾æ®‹åºŸï¼Œå­¦ä¹ ä¹é˜³ä¸å‡é€Ÿ
	if GetUnitAbilityLevel(u, 'A0DN') == 0 then
		call CreateNUnitsAtLoc(1, 'e000', p, loc, bj_UNIT_FACING)
		call ShowUnitHide(bj_lastCreatedUnit)
		call UnitAddAbility(bj_lastCreatedUnit, 'A06U')
		call IssueTargetOrderById(bj_lastCreatedUnit, $D00DD, u)
	endif
	
	set u=null
	set p=null
	set loc=null
endfunction
//é»„æ²™ä¸‡é‡Œé­æ³•
function isHuangSha takes nothing returns boolean
	return ( GetSpellAbilityId() == 'A06B' )
endfunction
function huangSha takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local location loc= GetUnitLoc(u)
 local integer i= 0
 local location loc1= null
	call CreateNUnitsAtLoc(1, 'e01D', GetOwningPlayer(u), loc, bj_UNIT_FACING)
	call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
	set i=0
	loop
		exitwhen i >= 8
		set loc1=PolarProjectionBJ(loc, 200, 45 * i)
		call CreateNUnitsAtLoc(1, 'e01D', GetOwningPlayer(u), loc1, bj_UNIT_FACING)
		call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
		call RemoveLocation(loc1)
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen i >= 18
		set loc1=PolarProjectionBJ(loc, 350, 20 * i)
		call CreateNUnitsAtLoc(1, 'e01D', GetOwningPlayer(u), loc1, bj_UNIT_FACING)
		call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 10.)
		call RemoveLocation(loc1)
		set i=i + 1
	endloop
	call RemoveLocation(loc)
	set u=null
	set loc=null
	set loc1=null
endfunction
function isHuangShaSH takes nothing returns boolean
	return ( GetEventDamage() == 6.09 ) and ( GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )], 'A06B') >= 1 )
endfunction
function huangShaSH takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    if GetUnitAbilityLevel(u, 'A06A') >= 1 then
		set shxishu=shxishu + 0.8
	endif
	if GetUnitAbilityLevel(u, 'A0DN') >= 1 then
		set shxishu=shxishu + 0.6
	endif
    set shanghai=ShangHaiGongShi(u , uc , 130 , 150 , shxishu , 'A06B')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//çç‘æ£‹å±€
//function IsZhenLongQiJu takes nothing returns boolean
//	return GetSpellAbilityId()=='A03U'
//endfunction
//function ZhenLong_Condition takes nothing returns boolean
//	return IsUnitAlly(GetFilterUnit(),Player(0)) and IsUnitAliveBJ(GetFilterUnit()) and GetFilterUnit()!=udg_hero[1] and GetFilterUnit()!=udg_hero[2] and GetFilterUnit()!=udg_hero[3] and GetFilterUnit()!=udg_hero[4] and GetFilterUnit()!=udg_hero[5]
//endfunction
//function ZhenLongQiJu_2 takes nothing returns nothing
//	local unit u = GetTriggerUnit()
//	call WuDi(u)
//	call DestroyTrigger(GetTriggeringTrigger())
//	set u = null
//endfunction
//function ZhenLong_Action takes nothing returns nothing
//	local trigger t = CreateTrigger()
//	//call BJDebugMsg("åˆ°è¿™äº†å—2")
//	call YDWETimerDestroyEffect(0.5, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",GetEnumUnit(),"origin"))
//	call TriggerRegisterUnitEvent(t, GetEnumUnit(), EVENT_UNIT_DAMAGED)
//	call TriggerAddAction(t, function ZhenLongQiJu_2)
//	set t = null
//endfunction
//function ZhenLongQiJu_1 takes nothing returns nothing
//	local timer t = GetExpiredTimer()
//	local unit u = LoadUnitHandle(YDHT, GetHandleId(t), 0)
//	local group g = CreateGroup()
//	local integer j = LoadInteger(YDHT, GetHandleId(t), 1)
//	local location loc = GetUnitLoc(u)
//	if j < 24 then
//		//call BJDebugMsg("åˆ°è¿™äº†å—1")
//		call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(600., loc, Condition(function ZhenLong_Condition)),function ZhenLong_Action)
//		call SaveInteger(YDHT, GetHandleId(t), 1, j+1)
//	else
//		call PauseTimer(t)
//		call DestroyTimer(t)
//		call FlushChildHashtable(YDHT, GetHandleId(t))
//	endif
//	call DestroyGroup(g)
//	call RemoveLocation(loc)
//	set t = null
//	set u = null
//	set g = null
//	set loc = null
//endfunction
//function ZhenLongQiJu takes nothing returns nothing
//	local unit u = GetTriggerUnit()
//	local timer t = CreateTimer()
//	call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
//	call TimerStart(t, 0.5, true, function ZhenLongQiJu_1)
//	set u = null
//	set t = null
//endfunction
//è¯ç‹ç¥ç¯‡
//æ“’é¾™æ§é¹¤
//æ¯è£ç¦…åŠŸ
//function IsXuMiShanZhang takes nothing returns boolean
//	return UnitHasBuffBJ(GetTriggerUnit(),'B013')
//endfunction
//function XuMiShanZhang takes nothing returns nothing
//	local real percent = 25.
//	local real damage = GetEventDamage()
//	local location loc = GetUnitLoc(GetEventDamageSource())
//	local real r = GetRandomReal(1., 10.)
//	if GetUnitAbilityLevel(GetTriggerUnit(), 'A0D8')!=0 then
//		set percent = 50.
//	endif
//	if damage>GetWidgetLife(GetTriggerUnit()) then
//		call WuDi(GetTriggerUnit())
//		call SetWidgetLife(GetTriggerUnit(), GetWidgetLife(GetTriggerUnit())-(100-percent)/100*damage)
//	else
//		call SetWidgetLife(GetTriggerUnit(), GetWidgetLife(GetTriggerUnit())+percent/100*damage)
//	endif
//	if GetUnitAbilityLevel(GetTriggerUnit(), 'A0CE')!=0 then
//		if r*damage>GetWidgetLife(GetEventDamageSource()) then
//			call WuDi(GetEventDamageSource())
//			call SetWidgetLife(GetEventDamageSource(), 1.)
//		else
//			call SetWidgetLife(GetEventDamageSource(), GetWidgetLife(GetEventDamageSource())-r*damage)
//		endif
//		call AddSpecialEffectLocBJ(loc,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
//	endif
//	call RemoveLocation(loc)
//	set loc = null
//endfunction
//äº‹ä»¶
function QiWu_Trigger takes nothing returns nothing
 local trigger t=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsHanBingZhenQi))
    call TriggerAddAction(t, function HanBingZhenQi)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function IsWuXiangShangHai))
    call TriggerAddAction(t, function WuXiangShangHai)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsWuXiangJieZhi))
    call TriggerAddAction(t, function WuXiangJieZhi)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsShenXingBaiBian))
    call TriggerAddAction(t, function ShenXingBaiBian)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsShenXingShangHai))
	call TriggerAddAction(t, function ShenXingShangHai)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function IsShenXingMianShang))
    call TriggerAddAction(t, function ShenXingMianShang)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function IsMiaoShouKongKong))
	call TriggerAddAction(t, function MiaoShouKongKong)
	set t=CreateTrigger()
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function IsGuiXiGong))
    call TriggerAddAction(t, function GuiXiGong)
    set t=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(t, 0.1)
    call TriggerAddCondition(t, Condition(function GuiXiJiaFang))
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function IsXuMiKai))
    call TriggerAddAction(t, function XuMiKai)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function IsXuMiGuan))
    call TriggerAddAction(t, function XuMiGuan)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function IsYuanYangDaoFa))
    call TriggerAddAction(t, function YuanYangDaoFa)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isShouMu))
    call TriggerAddAction(t, function shouMu)
    set t=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function isHuangSha))
    call TriggerAddAction(t, function huangSha)
    set t=CreateTrigger()
    call YDWESyStemAnyUnitDamagedRegistTrigger(t)
    call TriggerAddCondition(t, Condition(function isHuangShaSH))
    call TriggerAddAction(t, function huangShaSH)
 //   set t=CreateTrigger()
	//call YDWESyStemAnyUnitDamagedRegistTrigger( t )
	//call TriggerAddCondition(t,Condition(function IsXuMiShanZhang))
 //   call TriggerAddAction(t,function XuMiShanZhang)
	//set t = CreateTrigger()
 //   call YDWESyStemAnyUnitDamagedRegistTrigger( t )
 //   call TriggerAddCondition(t, Condition(function IsTianGangShangHai))
 //   call TriggerAddAction(t, function TianGangShangHai)
 //   set t = CreateTrigger()
 //   call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
	//call TriggerAddCondition(t,Condition(function IsZhenLongQiJu))
 //   call TriggerAddAction(t,function ZhenLongQiJu)
 //   set t = CreateTrigger()
 //   call YDWESyStemAnyUnitDamagedRegistTrigger( t )
 //   call TriggerAddCondition(t, Condition(function IsZhenWuShangHai))
 //   call TriggerAddAction(t, function ZhenWuShangHai)
 //   set t=CreateTrigger()
	//call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
	//call TriggerAddCondition(t,Condition(function IsXueZhenFa))
	//call TriggerAddAction(t,function XueZhenFa)
    set t=null
endfunction
//===================================================
//å†³æˆ˜æ±Ÿæ¹–1.6ä¹‹æŒé—¨ä¼ å¥‡
//===================================================
//å°‘æ—ï¼šå¦‚æ¥ç¥æŒ
function RuLaiShenZhang_Conditions takes nothing returns boolean
    return GetUnitAbilityLevel(GetAttacker(), 'A04L') >= 1
endfunction
function RuLaiShenZhang_Actions takes nothing returns nothing
    local location array p
    local real r
    local real r1
    local real r2
    local integer a
    local integer b
    local integer i= 0
    local unit u= GetAttacker()
    local unit l__ut= null
    local unit array uuu
    local player ppl= GetOwningPlayer(u)
    local integer id= 0
    local real dist= RMinBJ(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE), 2500)
    if ( ( GetUnitTypeId(GetAttacker()) == 'O004' ) ) then
		set id=1747988533
	elseif ( ( GetUnitTypeId(GetAttacker()) == 'O001' ) ) then
		set id=1747988535
	elseif ( ( GetUnitTypeId(GetAttacker()) == 'O002' ) ) then
		set id=1747988536
	elseif ( ( GetUnitTypeId(GetAttacker()) == 'O003' ) ) then
		set id=1747988537
	elseif ( ( GetUnitTypeId(GetAttacker()) == 'O000' ) ) then
		set id=1747988534
	elseif ( ( GetUnitTypeId(GetAttacker()) == 'O023' or GetUnitTypeId(GetAttacker()) == 'O02H' or GetUnitTypeId(GetAttacker()) == 'O02I' ) ) then
		set id='h00I'
	elseif ( ( GetUnitTypeId(GetAttacker()) == 'O02J' ) ) then
		set id='h00K'
	endif
	set p[0]=GetUnitLoc(u)
    call CreateNUnitsAtLoc(1, id, ppl, p[0], GetUnitFacing(u))
    set l__ut=bj_lastCreatedUnit
    set p[17]=PolarProjectionBJ(p[0], 300, GetUnitFacing(u))
    set r=GetUnitFacing(u) + 270
    set p[0]=p[17]
    set p[1]=PolarProjectionBJ(p[0], 241.96, ( - 47.89 + r ))
    set p[2]=PolarProjectionBJ(p[0], 258.87, ( - 66.01 + r ))
    set p[3]=PolarProjectionBJ(p[0], 263.73, ( - 82.54 + r ))
    set p[4]=PolarProjectionBJ(p[0], 238.72, ( - 111.24 + r ))
    set p[5]=PolarProjectionBJ(p[0], 219.18, ( - 139.53 + r ))
    set p[6]=PolarProjectionBJ(p[0], 220.88, ( - 170.75 + r ))
    set p[7]=PolarProjectionBJ(p[0], 237.01, ( 159.50 + r ))
    set p[8]=PolarProjectionBJ(p[0], 432.59, ( 159.71 + r ))
    set p[9]=PolarProjectionBJ(p[0], 257.35, ( 133.15 + r ))
    set p[10]=PolarProjectionBJ(p[0], 639.01, ( 117.27 + r ))
    set p[11]=PolarProjectionBJ(p[0], 238.57, ( 104.94 + r ))
    set p[12]=PolarProjectionBJ(p[0], 775.44, ( 102.34 + r ))
    set p[13]=PolarProjectionBJ(p[0], 208.18, ( 67.62 + r ))
    set p[14]=PolarProjectionBJ(p[0], 687.95, ( 87.44 + r ))
    set p[15]=PolarProjectionBJ(p[0], 208.61, ( - 29.12 + r ))
    set p[16]=PolarProjectionBJ(p[0], 521.16, ( 65.24 + r ))
    call UnitAddAbilityBJ('Aloc', l__ut)
    call SetCameraFieldForPlayer(ppl, CAMERA_FIELD_TARGET_DISTANCE, 4000.00, 2.00)
    call SetUnitFlyHeight(l__ut, 2000.00, 400.00)
    call IssuePointOrderLoc(l__ut, "move", p[0])
    call YDWEPolledWaitNull(2.00)
    call SetUnitFlyHeight(l__ut, 0.00, 800.00)
    set a=1
    set b=6
    loop
        exitwhen a > b
        set p[18]=PolarProjectionBJ(p[0], 110.00, ( 60.00 * I2R(a) ))
        call CreateNUnitsAtLoc(1, 'e019', ppl, p[18], 0)
        call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
        set a=a + 1
        set uuu[i]=bj_lastCreatedUnit
        set i=i + 1
        call RemoveLocation(p[18])
    endloop
    set a=0
    set b=16
    loop
        exitwhen a > b
        call CreateNUnitsAtLoc(1, 'e019', ppl, p[a], 0)
        call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
        set uuu[i]=bj_lastCreatedUnit
        set i=i + 1
        set a=a + 1
    endloop
    set a=1
    set b=3
    loop
        exitwhen a > b
        set r1=DistanceBetweenPoints(p[9], p[10]) * ( I2R(a) / 4.00 )
        set r2=AngleBetweenPoints(p[9], p[10])
        set p[18]=PolarProjectionBJ(p[9], r1, r2)
        call CreateNUnitsAtLoc(1, 'e019', ppl, p[18], 0)
        call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
        set uuu[i]=bj_lastCreatedUnit
        set i=i + 1
        set r1=DistanceBetweenPoints(p[13], p[14]) * ( I2R(a) / 4.00 )
        set r2=AngleBetweenPoints(p[13], p[14])
        set p[18]=PolarProjectionBJ(p[13], r1, r2)
        call CreateNUnitsAtLoc(1, 'e019', ppl, p[18], 0)
        call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
        set uuu[i]=bj_lastCreatedUnit
        set i=i + 1
        set a=a + 1
    endloop
    set a=1
    set b=4
    loop
        exitwhen a > b
        set r1=DistanceBetweenPoints(p[11], p[12]) * ( I2R(a) / 5.00 )
        set r2=AngleBetweenPoints(p[11], p[12])
        set p[18]=PolarProjectionBJ(p[11], r1, r2)
        call CreateNUnitsAtLoc(1, 'e019', ppl, p[18], 0)
        call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
        set uuu[i]=bj_lastCreatedUnit
        set i=i + 1
        set a=a + 1
    endloop
    set a=1
    set b=5
    loop
        exitwhen a > b
        set r1=DistanceBetweenPoints(p[15], p[16]) * ( I2R(a) / 6.00 )
        set r2=AngleBetweenPoints(p[15], p[16])
        set p[18]=PolarProjectionBJ(p[15], r1, r2)
        call CreateNUnitsAtLoc(1, 'e019', ppl, p[18], 0)
        call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
        set uuu[i]=bj_lastCreatedUnit
        set i=i + 1
        set a=a + 1
    endloop
    set r1=DistanceBetweenPoints(p[7], p[8]) / 2.00
    set r2=AngleBetweenPoints(p[7], p[8])
    set p[18]=PolarProjectionBJ(p[7], r1, r2)
    call CreateNUnitsAtLoc(1, 'e019', ppl, p[18], 0)
    call IssueImmediateOrderById(bj_lastCreatedUnit, $D00D1)
    set uuu[i]=bj_lastCreatedUnit
    call CameraSetEQNoiseForPlayer(ppl, 10.00)
    call SetCameraFieldForPlayer(GetOwningPlayer(u), CAMERA_FIELD_TARGET_DISTANCE, dist, 5.00)
    call CinematicFilterGenericBJ(5.00, BLEND_MODE_BLEND, "ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp", 0.00, 0.00, 0.00, 0.00, 100.00, 100.00, 100.00, 100.00)
    set a=0
    set b=i
    loop
        exitwhen a > b
        call SetUnitTimeScale(uuu[a], 0.80)
        set a=a + 1
    endloop
    call YDWEPolledWaitNull(2.20)
    set a=0
    set b=i
    loop
        exitwhen a > b
        call SetUnitTimeScale(uuu[a], 0.02)
        set a=a + 1
    endloop
    call UnitRemoveAbilityBJ('Aloc', l__ut)
    call ShowUnitHide(l__ut)
    call ShowUnitShow(l__ut)
    call RemoveUnit(l__ut)
    call YDWEPolledWaitNull(4.00)
    call CameraClearNoiseForPlayer(ppl)
    set a=0
    set b=18
    loop
        exitwhen a > b
        call RemoveLocation(p[a])
        set p[a]=null
        set a=a + 1
    endloop
    set a=0
    set b=i
    loop
        exitwhen a > b
        set uuu[a]=null
        set a=a + 1
    endloop
    set u=null
    set a=0
    set b=0
    set i=0
    set r=0.00
    set r1=0.00
    set r2=0.00
    set ppl=null
    set l__ut=null
endfunction
function IsRuLaiShenZhang takes nothing returns boolean
	return ( GetEventDamage() == 5.17 ) and ( GetUnitAbilityLevel(udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )], 'A04L') >= 1 )
endfunction
function RuLaiShenZhang takes nothing returns nothing
 local unit u=udg_hero[( 1 + GetPlayerId(GetOwningPlayer(GetEventDamageSource())) )]
    local unit uc=GetTriggerUnit()
    local real shxishu=1.
    local real shanghai=0.
    set shanghai=ShangHaiGongShi(u , uc , 65 , 75 , shxishu , 'A04L')
    call WuGongShangHai(u , uc , shanghai)
    set u=null
    set uc=null
endfunction
//===========================================================================
function InitTrig_ZhangMenSkill takes nothing returns nothing
 local trigger t= CreateTrigger()
	//å°‘æ—ï¼šå¦‚æ¥ç¥æŒ
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function RuLaiShenZhang_Conditions))
	call TriggerAddAction(t, function RuLaiShenZhang_Actions)
	set t=CreateTrigger()
	call Ov(t)
	call TriggerAddCondition(t, Condition(function IsRuLaiShenZhang))
	call TriggerAddAction(t, function RuLaiShenZhang)
	//æ­¦å½“ï¼šå¤ªæå‰‘
	set t=null
endfunction
//===================================================
//å†³æˆ˜æ±Ÿæ¹–1.4ä¹‹å¤§è¾½é‡‘åŒ 
//===================================================
//è´­ä¹°å•†åº—æ­¦å™¨
function RemoveWeapon takes nothing returns nothing
 local timer t= GetExpiredTimer()
 local unit u= LoadUnitHandle(YDHT, GetHandleId(t), 0)
 local item it= LoadItemHandle(YDHT, GetHandleId(t), 1)
	call UnitRemoveItem(u, it)
	call FlushChildHashtable(YDHT, GetHandleId(t))
	call DestroyTimer(t)
	set t=null
	set u=null
	set it=null
endfunction
 function s__ShopWeapon_create takes integer id,integer min_xiuxing returns integer
  local integer l__wp
		set l__wp=s__ShopWeapon__allocate()
		set s__ShopWeapon_min_xiuxing[l__wp]=min_xiuxing
		set s__ShopWeapon_id[l__wp]=id
		return l__wp
 endfunction
 function s__ShopWeapon_onDestroy takes integer this returns nothing
		set s__ShopWeapon_min_xiuxing[this]=0
		set s__ShopWeapon_id[this]=0
 endfunction

//Generated destructor of ShopWeapon
function s__ShopWeapon_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ShopWeapon_V[this]!=-1) then
        return
    endif
    call s__ShopWeapon_onDestroy(this)
    set si__ShopWeapon_V[this]=si__ShopWeapon_F
    set si__ShopWeapon_F=this
endfunction
 function s__ShopWeapon_CanYeLianWeapon takes integer this,unit u,item it returns boolean
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 2 and GetItemTypeId(it) == 'I09C' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 3 and GetItemTypeId(it) == 'I097' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 6 and GetItemTypeId(it) == 'I098' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 11 and ( GetItemTypeId(it) == 'I09B' or GetItemTypeId(it) == 'I09D' ) then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// æ’å±±æ‹‚å°˜ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 7 and GetItemTypeId(it) == 'I0DU' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// åå±±å…»å¾å‰‘ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 4 and GetItemTypeId(it) == 'I0E0' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// è¡¡å±±é•‡å²³å°šæ–¹ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 15 and GetItemTypeId(it) == 'I0DY' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// æ³°å±±ä¸œçµé“å‰‘ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 18 and GetItemTypeId(it) == 'I0E2' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// ç¥é¾™æ•™æ¯’é¾™é­ä¸“å±
		if ( udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 16 or udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 17 ) and GetItemTypeId(it) == 'I0DZ' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// æ­¦å½“çœŸæ­¦å‰‘ä¸“å±
		if ( udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 9 ) and GetItemTypeId(it) == 'I0DK' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		if xiuxing[1 + GetPlayerId(GetOwningPlayer(u))] < s__ShopWeapon_min_xiuxing[this] and s__ShopWeapon_zhuanshu[this] == false and not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(u)) )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "éœ€å†ç»ƒ" + I2S(s__ShopWeapon_min_xiuxing[this]) + "ä»¥ä¸Šæ–¹å¯å†¶ç‚¼è¯¥æ­¦å™¨")
			call AdjustPlayerStateBJ(30000, GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD)
			return false
		endif
		return true
 endfunction
 function s__ShopWeapon_PickUpWeapon takes integer this,unit u,item it returns nothing
  local timer t= CreateTimer()
		// ä»¥ä¸‹æ˜¯ä¸“å±æ­¦å™¨
		// æ’å±±æ‹‚å°˜ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 7 and GetItemTypeId(it) == 'I0DU' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// åå±±å…»å¾å‰‘ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 4 and GetItemTypeId(it) == 'I0E0' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// è¡¡å±±é•‡å²³å°šæ–¹ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 15 and GetItemTypeId(it) == 'I0DY' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// æ³°å±±ä¸œçµé“å‰‘ä¸“å±
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 18 and GetItemTypeId(it) == 'I0E2' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// ç¥é¾™æ•™æ¯’é¾™é­ä¸“å±
		if ( udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 16 or udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 17 ) and GetItemTypeId(it) == 'I0DZ' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// æ­¦å½“çœŸæ­¦å‰‘ä¸“å±
		if ( udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 9 ) and GetItemTypeId(it) == 'I0DK' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// å³¨çœ‰å€šå¤©å‰‘
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 8 and GetItemTypeId(it) == 'I00B' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// å¤å¢“åŒå‰‘
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 2 and GetItemTypeId(it) == 'I09C' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// ä¸å¸®æ‰“ç‹—æ£’
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 3 and GetItemTypeId(it) == 'I097' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// è¡€åˆ€
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 6 and GetItemTypeId(it) == 'I098' then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		// è‡ªç”±å¸¦è›‡æ–ã€ç‰ç®«æ— è§†å†ç»ƒ
		if udg_runamen[1 + GetPlayerId(GetOwningPlayer(u))] == 11 and ( GetItemTypeId(it) == 'I09B' or GetItemTypeId(it) == 'I09D' ) then
			set s__ShopWeapon_zhuanshu[this]=true
		endif
		if xiuxing[1 + GetPlayerId(GetOwningPlayer(u))] < s__ShopWeapon_min_xiuxing[this] - 1 and s__ShopWeapon_zhuanshu[this] == false and not (YDWEBitwise_AND(deputy[(1 + GetPlayerId(GetOwningPlayer(u)) )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "éœ€å†ç»ƒ" + I2S(s__ShopWeapon_min_xiuxing[this] - 1) + "ä»¥ä¸Šæ–¹å¯ä½¿ç”¨è¯¥æ­¦å™¨")
			call SaveUnitHandle(YDHT, GetHandleId(t), 0, u)
			call SaveItemHandle(YDHT, GetHandleId(t), 1, it)
			call TimerStart(t, 0., false, function RemoveWeapon)
		endif
		set t=null
 endfunction
function IsYeLianWuQi takes nothing returns boolean
 local integer j= 1
	if GetItemTypeId(GetManipulatedItem()) == 'I0BG' then
		if ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), 1)) != ITEM_TYPE_ARTIFACT ) then
			call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10, "|cffff0000è£…å¤‡æ ç¬¬ä¸€æ ¼ä¸æ˜¯æ­¦å™¨")
			call AdjustPlayerStateBJ(30000, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
			return false
		else
			loop
				exitwhen j >= 30
				if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), 1)) == s__ShopWeapon_id[shopweapon[j]] then
					if s__ShopWeapon_CanYeLianWeapon(shopweapon[j],GetTriggerUnit() , UnitItemInSlotBJ(GetTriggerUnit(), 1)) then
						return true
					else
						return false
					endif
				endif
				set j=j + 1
			endloop
			return true
		endif
	endif
	return false
endfunction
function YeLianWuQi takes nothing returns nothing
 local unit u= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local item it= UnitItemInSlotBJ(u, 1)
 local integer id= GetItemTypeId(it)
 local real zssh=LoadReal(YDHT, id, StringHash("æ‹›å¼ä¼¤å®³"))
 local real wdnl=LoadReal(YDHT, id, StringHash("å†…åŠ›"))
 local real zhssh=LoadReal(YDHT, id, StringHash("çœŸå®ä¼¤å®³"))
 local real bjsh=LoadReal(YDHT, id, StringHash("æš´å‡»ä¼¤å®³"))
 local real bjl=LoadReal(YDHT, id, StringHash("æš´å‡»ç‡"))
 local real jxlw=LoadReal(YDHT, id, StringHash("ç»å­¦é¢†æ‚Ÿ"))
 local real wdgg=LoadReal(YDHT, id, StringHash("æ ¹éª¨")) + LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))
 local real wddp=LoadReal(YDHT, id, StringHash("èƒ†é­„")) + LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))
 local real wdwx=LoadReal(YDHT, id, StringHash("æ‚Ÿæ€§")) + LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))
 local real wdys=LoadReal(YDHT, id, StringHash("åŒ»æœ¯")) + LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))
 local real wdjm=LoadReal(YDHT, id, StringHash("ç»è„‰")) + LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))
 local real wdfy=LoadReal(YDHT, id, StringHash("ç¦ç¼˜")) + LoadReal(YDHT, id, StringHash("å…¨å±æ€§"))
 local real shhf=LoadReal(YDHT, id, StringHash("ä¼¤å®³å›å¤"))
 local real sghf=LoadReal(YDHT, id, StringHash("æ€æ€ªå›å¤"))
 local real smhf=LoadReal(YDHT, id, StringHash("ç”Ÿå‘½å›å¤"))
 local real flhf=LoadReal(YDHT, id, StringHash("æ³•åŠ›å›å¤"))
 local real sjgl=LoadReal(YDHT, id, StringHash("å‡çº§æ¦‚ç‡")) + LoadReal(YDHT, GetHandleId(it), StringHash("å‡çº§æ¦‚ç‡"))
	//local real wdxx=LoadReal(YDHT,id,StringHash("å¸è¡€"))
	// local real gjsd=LoadReal(YDHT,id,StringHash("æ”»å‡»é€Ÿåº¦"))
	if shengwang[i] <= 2000 then
		call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000å£°æœ›ä¸è¶³2000ä¸å¯ä»¥å†¶ç‚¼æ­¦å™¨")
		call AdjustPlayerStateBJ(30000, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
	elseif sjgl <= 0. then
		call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000è¯¥æ­¦å™¨å·²ä¸å¯ç»§ç»­å†¶ç‚¼")
		call AdjustPlayerStateBJ(30000, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
	else
		if GetRandomReal(0., 100.) < sjgl then
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000æ­å–œä½ ï¼Œå†¶ç‚¼æˆåŠŸ")
			if not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
				set udg_bqds[i]=udg_bqds[i] + 1
				call DisplayTextToPlayer(p, 0, 0, "|CFF66FF00æ­å–œæ‚¨å†¶ç‚¼æˆåŠŸç¬¬" + I2S(udg_bqds[i]) + "æ¬¡ï¼Œæ‚¨éœ€è¦å†¶ç‚¼æˆåŠŸ5æ¬¡æ‰èƒ½è·å¾—å…µå™¨å¤§å¸ˆå“¦")
			endif
			if udg_bqds[i] >= 5 and not (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) and (YDWEBitwise_AND(deputy[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
			    call Deputy_setMaster(i , BING_QI)
				// call SaveStr(YDHT, GetHandleId(p), GetHandleId(p),"ã€“å…µå™¨å¤§å¸ˆã€“"+LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, "|CFF66FF00æ­å–œ" + GetPlayerName(p) + "è·å¾—å…µå™¨å¤§å¸ˆ")
				call SetPlayerName(p, "ã€“å…µå™¨å¤§å¸ˆã€“" + LoadStr(YDHT, GetHandleId(p), GetHandleId(p)))
			endif
			if id != 'I0BH' then
				call RemoveItem(FetchUnitItem(u , id))
				set it=UnitAddItemById(u, 'I0BH')
			else
				set zssh=LoadReal(YDHT, GetHandleId(it), StringHash("æ‹›å¼ä¼¤å®³"))
				set wdnl=LoadReal(YDHT, GetHandleId(it), StringHash("å†…åŠ›"))
				set zhssh=LoadReal(YDHT, GetHandleId(it), StringHash("çœŸå®ä¼¤å®³"))
				set bjsh=LoadReal(YDHT, GetHandleId(it), StringHash("æš´å‡»ä¼¤å®³"))
				set bjl=LoadReal(YDHT, GetHandleId(it), StringHash("æš´å‡»ç‡"))
				set jxlw=LoadReal(YDHT, GetHandleId(it), StringHash("ç»å­¦é¢†æ‚Ÿ"))
				set wdgg=LoadReal(YDHT, GetHandleId(it), StringHash("æ ¹éª¨"))
				set wddp=LoadReal(YDHT, GetHandleId(it), StringHash("èƒ†é­„"))
				set wdwx=LoadReal(YDHT, GetHandleId(it), StringHash("æ‚Ÿæ€§"))
				set wdys=LoadReal(YDHT, GetHandleId(it), StringHash("åŒ»æœ¯"))
				set wdjm=LoadReal(YDHT, GetHandleId(it), StringHash("ç»è„‰"))
				set wdfy=LoadReal(YDHT, GetHandleId(it), StringHash("ç¦ç¼˜"))
				set shhf=LoadReal(YDHT, GetHandleId(it), StringHash("ä¼¤å®³å›å¤"))
				set sghf=LoadReal(YDHT, GetHandleId(it), StringHash("æ€æ€ªå›å¤"))
				set smhf=LoadReal(YDHT, GetHandleId(it), StringHash("ç”Ÿå‘½å›å¤"))
				set flhf=LoadReal(YDHT, GetHandleId(it), StringHash("æ³•åŠ›å›å¤"))
				//set wdxx=LoadReal(YDHT,GetHandleId(it),StringHash("å¸è¡€"))
				// set gjsd=LoadReal(YDHT,GetHandleId(it),StringHash("æ”»å‡»é€Ÿåº¦"))
			endif
			if (YDWEBitwise_AND(master[(i )] , ((1 ) * YDWEBitwise__C2[( ( BING_QI) - 1)])) != 0) then // INLINED!!
				set sjgl=sjgl * GetGeoNormRandomReal(0.78 , 0.95)
			else
				set sjgl=sjgl * GetGeoNormRandomReal(0.68 , 0.95)
			endif
			if sjgl < 3. then
				set sjgl=0.
			endif
			if udg_vip[i] >= 1 then
				set sjgl=RMinBJ(sjgl * GetRandomReal(1.0, 1.04), 100.)
			endif
			call SaveReal(YDHT, GetHandleId(it), StringHash("å‡çº§æ¦‚ç‡"), sjgl)
			call UnitRemoveItem(u, it)
			call SaveReal(YDHT, GetHandleId(it), StringHash("æ‹›å¼ä¼¤å®³"), ( GetGeoNormRandomReal(0. , 100.) + zssh ) * GetGeoNormRandomReal(1.0 , 1.3))
			call SaveReal(YDHT, GetHandleId(it), StringHash("å†…åŠ›"), ( GetGeoNormRandomReal(0. , 100.) + wdnl ) * GetGeoNormRandomReal(1.0 , 1.3))
			call SaveReal(YDHT, GetHandleId(it), StringHash("çœŸå®ä¼¤å®³"), ( GetGeoNormRandomReal(0. , 100.) + zhssh ) * GetGeoNormRandomReal(1.0 , 1.3))
			call SaveReal(YDHT, GetHandleId(it), StringHash("æš´å‡»ä¼¤å®³"), bjsh * GetGeoNormRandomReal(1.0 , 1.1))
			call SaveReal(YDHT, GetHandleId(it), StringHash("æš´å‡»ç‡"), bjl * GetGeoNormRandomReal(1.0 , 1.05))
			call SaveReal(YDHT, GetHandleId(it), StringHash("ç»å­¦é¢†æ‚Ÿ"), jxlw * GetGeoNormRandomReal(1.0 , 1.25))
			call SaveReal(YDHT, GetHandleId(it), StringHash("æ ¹éª¨"), ( GetRandomReal(0., 0.4) + wdgg ) * GetGeoNormRandomReal(1.0 , 1.15))
			call SaveReal(YDHT, GetHandleId(it), StringHash("èƒ†é­„"), ( GetRandomReal(0., 0.4) + wddp ) * GetGeoNormRandomReal(1.0 , 1.15))
			call SaveReal(YDHT, GetHandleId(it), StringHash("æ‚Ÿæ€§"), ( GetRandomReal(0., 0.4) + wdwx ) * GetGeoNormRandomReal(1.0 , 1.15))
			call SaveReal(YDHT, GetHandleId(it), StringHash("åŒ»æœ¯"), ( GetRandomReal(0., 0.4) + wdys ) * GetGeoNormRandomReal(1.0 , 1.15))
			call SaveReal(YDHT, GetHandleId(it), StringHash("ç»è„‰"), ( GetRandomReal(0., 0.4) + wdjm ) * GetGeoNormRandomReal(1.0 , 1.15))
			call SaveReal(YDHT, GetHandleId(it), StringHash("ç¦ç¼˜"), ( GetRandomReal(0., 0.4) + wdfy ) * GetGeoNormRandomReal(1.0 , 1.15))
			call SaveReal(YDHT, GetHandleId(it), StringHash("ä¼¤å®³å›å¤"), shhf * GetGeoNormRandomReal(1.0 , 1.3))
			call SaveReal(YDHT, GetHandleId(it), StringHash("æ€æ€ªå›å¤"), sghf * GetGeoNormRandomReal(1.0 , 1.3))
			call SaveReal(YDHT, GetHandleId(it), StringHash("ç”Ÿå‘½å›å¤"), smhf * GetGeoNormRandomReal(1.0 , 1.3))
			call SaveReal(YDHT, GetHandleId(it), StringHash("æ³•åŠ›å›å¤"), flhf * GetGeoNormRandomReal(1.0 , 1.3))
		//call SaveReal(YDHT, GetHandleId(it), StringHash("å¸è¡€"), I2R(wdxx)*GetRandomReal(1.0, 1.5)))
		// call SaveReal(YDHT, GetHandleId(it), StringHash("æ”»å‡»é€Ÿåº¦"), gjsd*GetRandomReal(1.0, 1.5))
		else
			call DisplayTimedTextToPlayer(p, 0, 0, 30, "|cffff0000å¾ˆé—æ†¾ï¼Œå†¶ç‚¼å¤±è´¥")
			set sjgl=sjgl * GetGeoNormRandomReal(0.95 , 0.99)
			if sjgl < 3. then
				set sjgl=0.
			endif
			call SaveReal(YDHT, GetHandleId(it), StringHash("å‡çº§æ¦‚ç‡"), sjgl)
			//set shengwang[i] = shengwang[i]-100
		endif
	endif
	set u=null
	set p=null
	set it=null
endfunction
function InitShopWeapon takes nothing returns nothing
	set shopweapon[1]=s__ShopWeapon_create('I01E' , 0)
	set shopweapon[2]=s__ShopWeapon_create('I01F' , 0)
	set shopweapon[3]=s__ShopWeapon_create('I01S' , 0)
	set shopweapon[4]=s__ShopWeapon_create('I020' , 0)
	set shopweapon[5]=s__ShopWeapon_create('I021' , 0)
	set shopweapon[6]=s__ShopWeapon_create('I016' , 1)
	set shopweapon[7]=s__ShopWeapon_create('I01L' , 1)
	set shopweapon[8]=s__ShopWeapon_create('I01N' , 1)
	set shopweapon[9]=s__ShopWeapon_create('I013' , 2)
	set shopweapon[10]=s__ShopWeapon_create('I04F' , 2)
	set shopweapon[11]=s__ShopWeapon_create('I00X' , 3)
	set shopweapon[12]=s__ShopWeapon_create('I099' , 3)
	set shopweapon[13]=s__ShopWeapon_create('I09A' , 3)
	set shopweapon[14]=s__ShopWeapon_create('I00P' , 4)
	set shopweapon[15]=s__ShopWeapon_create('I00Q' , 4)
	set shopweapon[16]=s__ShopWeapon_create('I00B' , 5)
	set shopweapon[17]=s__ShopWeapon_create('I00C' , 5)
	set shopweapon[18]=s__ShopWeapon_create('I00D' , 5)
	set shopweapon[19]=s__ShopWeapon_create('I08V' , 5)
	set shopweapon[20]=s__ShopWeapon_create('I097' , 6)
	set shopweapon[21]=s__ShopWeapon_create('I098' , 6)
	set shopweapon[22]=s__ShopWeapon_create('I0DK' , 6)
	set shopweapon[23]=s__ShopWeapon_create('I0DU' , 6)
	set shopweapon[24]=s__ShopWeapon_create('I0DY' , 6)
	set shopweapon[25]=s__ShopWeapon_create('I0DZ' , 6)
	set shopweapon[26]=s__ShopWeapon_create('I0E0' , 6)
	set shopweapon[27]=s__ShopWeapon_create('I0E2' , 6)
	set shopweapon[28]=s__ShopWeapon_create('I09B' , 6)
	set shopweapon[29]=s__ShopWeapon_create('I09D' , 6)
endfunction
function SmeltingWeaponSystem takes nothing returns nothing
 local trigger t= CreateTrigger()
	call InitShopWeapon()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(t, Condition(function IsYeLianWuQi))
	call TriggerAddAction(t, function YeLianWuQi)
	set t=null
endfunction
function CreateDestructables takes nothing returns nothing
	//call CreateDestructableZ('ATg1',-12160,-15666,0,270,.1,0)
	call CreateDestructableZ('YTfb', 3616, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('NTtc', 224, 4896, 0, 270, 1.08, 2)
	call CreateDestructableZ('NTtc', 32, 4384, 0, 270, 1.08, 2)
	call CreateDestructableZ('NTtw', - 128, 4224, 0, 270, 1.18, 9)
	call CreateDestructableZ('NTtw', 128, 4160, 0, 270, 1.15, 3)
	call CreateDestructableZ('NTtw', - 128, 3840, 0, 270, 1.15, 5)
	call CreateDestructableZ('NTtw', 576, 4672, 0, 270, .89, 7)
	call CreateDestructableZ('NTtw', 384, 5440, 0, 270, 1.05, 5)
	call CreateDestructableZ('NTtw', 256, 5504, 0, 270, .88, 0)
	call CreateDestructableZ('NTtw', - 192, 5888, 0, 270, .93, 0)
	call CreateDestructableZ('NTtw', - 320, 5952, 0, 270, .87, 5)
	call CreateDestructableZ('NTtw', - 1344, 5952, 0, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 1472, 5952, 0, 270, 1.01, 9)
	call CreateDestructableZ('NTtw', - 2240, 5824, 0, 270, .9, 1)
	call CreateDestructableZ('NTtw', - 1856, 5504, 0, 270, 1.19, 0)
	call CreateDestructableZ('NTtw', - 1728, 5248, 0, 270, .95, 6)
	call CreateDestructableZ('NTtw', - 1664, 5120, 0, 270, .96, 7)
	call CreateDestructableZ('NTtw', - 1664, 4800, 0, 270, .96, 3)
	call CreateDestructableZ('NTtw', - 1408, 4480, 0, 270, 1.19, 5)
	call CreateDestructableZ('NTtw', - 1216, 4160, 0, 270, 1.19, 2)
	call CreateDestructableZ('NTtw', - 1280, 4032, 0, 270, .82, 7)
	call CreateDestructableZ('NTtw', - 1344, 3776, 0, 270, .93, 6)
	call CreateDestructableZ('NTtw', - 1472, 3584, 0, 270, .93, 5)
	call CreateDestructableZ('NTtw', - 1408, 3392, 0, 270, .86, 7)
	call CreateDestructableZ('NTtw', - 1280, 3072, 0, 270, 1.1, 7)
	call CreateDestructableZ('NTtw', - 1216, 2880, 0, 270, 1.01, 4)
	call CreateDestructableZ('NTtw', - 1216, 2752, 0, 270, .97, 5)
	call CreateDestructableZ('NTtw', - 1344, 2432, 0, 270, .91, 1)
	call CreateDestructableZ('NTtw', - 1600, 2432, 0, 270, 1.06, 2)
	call CreateDestructableZ('NTtw', - 1792, 2496, 0, 270, .94, 7)
	call CreateDestructableZ('NTtw', - 2112, 2304, 0, 270, 1.04, 5)
	call CreateDestructableZ('NTtw', - 2176, 2816, 0, 270, .95, 1)
	call CreateDestructableZ('NTtw', - 2176, 2944, 0, 270, 1.08, 1)
	call CreateDestructableZ('NTtw', - 2176, 3136, 0, 270, 1.07, 7)
	call CreateDestructableZ('NTtw', - 2176, 3264, 0, 270, 1.05, 0)
	call CreateDestructableZ('NTtw', - 2240, 3584, 0, 270, 1.03, 5)
	call CreateDestructableZ('NTtw', - 2176, 3840, 0, 270, .92, 0)
	call CreateDestructableZ('NTtw', - 2112, 3968, 0, 270, 1.01, 9)
	call CreateDestructableZ('NTtw', - 2112, 4096, 0, 270, 1.05, 7)
	call CreateDestructableZ('NTtw', - 2176, 4224, 0, 270, .97, 0)
	call CreateDestructableZ('NTtw', - 2368, 4352, 0, 270, .91, 6)
	call CreateDestructableZ('NTtw', - 3200, 4544, 0, 270, 1.08, 5)
	call CreateDestructableZ('NTtw', - 3328, 4480, 0, 270, .93, 1)
	call CreateDestructableZ('NTtw', - 3456, 4352, 0, 270, 1, 4)
	call CreateDestructableZ('NTtw', - 3584, 4288, 0, 270, 1.02, 3)
	call CreateDestructableZ('NTtw', - 4032, 4416, 0, 270, .81, 3)
	call CreateDestructableZ('NTtw', - 4032, 4288, 0, 270, 1.15, 4)
	call CreateDestructableZ('NTtw', - 3968, 3968, 0, 270, 1.09, 5)
	call CreateDestructableZ('NTtw', - 3904, 3712, 0, 270, 1.06, 6)
	call CreateDestructableZ('NTtw', - 4032, 3328, 0, 270, 1.01, 8)
	call CreateDestructableZ('NTtw', - 4032, 3136, 0, 270, 1.08, 1)
	call CreateDestructableZ('NTtw', - 3968, 3008, 0, 270, .81, 9)
	call CreateDestructableZ('NTtw', - 3840, 3008, 0, 270, .86, 7)
	call CreateDestructableZ('NTtw', - 3776, 2880, 0, 270, .81, 8)
	call CreateDestructableZ('NTtw', - 3648, 2560, 0, 270, 1.01, 8)
	call CreateDestructableZ('NTtw', - 3456, 2496, 0, 270, .81, 9)
	call CreateDestructableZ('NTtw', - 3328, 2432, 0, 270, 1.04, 1)
	call CreateDestructableZ('NTtw', - 3200, 2048, - .25, 270, 1.07, 4)
	call CreateDestructableZ('NTtw', - 3200, 1920, - .25, 270, 1.19, 9)
	call CreateDestructableZ('NTtw', - 3264, 1728, - .06, 270, 1.1, 1)
	call CreateDestructableZ('NTtw', - 3136, 1536, 0, 270, 1.16, 7)
	call CreateDestructableZ('NTtw', - 2752, 1344, 0, 270, .9, 5)
	call CreateDestructableZ('NTtw', - 2624, 1344, 0, 270, 1.02, 4)
	call CreateDestructableZ('NTtw', - 2496, 1280, 0, 270, 1.19, 0)
	call CreateDestructableZ('NTtw', - 1984, 1344, 0, 270, 1.12, 3)
	call CreateDestructableZ('NTtw', - 1856, 1344, 0, 270, .8, 7)
	call CreateDestructableZ('NTtw', - 1664, 1280, 0, 270, .93, 8)
	call CreateDestructableZ('NTtw', - 1536, 1344, 0, 270, .92, 9)
	call CreateDestructableZ('NTtw', - 1344, 1408, 0, 270, .83, 8)
	call CreateDestructableZ('NTtw', - 128, 1344, - .25, 270, .95, 4)
	call CreateDestructableZ('NTtw', 0, 1344, - .25, 270, .84, 1)
	call CreateDestructableZ('NTtw', 320, 1344, .06, 270, 1.19, 2)
	call CreateDestructableZ('NTtw', 512, 1344, 0, 270, 1.17, 6)
	call CreateDestructableZ('NTtw', 768, 1280, 0, 270, 1.03, 9)
	call CreateDestructableZ('NTtw', 896, 1280, 0, 270, .81, 0)
	call CreateDestructableZ('NTtw', 1600, 1792, 0, 270, 1.01, 5)
	call CreateDestructableZ('NTtw', 1664, 1920, 0, 270, .85, 1)
	call CreateDestructableZ('NTtw', 1664, 2432, 0, 270, 1.02, 4)
	call CreateDestructableZ('NTtw', 2112, 2880, 0, 270, .92, 9)
	call CreateDestructableZ('NTtw', 2240, 3008, 0, 270, .86, 1)
	call CreateDestructableZ('NTtw', 2304, 3584, 0, 270, 1.1, 9)
	call CreateDestructableZ('NTtw', 2304, 3712, 0, 270, .9, 0)
	call CreateDestructableZ('NTtw', 2304, 3840, 0, 270, .8, 6)
	call CreateDestructableZ('NTtw', 2304, 4096, 0, 270, 1.06, 8)
	call CreateDestructableZ('NTtw', 1984, 4352, 0, 270, 1.03, 3)
	call CreateDestructableZ('NTtw', 1536, 4544, 0, 270, .87, 0)
	call CreateDestructableZ('NTtw', 1408, 4544, 0, 270, 1.05, 8)
	call CreateDestructableZ('NTtw', 2688, 3712, 0, 270, 1.16, 2)
	call CreateDestructableZ('NTtw', 2560, 3584, 0, 270, .93, 0)
	call CreateDestructableZ('NTtw', 2112, 2688, 0, 270, 1.11, 4)
	call CreateDestructableZ('NTtw', 1920, 2560, 0, 270, .9, 0)
	call CreateDestructableZ('NTtw', 1856, 2432, 0, 270, .99, 0)
	call CreateDestructableZ('NTtw', 2048, 2048, 0, 270, 1.06, 5)
	call CreateDestructableZ('NTtw', - 3776, 1728, 0, 270, 1.01, 2)
	call CreateDestructableZ('NTtw', 1856, 1600, 0, 270, 1.17, 5)
	call CreateDestructableZ('VTlt', 960, - 3136, - 6.12, 270, .86, 3)
	call CreateDestructableZ('NTtw', 0, 2432, 0, 270, 1.01, 2)
	call CreateDestructableZ('NTtw', - 192, 2432, - .25, 270, .99, 6)
	call CreateDestructableZ('NTtw', - 192, 3200, 0, 270, 1.17, 1)
	call CreateDestructableZ('NTtw', - 192, 3328, 0, 270, .94, 1)
	call CreateDestructableZ('NTtw', - 192, 3520, 0, 270, 1.13, 4)
	call CreateDestructableZ('NTtw', - 192, 3712, 0, 270, 1.1, 6)
	call CreateDestructableZ('NTtw', 128, 2752, 0, 270, .89, 2)
	call CreateDestructableZ('NTtw', 256, 2624, 0, 270, 1.07, 0)
	call CreateDestructableZ('NTtw', 384, 3456, 0, 270, 1.17, 7)
	call CreateDestructableZ('NTtw', 832, 4352, 0, 270, .92, 2)
	call CreateDestructableZ('NTtw', 896, 4480, 0, 270, .98, 8)
	call CreateDestructableZ('NTtw', 1088, 4544, 0, 270, .94, 0)
	call CreateDestructableZ('NTtw', 1664, 4736, 0, 270, 1.13, 8)
	call CreateDestructableZ('NTtw', 2048, 4480, 0, 270, .97, 8)
	call CreateDestructableZ('NTtw', 2240, 4288, 0, 270, .91, 2)
	call CreateDestructableZ('NTtw', - 2624, 4736, 0, 270, 1.02, 9)
	call CreateDestructableZ('NTtw', - 3072, 4672, 0, 270, .82, 7)
	call CreateDestructableZ('NTtw', - 3712, 4736, 0, 270, 1.06, 6)
	call CreateDestructableZ('NTtw', - 4032, 4864, 0, 270, 1.12, 0)
	call CreateDestructableZ('NTtw', - 4544, 4352, 0, 270, 1.19, 4)
	call CreateDestructableZ('NTtw', - 4544, 4160, 0, 270, .94, 2)
	call CreateDestructableZ('NTtw', - 4416, 3776, 0, 270, .9, 9)
	call CreateDestructableZ('NTtw', - 4672, 3264, 0, 270, .94, 9)
	call CreateDestructableZ('NTtw', - 4544, 3008, 0, 270, 1.05, 7)
	call CreateDestructableZ('NTtw', - 4480, 2752, 0, 270, 1.16, 7)
	call CreateDestructableZ('NTtw', - 3712, 2432, 0, 270, 1.06, 8)
	call CreateDestructableZ('NTtw', - 3648, 2304, 0, 270, 1.03, 5)
	call CreateDestructableZ('NTtw', - 3456, 2304, 0, 270, .96, 8)
	call CreateDestructableZ('NTtw', - 4032, 2752, 0, 270, 1.05, 7)
	call CreateDestructableZ('NTtw', 1792, 1728, 0, 270, .92, 2)
	call CreateDestructableZ('VTlt', 1344, - 3712, 256, 270, 1.01, 2)
	call CreateDestructableZ('VTlt', 1984, - 3712, 256, 270, .8, 9)
	call CreateDestructableZ('VTlt', 2112, - 3776, 256, 270, 1.19, 1)
	call CreateDestructableZ('VTlt', 2048, - 3584, 256, 270, .89, 4)
	call CreateDestructableZ('VTlt', 1216, - 3584, 256, 270, .83, 1)
	call CreateDestructableZ('VTlt', 1216, - 3904, 256, 270, .88, 1)
	call CreateDestructableZ('VTlt', 1344, - 3840, 256, 270, .95, 4)
	call CreateDestructableZ('VTlt', 1984, - 3840, 256, 270, .95, 8)
	call CreateDestructableZ('VTlt', 2112, - 3904, 256, 270, .87, 3)
	call CreateDestructableZ('YTfc', 1472, - 3712, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1600, - 3712, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1728, - 3712, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, - 3712, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, - 4096, 256, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2912, - 736, 0, 270, 1, 0)
	call CreateDestructableZ('VTlt', 1216, - 4096, 256, 270, .88, 1)
	call CreateDestructableZ('VTlt', 1216, - 4288, 256, 270, .88, 1)
	call CreateDestructableZ('YTfc', 256, - 4032, 128, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 3584, 128, 270, 1, 0)
	call CreateDestructableZ('VTlt', 1344, - 2496, - 1.37, 270, .88, 3)
	call CreateDestructableZ('YTfb', 6368, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('VTlt', 1472, - 2368, - .38, 270, .9, 6)
	call CreateDestructableZ('VTlt', 1344, - 2368, 2.87, 270, .83, 0)
	call CreateDestructableZ('YTfb', 6304, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('VTlt', 1984, - 3072, 14, 270, .87, 8)
	call CreateDestructableZ('VTlt', 1856, - 2496, 6.44, 270, 1.1, 6)
	call CreateDestructableZ('VTlt', 1920, - 3264, 0, 270, 1.19, 8)
	call CreateDestructableZ('VTlt', 2240, - 2880, 7.19, 270, .89, 7)
	call CreateDestructableZ('VTlt', 1472, - 3264, - .75, 270, 1.06, 8)
	call CreateDestructableZ('VTlt', 2112, - 3264, 0, 270, 1.03, 9)
	call CreateDestructableZ('VTlt', 1664, - 3264, 0, 270, 1.15, 3)
	call CreateDestructableZ('VTlt', 2240, - 3200, 0, 270, 1.03, 6)
	call CreateDestructableZ('VTlt', 1152, - 2560, - 8.25, 270, .99, 4)
	call CreateDestructableZ('VTlt', 1216, - 2688, - 14.63, 270, 1.04, 6)
	call CreateDestructableZ('VTlt', 704, - 2688, - 28.5, 270, 1.18, 8)
	call CreateDestructableZ('VTlt', 448, - 2688, - 13.75, 270, 1.12, 8)
	call CreateDestructableZ('VTlt', 1024, - 2624, - 15.25, 270, 1.11, 6)
	call CreateDestructableZ('VTlt', 1280, - 3264, - 4.12, 270, 1.18, 1)
	call CreateDestructableZ('YTfb', 4192, - 4064, 0, 270, 1, 0)
	call CreateDestructableZ('VTlt', 1472, - 2496, - 2.44, 270, .86, 3)
	call CreateDestructableZ('VTlt', 1792, - 3200, 7.25, 270, 1.06, 3)
	call CreateDestructableZ('YTfb', 7008, - 2912, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4544, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 3392, 95.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6336, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5472, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 4544, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3296, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3360, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6208, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('VTlt', 1920, - 4800, 133.87, 270, 1.13, 7)
	call CreateDestructableZ('VTlt', 1600, - 4928, 101.62, 270, 1.12, 1)
	call CreateDestructableZ('VTlt', 1536, - 4800, 120.62, 270, .89, 6)
	call CreateDestructableZ('VTlt', 1408, - 4800, 126.62, 270, 1.06, 3)
	call CreateDestructableZ('VTlt', 2048, - 4800, 129.87, 270, 1.04, 5)
	call CreateDestructableZ('VTlt', 1664, - 4800, 115.62, 270, .99, 3)
	call CreateDestructableZ('VTlt', 1792, - 4800, 132.75, 270, 1.18, 4)
	call CreateDestructableZ('YTfc', 320, - 2688, - 10.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', 576, - 2688, - 13.13, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 2688, - 10, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 2560, - 6.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, - 2560, - 38.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 2496, - 1.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1152, - 2432, 34.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 192, - 2752, - 11.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 64, - 2752, - 4.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 64, - 2752, - 1.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 192, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 320, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 384, - 2624, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 384, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 384, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 256, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 128, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 0, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 256, - 2368, 28.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 192, - 2176, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 2176, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 448, - 2240, - 1.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', 576, - 2240, - 1.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', 704, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 832, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1472, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1344, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1280, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1536, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1664, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 1920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 960, - 2240, 12.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1280, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 960, - 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, - 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, - 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 576, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 640, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, 832, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, 1088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 256, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 0, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 128, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 224, 992, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 224, 1056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 224, 1120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 160, 1120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 640, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 768, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, 960, - 128, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1280, 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1280, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1408, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1408, 1088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1536, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1664, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1792, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2048, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2176, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2304, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2432, 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2560, 1088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, 832, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1664, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1792, 768, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, 768, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2048, 768, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2176, 768, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2304, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2432, 640, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, 512, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, 256, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, 128, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2560, 0, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, - 128, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, - 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2752, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2880, - 320, 1.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1216, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1344, - 128, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1472, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 1984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 2368, 4.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 2496, 10.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2624, - 2624, 23.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2496, - 2624, 10.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2368, - 2624, 4.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2240, - 2624, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2240, - 2752, - .13, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2240, - 2880, - .25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2176, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2176, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2176, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2048, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1984, - 2944, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1408, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1280, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1152, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 2880, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 2624, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1216, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1344, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1472, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1536, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1664, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1792, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 2304, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 2432, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1408, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2048, - 2304, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2176, - 2304, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2368, - 2304, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2304, - 2176, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2304, - 2048, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2304, - 1920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2304, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2432, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1344, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1344, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1344, - 2880, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1472, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1728, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1984, - 2688, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1984, - 2560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2112, - 2560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 1536, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 1280, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 192, - 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 1280, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 1536, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 32, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 32, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 96, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 160, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 224, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 288, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 352, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 416, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 480, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 928, - 1568, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 608, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 544, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 480, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 352, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 288, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 224, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 160, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 96, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 96, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10112, - 512, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10240, - 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1248, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1312, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1376, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1440, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1504, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1568, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 128, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 256, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 512, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 640, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1728, - 640, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 640, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 512, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 256, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1920, - 128, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1792, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1696, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 1632, - 32, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1728, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 1280, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 1536, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1856, - 1664, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1728, - 1664, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1600, - 1664, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1472, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1344, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1216, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1088, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1024, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1152, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1280, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 1408, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, 576, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1024, 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1920, - 2624, 12.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 2688, 25.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2112, - 2816, - 9.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 3264, - 2.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', 896, - 3264, - 2.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 960, - 3392, 63.69, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2464, - 1440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6080, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5952, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5824, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5696, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5568, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5440, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 4544, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 4672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 4800, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 4928, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4928, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4800, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4544, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4288, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 4672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3904, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3392, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 4800, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 4928, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4928, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4800, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4192, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4128, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4064, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4000, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3872, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3936, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3808, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3744, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3552, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3424, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3488, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, - 4160, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2400, - 1248, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2400, - 1440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3680, - 4384, 0, 270, 1, 0)
	call CreateDestructableZ('BTtc', - 2592, - 2784, 56, 270, .92, 2)
	call CreateDestructableZ('FTtw', - 2368, - 2880, 19.56, 270, .81, 7)
	call CreateDestructableZ('FTtw', - 2496, - 2880, 48.5, 270, .87, 8)
	call CreateDestructableZ('FTtw', - 2496, - 3904, 0, 270, 1.11, 7)
	call CreateDestructableZ('FTtw', - 2624, - 3776, 10.88, 270, .88, 3)
	call CreateDestructableZ('FTtw', - 2496, - 3776, 4.62, 270, .95, 2)
	call CreateDestructableZ('FTtw', - 2752, - 3648, 32.38, 270, 1.14, 3)
	call CreateDestructableZ('FTtw', - 2944, - 3648, 38.75, 270, 1.02, 0)
	call CreateDestructableZ('FTtw', - 3008, - 3520, 64.44, 270, 1.14, 8)
	call CreateDestructableZ('FTtw', - 2816, - 2624, 43.75, 270, .9, 7)
	call CreateDestructableZ('FTtw', - 2944, - 2432, 16.75, 270, .89, 8)
	call CreateDestructableZ('FTtw', - 2816, - 2496, 32.38, 270, .96, 7)
	call CreateDestructableZ('FTtw', - 3264, - 3392, 107.25, 270, 1.13, 2)
	call CreateDestructableZ('FTtw', - 3264, - 3520, 45.44, 270, 1.01, 4)
	call CreateDestructableZ('FTtw', - 3136, - 3392, 101.94, 270, .84, 3)
	call CreateDestructableZ('YTfc', - 4608, - 3264, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4608, - 3136, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4608, - 3008, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4672, - 2880, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4736, - 2752, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4992, - 2432, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5056, - 2304, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5184, - 2240, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5312, - 2112, 172.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5440, - 2112, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5568, - 2048, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5696, - 1984, 177.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, - 1920, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5440, - 3392, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, - 3264, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5632, - 3200, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5696, - 3072, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, - 3008, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5760, - 2560, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5632, - 2496, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5568, - 2368, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5632, - 2240, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5760, - 2368, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5888, - 2432, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4928, - 3072, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5056, - 3200, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4928, - 3264, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4800, - 3200, 179.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 2432, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2400, - 1184, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 2304, 340.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 2176, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3296, - 1440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3232, - 1440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 896, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 1024, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 1280, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 1536, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 1664, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2112, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2112, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, - 1856, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, - 1920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, - 2048, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2624, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 2880, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 2880, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 2752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 2624, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 2496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 1984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 1856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 1600, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, - 1472, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 1344, 121.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 1344, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 1088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, - 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, - 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 960, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 832, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 576, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 448, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, - 576, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2432, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, 0, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 128, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 256, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 512, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 640, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, - 768, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, - 1344, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 1216, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2432, - 1344, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3168, - 1440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2528, - 608, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2528, - 672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2528, - 736, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2528, - 800, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 2528, - 864, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 1344, 13.38, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 1472, 17.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 1600, 55.88, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 1728, 120, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13760, 1856, 163.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 1984, 262.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 2112, 293.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 2240, 304, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 2368, 304, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 2496, 285.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 2624, 266.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 2688, 266.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 2688, 304, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, 2688, 304, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 2688, 282, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 2624, 266.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 2496, 265.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 2368, 267, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 2240, 267.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 2112, 265, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 1984, 241.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 1856, 132.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 1728, 25.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 1664, 41.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 1536, 10.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 1408, 11.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 1280, 3.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11584, 10752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 2048, 346.25, 270, 1, 0)
	call CreateDestructableZ('LTrc', - 2944, - 64, 39.5, 282, 1, 0)
	call CreateDestructableZ('LTrc', - 3072, - 128, 46.25, 224, 1, 1)
	call CreateDestructableZ('LTrc', - 3072, 0, 74.25, 237, 1, 3)
	call CreateDestructableZ('LTrc', - 6080, - 320, - .38, 9, 1, 3)
	call CreateDestructableZ('LTrc', - 6080, - 448, 0, 196, 1, 0)
	call CreateDestructableZ('LTrc', - 6208, - 448, 0, 327, 1, 1)
	call CreateDestructableZ('OTtw', - 4032, 576, 1.06, 270, .71, 7)
	call CreateDestructableZ('OTtw', - 4096, 704, - .13, 270, .73, 3)
	call CreateDestructableZ('OTtw', - 4224, 640, 18.5, 270, .67, 1)
	call CreateDestructableZ('LTrc', - 4416, 448, 79.12, 218, 1, 1)
	call CreateDestructableZ('JTtw', - 4288, 448, 43.31, 270, 1.14, 1)
	call CreateDestructableZ('JTtw', - 4160, 512, 13, 270, .85, 0)
	call CreateDestructableZ('JTtw', - 4224, 320, 19.25, 270, .96, 9)
	call CreateDestructableZ('JTtw', - 4160, 192, 25, 270, 1.08, 2)
	call CreateDestructableZ('JTtw', - 4032, 256, 66.37, 270, .86, 9)
	call CreateDestructableZ('JTtw', - 4032, 384, 46.88, 270, .88, 7)
	call CreateDestructableZ('JTtw', - 3968, 128, 66, 270, 1.17, 8)
	call CreateDestructableZ('JTtw', - 3840, 512, 82.5, 270, .9, 3)
	call CreateDestructableZ('JTtw', - 4288, 192, 10.63, 270, .99, 7)
	call CreateDestructableZ('JTtw', - 3008, - 256, 12.5, 270, .85, 8)
	call CreateDestructableZ('JTtw', - 3136, - 256, 24.37, 270, 1.18, 5)
	call CreateDestructableZ('JTtw', - 3072, - 384, 5, 270, 1.12, 7)
	call CreateDestructableZ('JTtw', - 4928, - 640, - .5, 270, .9, 9)
	call CreateDestructableZ('JTtw', - 4672, - 832, .38, 270, .93, 9)
	call CreateDestructableZ('JTtw', - 4736, - 704, - 11.38, 270, 1.13, 2)
	call CreateDestructableZ('JTtw', - 5056, - 640, 1, 270, 1.19, 0)
	call CreateDestructableZ('JTtw', - 4928, - 512, 9.75, 270, 1.17, 2)
	call CreateDestructableZ('JTtw', - 4800, - 512, - 2.62, 270, 1, 4)
	call CreateDestructableZ('JTtw', - 3712, - 896, 0, 270, 1.14, 9)
	call CreateDestructableZ('JTtw', - 3520, - 896, 0, 270, .94, 4)
	call CreateDestructableZ('JTtw', - 3520, - 768, 16.37, 270, 1.16, 7)
	call CreateDestructableZ('JTtw', - 3392, - 768, 17.75, 270, 1.07, 6)
	call CreateDestructableZ('JTtw', - 3328, - 896, 0, 270, 1.09, 5)
	call CreateDestructableZ('JTtw', - 3456, - 1024, 0, 270, .88, 7)
	call CreateDestructableZ('JTtw', - 3840, - 896, - .75, 270, .92, 5)
	call CreateDestructableZ('JTtw', - 5632, - 448, 0, 270, 1.16, 8)
	call CreateDestructableZ('JTtw', - 5760, - 384, 0, 270, 1.06, 8)
	call CreateDestructableZ('JTtw', - 5504, - 576, - .13, 270, .84, 2)
	call CreateDestructableZ('JTtw', - 5440, - 448, - 3, 270, .84, 0)
	call CreateDestructableZ('JTtw', - 3968, - 960, .38, 270, .92, 5)
	call CreateDestructableZ('JTtw', - 3904, - 768, - 5.12, 270, .92, 5)
	call CreateDestructableZ('JTtw', - 3776, - 704, - 12.5, 270, .92, 5)
	call CreateDestructableZ('YTfc', - 3200, - 128, 61.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3072, 128, 82.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 2944, 64, 68.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3136, 256, 82.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3264, 320, 82.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3392, 384, 82.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3520, 384, 82.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3648, 448, 82.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 3904, 320, 80.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4416, 320, 41.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4480, 576, 113.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4352, 576, 104.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4608, 576, 116.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4736, 576, 117.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4864, 640, 118.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 4992, 576, 118.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5120, 640, 113.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5184, 768, 97.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5312, 768, 56.13, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5376, 640, 53.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 512, 20, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5632, 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5952, 64, - 20.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6080, - 64, 59.38, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6144, - 192, 22.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6272, - 320, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6400, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6464, - 512, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6528, - 640, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6656, - 704, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6720, - 832, - 128, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5120, 1088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5312, 1152, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5376, 1280, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 1408, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 1536, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 1664, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 1792, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5504, 1920, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4320, - 4000, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 3456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 3584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 3712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 3840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 3968, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3968, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5440, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5568, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5696, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5824, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5952, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6080, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6208, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6336, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6592, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6720, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6848, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 3008, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3904, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3392, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4160, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 4288, 0, 270, 1, 0)
	call CreateDestructableZ('NTtw', - 960, - 5440, 0, 270, 1, 4)
	call CreateDestructableZ('YTfc', - 13760, 6592, 59.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13760, 6464, 50.94, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 6336, 24.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 6464, 46.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14016, 6208, 6.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 6080, 1, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14144, 5952, .13, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 5696, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 6656, 64.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14016, 6656, 64.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14144, 6656, 64.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 6656, 66.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 6528, 50.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, 6528, 50, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, 6656, 62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 6720, 81.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14976, 6720, 81.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15104, 6720, 82.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, 6720, 83, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 6848, 106.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 6976, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 7040, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 7040, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 7168, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 7296, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 7424, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 7424, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 7424, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 7552, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 7680, 112, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 7744, 115, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 7744, 112.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, 7744, 113.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 7744, 114.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 7872, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 8000, 180.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 8128, 237.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 8256, 286.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, 8256, 287.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 8256, 285.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 8256, 282.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 8256, 278, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 8384, 301.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 8512, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 8640, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 8768, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 8896, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 9024, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 9152, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 9280, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 9408, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 9408, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 9280, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, 9280, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14528, 9280, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14400, 9280, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 9280, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 9408, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14144, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14016, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13760, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 9536, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 9408, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 9280, 305.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 9152, 305.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13504, 9152, 314, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, 9152, 324.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13248, 9152, 341.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13120, 9152, 380.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, 9152, 432.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 9280, 468.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 9408, 455.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 9536, 370.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 9344, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12544, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12288, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12032, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11904, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 9472, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 9344, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 9216, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 9088, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 8960, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 8960, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 8960, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 8832, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 8704, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 8576, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 8448, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 8384, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 8384, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 8256, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 8128, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 8000, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 7872, 487.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 7808, 487.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 7808, 487.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, 7808, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 7808, 496.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 7680, 526.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 7552, 566.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 7424, 612.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, 7424, 612.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 7424, 607.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 7424, 605.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 7424, 605.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 7296, 639.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 7168, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 7040, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6912, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6784, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6656, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6528, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6400, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6272, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6144, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 6016, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 5888, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11328, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11584, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11712, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11840, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11968, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12096, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13120, 5760, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 5888, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 6016, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 6144, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 6272, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 6400, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 6400, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 6400, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 6528, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 6656, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 6784, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 6848, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 6848, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 6976, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 7104, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 7232, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 7360, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 7424, 648, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 7424, 623.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 7424, 625, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, 7424, 627.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12544, 7424, 625.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 7424, 625, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 7552, 562.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 7680, 520.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 7808, 495.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, 7808, 495.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, 7808, 497.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, 7808, 496, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 7808, 493.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 7936, 493.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 8064, 493.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 8192, 493.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 8320, 469.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 8448, 478.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 8576, 470, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 8704, 466.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 8768, 405.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 8768, 358.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 8768, 324.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, 8768, 310.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 8768, 305.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 8640, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 8512, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 8384, 305.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 8256, 292, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 8256, 279.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 8256, 274.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, 8256, 272, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 8256, 273.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 8256, 274.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 8128, 233.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 8000, 186.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 7872, 146.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 7744, 121, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 7744, 121.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, 7744, 118.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 7744, 116.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 7744, 112.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 7616, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 7488, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 7360, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 7360, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 7232, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 7104, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13888, 6976, 110.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13760, 6976, 111.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 6912, 111.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, 6784, 108.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13760, 6720, 83.56, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 12448, 6176, 648, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 12064, 6176, 648, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 11616, 6176, 648, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 11744, 7008, 648, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 12512, 7008, 648, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 12256, 8736, 488.25, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15072, 7584, 112.25, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 14944, 6368, 30.91, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15200, 6560, 53.53, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15200, 6496, 45.06, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15200, 6432, 37.19, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15200, 6368, 27.3, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15200, 6304, 15.39, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15264, 6240, 7.73, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15264, 6176, 2.58, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15328, 6112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15328, 6048, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15392, 5984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15392, 5920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15456, 5920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15520, 5856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15584, 5792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15520, 5792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15456, 5856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15328, 5984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15264, 6112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15200, 6240, 7.08, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15136, 6560, 54.09, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 15136, 6624, 62.28, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10048, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9920, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9664, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9408, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9280, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9152, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8896, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 4992, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 4864, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8960, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9088, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9216, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9344, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9472, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9600, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9728, - 4864, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 4736, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 4608, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 4480, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 4352, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 4224, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9664, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9408, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9280, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9152, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8896, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8128, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8000, - 4160, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8000, - 4032, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8000, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8000, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8064, - 3648, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8192, - 3520, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8320, - 3392, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 3520, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 3648, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 3904, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, - 3968, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, - 3968, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, - 3968, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3200, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 3072, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8704, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8576, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8448, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8320, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 2880, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 2752, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 2624, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 2496, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 2368, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, - 2240, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8128, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8000, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7744, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 2240, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 2368, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 2496, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 2624, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 2752, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 2880, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 2880, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 2880, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7744, - 2880, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 2880, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 3136, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 3264, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7744, - 3328, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 3392, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 3392, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 3392, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, - 3520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, - 3648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7552, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 4032, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 4160, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 4288, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 4416, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 4544, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7680, - 4672, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7808, - 4672, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7936, - 4672, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8064, - 4672, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8192, - 4672, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8320, - 4672, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 4800, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, - 4928, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8320, - 5056, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8192, - 5056, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8064, - 5056, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7936, - 5056, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 5184, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, - 5312, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7744, - 5312, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, - 5312, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 5312, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 5184, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 5056, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 4928, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, - 4800, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, - 4800, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7232, - 4800, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7104, - 4800, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6976, - 4800, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9088, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9216, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9344, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9472, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9600, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9728, - 3904, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3648, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3520, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3392, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3264, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3136, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2880, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2752, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2624, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2496, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2368, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2240, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 2112, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9664, - 2112, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, - 2112, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9600, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9600, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9472, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9344, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9216, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9088, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8960, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8960, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8960, - 2112, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8960, - 1984, 356.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 2112, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 2240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, - 2496, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, - 2624, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, - 2752, 267.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8896, - 2752, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 2752, 89.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3776, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 2880, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3008, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3136, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3264, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3392, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3520, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, - 3648, 178.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2816, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, - 512, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5824, - 640, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6016, - 832, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6208, - 832, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6336, - 896, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6464, - 960, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6592, - 1024, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6720, - 960, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6848, - 960, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 896, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7104, - 768, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7168, - 640, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, - 512, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, - 384, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, - 256, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, - 128, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, 0, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, 128, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7232, 256, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7168, 384, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7040, 512, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6912, 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6784, 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6656, 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6528, 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6400, 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6272, 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6144, 512, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6016, 448, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5952, 320, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5888, 192, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5824, 64, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, - 64, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, - 192, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5696, - 320, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5728, - 416, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5920, - 736, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5856, - 800, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5920, - 800, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5792, - 736, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5728, - 608, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5856, - 864, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 320, 0, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 192, 0, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 64, 0, 0, 270, 1, 0)
	call CreateDestructableZ('JTtw', - 10176, 1024, 0, 270, .93, 7)
	call CreateDestructableZ('YTfc', - 320, 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 192, 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 64, 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 64, 192, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 64, 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4480, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4608, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4736, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4864, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4992, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5120, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5248, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5504, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5632, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5888, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6016, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6144, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6272, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6400, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6528, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6656, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6784, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6912, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 7040, - 1408, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2304, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2432, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2688, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5632, - 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5504, - 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, - 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5248, - 512, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 384, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 256, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 128, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 0, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 128, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 256, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 384, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 512, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 640, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 768, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 896, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 896, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 896, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, 896, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 896, 382.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, 896, 246.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, 896, 294.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 896, 369.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, 896, 388.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, 896, 442.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 832, 456.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 832, 388.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, 832, 327.94, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, 832, 303.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, 832, 283.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 768, 276.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, 768, 248.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 768, 225.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 768, 215, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 768, 186.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, 768, 145.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, 768, 121.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, 768, 115.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 768, 83.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2112, 704, 53.38, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 256, 63.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 128, 49.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 64, 61.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2432, 64, 61.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, 64, 61.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 64, 117.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, 64, 117.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, 64, 117.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, 64, 117.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, 64, 117.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3328, 64, 111.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3456, 64, 139.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 64, 139.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 64, 193.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 128, 398.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, 128, 441.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, 64, 360.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 64, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 192, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 320, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 448, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 576, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 704, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 832, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 960, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 1088, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, - 1216, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 1344, 242.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5440, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5568, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5696, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5824, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5952, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6080, - 1280, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6144, - 1152, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6144, - 1024, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6016, - 960, 485.75, 270, 1, 0)
	call CreateDestructableZ('NTtw', - 12992, 12480, 166.56, 270, 1.11, 4)
	call CreateDestructableZ('NTtw', - 12992, 12352, 166.69, 270, 1.13, 5)
	call CreateDestructableZ('NTtw', - 13120, 12416, 170.25, 270, 1.16, 5)
	call CreateDestructableZ('NTtw', - 13120, 12288, 160.37, 270, .9, 3)
	call CreateDestructableZ('NTtw', - 12992, 12224, 169.75, 270, 1.06, 3)
	call CreateDestructableZ('NTtw', - 12736, 10816, 269, 270, 1.06, 6)
	call CreateDestructableZ('NTtw', - 12864, 10816, 273.87, 270, .99, 1)
	call CreateDestructableZ('NTtw', - 12864, 11008, 280.12, 270, 1.15, 2)
	call CreateDestructableZ('NTtw', - 12992, 10816, 264.06, 270, 1.14, 6)
	call CreateDestructableZ('NTtw', - 12736, 10944, 274.31, 270, .8, 3)
	call CreateDestructableZ('NTtw', - 12224, 11776, 248, 270, .96, 8)
	call CreateDestructableZ('NTtw', - 12224, 11648, 248, 270, .86, 2)
	call CreateDestructableZ('NTtw', - 11392, 12160, 171.25, 270, 1.09, 4)
	call CreateDestructableZ('NTtw', - 11520, 12224, 212.75, 270, 1.11, 1)
	call CreateDestructableZ('NTtw', - 11456, 12352, 232.62, 270, .83, 4)
	call CreateDestructableZ('NTtw', - 11456, 12544, 241.25, 270, .97, 1)
	call CreateDestructableZ('NTtw', - 11520, 12672, 241.25, 270, .96, 1)
	call CreateDestructableZ('NTtw', - 11392, 12928, 241.25, 270, 1.2, 1)
	call CreateDestructableZ('NTtw', - 11392, 13056, 241.25, 270, .99, 9)
	call CreateDestructableZ('NTtw', - 11520, 12800, 241.25, 270, .83, 6)
	call CreateDestructableZ('NTtw', - 11392, 12672, 241.25, 270, .96, 7)
	call CreateDestructableZ('NTtw', - 11328, 12544, 241.25, 270, .87, 8)
	call CreateDestructableZ('NTtw', - 11328, 12416, 241.25, 270, 1, 4)
	call CreateDestructableZ('NTtw', - 12032, 12288, 241.25, 270, .84, 9)
	call CreateDestructableZ('NTtw', - 12032, 12416, 241.25, 270, .83, 2)
	call CreateDestructableZ('NTtw', - 12096, 12544, 230.12, 270, 1.14, 8)
	call CreateDestructableZ('NTtw', - 12096, 12672, 236.12, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12096, 12800, 239.62, 270, .82, 3)
	call CreateDestructableZ('NTtw', - 11712, 13888, 241.25, 270, 1.06, 2)
	call CreateDestructableZ('NTtw', - 11840, 13760, 241.25, 270, .92, 5)
	call CreateDestructableZ('NTtw', - 11776, 15168, 0, 270, 1.12, 7)
	call CreateDestructableZ('NTtw', - 11904, 15168, 0, 270, 1.04, 9)
	call CreateDestructableZ('NTtw', - 11328, 14528, .06, 270, 1.09, 1)
	call CreateDestructableZ('NTtw', - 11328, 14400, 4.06, 270, .9, 1)
	call CreateDestructableZ('NTtw', - 11456, 14400, 9.44, 270, .89, 0)
	call CreateDestructableZ('NTtw', - 11584, 14464, - 10.38, 270, .82, 3)
	call CreateDestructableZ('NTtw', - 12224, 15104, 147.75, 270, 1.04, 2)
	call CreateDestructableZ('NTtw', - 12352, 15104, 147.75, 270, 1.12, 5)
	call CreateDestructableZ('NTtw', - 12416, 14976, 147.75, 270, .99, 8)
	call CreateDestructableZ('NTtw', - 12416, 14848, 147.75, 270, 1.13, 7)
	call CreateDestructableZ('NTtw', - 12416, 14720, 147.75, 270, .95, 7)
	call CreateDestructableZ('NTtw', - 12544, 14656, 147.75, 270, 1.08, 1)
	call CreateDestructableZ('NTtw', - 12608, 14528, 147.75, 270, 1.07, 4)
	call CreateDestructableZ('NTtw', - 12672, 14400, 147.75, 270, 1.19, 9)
	call CreateDestructableZ('NTtw', - 12800, 14208, 147.75, 270, .98, 2)
	call CreateDestructableZ('NTtw', - 12928, 14080, 147.75, 270, .88, 2)
	call CreateDestructableZ('NTtw', - 14080, 14528, 147.75, 270, 1.12, 0)
	call CreateDestructableZ('NTtw', - 14144, 14656, 147.75, 270, .81, 9)
	call CreateDestructableZ('NTtw', - 14208, 14784, 147.75, 270, .96, 7)
	call CreateDestructableZ('NTtw', - 14208, 14912, 147.75, 270, 1.15, 8)
	call CreateDestructableZ('NTtw', - 14208, 15040, 147.75, 270, 1.05, 5)
	call CreateDestructableZ('NTtw', - 14656, 15040, 0, 270, .87, 5)
	call CreateDestructableZ('NTtw', - 14528, 15040, 0, 270, .81, 6)
	call CreateDestructableZ('NTtw', - 14592, 14848, 0, 270, .93, 4)
	call CreateDestructableZ('NTtw', - 14464, 14848, 0, 270, 1.19, 1)
	call CreateDestructableZ('NTtw', - 14784, 15168, 0, 270, 1.14, 9)
	call CreateDestructableZ('NTtw', - 14464, 14720, 0, 270, 1.1, 7)
	call CreateDestructableZ('NTtw', - 15424, 13888, 61.25, 270, .82, 8)
	call CreateDestructableZ('NTtw', - 15680, 14016, 0, 270, 1.18, 2)
	call CreateDestructableZ('NTtw', - 15424, 13760, 19.62, 270, .99, 5)
	call CreateDestructableZ('NTtw', - 15424, 13632, 12.06, 270, .81, 2)
	call CreateDestructableZ('NTtw', - 14784, 13696, 108, 270, .94, 2)
	call CreateDestructableZ('NTtw', - 14848, 13568, 108, 270, 1.06, 9)
	call CreateDestructableZ('NTtw', - 14912, 13440, 108, 270, 1.17, 1)
	call CreateDestructableZ('NTtw', - 13184, 13440, 147.75, 270, 1.01, 2)
	call CreateDestructableZ('NTtw', - 13312, 13504, 147.75, 270, .81, 2)
	call CreateDestructableZ('NTtw', - 13440, 13504, 147.75, 270, .99, 6)
	call CreateDestructableZ('NTtw', - 13568, 13504, 147.75, 270, .92, 7)
	call CreateDestructableZ('NTtw', - 13696, 13504, 147.75, 270, 1.09, 9)
	call CreateDestructableZ('NTtw', - 13824, 13504, 147.75, 270, .82, 4)
	call CreateDestructableZ('NTtw', - 11456, 14144, 241.25, 270, 1.17, 4)
	call CreateDestructableZ('NTtw', - 11328, 14080, 241.25, 270, 1.05, 6)
	call CreateDestructableZ('NTtw', - 12096, 12096, 241.25, 270, 1.08, 2)
	call CreateDestructableZ('NTtw', - 12160, 11904, 241.25, 270, .81, 4)
	call CreateDestructableZ('NTtw', - 12480, 11328, 260.69, 270, .82, 1)
	call CreateDestructableZ('NTtw', - 12352, 11392, 254.87, 270, .87, 8)
	call CreateDestructableZ('NTtw', - 12352, 11520, 253.5, 270, 1.03, 1)
	call CreateDestructableZ('LTrc', - 13952, 12608, 162.25, 52, 1, 5)
	call CreateDestructableZ('LTrc', - 14080, 12480, 164.12, 46, 1, 4)
	call CreateDestructableZ('LTrc', - 13952, 12416, 148.5, 42, 1, 0)
	call CreateDestructableZ('LTrc', - 14976, 13312, 0, 296, 1, 0)
	call CreateDestructableZ('LTrc', - 14848, 13248, 0, 148, 1, 2)
	call CreateDestructableZ('LTrc', - 14912, 13120, 0, 72, 1, 4)
	call CreateDestructableZ('LTrc', - 15296, 14464, 0, 320, 1, 0)
	call CreateDestructableZ('LTrc', - 15168, 14400, 0, 224, 1, 2)
	call CreateDestructableZ('LTrc', - 14080, 15104, 147.75, 252, 1, 1)
	call CreateDestructableZ('LTrc', - 14016, 14976, 147.75, 42, 1, 2)
	call CreateDestructableZ('LTrc', - 12544, 15104, 147.75, 54, 1, 3)
	call CreateDestructableZ('LTrc', - 12544, 14848, 147.75, 105, 1, 0)
	call CreateDestructableZ('LTrc', - 12608, 14976, 147.75, 113, 1, 1)
	call CreateDestructableZ('LTrc', - 12224, 13440, 241.25, 347, 1, 5)
	call CreateDestructableZ('LTrc', - 12096, 13440, 241.25, 302, 1, 4)
	call CreateDestructableZ('LTrc', - 12096, 13568, 241.25, 157, 1, 2)
	call CreateDestructableZ('LTrc', - 14464, 11328, 36.38, 86, 1, 1)
	call CreateDestructableZ('LTrc', - 14336, 11264, 0, 228, 1, 0)
	call CreateDestructableZ('LTrc', - 14336, 11392, 122.25, 262, 1, 2)
	call CreateDestructableZ('LTrc', - 15040, 11648, .5, 347, 1, 4)
	call CreateDestructableZ('LTrc', - 15040, 11520, 1.5, 165, 1, 5)
	call CreateDestructableZ('LTrc', - 14912, 11520, 21.25, 64, 1, 4)
	call CreateDestructableZ('LTrc', - 15424, 11392, 0, 132, 1, 4)
	call CreateDestructableZ('LTrc', - 15424, 11264, - .13, 287, 1, 5)
	call CreateDestructableZ('LTrc', - 15488, 11520, 0, 2, 1, 1)
	call CreateDestructableZ('LTrc', - 15424, 12736, 0, 90, 1, 3)
	call CreateDestructableZ('LTrc', - 15488, 12544, 0, 171, 1, 3)
	call CreateDestructableZ('LTrc', - 15360, 12544, 0, 5, 1, 4)
	call CreateDestructableZ('LTrc', - 13568, 10752, 0, 116, 1, 0)
	call CreateDestructableZ('LTrc', - 13760, 10752, - .5, 217, 1, 1)
	call CreateDestructableZ('LTrc', - 13632, 10880, - 1.5, 107, 1, 3)
	call CreateDestructableZ('LTrc', - 13888, 10816, - 9.56, 252, 1, 4)
	call CreateDestructableZ('LTrc', - 14080, 12736, 166.75, 96, 1, 2)
	call CreateDestructableZ('LTbr', - 13280, 12512, 186.34, 175, 1.32, 0)
	call CreateDestructableZ('LTbr', - 12512, 10720, 250.73, 129, 1.42, 0)
	call CreateDestructableZ('LTbr', - 12576, 10784, 250.12, 60, 1.36, 0)
	call CreateDestructableZ('LTbr', - 12576, 10720, 253.03, 280, 1.46, 0)
	call CreateDestructableZ('LTbr', - 11168, 11552, 58.06, 201, 1.47, 0)
	call CreateDestructableZ('LTbr', - 11104, 11488, 64.98, 175, 1.14, 0)
	call CreateDestructableZ('LTbr', - 11168, 11488, 6.64, 90, 1.48, 0)
	call CreateDestructableZ('LTbr', - 11104, 11424, 64.33, 301, 1.2, 0)
	call CreateDestructableZ('LTbr', - 11168, 11424, 4.3, 193, 1.14, 0)
	call CreateDestructableZ('YTfc', - 14208, 11392, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 11392, 146.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, 11392, 146.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 11392, 146.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 11392, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 11456, 78.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, 11520, 146.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 11584, 147.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 11648, 152.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 11712, 83.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, 11840, 128.31, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 11968, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 12096, 124.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 12224, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 12352, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 12480, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 12608, 96.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 12672, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 12736, 91.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 12800, 150.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 12864, 97.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, 12864, 106, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 12864, 81.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 12864, 90, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 12864, 86.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, 12864, 91.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 12480, 140.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 12480, 150.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 12480, 145.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, 12480, 159.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 12864, 69.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, 12864, 87.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 12864, 83.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14464, 12800, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14528, 12672, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, 12608, 125.19, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 12480, 93.31, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, 12480, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 12352, 97.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, 12352, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 12224, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 12096, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 11968, 166.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 11840, 144.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, 11712, 93.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, 11648, 95.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13120, 10752, 248.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13120, 10880, 146.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 11008, 243.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, 11136, 188.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 11200, 226.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 11328, 170.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, 11456, 153.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12544, 11584, 111, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 11648, 227.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 11776, 137.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12288, 11904, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 12032, 128.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 12160, 120.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, 12288, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, 12416, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 12544, 130.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 12672, 207.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 12800, 221.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 12864, 188.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 12992, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 13120, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, 13248, 155.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 13376, 235, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 13504, 193.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 13568, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, 13696, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12032, 13760, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11968, 13888, 189.31, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11904, 14016, 139.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 14080, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, 14208, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 14272, 131.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 14272, 128.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11712, 13760, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11584, 13696, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, 13632, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11328, 13568, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11840, 11072, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 10944, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 10816, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11968, 11008, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12032, 10880, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, 10816, 273.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12288, 10816, 247.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 10688, 252.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 11200, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 11392, 241.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 11520, 217, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, 11648, 224.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11712, 11776, 197.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12096, 14976, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, 14848, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12224, 14720, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12288, 14592, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12352, 14464, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, 14336, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, 14208, 80.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, 14080, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, 13952, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, 13824, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 13696, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 13568, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, 13440, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 13312, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, 13184, 132.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, 13184, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, 13184, 132.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, 13184, 139.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, 13248, 127.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, 13248, 75.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, 13248, 68.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, 13312, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, 13312, 16, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 13376, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 13504, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 13632, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 13760, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 13888, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 14016, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, 14144, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14144, 14272, 110.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 14336, 86, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 14464, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, 14592, 73.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 14720, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 14848, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 14976, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 15104, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, 15232, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, 13376, 54, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, 13504, 108, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, 13632, 52.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, 13760, 53.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, 13888, 59.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, 14080, 93.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, 14144, 108, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, 14144, 107.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 14144, 107.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 14208, 108, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 13952, 85.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 13952, 86.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14976, 13952, 108, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, 13824, 108, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, 14912, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, 14912, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15104, 15040, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15104, 15168, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13504, 15168, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13504, 15040, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, 15040, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13248, 15040, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13120, 15040, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, 15040, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, 15168, 147.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, 15040, - .38, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, 14976, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11392, 14912, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11264, 14976, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11200, 10752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11328, 10752, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, 10752, 0, 270, 1, 0)
	call CreateDestructableZ('NTtw', - 12224, 12928, 241.25, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12032, 11968, 241.25, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12928, 13952, 147.75, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12992, 13824, 147.75, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12992, 13696, 147.75, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12288, 13056, 241.25, 270, .88, 6)
	call CreateDestructableZ('NTtw', - 12096, 12928, 241.25, 270, .88, 6)
	call CreateDestructableZ('YTfc', 4416, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5312, - 4096, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, - 4096, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 1664, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 1536, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2176, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 2048, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 1920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 6976, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6944, - 2912, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 2112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, - 1984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15424, - 6528, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15424, - 6400, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15424, - 6272, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15360, - 6144, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 6080, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15104, - 6016, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14976, - 6016, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, - 5952, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, - 5952, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14592, - 5888, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14464, - 5888, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, - 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, - 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, - 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, - 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, - 5760, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, - 5824, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, - 5760, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 5760, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, - 5696, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, - 5632, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12992, - 5504, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, - 5440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, - 5312, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, - 5184, 53.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, - 5248, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, - 5312, 68, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, - 5376, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 5376, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, - 5376, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, - 5376, 31.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, - 5312, 57.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 5248, 11.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 5120, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 4992, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 4864, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 4736, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 4608, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 4480, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 4352, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, - 4352, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, - 4224, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13504, - 4224, 135.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, - 4096, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 4032, 131.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, - 4032, 127.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, - 4096, 129, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, - 4160, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12864, - 4288, 102, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, - 4352, 68, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, - 4480, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, - 4608, 81.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, - 4672, 36.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, - 4544, 13.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, - 4352, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, - 4224, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, - 4032, 68, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, - 3904, 61.13, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 3840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, - 3776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, - 3776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, - 3840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 3904, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14080, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, - 4096, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, - 4224, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, - 4352, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, - 4480, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, - 4608, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, - 4736, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, - 4864, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, - 4992, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14272, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, - 5248, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14464, - 5184, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14528, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14656, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14784, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, - 5184, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, - 5312, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, - 5440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, - 5440, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 5312, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 5184, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 5056, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 4928, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 4800, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 4672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, - 4544, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15296, - 4416, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15232, - 4288, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15168, - 4160, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, - 4160, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14912, - 4032, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14848, - 3904, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, - 3840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14720, - 3712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14592, - 3648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14464, - 3584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14336, - 3520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14208, - 3456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14144, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14016, - 3328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13952, - 3200, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13824, - 3200, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, - 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, - 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13248, - 3072, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, - 3200, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13120, - 3328, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, - 3456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, - 3520, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, - 3648, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, - 3712, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12544, - 3776, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, - 3776, 102.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 2880, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, - 2688, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, - 2560, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, - 2432, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13376, - 2304, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 2176, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13312, - 2048, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13248, - 1920, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13184, - 1792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13056, - 1792, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12928, - 1728, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, - 1664, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, - 1600, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12544, - 1536, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, - 1536, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12288, - 1536, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, - 1536, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12032, - 1536, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11904, - 1536, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, - 1600, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, - 1664, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11584, - 1792, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, - 1920, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, - 2048, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, - 2176, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, - 2304, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, - 2432, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, - 2560, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11456, - 2688, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, - 2816, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, - 2944, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11584, - 3072, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, - 3200, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11712, - 3328, 109.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11840, - 3456, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11776, - 3584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11648, - 3584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11520, - 3520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, - 6272, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12736, - 6144, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, - 6144, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, - 6080, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12608, - 6272, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12480, - 6208, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 11904, - 5376, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12800, - 1856, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12672, - 1920, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12544, - 1920, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12416, - 1920, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12288, - 1920, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, - 1856, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12160, - 1728, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 12032, - 1664, 218.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15104, - 4736, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14976, - 4864, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 14976, - 4992, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 15040, - 5120, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13696, - 4928, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, - 4928, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13568, - 4800, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13504, - 4672, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13440, - 4544, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13504, - 4416, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 13632, - 4480, 136, 270, 1, 0)
	call CreateDestructableZ('ZTtw', - 13312, - 7552, 128, 270, 1.02, 1)
	call CreateDestructableZ('ZTtc', - 13408, - 7648, 128, 270, 1.05, 2)
	call CreateDestructableZ('ZTtc', - 13344, - 7648, 128, 270, .91, 0)
	call CreateDestructableZ('ZTtc', - 13280, - 7648, 128, 270, 1.02, 0)
	call CreateDestructableZ('ZTtc', - 13088, - 7520, 128, 270, 1.18, 2)
	call CreateDestructableZ('ZTtc', - 13024, - 7520, 128, 270, .89, 1)
	call CreateDestructableZ('ZTtc', - 12960, - 7520, 128, 270, 1.08, 0)
	call CreateDestructableZ('ZTtc', - 12896, - 7584, 128, 270, .89, 1)
	call CreateDestructableZ('ZTtc', - 12896, - 7648, 128, 270, .92, 0)
	call CreateDestructableZ('ZTtc', - 12896, - 7712, 128, 270, .99, 2)
	call CreateDestructableZ('ZTtc', - 12832, - 7776, 128, 270, 1.03, 2)
	call CreateDestructableZ('ZTtc', - 13152, - 7648, 128, 270, .92, 1)
	call CreateDestructableZ('ZTtc', - 12960, - 7840, 128, 270, .87, 1)
	call CreateDestructableZ('ZTtc', - 12768, - 8032, 128, 270, .81, 1)
	call CreateDestructableZ('ZTtc', - 12704, - 8160, 128, 270, .89, 0)
	call CreateDestructableZ('ZTtc', - 13216, - 7840, 128, 270, .97, 1)
	call CreateDestructableZ('ZTtc', - 13024, - 8096, 128, 270, 1.06, 1)
	call CreateDestructableZ('ZTtc', - 12896, - 8288, 128, 270, .98, 1)
	call CreateDestructableZ('ZTtc', - 12896, - 8352, 128, 270, 1.12, 2)
	call CreateDestructableZ('ZTtc', - 12960, - 8416, 128, 270, .87, 0)
	call CreateDestructableZ('ZTtc', - 12960, - 8480, 128, 270, .9, 2)
	call CreateDestructableZ('ZTtc', - 12960, - 8544, 128, 270, 1.18, 0)
	call CreateDestructableZ('ZTtc', - 14624, - 7648, 256, 270, .94, 0)
	call CreateDestructableZ('ZTtc', - 14880, - 7648, 256, 270, .84, 0)
	call CreateDestructableZ('ZTtc', - 15136, - 7712, 256, 270, .96, 2)
	call CreateDestructableZ('ZTtc', - 15200, - 7712, 256, 270, .9, 2)
	call CreateDestructableZ('ZTtc', - 15328, - 7904, 256, 270, .89, 1)
	call CreateDestructableZ('ZTtc', - 15328, - 7968, 256, 270, .86, 1)
	call CreateDestructableZ('ZTtc', - 15456, - 7776, 256, 270, .83, 1)
	call CreateDestructableZ('ZTtc', - 15520, - 7968, 256, 270, .99, 1)
	call CreateDestructableZ('ZTtc', - 15520, - 8160, 256, 270, 1.15, 2)
	call CreateDestructableZ('ZTtc', - 15520, - 8224, 256, 270, .9, 1)
	call CreateDestructableZ('ZTtc', - 15520, - 8352, 256, 270, .97, 1)
	call CreateDestructableZ('ZTtc', - 15520, - 8416, 256, 270, 1.19, 0)
	call CreateDestructableZ('ZTtc', - 15392, - 8352, 256, 270, 1.17, 2)
	call CreateDestructableZ('ZTtc', - 15392, - 8224, 256, 270, .96, 2)
	call CreateDestructableZ('ZTtc', - 15328, - 8160, 256, 270, 1.07, 1)
	call CreateDestructableZ('ZTtc', - 14816, - 7776, 256, 270, .83, 1)
	call CreateDestructableZ('ZTtc', - 14624, - 7712, 256, 270, 1.03, 2)
	call CreateDestructableZ('ZTtc', - 14560, - 7648, 256, 270, 1.17, 2)
	call CreateDestructableZ('ZTtc', - 15456, - 7584, 256, 270, .81, 0)
	call CreateDestructableZ('ZTtc', - 15456, - 7648, 256, 270, 1.08, 0)
	call CreateDestructableZ('ZTtc', - 15456, - 7712, 256, 270, .96, 0)
	call CreateDestructableZ('ZTtc', - 15008, - 7648, 256, 270, .94, 1)
	call CreateDestructableZ('ZTtc', - 15264, - 9312, 256, 270, .99, 0)
	call CreateDestructableZ('ZTtc', - 15136, - 9312, 256, 270, .97, 2)
	call CreateDestructableZ('ZTtc', - 15072, - 9376, 256, 270, 1.17, 2)
	call CreateDestructableZ('ZTtc', - 15008, - 9376, 256, 270, .97, 1)
	call CreateDestructableZ('ZTtc', - 14944, - 9376, 256, 270, 1.14, 2)
	call CreateDestructableZ('ZTtc', - 14880, - 9376, 256, 270, 1.04, 1)
	call CreateDestructableZ('ZTtc', - 14880, - 9440, 256, 270, .99, 1)
	call CreateDestructableZ('ZTtc', - 15456, - 9440, 256, 270, .99, 2)
	call CreateDestructableZ('ZTtc', - 12832, - 9824, 256, 270, 1.14, 0)
	call CreateDestructableZ('ZTtc', - 12896, - 10016, 256, 270, .95, 2)
	call CreateDestructableZ('ZTtc', - 12960, - 10144, 256, 270, 1.14, 0)
	call CreateDestructableZ('ZTtc', - 13024, - 10272, 256, 270, .97, 2)
	call CreateDestructableZ('ZTtc', - 13088, - 10336, 256, 270, 1.18, 0)
	call CreateDestructableZ('ZTtc', - 13216, - 10400, 256, 270, .99, 1)
	call CreateDestructableZ('ZTtc', - 13280, - 10400, 256, 270, 1.1, 2)
	call CreateDestructableZ('ZTtc', - 13088, - 10464, 256, 270, 1.13, 2)
	call CreateDestructableZ('ZTtc', - 12960, - 10464, 256, 270, 1, 0)
	call CreateDestructableZ('ZTtc', - 12896, - 10400, 256, 270, 1.03, 0)
	call CreateDestructableZ('ZTtc', - 12896, - 10336, 256, 270, 1.13, 2)
	call CreateDestructableZ('ZTtc', - 12832, - 10208, 256, 270, .89, 1)
	call CreateDestructableZ('ZTtc', - 12704, - 10080, 256, 270, .99, 1)
	call CreateDestructableZ('ZTtc', - 12704, - 10016, 256, 270, 1.19, 0)
	call CreateDestructableZ('ZTtc', - 12704, - 9952, 256, 270, 1.01, 2)
	call CreateDestructableZ('ZTtc', - 12640, - 9888, 256, 270, 1.01, 2)
	call CreateDestructableZ('ZTtc', - 13216, - 10464, 256, 270, 1.09, 1)
	call CreateDestructableZ('ZTtc', - 13344, - 10336, 256, 270, 1.06, 0)
	call CreateDestructableZ('ZTtc', - 13152, - 8032, 128, 270, 1.15, 0)
	call CreateDestructableZ('ZTtc', - 12640, - 7712, 128, 270, 1.03, 2)
	call CreateDestructableZ('ZTtc', - 15072, - 7712, 256, 270, .86, 0)
	call CreateDestructableZ('ZTtc', - 15264, - 7712, 256, 270, .83, 2)
	call CreateDestructableZ('ZTtc', - 15328, - 7648, 256, 270, 1.08, 2)
	call CreateDestructableZ('ZTtc', - 13280, - 7840, 128, 270, .96, 0)
	call CreateDestructableZ('ATg1', - 1152, 11584, 512, 270, .1, 0)
	call CreateDestructableZ('YTfc', 2112, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, 11584, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 11648, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 11776, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 11904, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 12032, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 12160, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 12288, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 12416, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4736, 12544, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4864, 12544, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 12672, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 12800, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 13056, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 13184, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 13184, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, 13184, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, 13184, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 13184, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 13376, 294.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 13504, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 13632, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 13760, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, 13824, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, 13824, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, 13824, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, 13952, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3328, 13952, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3456, 13952, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3712, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3840, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4480, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4608, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4736, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4864, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4992, 13888, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14016, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14144, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14272, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14400, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14528, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14656, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14784, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 15040, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 15040, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 15040, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3840, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3712, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 15168, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 15040, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 14912, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 14784, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 14656, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, 14528, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, 14400, 294.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, 14336, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 14336, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, 14336, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 14464, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 14336, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 14208, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 14080, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 13952, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 13824, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 13696, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 13568, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 13440, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 13312, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 13184, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 13056, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2432, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3328, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3456, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3712, 12928, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 12800, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3840, 12672, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 12672, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 12672, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 12672, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 12544, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 12416, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4288, 12288, 196.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3840, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3712, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3456, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3328, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2432, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, 12160, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, 12032, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, 11904, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, 11776, 392.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, 11648, 196.25, 270, 1, 0)
	call CreateDestructableZ('VTlt', 2624, 896, 85.25, 270, 1.01, 8)
	call CreateDestructableZ('VTlt', 3200, 960, 81.37, 270, 1.09, 5)
	call CreateDestructableZ('VTlt', 3584, 192, 299, 270, 1.1, 5)
	call CreateDestructableZ('VTlt', 3456, 192, 291.5, 270, 1.17, 6)
	call CreateDestructableZ('VTlt', 3328, 192, 250.87, 270, 1.14, 8)
	call CreateDestructableZ('VTlt', 2048, 64, 24.62, 270, 1.13, 0)
	call CreateDestructableZ('VTlt', 3008, 192, 235, 270, .91, 9)
	call CreateDestructableZ('VTlt', 3712, 192, 395.37, 270, 1.06, 2)
	call CreateDestructableZ('VTlt', 4096, 704, 470.62, 270, 1.16, 6)
	call CreateDestructableZ('VTlt', 4288, 704, 482.69, 270, .81, 5)
	call CreateDestructableZ('VTlt', 4416, 704, 473.94, 270, 1.14, 6)
	call CreateDestructableZ('VTlt', 4800, 768, 485.75, 270, .94, 1)
	call CreateDestructableZ('VTlt', 4928, 768, 485.75, 270, .91, 1)
	call CreateDestructableZ('VTlt', 5056, 192, 485.75, 270, .8, 0)
	call CreateDestructableZ('VTlt', 5056, 64, 485.75, 270, 1.09, 6)
	call CreateDestructableZ('VTlt', 5056, - 256, 485.75, 270, 1.17, 9)
	call CreateDestructableZ('VTlt', 5120, - 512, 485.75, 270, 1.05, 0)
	call CreateDestructableZ('VTlt', 5120, - 1152, 485.75, 270, .91, 7)
	call CreateDestructableZ('VTlt', 4992, - 1152, 485.75, 270, 1.09, 3)
	call CreateDestructableZ('VTlt', 4736, - 1152, 485.75, 270, .93, 3)
	call CreateDestructableZ('VTlt', 4544, - 1152, 485.75, 270, .89, 8)
	call CreateDestructableZ('VTlt', 4416, - 1152, 485.75, 270, .95, 7)
	call CreateDestructableZ('VTlt', 4288, - 1216, 485.75, 270, 1.06, 6)
	call CreateDestructableZ('VTlt', 4288, - 960, 485.75, 270, 1.08, 6)
	call CreateDestructableZ('VTlt', 4288, - 832, 485.75, 270, 1.06, 8)
	call CreateDestructableZ('VTlt', 4288, - 704, 485.75, 270, .91, 9)
	call CreateDestructableZ('VTlt', 4288, - 576, 485.75, 270, .82, 2)
	call CreateDestructableZ('VTlt', 4288, - 192, 485.75, 270, 1.15, 3)
	call CreateDestructableZ('VTlt', 4288, - 384, 485.75, 270, .93, 8)
	call CreateDestructableZ('VTlt', 3776, 704, 418.94, 270, .91, 9)
	call CreateDestructableZ('VTlt', 3648, 704, 370.94, 270, .83, 9)
	call CreateDestructableZ('VTlt', 3328, 960, 172, 270, .99, 2)
	call CreateDestructableZ('VTlt', 3392, 1088, 38.56, 270, .88, 7)
	call CreateDestructableZ('VTlt', 3456, 704, 309.37, 270, 1.11, 2)
	call CreateDestructableZ('VTlt', 3072, 640, 254.5, 270, .83, 9)
	call CreateDestructableZ('VTlt', 6016, - 1088, 485.75, 270, 1.15, 6)
	call CreateDestructableZ('VTlt', 5888, - 1088, 485.75, 270, .91, 3)
	call CreateDestructableZ('VTlt', 5760, - 1152, 485.75, 270, 1.14, 3)
	call CreateDestructableZ('YTfc', 6080, - 704, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5952, - 576, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5888, - 448, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6048, - 608, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5984, - 480, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6112, - 608, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6048, - 544, 485.75, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 10656, - 9184, 256, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 10592, - 9184, 256, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 10528, - 9184, 256, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 10464, - 9184, 256, 270, 1, 0)
	call CreateDestructableZ('YTfb', - 10400, - 9184, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10816, - 8256, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10688, - 8256, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10560, - 8256, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10432, - 8256, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10304, - 8256, 256, 270, 1, 0)
	call CreateDestructableZ('OTds', - 14784, - 15232, 0, 291, 1, 0)
	call CreateDestructableZ('YTfb', 5280, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5408, - 5152, - 16, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5472, - 5152, - 48, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5536, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5600, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5664, - 5152, - 56, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5728, - 5152, - 40, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5792, - 5152, - 40, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5856, - 5152, - 56, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5920, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5984, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6048, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6112, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6176, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6240, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6304, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6368, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6432, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6496, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6560, - 5152, - 112, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3232, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3296, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3360, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3488, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3552, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3616, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3680, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3744, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3808, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3872, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 3936, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4000, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4064, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4128, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4192, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4256, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4320, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 4384, - 5152, - 64, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5536, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5600, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5664, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5728, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5792, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5856, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5920, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 5984, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6048, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6112, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6176, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfb', 6240, - 5088, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1920, 8512, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, 8704, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, 8896, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, 9024, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, 9280, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, 9408, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1856, 9536, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, 9664, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, 9664, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2432, 9664, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, 9600, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, 8384, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2112, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3200, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1984, 9536, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, 9536, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, 9536, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2112, 9536, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, 9472, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2624, 9344, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 9216, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 9088, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 8960, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, 8832, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3072, 8832, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 8832, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, 8832, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 8960, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3328, 8256, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, 10368, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 10432, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 10432, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 10496, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 10496, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, 10496, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4480, 10496, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4608, 10432, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 10304, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 10176, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 10048, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 9920, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4736, 9792, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, 9728, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4416, 9728, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 9728, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 9728, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 9600, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 9472, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 9344, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 9216, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 9088, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 8960, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 8832, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4096, 8832, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, 8768, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4224, 8768, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4544, 8768, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4672, 8768, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4800, 8768, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 8768, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 8704, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5184, 8704, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, 8704, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5504, 8704, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5696, 8704, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 8576, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 8448, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 8192, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 8064, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 7936, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5760, 7808, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5632, 7808, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5504, 7744, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5376, 7744, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5248, 7680, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 5056, 7680, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 7680, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 7808, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 7936, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 8064, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 8192, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4928, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4736, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4608, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4480, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4352, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4160, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 4032, 8320, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 8192, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 8064, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 7872, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 7744, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3968, 7616, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 7488, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 7360, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 7232, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 7104, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 6976, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 6848, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3904, 6720, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3648, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3520, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 6592, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, 6720, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 6848, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 6976, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 7104, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 7232, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2752, 7360, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2880, 7360, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, 7424, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3136, 7424, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3264, 7424, 512, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3392, 7424, 512, 270, 1, 0)
	call CreateDestructableZ('JTtw', - 5696, 1472, 346, 270, 1.02, 8)
	call CreateDestructableZ('JTtw', - 5760, 1792, 343.25, 270, 1.12, 1)
	call CreateDestructableZ('JTtw', - 5696, 1984, 337.25, 270, 1.18, 3)
	call CreateDestructableZ('JTtw', - 5632, 2176, 346, 270, .9, 0)
	call CreateDestructableZ('JTtw', - 5696, 2368, 343.69, 270, 1.16, 1)
	call CreateDestructableZ('JTtw', - 5632, 2496, 346, 270, 1.17, 6)
	call CreateDestructableZ('JTtw', - 5632, 2624, 345.87, 270, 1.11, 2)
	call CreateDestructableZ('JTtw', - 5632, 2752, 345.87, 270, .87, 2)
	call CreateDestructableZ('JTtw', - 5696, 3200, 345.75, 270, 1.17, 7)
	call CreateDestructableZ('JTtw', - 5760, 3072, 346.25, 270, 1.02, 9)
	call CreateDestructableZ('JTtw', - 5952, 2816, 347.25, 270, 1.15, 8)
	call CreateDestructableZ('JTtw', - 6272, 2560, 341.75, 270, .93, 5)
	call CreateDestructableZ('JTtw', - 6400, 2496, 346, 270, .96, 4)
	call CreateDestructableZ('JTtw', - 6656, 2048, 346.75, 270, 1.15, 5)
	call CreateDestructableZ('JTtw', - 6400, - 128, 270.5, 270, .87, 0)
	call CreateDestructableZ('JTtw', - 6592, - 320, 270.62, 270, .99, 5)
	call CreateDestructableZ('JTtw', - 6720, - 384, 271.37, 270, 1.16, 5)
	call CreateDestructableZ('JTtw', - 7040, - 640, 270.5, 270, 1.01, 4)
	call CreateDestructableZ('JTtw', - 7168, - 768, 270.5, 270, 1.04, 9)
	call CreateDestructableZ('JTtw', - 7296, - 832, 270.5, 270, 1.03, 6)
	call CreateDestructableZ('JTtw', - 7360, - 1024, 270.5, 270, .93, 9)
	call CreateDestructableZ('JTtw', - 7424, - 896, 270.5, 270, .81, 5)
	call CreateDestructableZ('JTtw', - 7552, - 896, 270.5, 270, 1.1, 9)
	call CreateDestructableZ('JTtw', - 7680, - 896, 270.5, 270, .98, 0)
	call CreateDestructableZ('JTtw', - 7808, - 896, 270.5, 270, 1.17, 8)
	call CreateDestructableZ('JTtw', - 8000, - 832, 270.69, 270, .85, 5)
	call CreateDestructableZ('JTtw', - 8192, - 704, 268.87, 270, 1.09, 6)
	call CreateDestructableZ('JTtw', - 8320, - 640, 269.75, 270, 1.06, 1)
	call CreateDestructableZ('JTtw', - 8064, 192, 270.25, 270, 1.08, 6)
	call CreateDestructableZ('JTtw', - 7936, 256, 270.25, 270, .92, 1)
	call CreateDestructableZ('JTtw', - 7808, 320, 269.5, 270, 1.03, 1)
	call CreateDestructableZ('JTtw', - 7680, 320, 268.12, 270, 1.11, 1)
	call CreateDestructableZ('JTtw', - 7552, 320, 263.5, 270, .96, 7)
	call CreateDestructableZ('JTtw', - 7360, 256, 268.87, 270, 1.18, 1)
	call CreateDestructableZ('JTtw', - 7168, 256, 265.25, 270, 1.02, 0)
	call CreateDestructableZ('JTtw', - 6784, 64, 267.75, 270, .88, 6)
	call CreateDestructableZ('JTtw', - 8512, 1344, 0, 270, 1, 0)
	call CreateDestructableZ('JTtw', - 8576, 1536, 0, 270, .88, 0)
	call CreateDestructableZ('JTtw', - 8640, 1728, 0, 270, 1.19, 1)
	call CreateDestructableZ('JTtw', - 8704, 1856, 0, 270, .8, 0)
	call CreateDestructableZ('JTtw', - 8832, 1920, 0, 270, 1.18, 4)
	call CreateDestructableZ('JTtw', - 8960, 1984, 0, 270, .94, 5)
	call CreateDestructableZ('JTtw', - 9024, 2112, 0, 270, .96, 7)
	call CreateDestructableZ('JTtw', - 8960, 1728, 0, 270, 1.11, 9)
	call CreateDestructableZ('JTtw', - 8896, 1536, - .25, 270, .88, 4)
	call CreateDestructableZ('JTtw', - 8768, 1408, 0, 270, .87, 0)
	call CreateDestructableZ('JTtw', - 9344, 2240, .75, 270, 1.15, 7)
	call CreateDestructableZ('JTtw', - 9472, 2432, 0, 270, .93, 3)
	call CreateDestructableZ('JTtw', - 9536, 2816, - .13, 270, 1.13, 2)
	call CreateDestructableZ('JTtw', - 9664, 3008, .06, 270, 1.07, 8)
	call CreateDestructableZ('JTtw', - 9728, 3136, .13, 270, 1.01, 6)
	call CreateDestructableZ('JTtw', - 9280, 4928, 346.25, 270, 1.19, 4)
	call CreateDestructableZ('JTtw', - 9216, 4800, 346.25, 270, .99, 0)
	call CreateDestructableZ('JTtw', - 9088, 4672, 346.25, 270, .99, 1)
	call CreateDestructableZ('JTtw', - 8768, 4288, 346.37, 270, .97, 6)
	call CreateDestructableZ('JTtw', - 8704, 4160, 346.25, 270, .81, 2)
	call CreateDestructableZ('JTtw', - 8704, 4032, 346.25, 270, 1.1, 5)
	call CreateDestructableZ('JTtw', - 8576, 3712, 346.75, 270, 1.13, 8)
	call CreateDestructableZ('JTtw', - 8576, 3584, 346.25, 270, .98, 2)
	call CreateDestructableZ('JTtw', - 8128, 3200, 346.25, 270, .95, 7)
	call CreateDestructableZ('JTtw', - 8064, 3072, 346.25, 270, 1.01, 4)
	call CreateDestructableZ('JTtw', - 7936, 3008, 346.25, 270, .82, 8)
	call CreateDestructableZ('JTtw', - 7552, 2688, 346.25, 270, .99, 8)
	call CreateDestructableZ('JTtw', - 7424, 2816, 346.25, 270, 1.11, 9)
	call CreateDestructableZ('JTtw', - 7680, 3520, 345.37, 270, .92, 7)
	call CreateDestructableZ('JTtw', - 7680, 3712, 346, 270, 1.05, 8)
	call CreateDestructableZ('JTtw', - 7744, 3904, 346.19, 270, 1.01, 3)
	call CreateDestructableZ('JTtw', - 7744, 4096, 346.25, 270, .99, 6)
	call CreateDestructableZ('JTtw', - 7680, 4224, 346.25, 270, 1.03, 7)
	call CreateDestructableZ('JTtw', - 7552, 4608, 345.5, 270, 1.15, 4)
	call CreateDestructableZ('JTtw', - 7360, 4800, 341.87, 270, 1.05, 7)
	call CreateDestructableZ('JTtw', - 7296, 4928, 346.25, 270, 1.04, 5)
	call CreateDestructableZ('JTtw', - 6848, 5120, 346.25, 270, 1.11, 7)
	call CreateDestructableZ('JTtw', - 6656, 5184, 339, 270, 1.02, 0)
	call CreateDestructableZ('JTtw', - 5888, 5056, 346.25, 270, 1.18, 6)
	call CreateDestructableZ('JTtw', - 5760, 4928, 346.25, 270, .94, 0)
	call CreateDestructableZ('JTtw', - 5632, 4736, 346.25, 270, 1.12, 6)
	call CreateDestructableZ('JTtw', - 5632, 4480, 346.25, 270, .95, 1)
	call CreateDestructableZ('JTtw', - 9856, 3648, - .25, 270, 1.02, 5)
	call CreateDestructableZ('JTtw', - 9920, 3776, - 1.56, 270, 1.09, 3)
	call CreateDestructableZ('JTtw', - 9984, 4032, - .38, 270, 1.15, 8)
	call CreateDestructableZ('JTtw', - 10176, 4352, - .88, 270, 1.02, 9)
	call CreateDestructableZ('JTtw', - 10304, 4608, - 5.62, 270, 1.01, 3)
	call CreateDestructableZ('JTtw', - 10432, 4864, .25, 270, .96, 2)
	call CreateDestructableZ('JTtw', - 10496, 4992, 3.5, 270, .96, 3)
	call CreateDestructableZ('JTtw', - 10688, 4992, - .25, 270, .88, 8)
	call CreateDestructableZ('JTtw', - 10816, 4800, .13, 270, 1.2, 0)
	call CreateDestructableZ('JTtw', - 10048, 1472, 0, 270, .96, 2)
	call CreateDestructableZ('JTtw', - 10112, 1152, 0, 270, 1.04, 9)
	call CreateDestructableZ('JTtw', - 10240, - 128, 0, 270, .88, 4)
	call CreateDestructableZ('JTtw', - 9792, 1344, - .06, 270, 1.11, 8)
	call CreateDestructableZ('JTtw', - 9600, 1344, - 1, 270, .81, 6)
	call CreateDestructableZ('JTtw', - 9472, 1280, - 40.5, 270, 1.07, 0)
	call CreateDestructableZ('JTtw', - 8896, 1088, - .13, 270, 1.07, 3)
	call CreateDestructableZ('JTtw', - 9152, 1792, .38, 270, .8, 3)
	call CreateDestructableZ('JTtw', - 9216, 1920, 2.5, 270, .9, 3)
	call CreateDestructableZ('JTtw', - 9856, 2240, - .25, 270, 1, 4)
	call CreateDestructableZ('JTtw', - 9920, 2112, - .13, 270, 1.17, 0)
	call CreateDestructableZ('JTtw', - 9792, 1728, - .13, 270, 1.02, 9)
	call CreateDestructableZ('JTtw', - 10176, 64, 0, 270, 1.04, 8)
	call CreateDestructableZ('JTtw', - 10240, - 320, 0, 270, .84, 9)
	call CreateDestructableZ('JTtw', - 10048, - 704, 0, 270, .96, 5)
	call CreateDestructableZ('JTtw', - 9664, - 896, 0, 270, 1.17, 3)
	call CreateDestructableZ('JTtw', - 9536, - 896, 0, 270, .94, 2)
	call CreateDestructableZ('JTtw', - 8896, - 768, 0, 270, .92, 7)
	call CreateDestructableZ('JTtw', - 9984, - 128, 0, 270, .97, 5)
	call CreateDestructableZ('JTtw', - 9856, 0, 7, 270, 1.1, 1)
	call CreateDestructableZ('JTtw', - 9216, - 768, .25, 270, .94, 9)
	call CreateDestructableZ('JTtw', - 8896, - 448, - .06, 270, .8, 0)
	call CreateDestructableZ('JTtw', - 9856, 448, .38, 270, .92, 0)
	call CreateDestructableZ('JTtw', - 8192, - 192, 265.87, 270, .82, 3)
	call CreateDestructableZ('JTtw', - 6784, 1600, 346.25, 270, .96, 8)
	call CreateDestructableZ('JTtw', - 6592, 1472, 346.25, 270, .84, 1)
	call CreateDestructableZ('JTtw', - 6464, 1472, 346.25, 270, 1.12, 9)
	call CreateDestructableZ('JTtw', - 6336, 1472, 346.69, 270, 1.19, 0)
	call CreateDestructableZ('JTtw', - 7744, 2944, 346.25, 270, 1.15, 5)
	call CreateDestructableZ('JTtw', - 8384, 3392, 347.06, 270, 1.04, 8)
	call CreateDestructableZ('JTtw', - 8448, 3584, 346.75, 270, .88, 6)
	call CreateDestructableZ('JTtw', - 8448, 4288, 337.5, 270, .97, 2)
	call CreateDestructableZ('JTtw', - 8128, 4032, 360.19, 270, 1.17, 8)
	call CreateDestructableZ('JTtw', - 8064, 3776, 360.25, 270, .92, 0)
	call CreateDestructableZ('JTtw', - 8000, 3456, 306, 270, 1.11, 6)
	call CreateDestructableZ('JTtw', - 8000, 4800, 337.25, 270, 1.11, 1)
	call CreateDestructableZ('JTtw', - 7872, 4928, 324, 270, 1.02, 5)
	call CreateDestructableZ('JTtw', - 8704, 4736, 324.5, 270, .94, 8)
	call CreateDestructableZ('JTtw', - 9024, - 640, - .38, 270, 1.01, 6)
	call CreateDestructableZ('JTtw', - 9088, - 768, 0, 270, 1.16, 6)
	call CreateDestructableZ('JTtw', - 9088, - 960, 0, 270, 1.06, 8)
	call CreateDestructableZ('JTtw', - 9216, - 1024, 0, 270, .84, 0)
	call CreateDestructableZ('JTtw', - 9344, - 1024, 0, 270, 1.05, 5)
	call CreateDestructableZ('JTtw', - 9472, - 1024, 0, 270, 1.06, 0)
	call CreateDestructableZ('LT07', 3904, - 11584, - 88.78, 90, .1, 0)
	call CreateDestructableZ('YTfc', - 9728, - 768, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10112, - 256, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9856, - 512, 1, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9856, - 896, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, - 640, - .5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9920, - 384, 4, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10240, 5056, 127.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10368, 5120, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10176, 4928, 98.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10112, 4800, 59, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10048, 4672, 59.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9984, 4544, 57.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9920, 4416, 54.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9856, 4288, 56.88, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9792, 4160, 55.88, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9728, 4032, 120.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9728, 3904, 64.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9600, 3776, 60.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9600, 3648, 9.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, 3520, 45.88, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, 3392, 32.13, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, 3264, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9472, 3136, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9408, 3008, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9280, 2944, 64.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9280, 2816, 5.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9216, 2688, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9152, 2560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, 2496, 1.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8960, 2368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, 2304, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, 2176, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8704, 2048, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8576, 1984, 64.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, 1856, 29.31, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8448, 1728, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, 1600, 60.94, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, 1472, 58.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, 1344, 50.38, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, 1216, 34.63, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5440, 1088, 86.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5568, 1088, 173.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5696, 1088, 173.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 1088, 86.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5952, 1088, 86.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6080, 1088, 173.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6208, 1152, 187.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6336, 1216, 188.31, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6464, 1216, 118.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6592, 1280, 60.38, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6720, 1344, 198.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6848, 1344, 117.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6912, 1472, 199.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7040, 1536, 133.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7168, 1600, 200, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7232, 1728, 218.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7232, 1856, 218.31, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7168, 1984, 220.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7040, 2048, 273.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6976, 2176, 191.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6848, 2304, 253.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6784, 2432, 283.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6720, 2560, 296.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6592, 2688, 265.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6592, 2560, 335.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6464, 2752, 297.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6400, 2880, 286.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6272, 2944, 308.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6144, 3008, 256.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6080, 3136, 205.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6016, 3264, 145.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5952, 3392, 183, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5888, 3520, 158.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5888, 3648, 170.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 3776, 255.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 3904, 243.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 4032, 232.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 4160, 236.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 4288, 180, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5760, 4416, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5824, 4544, 186.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5888, 4672, 133.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 5952, 4800, 183.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6080, 4928, 184.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6208, 4992, 136, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6336, 4992, 150.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6464, 4992, 160.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6592, 4992, 154.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6720, 4992, 149, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6848, 4992, 141.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6976, 4992, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7104, 4928, 300.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6976, 4864, 147.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7104, 4800, 204.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7168, 4672, 155.87, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, 4544, 173.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, 4416, 159, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, 4288, 232.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, 4160, 197.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, 4032, 174.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, 3904, 142.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, 3776, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, 3648, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, 3520, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, 3392, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, 3264, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7232, 3136, 199.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7168, 3008, 221.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7168, 2880, 232.12, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7232, 2752, 265.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7296, 2624, 256, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7424, 2560, 328.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7552, 2496, 333.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7680, 2496, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7808, 2496, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7936, 2560, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8064, 2688, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8192, 2816, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8320, 2944, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, 3072, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, 3136, 185.56, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8576, 3264, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8704, 3328, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, 3392, 253.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, 3520, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, 3648, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, 3776, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, 3904, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8896, 4032, 182.94, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8896, 4160, 182.94, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9024, 4288, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9088, 4416, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9216, 4480, 147, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9280, 4608, 243, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9344, 4736, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9472, 4864, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, 4992, 237.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9536, 5120, 346.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6208, 64, 192.69, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6336, 128, 270.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6464, 192, 270.44, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6592, 256, 261, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6720, 320, 124.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6848, 320, 187.06, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6976, 320, 260.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7104, 384, 261.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7232, 384, 244.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7360, 384, 246.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7488, 448, 196.94, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7616, 512, 270.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7744, 512, 270.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 7872, 512, 270.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8000, 448, 263.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8128, 384, 270.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8192, 256, 270.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8256, 128, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8384, 64, 67.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8448, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, - 192, 67.62, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, - 320, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, - 448, 200.75, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, - 512, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, - 640, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, - 768, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, - 896, 135.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 6976, 448, 131.75, 270, 1, 0)
	call CreateDestructableZ('VTlt', - 10240, 192, 0, 270, 1.03, 6)
	call CreateDestructableZ('VTlt', - 9984, 192, 0, 270, .84, 2)
	call CreateDestructableZ('VTlt', - 10048, 64, .38, 270, .87, 0)
	call CreateDestructableZ('VTlt', - 9856, 192, - 31.25, 270, .98, 0)
	call CreateDestructableZ('VTlt', - 9856, 320, - 28.87, 270, .93, 2)
	call CreateDestructableZ('YTfc', - 10496, 5248, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10368, 5248, 128.5, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 10304, 4928, 32.81, 270, 1, 0)
	call CreateDestructableZ('ZTtc', 2848, - 9824, 0, 270, .89, 1)
	call CreateDestructableZ('ZTtc', 2656, - 9888, 0, 270, 1.08, 1)
	call CreateDestructableZ('ZTtc', 2656, - 9952, 0, 270, 1.01, 1)
	call CreateDestructableZ('ZTtc', 2720, - 9952, 0, 270, 1.11, 0)
	call CreateDestructableZ('ZTtc', 2720, - 10016, 0, 270, 1.04, 1)
	call CreateDestructableZ('ZTtc', 2656, - 10144, 0, 270, 1.07, 0)
	call CreateDestructableZ('ZTtc', 2656, - 10272, 0, 270, 1.04, 2)
	call CreateDestructableZ('ZTtc', 2912, - 10208, 0, 270, 1.07, 0)
	call CreateDestructableZ('ZTtc', 2976, - 10016, 0, 270, 1.17, 1)
	call CreateDestructableZ('ZTtc', 2720, - 10528, 0, 270, .93, 1)
	call CreateDestructableZ('ZTtc', 2912, - 10528, 0, 270, 1.17, 0)
	call CreateDestructableZ('ZTtc', 3104, - 10400, 0, 270, .91, 1)
	call CreateDestructableZ('ZTtc', 3168, - 10336, 0, 270, 1.09, 1)
	call CreateDestructableZ('ZTtc', 3168, - 10208, 0, 270, 1.13, 1)
	call CreateDestructableZ('ZTtc', 3360, - 10016, 0, 270, 1.05, 2)
	call CreateDestructableZ('ZTtc', 3296, - 9824, 0, 270, .82, 0)
	call CreateDestructableZ('ZTtc', 4064, - 9376, - 18.25, 270, .86, 1)
	call CreateDestructableZ('ZTtc', 3168, - 9760, 0, 270, 1.18, 1)
	call CreateDestructableZ('ZTtc', 3040, - 9760, 0, 270, .85, 2)
	call CreateDestructableZ('ZTtc', 3104, - 11808, 0, 270, .87, 2)
	call CreateDestructableZ('ZTtc', 3168, - 11680, 0, 270, 1.12, 0)
	call CreateDestructableZ('ZTtc', 3296, - 11552, 0, 270, 1.16, 1)
	call CreateDestructableZ('ZTtc', 3424, - 11616, 0, 270, .84, 0)
	call CreateDestructableZ('ZTtc', 4000, - 10656, 0, 270, .98, 0)
	call CreateDestructableZ('ZTtc', 4064, - 10592, 0, 270, .87, 2)
	call CreateDestructableZ('ZTtc', 4128, - 10464, 0, 270, 1.01, 2)
	call CreateDestructableZ('ZTtc', 4128, - 10400, 0, 270, .95, 1)
	call CreateDestructableZ('ZTtc', 4192, - 10336, 0, 270, 1.2, 0)
	call CreateDestructableZ('ZTtc', 4256, - 9888, 0, 270, 1.14, 1)
	call CreateDestructableZ('ZTtc', 4256, - 9760, - 1.27, 270, .98, 2)
	call CreateDestructableZ('YTfc', - 9984, - 832, 0, 270, 1, 0)
	call CreateDestructableZ('ZTtc', 3296, - 10272, 0, 270, .91, 2)
	call CreateDestructableZ('ZTtc', 3232, - 10272, 0, 270, .83, 2)
	call CreateDestructableZ('ZTtc', 3104, - 10016, 0, 270, 1.03, 1)
	call CreateDestructableZ('ZTtc', 2592, - 11488, 0, 270, .83, 2)
	call CreateDestructableZ('ZTtc', 2592, - 11360, 0, 270, 1.07, 1)
	call CreateDestructableZ('ZTtc', 2528, - 11296, 0, 270, .8, 2)
	call CreateDestructableZ('ZTtc', 2720, - 11296, 0, 270, 1.03, 2)
	call CreateDestructableZ('ZTtc', 2528, - 11936, 0, 270, 1.1, 1)
	call CreateDestructableZ('ZTtc', 3040, - 12000, 0, 270, .94, 1)
	call CreateDestructableZ('ZTtc', 2336, - 11936, 0, 270, .87, 0)
	call CreateDestructableZ('ZTtc', 2208, - 11936, 0, 270, .87, 2)
	call CreateDestructableZ('ZTtc', 2080, - 11936, 0, 270, .97, 0)
	call CreateDestructableZ('ZTtc', 1888, - 12000, 0, 270, .85, 1)
	call CreateDestructableZ('ZTtc', 1760, - 12000, 0, 270, .8, 2)
	call CreateDestructableZ('ZTtc', 1632, - 12000, 0, 270, 1.07, 2)
	call CreateDestructableZ('ZTtc', 1568, - 12000, 0, 270, .91, 2)
	call CreateDestructableZ('ZTtc', 1504, - 12000, 0, 270, 1.19, 1)
	call CreateDestructableZ('ZTtc', 1376, - 12000, 0, 270, 1, 0)
	call CreateDestructableZ('ZTtc', 1184, - 11936, 0, 270, 1.08, 2)
	call CreateDestructableZ('ZTtc', 1056, - 11936, 0, 270, 1.14, 2)
	call CreateDestructableZ('ZTtc', 4256, - 9568, - 2.95, 270, 1.15, 1)
	call CreateDestructableZ('ZTtc', 4384, - 11360, - .05, 270, .81, 2)
	call CreateDestructableZ('ZTtc', 4384, - 11424, - .05, 270, .86, 0)
	call CreateDestructableZ('ZTtc', 4576, - 11424, .98, 270, .86, 0)
	call CreateDestructableZ('ZTtc', 3808, - 10976, 0, 270, 1.16, 1)
	call CreateDestructableZ('ZTtc', 3744, - 10976, 0, 270, 1.04, 1)
	call CreateDestructableZ('YTfc', 2496, - 10624, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 10496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 10368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 10240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 10112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 10048, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, - 9920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2240, - 9792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, - 9920, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1920, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1792, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1664, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1536, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1536, - 9856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1408, - 9856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1280, - 9856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1216, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 960, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 832, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 704, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 640, - 9856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, - 9792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, - 9792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 256, - 9792, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 9856, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 9984, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 10112, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 10240, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 10368, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 10496, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 256, - 10560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, - 10560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, - 10560, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, - 10688, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, - 10816, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, - 10944, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 512, - 11072, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 384, - 11072, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 256, - 11072, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 11072, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 11200, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 11328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 128, - 11584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 192, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 320, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 448, - 11776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 576, - 11776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 704, - 11776, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 704, - 11648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 704, - 11520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 832, - 11520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 960, - 11520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1088, - 11520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1216, - 11520, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1216, - 11648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1344, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1472, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1536, - 11584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1536, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1664, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1792, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 1920, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 11584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2048, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2176, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2304, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 11584, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 11456, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 11328, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 11200, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2368, - 11072, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2816, - 11648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2688, - 11648, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2560, - 11712, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2496, - 11840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3008, - 11840, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 2944, - 11968, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3456, - 12864, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3456, - 12736, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3584, - 12672, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3712, - 12608, - 1.25, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3840, - 12544, - 1, 270, 1, 0)
	call CreateDestructableZ('YTfc', 3776, - 12416, - .38, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8512, 128, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, 192, - 16.81, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8640, 64, - 2.37, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8704, - 64, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8768, - 192, .13, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8832, - 320, .25, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 8704, - 384, 0, 270, 1, 0)
	call CreateDestructableZ('YTfc', - 9984, - 256, 3, 270, 1, 0)
endfunction
//åŸºåœ°å’Œä¼ é€çŸ³
function CreateUnitsForPlayer_5 takes nothing returns nothing
 local player p=Player(5)
 local unit u=null
	set udg_ZhengPaiWL=CreateUnit(p, 'nfrm', - 768., - 768., 270.)
	set u=CreateUnit(p, 'nbse', - 5920., - 224., 270.)
	set u=CreateUnit(p, 'nbse', - 4448., - 2976., 270.)
	set u=CreateUnit(p, 'nbse', 1888., - 224., 270.)
	set u=CreateUnit(p, 'nbse', - 1440., 8160., 270.)
	set u=CreateUnit(p, 'nbse', - 2336., - 3872., 270.)
	set u=CreateUnit(p, 'nbse', 1632., - 2464., 270.)
	set u=CreateUnit(p, 'nbse', 3616., - 8928., 270.)
	set p=null
	set u=null
endfunction
//ä¸­ç«‹æ•Œå¯¹
function CreateUnitsForPlayer_12 takes nothing returns nothing
 local player p=Player(12)
 local unit u=null
	set u=CreateUnit(p, 'nwlt', 1456.2, - 2702.9, 345.717)
	set u=CreateUnit(p, 'nwlt', 1292.4, - 3062.2, 282.159)
	set u=CreateUnit(p, 'nwlt', 976., - 2795.9, 171.798)
	set u=CreateUnit(p, 'nwlt', 792.7, - 3097.9, 308.143)
	set u=CreateUnit(p, 'nwlt', 588.4, - 2846.8, 286.411)
	set u=CreateUnit(p, 'nwlt', 1704.9, - 3005.6, 253.407)
	set u=CreateUnit(p, 'nqb2', 776.3, - 4506.1, 213.306)
	set u=CreateUnit(p, 'nass', - 12157., 824.7, 21.907)
	set u=CreateUnit(p, 'nqb2', 1226.6, - 4653.2, 40.651)
	set u=CreateUnit(p, 'nfrl', - 14365.7, 11054.6, 266.525)
	set u=CreateUnit(p, 'nqb2', 1169.5, - 5100.4, 263.867)
	set u=CreateUnit(p, 'nqb3', 1916.5, - 5171.2, 190.732)
	set u=CreateUnit(p, 'ngns', - 2913.8, - 3328.4, 206.494)
	set u=CreateUnit(p, 'ngns', - 2932.2, - 2943.6, 51.099)
	set u=CreateUnit(p, 'ngns', - 3329.7, - 2739.6, 66.305)
	set u=CreateUnit(p, 'ngns', - 3756.6, - 2500.1, 303.023)
	set u=CreateUnit(p, 'ngns', - 4586.6, - 2442., 262.746)
	set u=CreateUnit(p, 'nass', - 11958.4, 1297.8, 328.292)
	set u=CreateUnit(p, 'ngns', - 4257.5, - 2708.6, 40.244)
	set u=CreateUnit(p, 'ngns', - 4614.6, - 2148.9, 22.665)
	set u=CreateUnit(p, 'ngns', - 4901., - 2249.5, 356.319)
	set u=CreateUnit(p, 'ngns', - 4918.3, - 1944.5, 194.332)
	set u=CreateUnit(p, 'ngns', - 5489.1, - 1749.5, 165.119)
	set u=CreateUnit(p, 'ngns', - 5874.2, - 1506., 159.153)
	set u=CreateUnit(p, 'ngns', - 3780.6, - 2955.4, 310.736)
	set u=CreateUnit(p, 'ngns', - 4115.4, - 2177.3, 294.234)
	set u=CreateUnit(p, 'nanb', 1371.9, - 6049.3, 12.558)
	set u=CreateUnit(p, 'nanb', 1417.5, - 6407., 323.14)
	set u=CreateUnit(p, 'nanb', 1739.3, - 6366.4, 183.631)
	set u=CreateUnit(p, 'nanb', 2001.2, - 6587.5, 65.327)
	set u=CreateUnit(p, 'nass', - 11556.2, 1961.9, 151.616)
	set u=CreateUnit(p, 'nanb', 2270.7, - 6280.2, 124.116)
	set u=CreateUnit(p, 'nanb', 2507.1, - 6397.7, 272.118)
	set u=CreateUnit(p, 'nanb', 2838.3, - 6375.6, 87.223)
	set u=CreateUnit(p, 'nass', - 12041.7, 2502.1, 354.408)
	set u=CreateUnit(p, 'nass', - 11753.8, 2970.5, 343.564)
	set u=CreateUnit(p, 'nass', - 12365.2, 3640.6, 246.98)
	set u=CreateUnit(p, 'nass', - 13564.5, 3750.5, 309.626)
	set u=CreateUnit(p, 'nass', - 14561.2, 3817.1, 338.675)
	set u=CreateUnit(p, 'nass', - 14973.8, 2948.4, 164.437)
	set u=CreateUnit(p, 'nass', - 15112.2, 2181.7, 248.617)
	set u=CreateUnit(p, 'oshm', - 12090.6, 1743.3, 71.435)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 12505.3, 2980.7, 214.515)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 14040.9, 3503.2, 7.614)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 14836.4, 3400.2, 71.556)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 14612.9, 1634.5, 166.679)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 14526.5, 1094.6, 196.222)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 15071.7, 985.4, 304.803)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 14683.9, 639., 126.676)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 14255.2, 334.2, 347.453)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 13786., 618.3, 225.853)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'oshm', - 13406.7, 303.3, 217.964)
	call SetUnitState(u, UNIT_STATE_MANA, 0)
	set u=CreateUnit(p, 'odoc', - 11632.9, 3526.4, 248.33)
	set u=CreateUnit(p, 'nfrl', - 13768.6, 11013.8, 26.939)
	set u=CreateUnit(p, 'orai', - 15073.4, 627.9, 69.342)
	set u=CreateUnit(p, 'nfrl', - 13337.3, 11162., 296.266)
	set u=CreateUnit(p, 'nfrl', - 14512.9, 11751.2, 329.105)
	set u=CreateUnit(p, 'nfrl', - 14160.7, 12171.9, 70.359)
	set u=CreateUnit(p, 'nfrl', - 13369.4, 12026.6, 351.057)
	set u=CreateUnit(p, 'nfrl', - 12020.4, 11812.1, 44.243)
	set u=CreateUnit(p, 'nfrl', - 11481.9, 11877.2, .352)
	set u=CreateUnit(p, 'nfrl', - 11688.9, 12311.7, 39.684)
	set u=CreateUnit(p, 'nfrl', - 11930.7, 12808.3, 36.915)
	set u=CreateUnit(p, 'nfrl', - 13449.4, 13827.7, 89.377)
	set u=CreateUnit(p, 'nfrl', - 13699.4, 14328.7, 123.963)
	set u=CreateUnit(p, 'nfrl', - 13048.2, 14421.4, 285.434)
	set u=CreateUnit(p, 'nfrl', - 11933.3, 14513.9, 354.946)
	set u=CreateUnit(p, 'nfrl', - 12259.8, 13985.9, 268.119)
	set u=CreateUnit(p, 'nfrl', - 12522.3, 13591.6, 341.257)
	set u=CreateUnit(p, 'nfrl', - 12901.2, 12929.9, 71.117)
	set u=CreateUnit(p, 'nfrl', - 12411.2, 12526.1, 248.299)
	set u=CreateUnit(p, 'nfrl', - 12639.8, 11877., 73.611)
	set u=CreateUnit(p, 'nfrl', - 15307.9, 11731.7, 126.105)
	set u=CreateUnit(p, 'nfrl', - 14938., 12761.9, 338.082)
	set u=CreateUnit(p, 'nfrl', - 14360.7, 13212.6, 204.605)
	set u=CreateUnit(p, 'nfrl', - 13428.5, 13047.6, 65.151)
	set u=CreateUnit(p, 'nfrl', - 14331.4, 13670.1, 55.208)
	set u=CreateUnit(p, 'nfrl', - 14481.8, 14188.4, 25.841)
	set u=CreateUnit(p, 'nfrl', - 14987., 14628., 116.558)
	set u=CreateUnit(p, 'nubw', - 11610.2, 13396.9, 263.12)
	set u=CreateUnit(p, 'nsqo', - 13636.9, 12292.7, 269.383)
	set u=CreateUnit(p, 'nhrr', - 12256.3, 10995.4, 135.256)
	set u=CreateUnit(p, 'nomg', - 15162.7, 13751.3, 266.022)
	set u=CreateUnit(p, 'nnwr', - 9026.4, 6848.3, 6.229)
	set u=CreateUnit(p, 'nnwr', - 8413.3, 6831.6, 357.671)
	set u=CreateUnit(p, 'nfor', - 7792.1, 7248.4, 266.734)
	set u=CreateUnit(p, 'nfor', - 7908.6, 8889.9, 207.176)
	set u=CreateUnit(p, 'nfor', - 8798.7, 10099.6, 190.146)
	set u=CreateUnit(p, 'nfor', - 8226., 10636.6, 187.224)
	set u=CreateUnit(p, 'nfor', - 7940.4, 11474.2, 155.582)
	set u=CreateUnit(p, 'nfor', - 8601.1, 11872.3, 344.509)
	set u=CreateUnit(p, 'nfor', - 9570.8, 12514.5, 287.136)
	set u=CreateUnit(p, 'nfor', - 9480.5, 11722.3, 215.383)
	set u=CreateUnit(p, 'nfor', - 9477.6, 13831.8, 188.63)
	set u=CreateUnit(p, 'nfor', - 8579.4, 14378.1, 7.438)
	set u=CreateUnit(p, 'nfor', - 7831.1, 14977., 304.88)
	set u=CreateUnit(p, 'nfor', - 7802.7, 13997., 135.762)
	set u=CreateUnit(p, 'nfor', - 6817.4, 13990.2, 137.201)
	set u=CreateUnit(p, 'nfor', - 6783.1, 13080.5, 187.784)
	set u=CreateUnit(p, 'nfor', - 7076.7, 12152.2, 345.289)
	set u=CreateUnit(p, 'nfor', - 7617., 12300.3, 86.872)
	set u=CreateUnit(p, 'nfor', - 9621., 8505.5, 50.901)
	set u=CreateUnit(p, 'nfor', - 7081.3, 7260.3, 129.555)
	set u=CreateUnit(p, 'nnwr', - 9222.1, 7754.9, 312.823)
	set u=CreateUnit(p, 'nnwr', - 8778.8, 8595.9, 212.251)
	set u=CreateUnit(p, 'nnwr', - 7732.1, 9779.6, 12.953)
	set u=CreateUnit(p, 'nnwr', - 9095.2, 9803.3, 14.843)
	set u=CreateUnit(p, 'nnwr', - 9590., 10390.3, 34.026)
	set u=CreateUnit(p, 'hsor', - 3478., - 4354.1, 273.75)
	set u=CreateUnit(p, 'owar', - 5591.7, - 5366.8, 357.78)
	set u=CreateUnit(p, 'ntkt', - 3401.8, - 6576.7, 342.687)
	set u=CreateUnit(p, 'nogm', - 5597.7, - 6398.5, 6.971)
	set u=CreateUnit(p, 'opeo', - 2411.9, - 6253.7, 107.714)
	set u=CreateUnit(p, 'ohun', - 4541.3, - 4202.2, 273.77)
	set u=CreateUnit(p, 'nw2w', - 5653.5, - 4360.4, 343.67)
	set u=CreateUnit(p, 'hwat', - 4757.9, - 6079.6, 213.987)
	set u=CreateUnit(p, 'hwat', - 4500.9, - 5803.9, 111.855)
	set u=CreateUnit(p, 'hwat', - 4999.7, - 5294.7, 357.121)
	set u=CreateUnit(p, 'hwat', - 4356.5, - 5113.1, 160.581)
	set u=CreateUnit(p, 'hwat', - 4790.6, - 4519.7, 4.45)
	set u=CreateUnit(p, 'hwat', - 3694.3, - 5386.9, 13.656)
	set u=CreateUnit(p, 'hwat', - 3358.8, - 4973.8, 135.982)
	set u=CreateUnit(p, 'hwat', - 3280.4, - 5722.1, 100.912)
	set u=CreateUnit(p, 'hwat', - 2808.8, - 5243.2, 5.57)
	set u=CreateUnit(p, 'hwat', - 3162.6, - 6179.2, 143.563)
	set u=CreateUnit(p, 'hwat', - 5086.2, - 6464.6, 294.201)
	set u=CreateUnit(p, 'hwat', - 5132., - 4311.6, 70.205)
	set u=CreateUnit(p, 'ndrw', - 11769.7, 8626.3, 184.141)
	set u=CreateUnit(p, 'nbdw', - 14468.8, 9138.2, 271.753)
	set u=CreateUnit(p, 'nowb', - 14654.6, 7353.7, 60.537)
	set u=CreateUnit(p, 'nowb', - 14662.7, 8675.2, 241.893)
	set u=CreateUnit(p, 'nowb', - 14024.6, 8955.4, 54.505)
	set u=CreateUnit(p, 'nowb', - 12790., 8932.6, 257.516)
	set u=CreateUnit(p, 'nowb', - 12185.4, 8447.7, 46.474)
	set u=CreateUnit(p, 'nowb', - 12203.5, 6950.2, 119.161)
	set u=CreateUnit(p, 'nowb', - 12755.9, 7098.6, 128.83)
	set u=CreateUnit(p, 'nowb', - 11582.2, 6792.9, 44.584)
	set u=CreateUnit(p, 'nowb', - 12616.1, 6183.4, 12.481)
	set u=CreateUnit(p, 'nowb', - 12123.6, 6321.7, 269.558)
	set u=CreateUnit(p, 'efon', - 14785., 6073.2, 119.634)
	set u=CreateUnit(p, 'efon', - 14431.2, 5863.3, 242.794)
	set u=CreateUnit(p, 'efon', - 14211.2, 7038.3, 212.856)
	set u=CreateUnit(p, 'efon', - 14342.6, 7650.2, 333.83)
	set u=CreateUnit(p, 'efon', - 15000.2, 8911.7, 137.432)
	set u=CreateUnit(p, 'efon', - 14472.1, 8182.7, 92.574)
	set u=CreateUnit(p, 'efon', - 12125.2, 9114.6, 172.524)
	set u=CreateUnit(p, 'efon', - 12009.1, 7651.9, 66.678)
	set u=CreateUnit(p, 'efon', - 12495.2, 8221.5, 61.767)
	set u=CreateUnit(p, 'ndqv', - 9388.5, - 5304.5, 198.232)
	set u=CreateUnit(p, 'ndqv', - 8863.6, - 5460.6, 69.216)
	set u=CreateUnit(p, 'ndqv', - 8668.9, - 5152.1, 168.645)
	set u=CreateUnit(p, 'ndqv', - 8108.6, - 5453.9, 143.486)
	set u=CreateUnit(p, 'ndqv', - 8539.6, - 4553.2, 156.582)
	set u=CreateUnit(p, 'ndqv', - 9058.9, - 4334.5, 294.41)
	set u=CreateUnit(p, 'ndqv', - 9488.1, - 4526.7, 91.772)
	set u=CreateUnit(p, 'ndqv', - 8023.1, - 4337.1, 336.95)
	set u=CreateUnit(p, 'ndqv', - 7781.9, - 3873.8, 43.244)
	set u=CreateUnit(p, 'ndqv', - 7443.1, - 3536.5, 195.607)
	set u=CreateUnit(p, 'ndqv', - 8000.7, - 3194.8, 98.034)
	set u=CreateUnit(p, 'ndqv', - 8475.3, - 3172.2, 359.615)
	set u=CreateUnit(p, 'ndqv', - 7977.2, - 2488.3, 258.077)
	set u=CreateUnit(p, 'ndqv', - 9304.3, - 3327.9, 235.345)
	set u=CreateUnit(p, 'ndqv', - 9644.6, - 2873.3, 12.964)
	set u=CreateUnit(p, 'ndqv', - 9223.6, - 2715.1, 168.502)
	set u=CreateUnit(p, 'ndqv', - 9642.7, - 3627.5, 235.895)
	set u=CreateUnit(p, 'ndqv', - 7527.3, - 5484.4, 242.223)
	set u=CreateUnit(p, 'ndqv', - 7100.4, - 5219.8, 207.373)
	set u=CreateUnit(p, 'ndqv', - 7622.2, - 2609.1, 94.507)
	set u=CreateUnit(p, 'ndqs', - 9301.8, - 2486.7, 309.187)
	set u=CreateUnit(p, 'nnwr', - 8770., 10894.8, 16.733)
	set u=CreateUnit(p, 'nnwr', - 8873.2, 12457.8, 12.843)
	set u=CreateUnit(p, 'nnwr', - 8064.7, 12827.7, 216.448)
	set u=CreateUnit(p, 'nnwr', - 7131.5, 14976.5, 344.41)
	set u=CreateUnit(p, 'nnwr', - 8742.7, 13760.7, 202.693)
	set u=CreateUnit(p, 'nnwr', - 9158.8, 14291., 5.405)
	set u=CreateUnit(p, 'nfor', - 7305.8, 11421.5, 344.509)
	set u=CreateUnit(p, 'nnwr', - 6670.2, 7880.8, 182.532)
	set u=CreateUnit(p, 'nnwr', - 6507.8, 7078., 77.731)
	set u=CreateUnit(p, 'nnwr', - 6750.7, 9551.3, 295.574)
	set u=CreateUnit(p, 'nnwr', - 6876.6, 10806.8, 250.979)
	set u=CreateUnit(p, 'nfov', - 8901.9, 14908.1, 277.826)
	set u=CreateUnit(p, 'nfor', - 8338.2, 9687.3, 190.146)
	set u=CreateUnit(p, 'nnwr', - 6716.6, 10259.8, 226.077)
	set u=CreateUnit(p, 'nnwr', - 6934.1, 13520., 325.927)
	set u=CreateUnit(p, 'nnwr', - 7804.9, 6826., 357.671)
	set u=CreateUnit(p, 'nfor', - 7765.8, 7729., 266.734)
	set u=CreateUnit(p, 'nfor', - 8648.5, 6633.5, 95.101)
	set u=CreateUnit(p, 'nfor', - 8930.8, 7902.6, 154.297)
	set u=CreateUnit(p, 'nfor', - 8937.6, 8268.5, 174.809)
	set u=CreateUnit(p, 'nfor', - 8329.2, 8666.6, 326.062)
	set u=CreateUnit(p, 'nfor', - 7775.5, 8544.4, 33.52)
	set u=CreateUnit(p, 'nfor', - 7470.8, 8841.2, 59.987)
	set u=CreateUnit(p, 'nfor', - 8179.3, 10039.3, 27.533)
	set u=CreateUnit(p, 'nfor', - 7226.8, 10843.3, 309.681)
	set u=CreateUnit(p, 'nfor', - 8024.7, 12369.3, 11.195)
	set u=CreateUnit(p, 'nfor', - 6540.4, 13723.9, 115.228)
	set u=CreateUnit(p, 'nnwr', - 7059.5, 12869.6, 332.412)
	set u=CreateUnit(p, 'nnwr', - 7928.6, 13708.7, 251.375)
	set u=CreateUnit(p, 'nnwr', - 7733.6, 14469.6, 149.012)
	set u=CreateUnit(p, 'nnwr', - 7485.8, 15140.4, 225.776)
	set u=CreateUnit(p, 'nnwr', - 9156.5, 13784.7, 118.227)
	set u=CreateUnit(p, 'nnwr', - 9477.2, 14666.3, 308.758)
	set u=CreateUnit(p, 'nnwr', - 9374.9, 12165.6, 275.095)
	set u=CreateUnit(p, 'nnwr', - 8682.5, 9543., 11.327)
	set u=CreateUnit(p, 'nnwr', - 6911.5, 8331.2, 331.501)
	set u=CreateUnit(p, 'nnwr', - 6744.8, 7382.2, 271.689)
	set u=CreateUnit(p, 'nnwr', - 7044.7, 6821.3, 190.827)
	set u=CreateUnit(p, 'nnwr', - 8181.9, 7160.5, 160.471)
	set u=CreateUnit(p, 'nnwr', - 9481.9, 7072.3, 16.425)
	set u=CreateUnit(p, 'nnwr', - 9651.9, 7969.8, 16.414)
	set u=CreateUnit(p, 'nnwr', - 7944.7, 10934.6, 6.9)
	set u=CreateUnit(p, 'nnwr', - 7815.7, 12057.6, 355.276)
	set u=CreateUnit(p, 'ndtb', - 4275., 7430., 167.536)
	set u=CreateUnit(p, 'ndtb', - 4215.6, 7142.6, 171.227)
	set u=CreateUnit(p, 'ndtb', - 4002.8, 7510.9, 35.575)
	set u=CreateUnit(p, 'ndtb', - 3901.1, 7125.6, 328.534)
	set u=CreateUnit(p, 'ndtb', - 3743.5, 7585.4, 98.957)
	set u=CreateUnit(p, 'ndtb', - 3570.7, 7302.6, 273.392)
	set u=CreateUnit(p, 'ndtb', - 3351.4, 7576.7, 146.727)
	set u=CreateUnit(p, 'ndtb', - 3471.9, 7869.4, 44.309)
	set u=CreateUnit(p, 'ndtb', - 3687.5, 8033.3, 217.338)
	set u=CreateUnit(p, 'ndtb', - 3759.1, 8222.6, 345.047)
	set u=CreateUnit(p, 'ndtb', - 4007.4, 8314.9, 126.632)
	set u=CreateUnit(p, 'ndtb', - 4053.2, 8118.3, 131.983)
	set u=CreateUnit(p, 'ndtb', - 4262.5, 8283.8, 244.168)
	set u=CreateUnit(p, 'ndtb', - 4428.8, 8154.5, 289.949)
	set u=CreateUnit(p, 'ndtb', - 4693.5, 8253.5, 85.191)
	set u=CreateUnit(p, 'ndtb', - 4879., 8138.2, 328.183)
	set u=CreateUnit(p, 'ndtb', - 5042.9, 8425.5, 215.778)
	set u=CreateUnit(p, 'ndtb', - 5269.5, 8521.1, 153.198)
	set u=CreateUnit(p, 'ndtb', - 5107.7, 8810.2, 288.773)
	set u=CreateUnit(p, 'ndtb', - 5212.1, 9096.6, 180.577)
	set u=CreateUnit(p, 'ndtb', - 4998.6, 9432.3, 260.549)
	set u=CreateUnit(p, 'ndtb', - 5007.5, 9906.4, 36.695)
	set u=CreateUnit(p, 'ndtb', - 4810.6, 9362.7, 153.758)
	set u=CreateUnit(p, 'ndtb', - 4796.5, 9810., 322.634)
	set u=CreateUnit(p, 'ndtb', - 4644.5, 9562.9, 270.415)
	set u=CreateUnit(p, 'ndtb', - 4754.2, 10103.3, 50.022)
	set u=CreateUnit(p, 'ndtb', - 4849.7, 10395.4, 83.839)
	set u=CreateUnit(p, 'ndtb', - 4475.7, 10340.8, 269.887)
	set u=CreateUnit(p, 'ndtb', - 4523.7, 10058.6, 10.734)
	set u=CreateUnit(p, 'ndtb', - 4389.9, 9811.2, 237.367)
	set u=CreateUnit(p, 'ndtb', - 4329., 9586.7, 355.979)
	set u=CreateUnit(p, 'ndtb', - 4203.1, 10252.9, 264.163)
	set u=CreateUnit(p, 'ndtb', - 4121.5, 9939.9, 97.111)
	set u=CreateUnit(p, 'ndtb', - 4117.4, 9676.2, 52.494)
	set u=CreateUnit(p, 'ndtb', - 4155.7, 9450.6, 169.612)
	set u=CreateUnit(p, 'ndtb', - 3861.7, 9485.7, 207.615)
	set u=CreateUnit(p, 'ndtb', - 3839.6, 9845.2, 274.161)
	set u=CreateUnit(p, 'ndtb', - 3815.7, 10318.2, 206.78)
	set u=CreateUnit(p, 'ndtb', - 3944.2, 10167.6, 253.177)
	set u=CreateUnit(p, 'ndtb', - 3478.5, 10294., 8.416)
	set u=CreateUnit(p, 'ndtb', - 3615.5, 9959.3, 260.757)
	set u=CreateUnit(p, 'ndtb', - 3546.1, 9642.5, 298.233)
	set u=CreateUnit(p, 'ndtb', - 3656.1, 9414.1, 246.98)
	set u=CreateUnit(p, 'ndtb', - 3417.8, 9482.1, 161.141)
	set u=CreateUnit(p, 'ndtb', - 3365.3, 10142.6, 37.695)
	set u=CreateUnit(p, 'ndtb', - 3395.2, 9888.4, 51.989)
	set u=CreateUnit(p, 'nsrh', 6788.6, - 2224.5, 179.099)
	set u=CreateUnit(p, 'nogr', 6435., - 1894.1, 95.969)
	set u=CreateUnit(p, 'nogr', 6438.7, - 2248.3, 158.724)
	set u=CreateUnit(p, 'nogr', 6154.1, - 2604., 111.833)
	set u=CreateUnit(p, 'nogr', 6038.2, - 2199.1, 109.273)
	set u=CreateUnit(p, 'nogr', 5904.8, - 1786.5, 311.263)
	set u=CreateUnit(p, 'nogr', 5551.3, - 1965.8, 254.506)
	set u=CreateUnit(p, 'nogr', 5381.7, - 2323.9, 353.639)
	set u=CreateUnit(p, 'nogr', 5257.4, - 2641.1, 310.263)
	set u=CreateUnit(p, 'nogr', 5213.1, - 1761.3, 234.148)
	set u=CreateUnit(p, 'nogr', 6757.6, - 1645.8, 145.892)
	set u=CreateUnit(p, 'nwrg', - 14793.9, - 6329.7, 92.98)
	set u=CreateUnit(p, 'nwrg', - 14461.8, - 6133.7, 100.286)
	set u=CreateUnit(p, 'nwrg', - 14048.8, - 6240.6, 292.806)
	set u=CreateUnit(p, 'nwrg', - 13679.4, - 6068.1, 32.279)
	set u=CreateUnit(p, 'nwrg', - 13264.4, - 6194.2, 145.244)
	set u=CreateUnit(p, 'nwrg', - 12990.6, - 5855.3, 332.995)
	set u=CreateUnit(p, 'nwrg', - 12556.6, - 5669.8, 146.65)
	set u=CreateUnit(p, 'nwrg', - 12244.7, - 5274.1, 99.341)
	set u=CreateUnit(p, 'nwrg', - 12518.3, - 4890.1, 101.385)
	set u=CreateUnit(p, 'nwrg', - 12006.7, - 4710.6, 182.335)
	set u=CreateUnit(p, 'nwrg', - 12417.5, - 4207.4, 157.087)
	set u=CreateUnit(p, 'nwrg', - 11997.7, - 3996.8, 52.912)
	set u=CreateUnit(p, 'nwrg', - 12504.3, - 3156.4, 304.906)
	set u=CreateUnit(p, 'nwrg', - 12029.9, - 3093.7, 259.173)
	set u=CreateUnit(p, 'nwrg', - 12048.2, - 2660.6, 264.761)
	set u=CreateUnit(p, 'nwrg', - 12611.5, - 2650.1, 294.612)
	set u=CreateUnit(p, 'nwrg', - 12922.2, - 2340.6, 300.307)
	set u=CreateUnit(p, 'nwrg', - 11869.2, - 2237.3, 259.289)
	set u=CreateUnit(p, 'nwrg', - 12823.6, - 3845.9, 358.967)
	set u=CreateUnit(p, 'nwrg', - 13324., - 3563.9, 123.424)
	set u=CreateUnit(p, 'nwrg', - 13850.1, - 3490.5, 266.976)
	set u=CreateUnit(p, 'nwrg', - 14336.5, - 4002., 319.91)
	set u=CreateUnit(p, 'nwrg', - 14679.1, - 4034.5, 297.936)
	set u=CreateUnit(p, 'nwrg', - 14482.3, - 4620.8, 260.197)
	set u=CreateUnit(p, 'nwrg', - 13082.1, - 4518.5, 324.962)
	set u=CreateUnit(p, 'nwrg', - 13083.6, - 5033.5, 12.554)
	set u=CreateUnit(p, 'nrzb', - 13378.5, - 4721.9, 338.837)
	set u=CreateUnit(p, 'nfpu', - 12407.6, - 2143.8, 284.172)
	set u=CreateUnit(p, 'nmpg', - 14815.3, - 10078.4, 103.615)
	set u=CreateUnit(p, 'nmpg', - 14436.5, - 10108.6, 252.616)
	set u=CreateUnit(p, 'nmpg', - 14339.3, - 9787.8, 337.664)
	set u=CreateUnit(p, 'nmpg', - 13835.3, - 9856.3, 35.926)
	set u=CreateUnit(p, 'nmpg', - 13992.8, - 9321.1, 260.648)
	set u=CreateUnit(p, 'nmpg', - 13581.6, - 9598.2, 359.176)
	set u=CreateUnit(p, 'nmpg', - 13879.4, - 8845.2, 240.454)
	set u=CreateUnit(p, 'nmpg', - 14246.3, - 9049., 278.094)
	set u=CreateUnit(p, 'nmpg', - 13576.5, - 8492.8, 185.828)
	set u=CreateUnit(p, 'nmpg', - 13830.7, - 8241.2, 86.959)
	set u=CreateUnit(p, 'nmpg', - 14189.9, - 8505.9, 10.196)
	set u=CreateUnit(p, 'nmpg', - 14597.9, - 8710.5, 40.936)
	set u=CreateUnit(p, 'ntkc', - 2634.1, 12329.1, 91.114)
	set u=CreateUnit(p, 'nrvi', 10235.4, 15096.9, 245.749)
	set u=CreateUnit(p, 'nsgn', - 1488., 14913.8, 271.232)
	set u=CreateUnit(p, 'nsgb', - 742.8, 12726.2, 92.938)
	set u=CreateUnit(p, 'nwzr', - 4659.9, 14915.5, 273.386)
	set u=CreateUnit(p, 'nstl', - 4783.8, 14102.9, 277.997)
	set u=CreateUnit(p, 'nstl', - 4427., 14063.4, 265.895)
	set u=CreateUnit(p, 'nstl', - 4819.5, 13523.7, 283.794)
	set u=CreateUnit(p, 'nstl', - 4429.5, 13494.9, 263.889)
	set u=CreateUnit(p, 'nstl', - 4777.4, 12827.1, 298.967)
	set u=CreateUnit(p, 'nstl', - 4437.1, 12816.9, 255.093)
	set u=CreateUnit(p, 'nstl', - 4545.6, 12201.1, 234.192)
	set u=CreateUnit(p, 'nstl', - 4069.5, 12294.7, 330.127)
	set u=CreateUnit(p, 'hmtt', - 12201., - 15223.2, 248.28)
	set u=CreateUnit(p, 1852207203, - 7846.3, - 9418.4, 285.423)
	set u=CreateUnit(p, 1852207203, - 7499.2, - 9250.3, 285.423)
	set u=CreateUnit(p, 'nstl', - 2869.3, 12660.5, 353.21)
	set u=CreateUnit(p, 'nstl', - 2509.5, 13262.8, 302.023)
	set u=CreateUnit(p, 'nstl', - 2772.6, 13610.9, 96.254)
	set u=CreateUnit(p, 'nstl', - 2812., 13096.1, 305.023)
	set u=CreateUnit(p, 'nstl', - 2433.1, 12741.7, 110.46)
	set u=CreateUnit(p, 'nstl', - 2443., 13759.6, 136.685)
	set u=CreateUnit(p, 'nstl', - 2738.5, 14172.5, 308.495)
	set u=CreateUnit(p, 'nstl', - 2473.9, 14246.3, 217.877)
	set u=CreateUnit(p, 'nstl', - 2760.9, 15020.9, 197.101)
	set u=CreateUnit(p, 'nstl', - 2379.6, 14865.7, 335.533)
	set u=CreateUnit(p, 'nstl', - 2001.7, 15075.5, 168.393)
	set u=CreateUnit(p, 'nstl', - 1784., 14374.5, 2.922)
	set u=CreateUnit(p, 'nstl', - 1429.4, 14281.8, 188.685)
	set u=CreateUnit(p, 'nstl', - 1688.6, 13921.2, 147.111)
	set u=CreateUnit(p, 'nstl', - 1401.8, 13660.9, 233.862)
	set u=CreateUnit(p, 'nstl', - 1736.4, 13398.7, 88.596)
	set u=CreateUnit(p, 'nstl', - 1467.2, 13180.2, 64.843)
	set u=CreateUnit(p, 'nstl', - 1789.5, 12909.6, 97.979)
	set u=CreateUnit(p, 'nstl', - 1493.3, 12733.9, 39.069)
	set u=CreateUnit(p, 'nstl', - 1776.5, 12407.5, 10.602)
	set u=CreateUnit(p, 'nstl', - 1414.2, 12260., 5.647)
	set u=CreateUnit(p, 'nstl', - 978.7, 12463.7, 63.129)
	set u=CreateUnit(p, 'nstl', - 668., 12251.4, 112.273)
	set u=CreateUnit(p, 'nstl', - 642.1, 13261.8, 301.496)
	set u=CreateUnit(p, 'nstl', - 924.3, 13448.1, 29.972)
	set u=CreateUnit(p, 'nstl', - 629.9, 13829.5, 167.931)
	set u=CreateUnit(p, 'nstl', - 872.2, 14201.3, 86.883)
	set u=CreateUnit(p, 'nstl', - 587.9, 14519.1, 102.297)
	set u=CreateUnit(p, 'nstl', - 833.4, 14795.4, 223.732)
	set u=CreateUnit(p, 'nstl', - 587., 15076., 300.32)
	set u=CreateUnit(p, 'nstl', - 233.4, 14971.1, 168.997)
	set u=CreateUnit(p, 1853056884, 200., 14891.6, 267.94)
	set u=CreateUnit(p, 'nstl', 362.3, 14587., 177.237)
	set u=CreateUnit(p, 'nstl', 12.8, 14449.1, 288.202)
	set u=CreateUnit(p, 'nstl', 240.1, 14185.1, 326.612)
	set u=CreateUnit(p, 'nstl', - 68.2, 14037.9, 151.429)
	set u=CreateUnit(p, 'nstl', 315.7, 13742., 209.593)
	set u=CreateUnit(p, 'nstl', - .0, 13524.8, 86.707)
	set u=CreateUnit(p, 'nstl', 308., 13193., 83.389)
	set u=CreateUnit(p, 'nstl', - 19.7, 13055.2, 184.752)
	set u=CreateUnit(p, 'nstl', 333.8, 12762.7, 314.735)
	set u=CreateUnit(p, 'nstl', - 7.6, 12558.8, 82.795)
	set u=CreateUnit(p, 'nstl', 350.2, 12368.5, 278.193)
	set u=CreateUnit(p, 'nstl', - 2867.7, 14559.8, 20.974)
	set u=CreateUnit(p, 1852861538, 2765.4, 11990.3, 354.551)
	set u=CreateUnit(p, 1852861538, 3192.8, 11863.9, 36.509)
	set u=CreateUnit(p, 1852207212, 2489.2, 11815.6, 61.8)
	set u=CreateUnit(p, 1852861538, 4320.7, 11980.7, 281.852)
	set u=CreateUnit(p, 1852861538, 4503.5, 12242.4, 158.274)
	set u=CreateUnit(p, 1852861538, 4039., 13071.9, 42.694)
	set u=CreateUnit(p, 1852861538, 3593.1, 13185.8, 82.752)
	set u=CreateUnit(p, 1852207212, 3505., 11993.9, 335.785)
	set u=CreateUnit(p, 1852861538, 2454.7, 13204.6, 98.045)
	set u=CreateUnit(p, 1852861538, 3069.1, 14146.7, 288.477)
	set u=CreateUnit(p, 1852861538, 3607.9, 14145.5, 323.887)
	set u=CreateUnit(p, 1852861538, 3902.4, 14598.5, 316.921)
	set u=CreateUnit(p, 1852861538, 4668.3, 14134.5, 317.932)
	set u=CreateUnit(p, 1852861538, 4812.6, 14612.9, 339.092)
	set u=CreateUnit(p, 1852207212, 3983.6, 11873.8, 156.527)
	set u=CreateUnit(p, 1852207212, 4561.7, 12712.3, 177.687)
	set u=CreateUnit(p, 1852207212, 3142.1, 13153.1, 145.112)
	set u=CreateUnit(p, 1852207212, 2714.3, 13246.9, 83.268)
	set u=CreateUnit(p, 1852207212, 2471., 13575.8, 222.304)
	set u=CreateUnit(p, 1852207212, 2605., 14035.9, 105.45)
	set u=CreateUnit(p, 1852207212, 3899.3, 14099., 310.637)
	set u=CreateUnit(p, 1852207212, 4277.5, 14233.6, 261.131)
	set u=CreateUnit(p, 1852207212, 4886.9, 14357.2, 189.08)
	set u=CreateUnit(p, 1852270642, 4457.5, 12995.6, 272.607)
	set u=CreateUnit(p, 1852663652, 4343., 14740.7, 263.536)
	set u=CreateUnit(p, 1852207984, 2347.2, 14172.4, 350.717)
	set u=CreateUnit(p, 1853320818, 4287.7, 10151.4, 228.747)
	set u=CreateUnit(p, 1853058150, 2236.8, 9150.8, 298.574)
	set u=CreateUnit(p, 1853323879, 3039., 7028.4, 17.448)
	set u=CreateUnit(p, 1869050475, 5348., 8028., 129.94)
	set u=CreateUnit(p, 'nfrl', - 15144.8, 12236.8, 202.253)
	set u=CreateUnit(p, 'nfrl', - 15278.3, 13248.3, 134.158)
	set u=CreateUnit(p, 'nfrl', - 13600.1, 14777.7, 226.831)
	set u=CreateUnit(p, 'nfrl', - 13929.8, 13124.6, 111.174)
	set u=CreateUnit(p, 'nfrl', - 13845.3, 11670.9, 12.909)
	set u=CreateUnit(p, 'nfrl', - 12193.3, 11352.5, 181.093)
	set u=CreateUnit(p, 'nfrl', - 11587.7, 13124.9, 205.725)
	set u=CreateUnit(p, 1853252716, 9795.2, 15164.8, 286.575)
	set u=CreateUnit(p, 1852794732, 9398.7, 14965.4, 317.012)
	set u=CreateUnit(p, 1851944036, 10511.7, 15018.8, 208.698)
	set u=CreateUnit(p, 1852141158, - 10306.4, 4076.3, 272.722)
	set u=CreateUnit(p, 1852141158, - 10005.8, 3398.9, 59.207)
	set u=CreateUnit(p, 1852141158, - 10118.7, 2897.8, 107.911)
	set u=CreateUnit(p, 1852141158, - 9694.7, 2524.1, 84.729)
	set u=CreateUnit(p, 1852141158, - 9428.9, 1948.5, 265.603)
	set u=CreateUnit(p, 1852141158, - 7637.7, 1943.7, 26.357)
	set u=CreateUnit(p, 1852141158, - 8193.2, 1672.9, 257.934)
	set u=CreateUnit(p, 1852141158, - 8126.7, 2372.8, 283.451)
	set u=CreateUnit(p, 1852141158, - 8402.5, 2766., 258.582)
	set u=CreateUnit(p, 1752395892, - 14692.2, - 15042.8, 287.223)
	set u=CreateUnit(p, 1969976430, 7282.8, 13564.4, 268.457)
	set u=CreateUnit(p, 1869836407, 7140.3, 14205.1, 272.252)
	set u=CreateUnit(p, 1869836407, 7428.2, 14196.2, 270.132)
	set u=CreateUnit(p, 1869836407, 7139.1, 13752., 272.252)
	set u=CreateUnit(p, 1869836407, 7427., 13743.1, 270.132)
	set u=CreateUnit(p, 1869836407, 7163., 13336.6, 272.252)
	set u=CreateUnit(p, 1869836407, 7450.9, 13327.7, 270.132)
	set u=CreateUnit(p, 1869836407, 7163.2, 12871.5, 272.252)
	set u=CreateUnit(p, 1869836407, 7451.1, 12862.6, 270.132)
	set u=CreateUnit(p, 1869836407, 7154.8, 12443.3, 272.252)
	set u=CreateUnit(p, 1869836407, 7442.7, 12434.4, 270.132)
	set u=CreateUnit(p, 1852141158, - 8881.8, 2708.9, 297.695)
	set u=CreateUnit(p, 1852141158, - 8811.2, 3189.8, 258.329)
	set u=CreateUnit(p, 1852141158, - 9304.6, 3306.9, 323.964)
	set u=CreateUnit(p, 1852141158, - 9142.7, 3832.2, 4.098)
	set u=CreateUnit(p, 1852141158, - 9673.4, 4347.6, 9.02)
	set u=CreateUnit(p, 1852141158, - 9456.6, 3835.1, 224.985)
	set u=CreateUnit(p, 1852141158, - 9612.5, 4663., 120.776)
	set u=CreateUnit(p, 1852141158, - 9928.1, 4934.5, 66.887)
	set u=CreateUnit(p, 1852141158, - 9738.6, 5210.6, 344.421)
	set u=CreateUnit(p, 1852141158, - 9288.5, 4243.4, 122.622)
	set u=CreateUnit(p, 1852141158, - 8529.3, 2186.1, 139.959)
	set u=CreateUnit(p, 'njgb', 5236.1, - 12937.8, 1.681)
	set u=CreateUnit(p, 'njgb', 4818.5, - 12457.3, 10.108)
	set u=CreateUnit(p, 'njgb', 5432.7, - 12048.3, 259.197)
	set u=CreateUnit(p, 'njgb', 4864.3, - 11493.7, 285.939)
	set u=CreateUnit(p, 'njgb', 5190.9, - 10875.7, 21.841)
	set u=CreateUnit(p, 'njgb', 5575.9, - 11433.9, 43.123)
	set u=CreateUnit(p, 'njgb', 6112.7, - 11116.9, 196.464)
	set u=CreateUnit(p, 'njgb', 5871.2, - 10670.6, 352.529)
	set u=CreateUnit(p, 'njgb', 5516.4, - 10235.7, 253.539)
	set u=CreateUnit(p, 'njgb', 6100.6, - 10189.3, 65.942)
	set u=CreateUnit(p, 'njgb', 6007., - 9673.8, 169.623)
	set u=CreateUnit(p, 'njgb', 5210.1, - 10415.4, 297.5)
	set u=CreateUnit(p, 1751871081, - 6915.4, 3983.4, 272.767)
	set u=CreateUnit(p, 1751871081, - 6857., 3524.6, 272.767)
	set u=CreateUnit(p, 1751871081, - 7127.3, 3460.5, 272.767)
	set u=CreateUnit(p, 1751871081, - 6397.8, 3139.2, 233.41)
	set u=CreateUnit(p, 1751871081, - 6544., 3469.7, 233.41)
	set u=CreateUnit(p, 1751871081, - 6331.6, 3799.7, 233.41)
	set u=CreateUnit(p, 1751871081, - 6722.1, 4353.1, 253.553)
	set u=CreateUnit(p, 1751871081, - 6231.4, 4227.2, 253.553)
	set u=CreateUnit(p, 1751871081, - 7045.6, 2863.2, 253.553)
	set u=CreateUnit(p, 1751871081, - 6644.2, 2934.8, 253.553)
	set u=CreateUnit(p, 1751543663, - 6426.9, 4526.3, 259.71)
	set u=null
	set p=null
endfunction
function CreateUnitsForPlayer_15 takes nothing returns nothing
 local player p=Player(15)
 local unit u=null
	set u=CreateUnit(p, 'ncop', - 6336., - 1536., 270.)
	set u=CreateUnit(p, 'ncop', - 8640., - 3776., 270.)
	set u=CreateUnit(p, 'ncop', - 9216., - 3776., 270.)
	set u=CreateUnit(p, 'ncop', - 9984., - 5376., 270.)
	set u=CreateUnit(p, 'ncop', - 13376., 11712., 270.)
	set u=CreateUnit(p, 'ncop', - 12736., 11200., 270.)
	set u=CreateUnit(p, 'ncop', - 12992., 13440., 270.)
	set u=CreateUnit(p, 'ncop', - 12352., 13248., 270.)
	set u=CreateUnit(p, 'ncop', - 10048., 5312., 270.)
	set u=CreateUnit(p, 'ncop', - 10624., 4800., 270.)
	set Ns=CreateUnit(p, 'O004', 1963.8, - 4044.6, 226.742)
	call SetUnitState(Ns, UNIT_STATE_MANA, 0)
	set Os=CreateUnit(p, 'O003', 1655., - 3879.3, 271.975)
	call SetUnitState(Os, UNIT_STATE_MANA, 0)
	set Ps=CreateUnit(p, 'O000', 1877., - 4346.3, 184.495)
	call SetUnitState(Ps, UNIT_STATE_MANA, 0)
	set Qs=CreateUnit(p, 'O001', 1387.8, - 4122.2, 342.869)
	call SetUnitState(Qs, UNIT_STATE_MANA, 0)
	set Ls=CreateUnit(p, 'O002', 1488.4, - 4404.3, 48.963)
	call SetUnitState(Ls, UNIT_STATE_MANA, 0)
	set LanXin=CreateUnit(p, 'O023', 1720, - 4430.3, 229)
	call SetUnitState(LanXin, UNIT_STATE_MANA, 0)
	set XuanJin=CreateUnit(p, 'O02J', 1450, - 3900, 256)
	call SetUnitState(XuanJin, UNIT_STATE_MANA, 0)
	set vipbanlv[1]=CreateUnit(Player(0), 'n00G', 1860, - 4140, 254.7)
	set vipbanlv[2]=CreateUnit(Player(1), 'n00G', 1860, - 4140, 254.7)
	set vipbanlv[3]=CreateUnit(Player(2), 'n00G', 1860, - 4140, 254.7)
	set vipbanlv[4]=CreateUnit(Player(3), 'n00G', 1860, - 4140, 254.7)
	set vipbanlv[5]=CreateUnit(Player(4), 'n00G', 1860, - 4140, 254.7)
	set Rs=CreateUnit(p, 'o005', 1620, - 4050, 255)
	// set SuiFeng=CreateUnit(p,'N007',488,-597,135) // éšé£
	// set CangQiong=CreateUnit(p,'N00F',-1412,-113,300) // è‹ç©¹
	// set FengLing=CreateUnit(p,'N00P',-1411,-1344,0) // é£é™µ
	set ut=CreateUnit(p, 1865429060, - 5498.1, - 3020.3, 60.353)
	set ft=CreateUnit(p, 1865429046, - 5503.8, 5213.9, 156.857)
	set gt=CreateUnit(p, 1865429046, - 5538.1, 5186.3, 209.428)
	//set u=CreateUnit(p,'o00K',-1256.,-1921.,266.75)
	set Ts=CreateUnit(p, 'o007', 1939.6, - 2738.2, 217.84) // åº—å°äºŒ
set u=CreateUnit(p, 1865429061, - 5054.2, - 3013.2, 129.225)
	//set u=CreateUnit(p,1865429049,-2209.8,459.5,295.041)
	set nt=CreateUnit(p, 'o00A', - 2053.7, - 339.5, 181.33) // å‰¯èŒéƒ­é–
set ot=CreateUnit(p, 1865429058, 347.5, - 3809.3, 20.701)
	set ht=CreateUnit(p, 1865429046, - 5425.9, 5155.9, 280.391)
	set jt=CreateUnit(p, 1865429046, - 5448.9, 5202.9, 106.67)
	set kt=CreateUnit(p, 1865429046, - 5487.7, 5169.9, 191.717)
	set Us=CreateUnit(p, 1865429046, - 5517.6, 5090.4, 182.565)
	set Zs=CreateUnit(p, 1865429046, - 5540.2, 5134.9, 255.418)
	set Ys=CreateUnit(p, 1865429046, - 5483.4, 5122.9, 225.216)
	set Xs=CreateUnit(p, 1865429046, - 5429.8, 5108.7, 262.307)
	set Ws=CreateUnit(p, 1865429046, - 5453.9, 5084.4, 242.388)
	set Vs=CreateUnit(p, 1865429046, - 5467.9, 5207.8, 242.388)
	set u=CreateUnit(p, 1751671916, - 2092.9, - 2759.4, 336.13)
	set u=CreateUnit(p, 1751671916, - 2095.1, - 2894.8, 344.957)
	set Ss=CreateUnit(p, 1865429048, - 1689.9, - 2919.2, 272.018)
	set u=CreateUnit(p, 1865429062, - 5514., - 2567.8, 315.259)
	set u=CreateUnit(p, 1865429063, 2900.8, - 6110.5, 233.25)
	set u=CreateUnit(p, 1865429064, 3065.6, - 415.5, 260.325)
	set u=CreateUnit(p, 1865429064, 2800.7, - 432.4, 260.325)
	set u=CreateUnit(p, 1865429064, 2554.3, - 442., 260.325)
	set u=CreateUnit(p, 1865429064, 2326.7, - 440.3, 260.325)
	set u=CreateUnit(p, 1865429064, 3095.5, - 1042.9, 88.198)
	set u=CreateUnit(p, 1865429064, 2830.6, - 1059.8, 88.075)
	set u=CreateUnit(p, 1865429064, 2584.1, - 1069.5, 89.265)
	set u=CreateUnit(p, 1865429064, 2356.6, - 1067.7, 91.855)
	set u=CreateUnit(p, 1865429065, 3414.3, - 699.1, 185.39)
	set vt=CreateUnit(p, 1865429066, - 4885.4, 423.9, 273.2)
	//set u=CreateUnit(p,1865429070,503.2,467.8,218.898)
	set xt=CreateUnit(p, 1865429072, 5741.1, - 877.8, 224.9)
	set yt=CreateUnit(p, 1865429074, - 3452.7, 153.4, 251.26)
	set u=CreateUnit(p, 1865429075, 4045.8, - 2255.6, 181.936)
	// å°‘æ—é«˜åƒ§-æ±Ÿæ¹–å†…åŠŸ
	set udg_sellSkillBook[0]=CreateUnit(p, 1865429329, 3070.6, - 1542.5, 268.656)
	set u=CreateUnit(p, 1865429077, - 14635.1, - 8394.7, 327.01)
	set zt=CreateUnit(p, 1865429078, - 12182.9, - 5939.8, 148.96)
	// å°‘æ—é«˜åƒ§-ç»å­¦
	set udg_sellSkillBook[2]=CreateUnit(p, 1865429331, 3343.6, - 2375.3, 5.029)
	// å°‘æ—é«˜åƒ§-ç»å†…
	set udg_sellSkillBook[3]=CreateUnit(p, 1865429332, 3322.4, - 2730.6, 11.064)
	// å°‘æ—é«˜åƒ§-æ±Ÿæ¹–æ­¦å­¦
	set udg_sellSkillBook[1]=CreateUnit(p, 1865429330, 2649.6, - 1514.4, 277.06)
	
	set u=CreateUnit(p, 1865429328, - 134.4, 372.9, 106.56)
	set At=CreateUnit(p, 1865429079, - 1174.4, 11346.6, 274.031)
	set Bt=CreateUnit(p, 1865429081, 4580., 419., 179.83)
	set BAO_SHI_SHANG_REN=CreateUnit(p, 'o018', 598.6, - 2015.8, 94.58)
	set SHI_PO_TIAN=CreateUnit(p, 'o019', - 2081.6, - 1962.8, 24.21)
	set u=CreateUnit(p, 1865429313, - 4242.4, - 492.4, 63.2)
	set Ct=CreateUnit(p, 1865429296, - 129.2, - 2927.6, 277.91)
	set GU_DONG_SHANG_REN=CreateUnit(p, 'o011', 670.9, - 1270.5, 175.947)
	set ct=CreateUnit(p, 1865429298, - 11366.8, 10882.4, 86.53)
	set u=CreateUnit(p, 1865429299, - 10757.5, - 9392.7, 335.57)
	set u=CreateUnit(p, 1865429300, - 10267.3, - 9397., 236.63)
	set u=CreateUnit(p, 1865429301, - 10757.4, - 8828.2, 287.56)
	set u=CreateUnit(p, 1865429302, - 10344.1, - 8824.9, 251.35)
	set u=CreateUnit(p, 1865429303, - 10584.5, - 8441.9, 294.94)
	//set u=CreateUnit(p,1865429321,521.6,-61.5,181.21)
	set Dt=CreateUnit(p, 1865429314, - 10140.6, 719.9, 154.876)
	set Et=CreateUnit(p, 1865429315, - 9636.7, - 400.7, 28.58)
	set Ft=CreateUnit(p, 1865429320, - 8902.4, - 26., 141.62)
	set PING_YI_ZHI=CreateUnit(p, 'o01J', - 2032.3, - 1442.2, 179.83)
	call ShowUnitHide(gg_unit_nvl2_0005)
	set u=null
	set p=null
endfunction
function InitEnvironment takes nothing returns nothing
 local weathereffect we
 local destructable d
	call SetCameraBounds(- 15616. + GetCameraMargin(CAMERA_MARGIN_LEFT), - 15872. + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 15616. - GetCameraMargin(CAMERA_MARGIN_RIGHT), 15360. - GetCameraMargin(CAMERA_MARGIN_TOP), - 15616. + GetCameraMargin(CAMERA_MARGIN_LEFT), 15360. - GetCameraMargin(CAMERA_MARGIN_TOP), 15616. - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 15872. + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
	call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
	call SetTerrainFogEx(0, 3000., 5000., .5, .0, .0, .0)
	call NewSoundEnvironment("Default")
	call SetAmbientDaySound("VillageDay")
	call SetAmbientNightSound("VillageNight")
	call SetMapMusic("Music", true, 0)
	set wh=CreateSound("Sound\\Ambient\\DoodadEffects\\Seagull1.wav", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundParamsFromLabel(wh, "SeagullSound")
	call SetSoundDuration(wh, $E09)
	set Ah=CreateSound("Sound\\Music\\mp3Music\\UndeadVictory.mp3", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundDuration(Ah, $9B72)
	call SetSoundChannel(Ah, 0)
	call SetSoundVolume(Ah, $7F)
	call SetSoundPitch(Ah, 1.)
	set ah=CreateSound("Sound\\Music\\mp3Music\\Undead1.mp3", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundDuration(ah, $4A193)
	call SetSoundChannel(ah, 0)
	call SetSoundVolume(ah, $7F)
	call SetSoundPitch(ah, 1.)
	set Bh=CreateSound("Sound\\Music\\mp3Music\\SadMystery.mp3", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundDuration(Bh, 84515)
	call SetSoundChannel(Bh, 0)
	call SetSoundVolume(Bh, $7F)
	call SetSoundPitch(Bh, 1.)
	set bh=CreateSound("Sound\\Interface\\Hint.wav", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundParamsFromLabel(bh, "Hint")
	call SetSoundDuration(bh, $7D6)
	set Ch=CreateSound("Sound\\Ambient\\DoodadEffects\\SargerasLaugh.wav", false, true, true, $A, $A, "DefaultEAXON")
	call SetSoundParamsFromLabel(Ch, "SargerasLaugh")
	call SetSoundDuration(Ch, $CFE)
	set Dh=CreateSound("Sound\\Ambient\\DoodadEffects\\UtherReturns.wav", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundParamsFromLabel(Dh, "UtherReturnsSound")
	call SetSoundDuration(Dh, 6711)
	set Eh=CreateSound("Abilities\\Spells\\NightElf\\FaerieFire\\FaerieFireLaunch1.wav", false, true, true, $A, $A, "SpellsEAX")
	call SetSoundParamsFromLabel(Eh, "FaerieFire")
	call SetSoundDuration(Eh, $813)
	set Fh=CreateSound("Abilities\\Spells\\Orc\\Reincarnation\\Reincarnation.wav", false, true, true, $A, $A, "SpellsEAX")
	call SetSoundParamsFromLabel(Fh, "Reincarnation")
	call SetSoundDuration(Fh, $AA8)
	set Gh=CreateSound("Sound\\Interface\\Warning.wav", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundParamsFromLabel(Gh, "Warning")
	call SetSoundDuration(Gh, $770)
	set Hh=CreateSound("Sound\\Interface\\QuestCompleted.wav", false, false, false, $A, $A, "DefaultEAXON")
	call SetSoundParamsFromLabel(Hh, "QuestCompleted")
	call SetSoundDuration(Hh, 5155)
	set Ih=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav", false, true, true, $A, $A, "SpellsEAX")
	call SetSoundParamsFromLabel(Ih, "ReceiveGold")
	call SetSoundDuration(Ih, 589)
	set udg_jail=Rect(9703., - 15845., 11395., - 13510.)
	set udg_yizhan=Rect(- 224, - 1504, 32, - 1248)
	set udg_xuanmenpai=Rect(952, - 4548, 2330, - 2956)
	set udg_tiaozhanqu=Rect(10000, - 13320, 13530, - 10600)
	set Ge=Rect(1504., - 4288., 1856., - 3968.)
	set He=Rect(1664., - 2944., 1920., - 2688.)
	set Ie=Rect(4192., - 4032., 5312., - 3264.)
	set le=Rect(3200., - 4992., 4256., - 4384.)
	set Je=Rect(- 1472., - 1536., 64., - 864.)
	set Ke=Rect(- 1568., - 672., .0, - 64.)
	set Le=Rect(- 3296., 3488., - 2784., 3936.)
	set Me=Rect(- 1056., 5024., - 448., 5600.)
	set Ne=Rect(1216., 3424., 1760., 3936.)
	set Oe=Rect(- 960., - 5248., - 480., - 4896.)
	set botong=Rect(12300, 1550, 12800, 2050)
	set Pe=Rect(- 2240., - 544., - 1952., - 128.)
	set Qe=Rect(1024., - 2944., 1344., - 2752.)
	set Re=Rect(5344., - 5056., 6496., - 4448.)
	set Se=Rect(1728., - 5280., 1984., - 5088.)
	set Te=Rect(- 5600., - 3104., - 5312., - 2816.)
	set Ue=Rect(- 3840., - 2816., - 3328., - 2592.)
	set Ve=Rect(2688., - 6240., 3008., - 5952.)
	set We=Rect(1280., - 6464., 1632., - 6208.)
	set Xe=Rect(3168., - 864., 3488., - 576.)
	set Ye=Rect(- 5056., 192., - 4736., 512.)
	set Ze=Rect(- 11968., 448., - 11680., 736.)
	set df=Rect(- 10688., - 1152., - 4864., 5792.)
	set lh_r=Rect(8800, - 4500, 14300, 4500)
	set we=AddWeatherEffect(df, 1464820599)
	call EnableWeatherEffect(we, true)
	set ef=Rect(- 13568., 2272., - 13440., 2400.)
	set ff=Rect(1376., - 3840., 1472., - 3744.)
	set gf=Rect(- 12448., 1440., - 12288., 1600.)
	set hf=Rect(- 11584., 2496., - 11456., 2624.)
	set jf=Rect(- 12704., 3680., - 12576., 3808.)
	set kf=Rect(- 14688., 3552., - 14560., 3680.)
	set mf=Rect(- 14752., 1760., - 14624., 1888.)
	set nf=Rect(- 14080., 288., - 13952., 416.)
	set of=Rect(- 15328., 96., - 11296., 4352.)
	set we=AddWeatherEffect(of, 1178886760)
	call EnableWeatherEffect(we, true)
	set pf=Rect(- 5568., - 5472., - 5280., - 5216.)
	set qf=Rect(- 4064., - 5408., - 3744., - 5184.)
	set rf=Rect(- 5600., - 4512., - 5376., - 4256.)
	set sf=Rect(- 4608., - 4448., - 4416., - 4288.)
	set tf=Rect(- 3520., - 4576., - 3296., - 4384.)
	set uf=Rect(- 2560., - 6144., - 2368., - 5984.)
	set vf=Rect(- 3424., - 6592., - 3200., - 6368.)
	set wf=Rect(- 5568., - 6496., - 5344., - 6272.)
	set xf=Rect(- 15712., 5568., - 11008., 10176.)
	set we=AddWeatherEffect(xf, 1464755063)
	call EnableWeatherEffect(we, true)
	set yf=Rect(- 15392., 5184., - 15136., 5440.)
	set zf=Rect(- 12768., 6496., - 12576., 6688.)
	set Af=Rect(- 14240., 6176., - 14080., 6304.)
	set af=Rect(- 14144., 7136., - 13984., 7296.)
	set Bf=Rect(- 13888., 8352., - 13728., 8480.)
	set bf=Rect(- 11488., 7936., - 11328., 8096.)
	set Cf=Rect(- 11456., 5856., - 11296., 6048.)
	set cf=Rect(- 13088., 5856., - 12928., 5984.)
	set Df=Rect(- 10272., - 5824., - 6752., - 1600.)
	set we=AddWeatherEffect(Df, 1178886760)
	call EnableWeatherEffect(we, true)
	call SetSoundPosition(ah, - 8512., - 3712., .0)
	call RegisterStackedSound(ah, true, 3520., 4224.)
	set Ef=Rect(- 6080., - 7136., - 1728., - 4224.)
	set we=AddWeatherEffect(Ef, 1380018290)
	call EnableWeatherEffect(we, true)
	set Ff=Rect(- 6400., - 1600., - 6272., - 1472.)
	set Gf=Rect(- 9760., - 5440., - 9632., - 5312.)
	set Hf=Rect(- 10048., - 5440., - 9920., - 5312.)
	set If=Rect(- 6208., - 1568., - 6080., - 1440.)
	set lf=Rect(- 8704., - 3840., - 8576., - 3712.)
	set Jf=Rect(- 8704., - 3648., - 8576., - 3520.)
	set Kf=Rect(- 9280., - 3840., - 9152., - 3712.)
	set Lf=Rect(- 9568., - 3840., - 9440., - 3712.)
	set Mf=Rect(6048., - 672., 7040., 384.)
	set Nf=Rect(- 15680., 10432., - 10976., 15296.)
	set we=AddWeatherEffect(Nf, 1464755063)
	call EnableWeatherEffect(we, true)
	set Of=Rect(- 13440., 11648., - 13312., 11776.)
	set Pf=Rect(- 13728., 11840., - 13600., 11968.)
	set Qf=Rect(- 12800., 11136., - 12672., 11264.)
	set Rf=Rect(1664., 6336., 6048., 10624.)
	set we=AddWeatherEffect(Rf, 1464822903)
	call EnableWeatherEffect(we, true)
	call SetSoundPosition(Bh, 3856., 8480., 512.)
	call RegisterStackedSound(Bh, true, 4384., 4288.)
	set Sf=Rect(- 12480., 11168., - 12352., 11296.)
	set Tf=Rect(- 12416., 13184., - 12288., 13312.)
	set Uf=Rect(- 12160., 12992., - 12032., 13120.)
	set Vf=Rect(- 13056., 13376., - 12928., 13504.)
	set Wf=Rect(- 13248., 13664., - 13120., 13792.)
	set Xf=Rect(- 15264., 10912., - 15136., 11040.)
	set Yf=Rect(- 13312., 14688., - 13184., 14816.)
	set Zf=Rect(- 15072., 14752., - 14944., 14880.)
	set dg=Rect(- 9088., 13504., - 8896., 13664.)
	set eg=Rect(- 6688., 15008., - 6496., 15168.)
	set fg=Rect(- 7968., 13408., - 7776., 13568.)
	set gg=Rect(- 8864., 12992., - 8672., 13152.)
	set hg=Rect(- 8768., 11360., - 8576., 11552.)
	set ig=Rect(- 9504., 12832., - 9312., 13024.)
	set jg=Rect(- 6784., 11328., - 6592., 11520.)
	set kg=Rect(- 6880., 9184., - 6688., 9376.)
	set mg=Rect(- 9568., 11360., - 9376., 11552.)
	set ng=Rect(- 9632., 10880., - 9440., 11072.)
	set og=Rect(- 9056., 9344., - 8864., 9536.)
	set pg=Rect(- 8992., 8832., - 8800., 9024.)
	set qg=Rect(- 7456., 10144., - 7264., 10336.)
	set rg=Rect(- 7136., 12736., - 6944., 12928.)
	set sg=Rect(- 6656., 14176., - 6464., 14368.)
	set tg=Rect(- 6848., 6688., - 6656., 6880.)
	set ug=Rect(- 6912., 8576., - 6720., 8768.)
	set vg=Rect(- 9728., 7584., - 9536., 7744.)
	set wg=Rect(- 9632., 9184., - 9408., 9376.)
	set xg=Rect(- 9088., 7008., - 8928., 7200.)
	set yg=Rect(- 8192., 7776., - 8032., 7936.)
	set zg=Rect(- 9856., 6624., - 9664., 6816.)
	set Ag=Rect(- 5216., 6848., - 5088., 6976.)
	set ag=Rect(5568., - 1056., 5792., - 768.)
	set Bg=Rect(- 3616., - 96., - 3328., 224.)
	set bg=Rect(- 5856., 6784., - 2848., 11328.)
	set Cg=Rect(4576., - 2304., 4736., - 2112.)
	set cg=Rect(4160., - 3168., 7200., - 1216.)
	set we=AddWeatherEffect(cg, 1296393331)
	call EnableWeatherEffect(we, true)
	set Dg=Rect(- 14912., - 4928., - 14720., - 4768.)
	set Eg=Rect(- 15264., - 6560., - 15072., - 6368.)
	set Fg=Rect(- 13120., - 2112., - 12960., - 1952.)
	set Gg=Rect(- 15744., - 6752., - 10656., - 320.)
	set Hg=Rect(- 16096., - 10656., - 12352., - 7168.)
	set Ig=Rect(- 15520., - 10208., - 15296., - 9952.)
	set lg=Rect(- 12384., - 6080., - 12000., - 5600.)
	set Jg=Rect(- 32., 11968., 256., 12224.)
	set Kg=Rect(- 5760., 11520., 512., 15296.)
	set we=AddWeatherEffect(Kg, 1280470369)
	call EnableWeatherEffect(we, true)
	set Lg=Rect(- 1280., 10944., - 1056., 11200.)
	set Mg=Rect(1792., 11456., 5504., 15648.)
	set we=AddWeatherEffect(Mg, 1397647475)
	call EnableWeatherEffect(we, true)
	set Ng=Rect(2112., 11840., 2304., 12032.)
	set Og=Rect(4800., 14016., 4992., 14208.)
	set Pg=Rect(3904., 12800., 4032., 12928.)
	set Qg=Rect(3616., 8448., 3840., 8672.)
	set Rg=Rect(4320., 320., 4512., 512.)
	set Sg=Rect(864., - 5248., 1024., - 5088.)
	set Ug=Rect(- 15424., - 15904., - 13888., - 14368.)
	set Vg=Rect(- 14816., - 15616., - 14592., - 15488.)
	set Wg=Rect(7200., 11904., 7392., 12064.)
	set Xg=Rect(7200., 14592., 7328., 14720.)
	set Yg=Rect(6432., 11648., 8256., 15264.)
	set we=AddWeatherEffect(Yg, 1296393331)
	call EnableWeatherEffect(we, true)
	call SetSoundPosition(ah, 7344., 13456., .0)
	call RegisterStackedSound(ah, true, 1824., 3616.)
	set Zg=Rect(- 10080., 608., - 9888., 800.)
	set dh=Rect(9312., 13696., 9504., 13888.)
	set eh=Rect(8960., 13440., 10976., 15744.)
	set fh=Rect(- 10688., 4704., - 10560., 4864.)
	set gh=Rect(- 10112., 5216., - 9984., 5376.)
	set hh=Rect(- 9824., - 320., - 9664., - 160.)
	set udg_liuqiu=Rect(5728., - 13472., 5952., - 13248.)
	set jh=Rect(3104., - 13344., 3328., - 13120.)
	set kh=Rect(- 9248., - 96., - 8832., 320.)
	set mh=Rect(- 6528., 4224., - 6336., 4384.)
	set nh=Rect(416., - 864., 576., - 704.)
	set oh=Rect(416., - 1152., 576., - 992.)
	set ph=Rect(416., - 1472., 576., - 1312.)
	set qh=Rect(416., - 1760., 576., - 1600.)
	set rh=Rect(- 2784., - 832., - 2624., - 672.)
	set sh=Rect(- 2336., - 832., - 2176., - 672.)
	set th=Rect(- 2272., - 1280., - 2112., - 1120.)
	set uh=Rect(- 9216., - 14464., - 8800., - 14048.)
	set vh=Rect(- 7584., - 11648., - 7392., - 11456.)
	set Gt=CreateDestructable('ATg1', - 12160., - 15104., 270., .1, 0)
call CreateItem(('I04S' ), (( - 13670. )*1.0), (( - 5176.9)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 15044.5 )*1.0), (( - 4362.7)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 14352.8 )*1.0), (( - 5099.9)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 12961.7 )*1.0), (( - 1926.6)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 11668.2 )*1.0), (( - 3676.2)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 13280.1 )*1.0), (( - 3255.6)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 14558.4 )*1.0), (( - 3730.4)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 12682.9 )*1.0), (( - 5421.)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 12819.6 )*1.0), (( - 6280.9)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 11757.7 )*1.0), (( - 1760.2)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 11871.1 )*1.0), (( - 1750.7)*1.0)) // INLINED!!
call CreateItem(('I04S' ), (( - 12008.6 )*1.0), (( - 5355.2)*1.0)) // INLINED!!
call CreateItem((1227897138 ), (( - 1694.1 )*1.0), (( - 1810.2)*1.0)) // INLINED!!
call CreateItem((1227897138 ), (( - 1881.7 )*1.0), (( - 1924.9)*1.0)) // INLINED!!
call CreateItem((1227897138 ), (( - 1657.2 )*1.0), (( - 1924.9)*1.0)) // INLINED!!
call CreateItem((1227897138 ), (( - 1772.9 )*1.0), (( - 1919.8)*1.0)) // INLINED!!
call CreateItem((1227897138 ), (( - 1894.2 )*1.0), (( - 1812.9)*1.0)) // INLINED!!
call CreateItem((1227897138 ), (( - 1799.6 )*1.0), (( - 1810.2)*1.0)) // INLINED!!
	set we=null
	set d=null
endfunction
function MapStartCreateUnitsAndInitEnvironments takes nothing returns nothing
	call CreateUnitsForPlayer_5()
	call CreateUnitsForPlayer_12()
	call CreateUnitsForPlayer_15()
	call InitEnvironment()
endfunction
//===========================================================
//è¢«åŠ¨æŠ€èƒ½èŒƒå›´ä¼¤å®³
//attacker = æ”»å‡»è€…
//attacker = è¢«æ”»å‡»è€…
//spell_id = æŠ€èƒ½ID
//range    = æŠ€èƒ½èŒƒå›´
//damage   = ä¼¤å®³å€¼
//effects  = ç‰¹æ•ˆ
//possibility = æ¦‚ç‡
//mana_cost = è“è€—
//===========================================================
function UnitAttack_Conditions takes nothing returns boolean
 local unit u= GetAttacker()
 local unit l__ut= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
 local location loc2= GetUnitLoc(l__ut)
 local location temp_loc= null
 local group g= null
 local integer j= 0
 local integer k= 0
 local real x= 0
 local real y= 0
 local unit dummy= null
	// åµ©å±±å‰‘æ³•
	if (PassiveWuGongCondition((u ) , ( l__ut) , 'A0BF')) then // INLINED!!
		call songShanJianFa(u , l__ut)
	endif
	// åƒè››æ‰‹
    if PassiveWuGongCondition(u , l__ut , QIAN_ZHU_SHOU) then
        call qianZhuShou()
    endif
    // åƒè››æ‰‹çš„èœ˜è››æ”»å‡»
    if GetUnitTypeId(u) == 'n00Y' then
        call qianZhuZhu()
    endif
    // é©­è›‡å¥‡æœ¯
    if PassiveWuGongCondition(u , l__ut , YU_SHE_SHU) then
        call yuSheShu()
	endif
	
	// è½è‹±å‰‘æ³•
	if PassiveWuGongCondition(u , l__ut , LUO_YING_JIAN) and GetRandomReal(1, 100) <= 18 + fuyuan[i] * 0.2 then
		call luoYingJian(u , l__ut)
	endif
	
	// æ—‹é£æ‰«å¶è…¿
	if PassiveWuGongCondition(u , l__ut , XUAN_FENG_TUI) and GetRandomReal(1, 100) <= 18 + fuyuan[i] * 0.2 then
		call xuanFengTui(u , l__ut)
	endif
	call RemoveLocation(loc)
	call RemoveLocation(loc2)
	set u=null
	set l__ut=null
	set loc=null
	set loc2=null
	set p=null
	set dummy=null
	return false
endfunction
function UnitAttack takes nothing returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(t, Condition(function UnitAttack_Conditions))
	set t=null
endfunction
//ä½¿ç”¨æŠ€èƒ½ç³»ç»Ÿ
function UseAbility_Conditions takes nothing returns boolean
 local integer id= GetSpellAbilityId()
 local unit u= GetTriggerUnit()
 local unit l__ut= GetSpellTargetUnit()
 local unit last= null
 local player p= GetOwningPlayer(u)
 local integer i= GetPlayerId(p)
 local timer t= null
 local real r= 0
 local integer j= 0
 local real range= 500
 local real rand= 0
 local integer randInt= 0
 local group g= null
 local integer life= 0
	
	// äº”æ¯’æ•™ï¼šäº”æ¯’ç¬›å’’
	if id == WU_DU_ZHOU then
		call wuDuZhou()
	endif
	
	// äº”æ¯’æ•™ï¼šè¡¥å¤©å¿ƒç»
	if id == BU_TIAN_JING then
		call buTianJing()
	endif
	
	// äº”æ¯’æ•™ï¼šä¸‡èœå™¬å¿ƒ
	if id == WAN_CHU_SHI_XIN then
		call wanChuShiXin()
	endif
	
	// æ¡ƒèŠ±å²›ï¼šè½è‹±ç¥å‰‘æŒ 
	if id == LUO_YING_ZHANG then
		call luoYingZhang(u)
	endif
	// æ¡ƒèŠ±å²›ï¼šç¢§æ³¢å¿ƒç» 
	if id == BI_BO_XIN_JING then
		call biBoXinJing(u)
	endif
	
	// æ¡ƒèŠ±å²›ï¼šå¥‡é—¨æœ¯æ•° 
	if id == QI_MEN_SHU_SHU then
		call qiMenShuShu(u)
	endif
 
	set u=null
	set l__ut=null
	set p=null
	set g=null
	set last=null
	return false
endfunction
//å•ä½ä½¿ç”¨æŠ€èƒ½ç³»ç»Ÿ
function UseAbility takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(t, Condition(function UseAbility_Conditions))
	set t=null
endfunction
function UnitDamage_Conditions takes nothing returns boolean
 local unit u= GetEventDamageSource()
 local unit uc= null
 local unit l__ut= GetTriggerUnit()
 local player p= GetOwningPlayer(u)
 local integer i= 1 + GetPlayerId(p)
 local location loc= GetUnitLoc(u)
 local location loc2= GetUnitLoc(l__ut)
 local real damage= GetEventDamage()
 local trigger t= null
	
	if damage == 5.93 then
		call wanChuEffect()
	endif
	
	if damage == 5.41 then
		call wuDuZhouDamage()
	endif
	
	// è½è‹±ç¥å‰‘æŒ
	if damage == 6.01 then
		call luoYingZhangDamage(udg_hero[i] , l__ut)
	endif
	
	// è½è‹±å‰‘æ³•
	if damage == 6.02 then
		call luoYingJianDamage(udg_hero[i] , l__ut)
	endif
	
	// æ—‹é£æ‰«å¶è…¿
	if damage == 6.03 then
		call xuanFengTuiDamage(udg_hero[i] , l__ut)
	endif
	// å¥‡é—¨æœ¯æ•°
	if damage == 6.04 then
		call qiMenShuShuDamage(udg_hero[i] , l__ut)
	endif
	
	
	set t=null
	set u=null
	set l__ut=null
	set uc=null
	set loc=null
	set loc2=null
	set p=null
	return false
endfunction
//ä»»æ„å•ä½ä¼¤å®³äº‹ä»¶ç³»ç»Ÿ
function UnitDamage takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	call YDWESyStemAnyUnitDamagedRegistTrigger(t)
	call TriggerAddCondition(t, Condition(function UnitDamage_Conditions))
	set t=null
endfunction
// ä»»æ„å•ä½æ­»äº¡äº‹ä»¶
function UnitDeath_Conditions takes nothing returns boolean
 local unit u= GetKillingUnit()
 local unit l__ut= GetTriggerUnit()
 local integer i= 1 + GetPlayerId(GetOwningPlayer(u))
 local integer count= IMaxBJ(LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT), 10)
 local integer j= 1
	if IsUnitEnemy(l__ut, GetOwningPlayer(u)) and GetUnitAbilityLevel(u, BI_BO_XIN_JING) >= 1 then
		set bibo_kill[i]=bibo_kill[i] + 1
		if bibo_kill[i] > count then
			set bibo_kill[i]=bibo_kill[i] - count
			if GetUnitAbilityLevel(u, QI_MEN_SHU_SHU) >= 1 then
				set j=2
			endif
			call SaveInteger(YDHT, GetHandleId(u), BI_BO_POINT, LoadInteger(YDHT, GetHandleId(u), BI_BO_POINT) + j)
			call DisplayTextToPlayer(Player(i - 1), 0, 0, "ç¢§æ³¢å¿ƒç»ç‚¹æ•°+" + I2S(j))
		endif
	endif
	
	set u=null
	set l__ut=null
	return false
endfunction
//ä»»æ„å•ä½æ­»äº¡äº‹ä»¶ç³»ç»Ÿ
function UnitDeath takes nothing returns nothing
 local trigger t= CreateTrigger()
	
	call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(t, Condition(function UnitDeath_Conditions))
	set t=null
endfunction
function CunWuGong takes integer num,integer id1,integer id2,string s,integer dp1,integer fy1,integer gg1,integer jm1,integer wx1,integer ys1 returns nothing
 local integer i= StringHash("æ­¦å­¦")
	call SaveInteger(YDHT, i + num, 0, num)
	call SaveInteger(YDHT, i + num, 1, id1)
	call SaveInteger(YDHT, i + num, 2, id2)
	call SaveStr(YDHT, i + num, 3, s)
	call SaveInteger(YDHT, i + num, 4, dp1)
	call SaveInteger(YDHT, i + num, 5, fy1)
	call SaveInteger(YDHT, i + num, 6, gg1)
	call SaveInteger(YDHT, i + num, 7, jm1)
	call SaveInteger(YDHT, i + num, 8, wx1)
	call SaveInteger(YDHT, i + num, 9, ys1)
endfunction
function CunWuGongS takes nothing returns nothing
	//é¡ºåºï¼šèƒ†é­„ã€ç¦ç¼˜ã€æ ¹éª¨ã€ç»è„‰ã€æ‚Ÿæ€§ã€åŒ»æœ¯
	call CunWuGong(1 , 'I03J' , 'A07A' , "æ±Ÿæ¹–æ­¦å­¦" , 0 , 10 , 0 , 0 , 14 , 15)
	call CunWuGong(2 , 'I03H' , 'A06H' , "æ±Ÿæ¹–æ­¦å­¦" , 14 , 12 , 18 , 0 , 0 , 0)
	call CunWuGong(3 , 'I02V' , 'A07Q' , "æ±Ÿæ¹–å†…åŠŸ" , 0 , 12 , 0 , 18 , 0 , 14)
	call CunWuGong(4 , 'I02U' , 'A07P' , "æ±Ÿæ¹–å†…åŠŸ" , 17 , 0 , 0 , 22 , 0 , 0)
	call CunWuGong(5 , 'I03G' , 'A06L' , "æ±Ÿæ¹–æ­¦å­¦" , 0 , 0 , 0 , 15 , 10 , 12)
	call CunWuGong(6 , 'I02Z' , 'A0DN' , "æ±Ÿæ¹–å†…åŠŸ" , 17 , 14 , 18 , 0 , 0 , 0)
	call CunWuGong(7 , 'I02X' , 'A07S' , "ä¹é˜´å†…åŠŸ" , 0 , 17 , 17 , 17 , 20 , 0)
	call CunWuGong(8 , 'I03I' , 'A07N' , "ä¹é˜´æ­¦å­¦" , 13 , 0 , 12 , 12 , 16 , 0)
	call CunWuGong(9 , 'I02Y' , 'A07T' , "æ±Ÿæ¹–å†…åŠŸ" , 22 , 20 , 0 , 17 , 0 , 0)
	call CunWuGong(10 , 'I03K' , 'A06J' , "æ±Ÿæ¹–æ­¦å­¦" , 14 , 0 , 0 , 16 , 20 , 0)
	call CunWuGong(11 , 'I03D' , 'A07O' , "æ±Ÿæ¹–å†…åŠŸ" , 0 , 16 , 0 , 0 , 0 , 16)
	call CunWuGong(12 , 'I03L' , 'A07M' , "æ±Ÿæ¹–æ­¦å­¦" , 0 , 14 , 14 , 14 , 14 , 0)
	call CunWuGong(13 , 'I030' , 'A07W' , "æ±Ÿæ¹–å†…åŠŸ" , 0 , 0 , 0 , 23 , 18 , 17)
	call CunWuGong(14 , 'I031' , 'A07U' , "æ±Ÿæ¹–å†…åŠŸ" , 18 , 20 , 16 , 0 , 0 , 0)
	call CunWuGong(15 , 'I03E' , 'A06M' , "æ±Ÿæ¹–æ­¦å­¦" , 0 , 0 , 18 , 18 , 0 , 0)
	call CunWuGong(16 , 'I033' , 'A071' , "æ±Ÿæ¹–æ­¦å­¦" , 0 , 12 , 0 , 16 , 0 , 11)
	call CunWuGong(17 , 'I02W' , 'A07R' , "æ±Ÿæ¹–å†…åŠŸ" , 0 , 0 , 0 , 14 , 12 , 11)
	call CunWuGong(18 , 'I03F' , 'A06P' , "æ±Ÿæ¹–æ­¦å­¦" , 0 , 0 , 22 , 17 , 15 , 0)
	call CunWuGong(19 , 'I039' , 'A07G' , "ç»ä¸–æ­¦å­¦" , 18 , 21 , 27 , 0 , 0 , 0)
	call CunWuGong(20 , 'I034' , 'A07L' , "ç»ä¸–æ­¦å­¦" , 20 , 0 , 26 , 18 , 0 , 0)
	call CunWuGong(21 , 'I038' , 'A07F' , "ç»ä¸–æ­¦å­¦" , 0 , 19 , 0 , 22 , 28 , 0)
	call CunWuGong(22 , 'I037' , 'A07H' , "ç»ä¸–æ­¦å­¦" , 17 , 25 , 0 , 0 , 17 , 0)
	call CunWuGong(23 , 'I03B' , 'A086' , "ç»ä¸–æ­¦å­¦" , 0 , 23 , 20 , 0 , 29 , 0)
	call CunWuGong(24 , 'I032' , 'A07E' , "ç»ä¸–æ­¦å­¦" , 24 , 0 , 30 , 24 , 0 , 0)
	call CunWuGong(25 , 'I035' , 'A085' , "ç»ä¸–æ­¦å­¦" , 0 , 0 , 0 , 24 , 19 , 16)
	call CunWuGong(26 , 'I036' , 'A07J' , "ç»ä¸–æ­¦å­¦" , 23 , 0 , 0 , 18 , 0 , 16)
	call CunWuGong(27 , 'I03C' , 'A089' , "ç»ä¸–æ­¦å­¦" , 23 , 0 , 0 , 20 , 22 , 0)
	call CunWuGong(28 , 'I03A' , 'A07I' , "ç»ä¸–æ­¦å­¦" , 25 , 0 , 25 , 25 , 20 , 0)
	call CunWuGong(29 , 'I03S' , 'A082' , "ç»ä¸–å†…åŠŸ" , 22 , 32 , 0 , 22 , 0 , 25)
	call CunWuGong(30 , 'I03O' , 'A084' , "ç»ä¸–å†…åŠŸ" , 28 , 19 , 0 , 28 , 0 , 0)
	call CunWuGong(31 , 'I03T' , 'S002' , "ç»ä¸–å†…åŠŸ" , 20 , 0 , 29 , 0 , 0 , 23)
	call CunWuGong(32 , 'I03Q' , 'A07X' , "ç»ä¸–å†…åŠŸ" , 0 , 23 , 31 , 33 , 0 , 0)
	call CunWuGong(33 , 'I03M' , 'A0D8' , "ç»ä¸–å†…åŠŸ" , 28 , 24 , 0 , 33 , 0 , 30)
	call CunWuGong(34 , 'I03P' , 'A080' , "ç»ä¸–å†…åŠŸ" , 25 , 0 , 0 , 32 , 22 , 32)
	call CunWuGong(35 , 'I03U' , 'A083' , "ç»ä¸–å†…åŠŸ" , 0 , 24 , 0 , 30 , 24 , 21)
	call CunWuGong(36 , 'I03R' , 'A09D' , "ç»ä¸–å†…åŠŸ" , 0 , 30 , 0 , 27 , 34 , 23)
	call CunWuGong(37 , 'I09G' , 'A0D2' , "ä¹é˜´å†…åŠŸ" , 0 , 17 , 17 , 17 , 20 , 0)
	call CunWuGong(38 , 'I09H' , 'A0D4' , "ä¹é˜´å†…åŠŸ" , 0 , 17 , 17 , 17 , 20 , 0)
	call CunWuGong(39 , 'I09I' , 'A0D6' , "ä¹é˜´å†…åŠŸ" , 0 , 17 , 17 , 17 , 20 , 0) // æ˜“ç­‹æ–­éª¨ç¯‡
call CunWuGong(40 , 'I09J' , 'A0D1' , "ä¹é˜´æ­¦å­¦" , 13 , 0 , 12 , 12 , 16 , 0) // æ‘§åš
call CunWuGong(41 , 'I09K' , 'A0D3' , "ä¹é˜´æ­¦å­¦" , 13 , 0 , 12 , 12 , 16 , 0) // æ‘§å¿ƒæŒ
call CunWuGong(42 , 'I0C2' , 'A03N' , "å¥‡æ­¦" , 0 , 0 , 0 , 15 , 14 , 16)
	call CunWuGong(43 , 'I0C3' , 'A03P' , "å¥‡æ­¦" , 0 , 18 , 20 , 0 , 0 , 16)
	call CunWuGong(44 , 'I0C4' , 'A03L' , "å¥‡æ­¦" , 12 , 14 , 16 , 0 , 0 , 0)
	call CunWuGong(45 , 'I0C5' , 'A03Q' , "å¥‡æ­¦" , 17 , 0 , 0 , 0 , 20 , 0)
	call CunWuGong(46 , 'I0C6' , 'A03O' , "å¥‡æ­¦" , 14 , 15 , 16 , 0 , 0 , 12)
	call CunWuGong(47 , 'I0C8' , 'A0CE' , "å¥‡æ­¦" , 12 , 0 , 0 , 0 , 18 , 0)
	call CunWuGong(48 , 'I0C9' , 'A03T' , "å¥‡æ­¦" , 14 , 17 , 0 , 16 , 0 , 0)
	call CunWuGong(49 , 'I0CA' , 'A03U' , "å¥‡æ­¦" , 0 , 0 , 0 , 20 , 0 , 0)
	call CunWuGong(50 , 'I0CB' , 'A03W' , "å¥‡æ­¦" , 0 , 0 , 0 , 14 , 14 , 0)
	call CunWuGong(51 , 'I0CC' , 'A03V' , "å¥‡æ­¦" , 0 , 0 , 0 , 0 , 15 , 12)
	call CunWuGong(52 , 'I0CD' , 'A03Z' , "å¥‡æ­¦" , 13 , 17 , 16 , 0 , 0 , 0)
	call CunWuGong(53 , 'I0CJ' , 'A04V' , "å¥‡æ­¦" , 15 , 0 , 16 , 0 , 17 , 0)
	call CunWuGong(54 , 'I0CT' , 'A06A' , "å¥‡æ­¦" , 15 , 0 , 15 , 15 , 15 , 0) //ã€Šå¯¿æœ¨é•¿ç”ŸåŠŸã€‹
call CunWuGong(55 , 'I0CU' , 'A06B' , "å¥‡æ­¦" , 20 , 20 , 0 , 25 , 20 , 0) //ã€Šé»„æ²™ä¸‡é‡Œé­æ³•ã€‹
call CunWuGong(56 , 'I0CV' , 'A06S' , "å¥‡æ­¦" , 0 , 0 , 0 , 25 , 0 , 25) //ã€Šä¹é˜³çœŸç»æ•£ç¯‡ã€‹
endfunction
//ä¸‡èƒ½è£…å¤‡ç³»ç»Ÿ
function Cun takes integer id,string name,string s11,real i11,string s12,real i12,string s13,real i13,string s14,real i14 returns nothing
 local item it=CreateItem(id, 0, 0)
 local integer l__hp=R2I(GetWidgetLife(it))
 local integer lv=0
	if HaveSavedInteger(YDHT, id, id) == false then
		call SaveInteger(YDHT, id, id, id)
	endif
	if StringLength(s11) > 0 and i11 > 0 then
		call SaveReal(YDHT, id, StringHash(s11), i11)
	endif
	if StringLength(s12) > 0 and i12 > 0 then
		call SaveReal(YDHT, id, StringHash(s12), i12)
	endif
	if StringLength(s13) > 0 and i13 > 0 then
		call SaveReal(YDHT, id, StringHash(s13), i13)
	endif
	if StringLength(s14) > 0 and i14 > 0 then
		call SaveReal(YDHT, id, StringHash(s14), i14)
	endif
	call SaveReal(YDHT, id, StringHash("å‡çº§æ¦‚ç‡"), 100.)
	call RemoveItem(it)
	set it=null
endfunction

function Cuns takes nothing returns nothing
	//æ”»å‡»åŠ›ã€æŠ¤ç”²ã€æ‹›å¼ä¼¤å®³ã€å†…åŠ›ã€çœŸå®ä¼¤å®³
	//call BJDebugMsg("å¼€å§‹å­˜å‚¨è£…å¤‡å±æ€§")
	call Cun('I00C' , "é¾™é³å‰‘" , "æ”»å‡»åŠ›" , 5000 , "æ‹›å¼ä¼¤å®³" , 750 , "å†…åŠ›" , 200 , "çœŸå®ä¼¤å®³" , 200)
	call Cun('I00B' , "å€šå¤©å‰‘" , "æ”»å‡»åŠ›" , 4500 , "æ‹›å¼ä¼¤å®³" , 700 , "å†…åŠ›" , 190 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00D' , "å± é¾™åˆ€" , "æ”»å‡»åŠ›" , 4850 , "æ‹›å¼ä¼¤å®³" , 720 , "å†…åŠ›" , 195 , "çœŸå®ä¼¤å®³" , 300)
	call Cun('I04F' , "æ–­è‚ " , "æ”»å‡»åŠ›" , 1000 , "æ‹›å¼ä¼¤å®³" , 150 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 80)
	call Cun('I00P' , "æ™¶ç‰æ‰‡" , "æ”»å‡»åŠ›" , 3000 , "æ‹›å¼ä¼¤å®³" , 250 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00Q' , "ç´«é‡‘åˆ€" , "æ”»å‡»åŠ›" , 2700 , "æ‹›å¼ä¼¤å®³" , 230 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 100)
	call Cun('I01L' , "ç²¾é’¢å‰‘" , "æ”»å‡»åŠ›" , 650 , "æ‹›å¼ä¼¤å®³" , 80 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01N' , "ä¸ƒæ˜Ÿæ‰‡" , "æ”»å‡»åŠ›" , 800 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 40)
	call Cun('I00X' , "é¸³é¸¯åˆ€" , "æ”»å‡»åŠ›" , 1500 , "æ‹›å¼ä¼¤å®³" , 150 , "å†…åŠ›" , 50 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I097' , "æ‰“ç‹—æ£’" , "æ”»å‡»åŠ›" , 4500 , "æ‹›å¼ä¼¤å®³" , 650 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I099' , "å›å­å‰‘" , "æ”»å‡»åŠ›" , 2000 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 50 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I09B' , "è›‡æ–" , "æ”»å‡»åŠ›" , 4500 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 1000)
	call Cun('I09A' , "æ·‘å¥³å‰‘" , "æ”»å‡»åŠ›" , 1800 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I09C' , "åŒå‰‘åˆç’§" , "æ”»å‡»åŠ›" , 3800 , "æ‹›å¼ä¼¤å®³" , 220 , "å†…åŠ›" , 220 , "çœŸå®ä¼¤å®³" , 150)
	call Cun('I098' , "è¡€åˆ€" , "æ”»å‡»åŠ›" , 50000 , "æ‹›å¼ä¼¤å®³" , 700 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I09D' , "ç‰ç®«" , "æ”»å‡»åŠ›" , 4850 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 900 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I0DK' , "çœŸæ­¦å‰‘" , "æ”»å‡»åŠ›" , 2000 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 400 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I0DU' , "æ‹‚å°˜" , "æ”»å‡»åŠ›" , 3000 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 300 , "çœŸå®ä¼¤å®³" , 300)
	call Cun('I0DY' , "é•‡å²³å°šæ–¹" , "æ”»å‡»åŠ›" , 5000 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 400 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I0EJ' , "é“æŒä»¤" , "æ”»å‡»åŠ›" , 5000 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 600 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I0DZ' , "æ¯’é¾™é­" , "æ”»å‡»åŠ›" , 5000 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 700)
	call Cun('I0E0' , "å…»å¾å‰‘" , "æ”»å‡»åŠ›" , 4000 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 300 , "çœŸå®ä¼¤å®³" , 400)
	call Cun('I0E2' , "ä¸œçµé“å‰‘" , "æ”»å‡»åŠ›" , 5000 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 300 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I08V' , "æ±Ÿæ¹–Â·å¿ " , "æ”»å‡»åŠ›" , 10000 , "æ‹›å¼ä¼¤å®³" , 350 , "å†…åŠ›" , 350 , "çœŸå®ä¼¤å®³" , 350)
	call Cun('I02S' , "é•‡å¦–+1" , "æ”»å‡»åŠ›" , 1000 , "æ‹›å¼ä¼¤å®³" , 150 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I02M' , "é•‡å¦–+2" , "æ”»å‡»åŠ›" , 2000 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I02Q' , "é•‡å¦–+3" , "æ”»å‡»åŠ›" , 3000 , "æ‹›å¼ä¼¤å®³" , 450 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I02R' , "é•‡å¦–+4" , "æ”»å‡»åŠ›" , 4000 , "æ‹›å¼ä¼¤å®³" , 600 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I02P' , "é•‡å¦–+5" , "æ”»å‡»åŠ›" , 5000 , "æ‹›å¼ä¼¤å®³" , 750 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01F' , "ç‚¹é‡‘" , "æ”»å‡»åŠ›" , 500 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 20 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01S' , "å¼€å±±æ–§" , "æ”»å‡»åŠ›" , 450 , "æ‹›å¼ä¼¤å®³" , 30 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I020' , "é’é“œåˆ€" , "æ”»å‡»åŠ›" , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01E' , "ç§‹å¶åˆƒ" , "æ”»å‡»åŠ›" , 600 , "æ‹›å¼ä¼¤å®³" , 60 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I021' , "é”å€™æª" , "æ”»å‡»åŠ›" , 200 , "æ‹›å¼ä¼¤å®³" , 15 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I016' , "å®£èŠ±æ–§" , "æ”»å‡»åŠ›" , 800 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I013' , "é¥®è¡€æª" , "æ”»å‡»åŠ›" , 1200 , "æ‹›å¼ä¼¤å®³" , 120 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I022' , "å¸ƒè¡£" , "é˜²å¾¡" , 35 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01T' , "å½©è¡£" , "é˜²å¾¡" , 60 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 15 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01H' , "è™çš®è¡£" , "é˜²å¾¡" , 85 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 40 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01G' , "è›‡çš®è£˜" , "é˜²å¾¡" , 90 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I017' , "å¼€é˜³è¡£" , "é˜²å¾¡" , 150 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I014' , "çƒˆç«è¡£" , "é˜²å¾¡" , 300 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01O' , "ä¸ƒæ˜Ÿé”¦æœ" , "é˜²å¾¡" , 150 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I04E' , "é‡‘è‰è¡£" , "é˜²å¾¡" , 250 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 80 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00O' , "è½¯çŒ¬ç”²" , "é˜²å¾¡" , 450 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00F' , "å…­åˆçºµæ¨ª" , "é˜²å¾¡" , 700 , "æ‹›å¼ä¼¤å®³" , 200 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 200)
	call Cun('I00G' , "ç ´å†›æ— åŒ" , "é˜²å¾¡" , 800 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I090' , "å†³æˆ˜Â·éœ¸" , "é˜²å¾¡" , 1000 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 250 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I0AL' , "å°‘æ—è¢ˆè£Ÿ" , "é˜²å¾¡" , 500 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I0DP' , "ä¸ƒæ˜Ÿé“è¢" , "é˜²å¾¡" , 400 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 300 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I09Z' , "é€šç¥" , "é˜²å¾¡" , 500 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01Q' , "ç ´å†›å¸½" , "é˜²å¾¡" , 20 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 30)
	call Cun('I00M' , "ç­äº‘å† " , "é˜²å¾¡" , 300 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I08Z' , "å†³æˆ˜Â·æ¶" , "é˜²å¾¡" , 500 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01R' , "ç ´å†›é‹" , "é˜²å¾¡" , 25 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 30)
	call Cun('I00T' , "ç¥è¡Œé‹" , "é˜²å¾¡" , 200 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00N' , "è¸é£é´" , "é˜²å¾¡" , 200 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I08Y' , "å†³æˆ˜Â·é­" , null , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 500)
	call Cun('I0AM' , "ç¥æœ¨ç‹é¼" , null , 0 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 100)
	call Cun('I0EP' , "å­åˆç ‚" , null , 0 , "æ‹›å¼ä¼¤å®³" , 80 , "å†…åŠ›" , 80 , "çœŸå®ä¼¤å®³" , 80)
	call Cun('I0DS' , "ç‰æ‰³æŒ‡" , null , 0 , "æ‹›å¼ä¼¤å®³" , 150 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 150)
	call Cun(ITEM_HAN_SHA , "å«æ²™å°„å½±" , null , 0 , "æ‹›å¼ä¼¤å®³" , 30 , "å†…åŠ›" , 30 , "çœŸå®ä¼¤å®³" , 30)
	call Cun('I0EQ' , "è§‚éŸ³æ³ª" , null , 0 , "æ‹›å¼ä¼¤å®³" , 120 , "å†…åŠ›" , 120 , "çœŸå®ä¼¤å®³" , 120)
	call Cun('I0DT' , "ç‡•å›½ç‰çº" , null , 0 , "æ‹›å¼ä¼¤å®³" , 150 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 150)
	call Cun('I01V' , "è‹èŸ’æŠ¤è…•" , "æ”»å‡»åŠ›" , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 10)
	call Cun('I01U' , "çº±ç»’æŠ¤è…•" , "æ”»å‡»åŠ›" , 0 , "æ‹›å¼ä¼¤å®³" , 15 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I018' , "å½©äº‘è…•" , null , 0 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 20 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01D' , "å¤©ç’‡æŠ¤è…•" , null , 0 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 100)
	call Cun('I01M' , "ç²¾é’¢æŠ¤è…•" , "é˜²å¾¡" , 30 , "æ‹›å¼ä¼¤å®³" , 40 , "å†…åŠ›" , 20 , "æ”»å‡»åŠ›" , 250)
	call Cun('I00Z' , "è¿½æœˆæ‰‹" , null , 0 , "æ‹›å¼ä¼¤å®³" , 120 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00R' , "å¤©ç‘æ¯’æŒ" , "æ”»å‡»åŠ›" , 1200 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 150)
	call Cun('I00S' , "æ— é­…é›·æ‰‹" , null , 0 , "æ‹›å¼ä¼¤å®³" , 200 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00H' , "é­”å½±ç‚æŒ" , "æ”»å‡»åŠ›" , 2000 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00I' , "è¸é£å†°æ‰‹" , "æ”»å‡»åŠ›" , 1800 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I023' , "æŠ¤èº«ç¬¦" , "é˜²å¾¡" , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I024' , "ç¯æˆ’" , "æ”»å‡»åŠ›" , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01X' , "ç¥ç€é¡¹é“¾" , null , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 15 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01Y' , "æ°´ç¢§æŠ¤ç¬¦" , null , 0 , "æ‹›å¼ä¼¤å®³" , 10 , "å†…åŠ›" , 15 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01Z' , "é—ªé¿æŠ¤ç¬¦" , "é˜²å¾¡" , 0 , "æ‹›å¼ä¼¤å®³" , 15 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01W' , "ä¼ å®¶ç¬¦" , "é˜²å¾¡" , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 15)
	call Cun('I01J' , "ä¸ƒç»æŠ¤ç¬¦" , null , 0 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 50 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I0DB' , "æ–°æ‰‹ç¥å™¨" , null , 0 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 100 , "çœŸå®ä¼¤å®³" , 100)
	call Cun('I0DJ' , "æ–°æ‰‹ç¥å™¨lv.1" , null , 0 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 50 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I0DL' , "æ–°æ‰‹ç¥å™¨lv.2" , null , 0 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 50 , "çœŸå®ä¼¤å®³" , 50)
	
	call Cun('I0E8' , "æ¸¸ä¾ å°è®°" , null , 0 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 50 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I0E9' , "å°ä¾ å°è®°" , null , 0 , "æ‹›å¼ä¼¤å®³" , 60 , "å†…åŠ›" , 60 , "çœŸå®ä¼¤å®³" , 60)
	call Cun('I0EA' , "åä¾ å°è®°" , null , 0 , "æ‹›å¼ä¼¤å®³" , 90 , "å†…åŠ›" , 90 , "çœŸå®ä¼¤å®³" , 90)
	call Cun('I0EB' , "å¤§è™¾å°è®°" , null , 0 , "æ‹›å¼ä¼¤å®³" , 120 , "å†…åŠ›" , 120 , "çœŸå®ä¼¤å®³" , 120)
	call Cun('I0EC' , "å·¨ä¾ å°è®°" , null , 0 , "æ‹›å¼ä¼¤å®³" , 150 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 150)
	call Cun('I0ED' , "è™¾ç±³å°è®°" , null , 0 , "æ‹›å¼ä¼¤å®³" , 200 , "å†…åŠ›" , 200 , "çœŸå®ä¼¤å®³" , 200)
	call Cun('I0EE' , "åå››å¤©ä¹¦" , null , 0 , "æ‹›å¼ä¼¤å®³" , 300 , "å†…åŠ›" , 300 , "çœŸå®ä¼¤å®³" , 300)
	call Cun('I01K' , "é’ç«¹æˆ’æŒ‡" , "æ”»å‡»åŠ›" , 200 , "æ‹›å¼ä¼¤å®³" , 20 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01I' , "æ˜Ÿäº‘æˆ’æŒ‡" , null , 0 , "æ‹›å¼ä¼¤å®³" , 30 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I019' , "ç™½è™ç¬¦" , "æ”»å‡»åŠ›" , 300 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01A' , "è“é­”é¡¹é“¾" , "é˜²å¾¡" , 50 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 40 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I01B' , "åŒ—æ–—æŠ¤ç¬¦" , "æ”»å‡»åŠ›" , 500 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 60)
	call Cun('I01C' , "æ¢¦è¶é¡¹é“¾" , null , 0 , "æ‹›å¼ä¼¤å®³" , 50 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 40)
	call Cun('I01P' , "ä¸ƒæ˜Ÿæˆ’æŒ‡" , null , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 30 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I010' , "äº‘æµ·é“¾" , null , 0 , "æ‹›å¼ä¼¤å®³" , 120 , "å†…åŠ›" , 60 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00Y' , "ä¸ƒæƒ…æŸ" , null , 0 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I011' , "å½±å²šæŠ¤ç¬¦" , null , 0 , "æ‹›å¼ä¼¤å®³" , 100 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I012' , "ç‰ä¿®æŠ¤ç¬¦" , null , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 50)
	call Cun('I00U' , "äº‘ç­æŠ¤ç¬¦" , "æ”»å‡»åŠ›" , 1000 , "æ‹›å¼ä¼¤å®³" , 200 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00V' , "æŠ—é­”æŠ¤ç¬¦" , null , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 100)
	call Cun('I00W' , "é‡ç”Ÿé“¾" , "é˜²å¾¡" , 100 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00J' , "ç¥è¿¹æˆ’" , null , 0 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 200)
	call Cun('I00K' , "å¦‚æ„æˆ’" , "æ”»å‡»åŠ›" , 1500 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 150 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I00L' , "ç»¿æ‰³æŒ‡" , "é˜²å¾¡" , 200 , "æ‹›å¼ä¼¤å®³" , 0 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I08W' , "æ±Ÿæ¹–Â·æƒ…" , null , 0 , "æ‹›å¼ä¼¤å®³" , 900 , "å†…åŠ›" , 400 , "çœŸå®ä¼¤å®³" , 0)
	call Cun('I08X' , "æ±Ÿæ¹–Â·ä¹‰" , null , 0 , "æ‹›å¼ä¼¤å®³" , 800 , "å†…åŠ›" , 0 , "çœŸå®ä¼¤å®³" , 500)
	//æ ¹éª¨ã€æ‚Ÿæ€§ã€ç»å­¦é¢†æ‚Ÿ
	call Cun('I00C' , "é¾™é³å‰‘" , "ç¦ç¼˜" , 4 , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 2 , null , 0)
	call Cun('I00B' , "å€šå¤©å‰‘" , "æ‚Ÿæ€§" , 3 , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 2 , null , 0)
	call Cun('I00D' , "å± é¾™åˆ€" , "ç»è„‰" , 3 , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I04F' , "æ–­è‚ " , "ç»è„‰" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I00P' , "æ™¶ç‰æ‰‡" , "æ‚Ÿæ€§" , 2 , "ç¦ç¼˜" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I00Q' , "ç´«é‡‘åˆ€" , "ç»è„‰" , 2 , "åŒ»æœ¯" , 2 , null , 0 , null , 0)
	call Cun('I01N' , "ä¸ƒæ˜Ÿæ‰‡" , "åŒ»æœ¯" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01E' , "ç§‹å¶åˆƒ" , "æ ¹éª¨" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I00X' , "é¸³é¸¯åˆ€" , "ç¦ç¼˜" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I097' , "æ‰“ç‹—æ£’" , "èƒ†é­„" , 3 , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 2 , null , 0)
	call Cun('I099' , "å›å­å‰‘" , "æ‚Ÿæ€§" , 1 , "åŒ»æœ¯" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I09B' , "è›‡æ–" , "æ ¹éª¨" , 4 , "å…¨å±æ€§" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I09A' , "æ·‘å¥³å‰‘" , "ç¦ç¼˜" , 1 , "ç»è„‰" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I09C' , "åŒå‰‘åˆç’§" , "æ‚Ÿæ€§" , 3 , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 3 , null , 0)
	call Cun('I098' , "è¡€åˆ€" , "æ ¹éª¨" , 7 , "èƒ†é­„" , 4 , "ç»å­¦é¢†æ‚Ÿ" , 2 , null , 0)
	call Cun('I09D' , "ç‰ç®«" , "ç¦ç¼˜" , 2 , "å…¨å±æ€§" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 3 , null , 0)
	call Cun('I0DK' , "çœŸæ­¦å‰‘" , "æ‚Ÿæ€§" , 2 , "å…¨å±æ€§" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 3 , null , 0)
	call Cun('I0DU' , "æ‹‚å°˜" , "æ‚Ÿæ€§" , 2 , "å…¨å±æ€§" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 3 , null , 0)
	call Cun('I0DY' , "é•‡å²³å°šæ–¹" , "ç¦ç¼˜" , 5 , "æ‚Ÿæ€§" , 4 , "ç»å­¦é¢†æ‚Ÿ" , 3 , null , 0)
	call Cun('I0EJ' , "é“æŒä»¤" , "èƒ†é­„" , 4 , "æ‚Ÿæ€§" , 4 , "ç»å­¦é¢†æ‚Ÿ" , 2 , null , 0)
	call Cun('I0DZ' , "æ¯’é¾™é­" , "ç»è„‰" , 3 , "èƒ†é­„" , 5 , "ç»å­¦é¢†æ‚Ÿ" , 2 , null , 0)
	call Cun('I0E0' , "å…»å¾å‰‘" , "èƒ†é­„" , 5 , "æ‚Ÿæ€§" , 4 , "ç»å­¦é¢†æ‚Ÿ" , 5 , null , 0)
	call Cun('I0E2' , "ä¸œçµé“å‰‘" , "èƒ†é­„" , 5 , "ç»è„‰" , 4 , "ç»å­¦é¢†æ‚Ÿ" , 5 , null , 0)
	call Cun('I08V' , "æ±Ÿæ¹–Â·å¿ " , "å…¨å±æ€§" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	call Cun('I013' , "é¥®è¡€æª" , "èƒ†é­„" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01L' , "ç²¾é’¢å‰‘" , "èƒ†é­„" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01G' , "è›‡çš®è£˜" , "ç»è„‰" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I014' , "çƒˆç«è¡£" , "ç»è„‰" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01O' , "ä¸ƒæ˜Ÿé”¦æœ" , "èƒ†é­„" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I04E' , "é‡‘è‰è¡£" , "æ‚Ÿæ€§" , 1 , "ç¦ç¼˜" , 1 , null , 0 , null , 0)
	call Cun('I00O' , "è½¯çŒ¬ç”²" , "æ ¹éª¨" , 2 , "èƒ†é­„" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I00F' , "å…­åˆçºµæ¨ª" , "æ ¹éª¨" , 2 , "èƒ†é­„" , 2 , "ç¦ç¼˜" , 1 , null , 0)
	call Cun('I00G' , "ç ´å†›æ— åŒ" , "åŒ»æœ¯" , 3 , "æ‚Ÿæ€§" , 2 , null , 0 , null , 0)
	call Cun('I090' , "å†³æˆ˜Â·éœ¸" , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	call Cun('I0AL' , "å°‘æ—è¢ˆè£Ÿ" , "å…¨å±æ€§" , 1 , "æ ¹éª¨" , 2 , null , 0 , null , 0)
	call Cun('I0DP' , "ä¸ƒæ˜Ÿé“è¢" , "å…¨å±æ€§" , 1 , "èƒ†é­„" , 2 , null , 0 , null , 0)
	call Cun('I01Q' , "ç ´å†›å¸½" , "æ‚Ÿæ€§" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I00M' , "ç­äº‘å† " , "æ ¹éª¨" , 1 , "æ‚Ÿæ€§" , 2 , "ç»è„‰" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1)
	call Cun('I08Z' , "å†³æˆ˜Â·æ¶" , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	call Cun('I01R' , "ç ´å†›é‹" , "ç¦ç¼˜" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I00T' , "ç¥è¡Œé‹" , "ç¦ç¼˜" , 3 , "ç»è„‰" , 3 , null , 0 , null , 0)
	call Cun('I00N' , "è¸é£é´" , "æ‚Ÿæ€§" , 2 , "ç¦ç¼˜" , 1 , "åŒ»æœ¯" , 1 , null , 0)
	call Cun('I08Y' , "å†³æˆ˜Â·é­" , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	call Cun('I01V' , "è‹èŸ’æŠ¤è…•" , "æ ¹éª¨" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01U' , "çº±ç»’æŠ¤è…•" , "æ‚Ÿæ€§" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01D' , "å¤©ç’‡æŠ¤è…•" , "èƒ†é­„" , 3 , null , 0 , null , 0 , null , 0)
	call Cun('I015' , "éœ“äº‘æ‰‹å¥—" , "æ ¹éª¨" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01M' , "ç²¾é’¢æŠ¤è…•" , "æ ¹éª¨" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I00Z' , "è¿½æœˆæ‰‹" , "æ‚Ÿæ€§" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I00R' , "å¤©ç‘æ¯’æŒ" , "èƒ†é­„" , 2 , "ç»è„‰" , 1 , null , 0 , null , 0)
	call Cun('I00S' , "æ— é­…é›·æ‰‹" , "æ‚Ÿæ€§" , 3 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	call Cun('I00H' , "é­”å½±ç‚æŒ" , "æ ¹éª¨" , 2 , "ç»è„‰" , 2 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0)
	call Cun('I00I' , "è¸é£å†°æ‰‹" , "æ‚Ÿæ€§" , 2 , "èƒ†é­„" , 2 , null , 0 , null , 0)
	call Cun('I01W' , "ä¼ å®¶ç¬¦" , "åŒ»æœ¯" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I0AM' , "ç¥æœ¨ç‹é¼" , "åŒ»æœ¯" , 5 , null , 0 , null , 0 , null , 0)
	call Cun('I0EP' , "å­åˆç ‚" , "èƒ†é­„" , 5 , null , 0 , null , 0 , null , 0)
	call Cun('I0DS' , "ç‡•å›½ç‰çº" , "æ‚Ÿæ€§" , 5 , null , 0 , null , 0 , null , 0)
	call Cun('I0DT' , "ç‰æ‰³æŒ‡" , "ç¦ç¼˜" , 5 , null , 0 , null , 0 , null , 0)
	call Cun('I0EQ' , "è§‚éŸ³æ³ª" , "æ‚Ÿæ€§" , 4 , "ç»è„‰" , 4 , null , 0 , null , 0)
	call Cun('I01X' , "ç¥ç€é¡¹é“¾" , "ç»è„‰" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01Y' , "æ°´ç¢§æŠ¤ç¬¦" , "èƒ†é­„" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01Z' , "é—ªé¿æŠ¤ç¬¦" , "ç¦ç¼˜" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01J' , "ä¸ƒç»æŠ¤ç¬¦" , "ç¦ç¼˜" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I0DB' , "æ–°æ‰‹ç¥å™¨" , "å…¨å±æ€§" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I0DL' , "æ–°æ‰‹ç¥å™¨lv.2" , "å…¨å±æ€§" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I0E8' , "æ¸¸ä¾ å°è®°" , "å…¨å±æ€§" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I0E9' , "å°ä¾ å°è®°" , "å…¨å±æ€§" , 1 , "ç¦ç¼˜" , 1 , null , 0 , null , 0)
	call Cun('I0EA' , "åä¾ å°è®°" , "å…¨å±æ€§" , 1 , "ç¦ç¼˜" , 2 , null , 0 , null , 0)
	call Cun('I0EB' , "å¤§è™¾å°è®°" , "å…¨å±æ€§" , 1 , "ç¦ç¼˜" , 3 , null , 0 , null , 0)
	call Cun('I0EC' , "å·¨ä¾ å°è®°" , "å…¨å±æ€§" , 1 , "ç¦ç¼˜" , 4 , null , 0 , null , 0)
	call Cun('I0ED' , "è™¾ç±³å°è®°" , "å…¨å±æ€§" , 1 , "ç¦ç¼˜" , 5 , null , 0 , null , 0)
	call Cun('I0EE' , "åå››å¤©ä¹¦" , "å…¨å±æ€§" , 3 , "ç¦ç¼˜" , 6 , null , 0 , null , 0)
	call Cun('I01I' , "æ˜Ÿäº‘æˆ’æŒ‡" , "åŒ»æœ¯" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01A' , "è“é­”é¡¹é“¾" , "åŒ»æœ¯" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01B' , "åŒ—æ–—æŠ¤ç¬¦" , "ç¦ç¼˜" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01C' , "æ¢¦è¶é¡¹é“¾" , "æ ¹éª¨" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I01P' , "ä¸ƒæ˜Ÿæˆ’æŒ‡" , "ç»è„‰" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I010' , "äº‘æµ·é“¾" , "åŒ»æœ¯" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I00Y' , "ä¸ƒæƒ…æŸ" , "ç»è„‰" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I0CH' , "éƒ­é–æˆ´è¿‡çš„ç¯æˆ’" , "æ ¹éª¨" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I0DO' , "ä¹”å³°ç©¿è¿‡çš„è‰é‹" , "èƒ†é­„" , 1 , null , 0 , null , 0 , null , 0)
	call Cun('I011' , "å½±å²šæŠ¤ç¬¦" , "æ‚Ÿæ€§" , 2 , "ç»è„‰" , 1 , null , 0 , null , 0)
	call Cun('I012' , "ç‰ä¿®æŠ¤ç¬¦" , "æ ¹éª¨" , 1 , "èƒ†é­„" , 2 , null , 0 , null , 0)
	call Cun('I00U' , "äº‘ç­æŠ¤ç¬¦" , "æ ¹éª¨" , 2 , "åŒ»æœ¯" , 1 , null , 0 , null , 0)
	call Cun('I00V' , "æŠ—é­”æŠ¤ç¬¦" , "èƒ†é­„" , 1 , "ç»è„‰" , 2 , null , 0 , null , 0)
	call Cun('I00W' , "é‡ç”Ÿé“¾" , "åŒ»æœ¯" , 3 , null , 0 , null , 0 , null , 0)
	call Cun('I00J' , "ç¥è¿¹æˆ’" , "ç¦ç¼˜" , 4 , null , 0 , null , 0 , null , 0)
	call Cun('I00K' , "å¦‚æ„æˆ’" , "ç»è„‰" , 1 , "èƒ†é­„" , 3 , null , 0 , null , 0)
	call Cun('I00L' , "ç»¿æ‰³æŒ‡" , "åŒ»æœ¯" , 1 , "èƒ†é­„" , 1 , "ç¦ç¼˜" , 2 , null , 0)
	call Cun('I08W' , "æ±Ÿæ¹–Â·æƒ…" , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	call Cun('I08X' , "æ±Ÿæ¹–Â·ä¹‰" , "å…¨å±æ€§" , 1 , "ç»å­¦é¢†æ‚Ÿ" , 1 , null , 0 , null , 0)
	//æ”»å‡»é€Ÿåº¦ã€æš´å‡»ä¼¤å®³ã€æš´å‡»ç‡ã€æ€æ€ªå›å¤ã€ç”Ÿå‘½å›å¤ç­‰ç­‰
	call Cun('I00C' , "é¾™é³å‰‘" , "æ”»å‡»é€Ÿåº¦" , 30 , "æš´å‡»ä¼¤å®³" , 0.6 , "æš´å‡»ç‡" , 0.05 , null , 0)
	call Cun('I00B' , "å€šå¤©å‰‘" , "é—ªé¿" , 15 , "æ³•åŠ›å›å¤" , 5 , "æ€æ€ªå›å¤" , 2000 , "ä¼¤å®³å›å¤" , 500)
	call Cun('I04F' , "æ–­è‚ " , "æ”»å‡»é€Ÿåº¦" , 30 , "æš´å‡»ç‡" , 0.02 , null , 0 , null , 0)
	call Cun('I00P' , "æ™¶ç‰æ‰‡" , "æ”»å‡»é€Ÿåº¦" , 25 , "æ€æ€ªå›å¤" , 1500 , null , 0 , null , 0)
	call Cun('I00Q' , "ç´«é‡‘åˆ€" , "æš´å‡»ä¼¤å®³" , 0.6 , "æš´å‡»ç‡" , 0.05 , "æ€æ€ªå›å¤" , 1500 , null , 0)
	call Cun('I01L' , "ç²¾é’¢å‰‘" , "æ”»å‡»é€Ÿåº¦" , 20 , "å¸è¡€" , 0.05 , "æš´å‡»ç‡" , 0.03 , null , 0)
	call Cun('I01N' , "ä¸ƒæ˜Ÿæ‰‡" , "æ³•åŠ›å›å¤" , 2 , null , 0 , null , 0 , null , 0)
	call Cun('I00X' , "é¸³é¸¯åˆ€" , "æ”»å‡»é€Ÿåº¦" , 20 , null , 0 , null , 0 , null , 0)
	call Cun('I097' , "æ‰“ç‹—æ£’" , "æ”»å‡»é€Ÿåº¦" , 60 , "æš´å‡»ä¼¤å®³" , 1.5 , null , 0 , null , 0)
	call Cun('I099' , "å›å­å‰‘" , "å¸è¡€" , 0.15 , "æ³•åŠ›å›å¤" , 2 , "æ€æ€ªå›å¤" , 500 , "ç”Ÿå‘½å›å¤" , 200)
	call Cun('I09B' , "è›‡æ–" , "æš´å‡»ä¼¤å®³" , 0.9 , "æš´å‡»ç‡" , 0.5 , null , 0 , null , 0)
	call Cun('I09A' , "æ·‘å¥³å‰‘" , "é—ªé¿" , 15 , "ä¼¤å®³å›å¤" , 500 , "æš´å‡»ä¼¤å®³" , 0.3 , "æš´å‡»ç‡" , 0.03)
	call Cun('I09C' , "åŒå‰‘åˆç’§" , "å¸è¡€" , 0.15 , "æ³•åŠ›å›å¤" , 5 , "æ€æ€ªå›å¤" , 2000 , "ç”Ÿå‘½å›å¤" , 500)
	call Cun('I09C' , "åŒå‰‘åˆç’§" , "é—ªé¿" , 15 , "ä¼¤å®³å›å¤" , 800 , "æš´å‡»ä¼¤å®³" , 0.5 , "æš´å‡»ç‡" , 0.05)
	call Cun('I098' , "è¡€åˆ€" , "æ”»å‡»é€Ÿåº¦" , 60 , "æš´å‡»ä¼¤å®³" , 0.8 , "æ€æ€ªå›å¤" , 10000 , null , 0)
	call Cun('I09D' , "ç‰ç®«" , "æ³•åŠ›å›å¤" , 15 , "æ€æ€ªå›å¤" , 2000 , "ç”Ÿå‘½å›å¤" , 1500 , null , 0)
	call Cun('I0DK' , "çœŸæ­¦å‰‘" , "æ³•åŠ›å›å¤" , 10 , "æ€æ€ªå›å¤" , 2000 , "ç”Ÿå‘½å›å¤" , 1500 , null , 0)
	call Cun('I0DU' , "æ‹‚å°˜" , "æ³•åŠ›å›å¤" , 15 , "æ€æ€ªå›å¤" , 1000 , "ç”Ÿå‘½å›å¤" , 3000 , null , 0)
	call Cun('I0DY' , "é•‡å²³å°šæ–¹" , "æ”»å‡»é€Ÿåº¦" , 60 , "æš´å‡»ä¼¤å®³" , 0.5 , "æ€æ€ªå›å¤" , 10000 , null , 0)
	call Cun('I0EJ' , "é“æŒä»¤" , "æ”»å‡»é€Ÿåº¦" , 45 , "æš´å‡»ç‡" , 0.2 , "ä¼¤å®³å›å¤" , 2000 , null , 0)
	call Cun('I0DZ' , "æ¯’é¾™é­" , "æ”»å‡»é€Ÿåº¦" , 45 , "æš´å‡»ä¼¤å®³" , 1 , "æ€æ€ªå›å¤" , 10000 , null , 0)
	call Cun('I0E0' , "å…»å¾å‰‘" , "æ”»å‡»é€Ÿåº¦" , 50 , "æš´å‡»ä¼¤å®³" , 0.6 , "æ€æ€ªå›å¤" , 10000 , null , 0)
	call Cun('I0E2' , "ä¸œçµé“å‰‘" , "æ”»å‡»é€Ÿåº¦" , 60 , "æš´å‡»ä¼¤å®³" , 1.5 , "æ€æ€ªå›å¤" , 6000 , null , 0)
	call Cun('I08V' , "æ±Ÿæ¹–Â·å¿ " , "æ”»å‡»é€Ÿåº¦" , 60 , "æš´å‡»ä¼¤å®³" , 1 , "æš´å‡»ç‡" , 0.2 , "æ€æ€ªå›å¤" , 3000)
	call Cun('I02S' , "é•‡å¦–+1" , "æ”»å‡»é€Ÿåº¦" , 20 , "æš´å‡»ä¼¤å®³" , 0.15 , "æ€æ€ªå›å¤" , 300 , null , 0)
	call Cun('I02M' , "é•‡å¦–+2" , "æ”»å‡»é€Ÿåº¦" , 30 , "æš´å‡»ä¼¤å®³" , 0.3 , "æ€æ€ªå›å¤" , 600 , null , 0)
	call Cun('I02Q' , "é•‡å¦–+3" , "æ”»å‡»é€Ÿåº¦" , 40 , "æš´å‡»ä¼¤å®³" , 0.45 , "æ€æ€ªå›å¤" , 900 , null , 0)
	call Cun('I02R' , "é•‡å¦–+4" , "æ”»å‡»é€Ÿåº¦" , 50 , "æš´å‡»ä¼¤å®³" , 0.6 , "æ€æ€ªå›å¤" , 1200 , null , 0)
	call Cun('I02P' , "é•‡å¦–+5" , "æ”»å‡»é€Ÿåº¦" , 60 , "æš´å‡»ä¼¤å®³" , 0.75 , "æ€æ€ªå›å¤" , 1500 , null , 0)
	call Cun('I01S' , "å¼€å±±æ–§" , "æš´å‡»ä¼¤å®³" , 0.15 , "æ€æ€ªå›å¤" , 300 , null , 0 , null , 0)
	call Cun('I020' , "é’é“œåˆ€" , "æ”»å‡»é€Ÿåº¦" , 40 , "æ€æ€ªå›å¤" , 0 , null , 0 , null , 0)
	call Cun('I0CI' , "å¼ æ— å¿Œç”¨è¿‡çš„é’é“œåˆ€" , "æ”»å‡»é€Ÿåº¦" , 60 , "æ€æ€ªå›å¤" , 0 , null , 0 , null , 0)
	call Cun('I01E' , "ç§‹å¶åˆƒ" , "æ”»å‡»é€Ÿåº¦" , 15 , "æ€æ€ªå›å¤" , 500 , null , 0 , null , 0)
	call Cun('I021' , "é”å€™æª" , "åˆ†è£‚" , 0.3 , "æš´å‡»ç‡" , 0.03 , null , 0 , null , 0)
	call Cun('I016' , "å®£èŠ±æ–§" , "å¸è¡€" , 0.15 , null , 0 , null , 0 , null , 0)
	call Cun('I013' , "é¥®è¡€æª" , "æ”»å‡»é€Ÿåº¦" , 20 , null , 0 , null , 0 , null , 0)
	call Cun('I022' , "å¸ƒè¡£" , "æ°”è¡€" , 1000 , "æ€æ€ªå›å¤" , 30 , "ç§»åŠ¨é€Ÿåº¦" , 30 , null , 0)
	call Cun('I01T' , "å½©è¡£" , "æ°”è¡€" , 3000 , "ä¼¤å®³å›å¤" , 70 , null , 0 , null , 0)
	call Cun('I01H' , "è™çš®è¡£" , "æ°”è¡€" , 3000 , null , 0 , null , 0 , null , 0)
	call Cun('I01G' , "è›‡çš®è£˜" , "æ°”è¡€" , 5000 , "ä¼¤å®³å›å¤" , 100 , "ç”Ÿå‘½å›å¤" , 250 , null , 0)
	call Cun('I017' , "å¼€é˜³è¡£" , "æ°”è¡€" , 10000 , null , 0 , null , 0 , null , 0)
	call Cun('I014' , "çƒˆç«è¡£" , "æ°”è¡€" , 20000 , "é—ªé¿" , 10 , null , 0 , null , 0)
	call Cun('I01O' , "ä¸ƒæ˜Ÿé”¦æœ" , "æ°”è¡€" , 7000 , "æ”»å‡»é€Ÿåº¦" , 30 , "ä¼¤å®³å›å¤" , 300 , null , 0)
	call Cun('I04E' , "é‡‘è‰è¡£" , "æ°”è¡€" , 15000 , "ç”Ÿå‘½å›å¤" , 700 , "æ³•åŠ›ä¸Šé™" , 20 , "æ³•åŠ›å›å¤" , 5)
	call Cun('I00O' , "è½¯çŒ¬ç”²" , "æ°”è¡€" , 40000 , "ç”Ÿå‘½å›å¤" , 1200 , "æ³•åŠ›ä¸Šé™" , 20 , null , 0)
	call Cun('I00F' , "å…­åˆçºµæ¨ª" , "æ°”è¡€" , 100000 , "ä¼¤å®³å›å¤" , 500 , null , 0 , null , 0)
	call Cun('I00G' , "ç ´å†›æ— åŒ" , "æ°”è¡€" , 100000 , "ç”Ÿå‘½å›å¤" , 1500 , "é—ªé¿" , 20 , null , 0)
	call Cun('I090' , "å†³æˆ˜Â·éœ¸" , "æ°”è¡€" , 100000 , "ç”Ÿå‘½å›å¤" , 2000 , "æš´å‡»ç‡" , 0.05 , null , 0)
	call Cun('I0AL' , "å°‘æ—è¢ˆè£Ÿ" , "æ°”è¡€" , 50000 , "ä¼¤å®³å›å¤" , 2000 , "æš´å‡»ä¼¤å®³" , 0.7 , null , 0)
	call Cun('I0DP' , "ä¸ƒæ˜Ÿé“è¢" , "æ°”è¡€" , 50000 , "ä¼¤å®³å›å¤" , 1500 , "æš´å‡»ä¼¤å®³" , 0.7 , "æ³•åŠ›å›å¤" , 10)
	call Cun('I09Z' , "é€šç¥" , "æ°”è¡€" , 40000 , null , 0 , null , 0 , null , 0)
	call Cun('I01Q' , "ç ´å†›å¸½" , "æ°”è¡€" , 1500 , "ä¼¤å®³å›å¤" , 150 , null , 0 , null , 0)
	call Cun('I00M' , "ç­äº‘å† " , "æ³•åŠ›ä¸Šé™" , 40 , "æš´å‡»ä¼¤å®³" , 0.2 , null , 0 , null , 0)
	call Cun('I08Z' , "å†³æˆ˜Â·æ¶" , "æ°”è¡€" , 50000 , "æ”»å‡»é€Ÿåº¦" , 50 , "ä¼¤å®³å›å¤" , 800 , "æ³•åŠ›ä¸Šé™" , 100)
	call Cun('I01R' , "ç ´å†›é‹" , "ç”Ÿå‘½å›å¤" , 150 , "ç§»åŠ¨é€Ÿåº¦" , 70 , null , 0 , null , 0)
	call Cun('I0DO' , "ä¹”å³°ç©¿è¿‡çš„è‰é‹" , null , 0 , "ç§»åŠ¨é€Ÿåº¦" , 100 , null , 0 , null , 0)
	call Cun('I00T' , "ç¥è¡Œé‹" , "æ°”è¡€" , 25000 , "ç§»åŠ¨é€Ÿåº¦" , 160 , "æ³•åŠ›ä¸Šé™" , 25 , "æ³•åŠ›å›å¤" , 10)
	call Cun('I00N' , "è¸é£é´" , "ç§»åŠ¨é€Ÿåº¦" , 180 , "æ€æ€ªå›å¤" , 1000 , "ç”Ÿå‘½å›å¤" , 500 , "æ³•åŠ›å›å¤" , 4)
	call Cun('I08Y' , "å†³æˆ˜Â·é­" , "ç§»åŠ¨é€Ÿåº¦" , 200 , "é—ªé¿" , 30 , "ä¼¤å®³å›å¤" , 600 , "æš´å‡»ä¼¤å®³" , 0.8)
	call Cun('I01V' , "è‹èŸ’æŠ¤è…•" , "æ”»å‡»é€Ÿåº¦" , 15 , "æš´å‡»ç‡" , 0.05 , "ç‰¹æ®Šæ”»å‡»" , 2 , null , 0)
	call Cun('I01U' , "çº±ç»’æŠ¤è…•" , "æ”»å‡»é€Ÿåº¦" , 15 , "æš´å‡»ä¼¤å®³" , 0.15 , "ç‰¹æ®Šæ”»å‡»" , 3 , null , 0)
	call Cun('I018' , "å½©äº‘è…•" , "ç”Ÿå‘½å›å¤" , 200 , "ç‰¹æ®Šæ”»å‡»" , 3 , null , 0 , null , 0)
	call Cun('I01D' , "å¤©ç’‡æŠ¤è…•" , "æ”»å‡»é€Ÿåº¦" , 20 , "ç‰¹æ®Šæ”»å‡»" , 5 , "æ°”è¡€" , 6000 , null , 0)
	call Cun('I015' , "éœ“äº‘æ‰‹å¥—" , "å¸è¡€" , 0.03 , "ç”Ÿå‘½å›å¤" , 300 , "æ³•åŠ›ä¸Šé™" , 20 , "ç‰¹æ®Šæ”»å‡»" , 10)
	call Cun('I01M' , "ç²¾é’¢æŠ¤è…•" , "æ°”è¡€" , 2000 , "ç‰¹æ®Šæ”»å‡»" , 3 , null , 0 , null , 0)
	call Cun('I00Z' , "è¿½æœˆæ‰‹" , "æ”»å‡»é€Ÿåº¦" , 25 , "ä¼¤å®³å›å¤" , 400 , "æ³•åŠ›å›å¤" , 5 , "ç‰¹æ®Šæ”»å‡»" , 6)
	call Cun('I00R' , "å¤©ç‘æ¯’æŒ" , "æ”»å‡»é€Ÿåº¦" , 30 , "ä¼¤å®³å›å¤" , 400 , "æš´å‡»ä¼¤å®³" , 0.3 , "æš´å‡»ç‡" , 0.02)
	call Cun('I00S' , "æ— é­…é›·æ‰‹" , "æ”»å‡»é€Ÿåº¦" , 30 , "æ€æ€ªå›å¤" , 1500 , "æ³•åŠ›å›å¤" , 5 , "ç‰¹æ®Šæ”»å‡»" , 7)
	call Cun('I00H' , "é­”å½±ç‚æŒ" , "æ”»å‡»é€Ÿåº¦" , 40 , "æ€æ€ªå›å¤" , 2000 , "ç‰¹æ®Šæ”»å‡»" , 8 , null , 0)
	call Cun('I00I' , "è¸é£å†°æ‰‹" , "æ”»å‡»é€Ÿåº¦" , 40 , "ä¼¤å®³å›å¤" , 500 , "æš´å‡»ä¼¤å®³" , 0.5 , "æš´å‡»ç‡" , 0.05)
	call Cun('I023' , "æŠ¤èº«ç¬¦" , "ä¼¤å®³å›å¤" , 40 , null , 0 , null , 0 , null , 0)
	call Cun('I024' , "ç¯æˆ’" , "æ€æ€ªå›å¤" , 100 , "ç”Ÿå‘½å›å¤" , 50 , null , 0 , null , 0)
	call Cun('I0CH' , "éƒ­é–æˆ´è¿‡çš„ç¯æˆ’" , "é—ªé¿" , 20 , "æ€æ€ªå›å¤" , 100 , "ç”Ÿå‘½å›å¤" , 50 , null , 0)
	call Cun('I01W' , "ä¼ å®¶ç¬¦" , "æ€æ€ªå›å¤" , 150 , "ç”Ÿå‘½å›å¤" , 300 , null , 0 , null , 0)
	call Cun('I01X' , "ç¥ç€é¡¹é“¾" , "æ€æ€ªå›å¤" , 250 , "ç”Ÿå‘½å›å¤" , 150 , null , 0 , null , 0)
	call Cun('I01Y' , "æ°´ç¢§æŠ¤ç¬¦" , "æ€æ€ªå›å¤" , 200 , "ç”Ÿå‘½å›å¤" , 120 , "æ³•åŠ›å›å¤" , 3 , "ä¼¤å®³å›å¤" , 60)
	call Cun('I01Z' , "é—ªé¿æŠ¤ç¬¦" , "æ€æ€ªå›å¤" , 150 , "é—ªé¿" , 10 , "ä¼¤å®³å›å¤" , 80 , null , 0)
	//call Cun('I01J',"ä¸ƒç»æŠ¤ç¬¦","æ”»å‡»é€Ÿåº¦",30,"æš´å‡»ç‡",0.02,null,0,null,0)
	call Cun('I01K' , "é’ç«¹æˆ’æŒ‡" , "æ³•åŠ›å›å¤" , 3 , null , 0 , null , 0 , null , 0)
	call Cun('I01I' , "æ˜Ÿäº‘æˆ’æŒ‡" , "æ€æ€ªå›å¤" , 300 , "æš´å‡»ä¼¤å®³" , 0.1 , null , 0 , null , 0)
	call Cun('I019' , "ç™½è™ç¬¦" , "æ°”è¡€" , 5000 , null , 0 , null , 0 , null , 0)
	call Cun('I01A' , "è“é­”é¡¹é“¾" , "æ€æ€ªå›å¤" , 800 , "æ³•åŠ›ä¸Šé™" , 40 , "æ³•åŠ›å›å¤" , 5 , null , 0)
	call Cun('I01B' , "åŒ—æ–—æŠ¤ç¬¦" , "ç§»åŠ¨é€Ÿåº¦" , 80 , "ç”Ÿå‘½å›å¤" , 600 , null , 0 , null , 0)
	call Cun('I01C' , "æ¢¦è¶é¡¹é“¾" , null , 0 , "æ”»å‡»é€Ÿåº¦" , 15 , "æ°”è¡€" , 8000 , "ä¼¤å®³å›å¤" , 100)
	call Cun('I01P' , "ä¸ƒæ˜Ÿæˆ’æŒ‡" , null , 0 , "æ”»å‡»é€Ÿåº¦" , 15 , "ç”Ÿå‘½å›å¤" , 200 , "æš´å‡»ä¼¤å®³" , 0.15)
	call Cun('I010' , "äº‘æµ·é“¾" , "æ°”è¡€" , 13000 , "æ€æ€ªå›å¤" , 500 , "æ³•åŠ›ä¸Šé™" , 25 , "æš´å‡»ä¼¤å®³" , 0.2)
	call Cun('I00Y' , "ä¸ƒæƒ…æŸ" , "ç”Ÿå‘½å›å¤" , 400 , "æ³•åŠ›ä¸Šé™" , 20 , "æ³•åŠ›å›å¤" , 5 , "æš´å‡»ç‡" , 0.02)
	call Cun('I011' , "å½±å²šæŠ¤ç¬¦" , "å¸è¡€" , 0.05 , "æ”»å‡»é€Ÿåº¦" , 20 , "ç§»åŠ¨é€Ÿåº¦" , 100 , "ç”Ÿå‘½å›å¤" , 400)
	call Cun('I012' , "ç‰ä¿®æŠ¤ç¬¦" , "æ°”è¡€" , 25000 , "æ€æ€ªå›å¤" , 700 , "ç”Ÿå‘½å›å¤" , 600 , "æš´å‡»ç‡" , 0.01)
	call Cun('I00U' , "äº‘ç­æŠ¤ç¬¦" , "æ”»å‡»é€Ÿåº¦" , 40 , "æ€æ€ªå›å¤" , 1000 , "æš´å‡»ä¼¤å®³" , 0.3 , null , 0)
	call Cun('I00V' , "æŠ—é­”æŠ¤ç¬¦" , "å¸è¡€" , 0.1 , "æ°”è¡€" , 25000 , "æ³•åŠ›ä¸Šé™" , 15 , "æš´å‡»ä¼¤å®³" , 0.4)
	call Cun('I00W' , "é‡ç”Ÿé“¾" , "å¸è¡€" , 0.05 , "æ”»å‡»é€Ÿåº¦" , 45 , "ç”Ÿå‘½å›å¤" , 700 , "æš´å‡»ç‡" , 0.01)
	call Cun('I00J' , "ç¥è¿¹æˆ’" , "æ€æ€ªå›å¤" , 1000 , "ä¼¤å®³å›å¤" , 500 , "æ³•åŠ›å›å¤" , 8 , null , 0)
	call Cun('I00K' , "å¦‚æ„æˆ’" , "æ”»å‡»é€Ÿåº¦" , 40 , "ä¼¤å®³å›å¤" , 400 , "æ³•åŠ›ä¸Šé™" , 50 , null , 0)
	call Cun('I00L' , "ç»¿æ‰³æŒ‡" , "æ”»å‡»é€Ÿåº¦" , 50 , "ç”Ÿå‘½å›å¤" , 500 , "æ°”è¡€" , 20000 , "æš´å‡»ä¼¤å®³" , 0.5)
	call Cun('I08W' , "æ±Ÿæ¹–Â·æƒ…" , "ç”Ÿå‘½å›å¤" , 1000 , "æ³•åŠ›å›å¤" , 7 , "æš´å‡»ç‡" , 0.1 , null , 0)
	call Cun('I08X' , "æ±Ÿæ¹–Â·ä¹‰" , "å¸è¡€" , 0.3 , "æ”»å‡»é€Ÿåº¦" , 0.5 , "æš´å‡»ä¼¤å®³" , 1 , "æš´å‡»ç‡" , 0.05)
	call Cun('I0E8' , "æ¸¸ä¾ å°è®°" , "æ€æ€ªå›å¤" , 250 , "ç”Ÿå‘½å›å¤" , 150 , "æ³•åŠ›å›å¤" , 3 , null , 0)
	call Cun('I0E9' , "å°ä¾ å°è®°" , "æ€æ€ªå›å¤" , 250 , "ç”Ÿå‘½å›å¤" , 150 , "æ³•åŠ›å›å¤" , 5 , null , 0)
	call Cun('I0EA' , "åä¾ å°è®°" , "æ€æ€ªå›å¤" , 350 , "ç”Ÿå‘½å›å¤" , 200 , "æ³•åŠ›å›å¤" , 8 , null , 0)
	call Cun('I0EB' , "å¤§ä¾ å°è®°" , "æ€æ€ªå›å¤" , 550 , "ç”Ÿå‘½å›å¤" , 500 , "æ³•åŠ›å›å¤" , 8 , null , 0)
	call Cun('I0EC' , "å·¨ä¾ å°è®°" , "æ€æ€ªå›å¤" , 750 , "ç”Ÿå‘½å›å¤" , 700 , "æ³•åŠ›å›å¤" , 10 , null , 0)
	call Cun('I0ED' , "è™¾ç±³å°è®°" , "æ€æ€ªå›å¤" , 1000 , "ç”Ÿå‘½å›å¤" , 1000 , "æ³•åŠ›å›å¤" , 10 , null , 0)
	call Cun('I0EE' , "åå››å¤©ä¹¦" , "æ€æ€ªå›å¤" , 2000 , "ç”Ÿå‘½å›å¤" , 2000 , "æ³•åŠ›å›å¤" , 20 , "æš´å‡»ä¼¤å®³" , 1)
endfunction
//åˆšè¿›å…¥åœ°å›¾
function Zw takes nothing returns nothing
	call FogEnableOff()
	call FogMaskEnableOff()
	call SetCreepCampFilterState(false)
	call jw(false)
	call SetPlayerAllianceStateBJ(Player(12), Player(6), 3)
	call SetPlayerHandicapXP(Player(0), .43)
	call SetPlayerHandicapXP(Player(1), .43)
	call SetPlayerHandicapXP(Player(2), .43)
	call SetPlayerHandicapXP(Player(3), .43)
	call SetPlayerHandicapXP(Player(4), .43)
	call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, 1800., .0)
	call PlayMusicBJ(xh)
	set K4[1]=Ls
	set K4[2]=Qs
	set K4[3]=Os
	set K4[4]=Ns
	set K4[5]=Ps
	set K4[6]=LanXin
	set K4[7]=XuanJin
	call GroupAddUnit(i7, Ls)
	call GroupAddUnit(i7, Ns)
	call GroupAddUnit(i7, Qs)
	call GroupAddUnit(i7, Os)
	call GroupAddUnit(i7, Ps)
	call GroupAddUnit(i7, LanXin)
	call GroupAddUnit(i7, XuanJin)
	set y7[1]=1969711215
	set y7[2]=1970498413
	set y7[3]=1852798821
	set y7[4]=1851879023
	set y7[5]=1852008562
	set y7[6]=1852273524
	set y7[7]=1969381742
	set y7[8]=1852466993
	set y7[9]=1869898354
	set y7[10]=1853320292
	set y7[11]=1852208244
	set y7[12]=1701077869
	set y7[13]=1751410807
	set y7[14]=1852076648
	set y7[15]=1970107511
	set y7[16]=1852990571
	set y7[17]=1852207714
	set y7[18]=1869898347
	set y7[19]=1853517677
	set y7[20]=1869311844
	set y7[21]=1852076404
	set y7[22]=1852076662
	set y7[23]=1852204908
	set y7[24]=1701013613
	set y7[25]=1853125236
	set y7[26]=1852601452
	set y7[27]=1702064246
	set y7[28]=1852403302
	set y7[29]='nbdk'
	set y7[30]='nhyd'
	set u7[1]='ncer'
	set u7[2]='nhea'
	set u7[3]='nlkl'
	set u7[4]='nele'
	set u7[5]='nenp'
	set u7[6]='nbda'
	set u7[7]='n002'
	set u7[8]='nbds'
	//call SetHeroLevel(gg_unit_N008_0054,99,true)
	call SetUnitLifePercentBJ(gg_unit_N007_0055, 5)
	call SetUnitLifePercentBJ(gg_unit_N012_0095, 5)
	//call UnitAddAbility(gg_unit_N00F_0112,'A02Z')
	//call IssueTargetOrderById(gg_unit_N00F_0112, 852063, gg_unit_N007_0055)
	call AddSpecialEffectTargetUnitBJ("overhead", Ts, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", Ft, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", Ss, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", vt, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", ot, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", nt, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", Et, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", ct, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", zt, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", Ct, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", ut, "Objects\\RandomObject\\RandomObject.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", xt, "Objects\\RandomObject\\RandomObject.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", yt, "Objects\\RandomObject\\RandomObject.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", Dt, "Objects\\RandomObject\\RandomObject.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", At, "Objects\\RandomObject\\RandomObject.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", Bt, "Objects\\RandomObject\\RandomObject.mdl")
	call AddSpecialEffectTargetUnitBJ("overhead", gg_unit_N007_0055, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
	call CreateTextTagUnitBJ("åŒå‡»é€‰äººå†é€‰é—¨æ´¾", Rs, .0, 15., 100., 100., .0, 50.)
	// call CreateTextTagUnitBJ("æ–°æ‰‹æ•™å®˜",SuiFeng,.0,15.,100.,100.,.0,50.)
	// call CreateTextTagLocBJ("æ–°æ‰‹æ•™å®˜",Location(420,-597),100.0,15.,100.,100.,.0,50.)
	// call CreateTextTagLocBJ("åœ°å›¾ç­‰çº§ç¦åˆ©",Location(-1500,-113),100.0,15.,100.,100.,.0,50.)
	// call CreateTextTagLocBJ("ç§¯åˆ†å•†åº—",Location(-1500,-1344),120.0,15.,100.,100.,.0,50.)
	call CreateTextTagLocBJ("å†³æˆ˜æ±Ÿæ¹–åäººæ¦œ", GetRectCenter(uh), 100., $A, 100, 100, .0, 50.)
	set v7[1]=GetRectCenter(Ie)
	set v7[2]=GetRectCenter(le)
	set v7[3]=GetRectCenter(Je)
	set v7[4]=GetRectCenter(Ke)
	set v7[5]=GetRectCenter(Le)
	set v7[6]=GetRectCenter(Me)
	set v7[7]=GetRectCenter(Ne)
	set v7[8]=GetRectCenter(Oe)
	set v7[9]=GetRectCenter(Ge)
	set v7[$A]=GetRectCenter(Re)
	set v7[$B]=GetRectCenter(ff)
	set C7[1]=ft
	set C7[2]=gt
	set C7[3]=ht
	set C7[4]=jt
	set C7[5]=kt
	set b7[1]=Us
	set b7[2]=Zs
	set b7[3]=Ys
	set b7[4]=Xs
	set b7[5]=Ws
	call AdjustPlayerStateBJ($A, Player(0), PLAYER_STATE_RESOURCE_LUMBER)
	call AdjustPlayerStateBJ($A, Player(1), PLAYER_STATE_RESOURCE_LUMBER)
	call AdjustPlayerStateBJ($A, Player(2), PLAYER_STATE_RESOURCE_LUMBER)
	call AdjustPlayerStateBJ($A, Player(3), PLAYER_STATE_RESOURCE_LUMBER)
	call AdjustPlayerStateBJ($A, Player(4), PLAYER_STATE_RESOURCE_LUMBER)
	call ChooseMoShi()
	call TaoHuaDaoKaiFang()
	set bj_forLoopAIndex=0
	loop
		exitwhen bj_forLoopAIndex >= 5
		if GetPlayerController(Player(bj_forLoopAIndex)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(bj_forLoopAIndex)) == PLAYER_SLOT_STATE_PLAYING then
	        call SaveStr(YDHT, GetHandleId(Player(bj_forLoopAIndex)), GetHandleId(Player(bj_forLoopAIndex)), GetPlayerName(Player(bj_forLoopAIndex)))
	        call SaveStr(YDHT, GetHandleId(Player(bj_forLoopAIndex)), GetHandleId(Player(bj_forLoopAIndex)) * 2, GetPlayerName(Player(bj_forLoopAIndex)))
	    endif
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call YDWEPolledWaitNull(40.)
	call StartTimerBJ(A7[3], false, 120.)
	call CreateTimerDialogBJ(bj_lastStartedTimer, "é‚ªæ•™è¿›æ”»å€’è®¡æ—¶ï¼š")
	call TimerDialogDisplay(bj_lastCreatedTimerDialog, true)
	set z7[3]=bj_lastCreatedTimerDialog
	call YDWEPolledWaitNull(120.)
	call TriggerExecute(ss)
	set hd=true
endfunction
function InitFamouses takes nothing returns nothing
	set ve[1]=1328558411
	set xe[1]=400
	set ye[1]=20
	set ze[1]=600
	set ve[2]=1429221424
	set xe[2]=350
	set ye[2]=15
	set ze[2]=730
	set ve[3]=1160786002
	set xe[3]=260
	set ye[3]=12
	set ze[3]=540
	set ve[4]=1211117633
	set xe[4]=$FA
	set ye[4]=18
	set ze[4]=500
	set ve[5]=1328558412
	set xe[5]=310
	set ye[5]=16
	set ze[5]=750
	set ve[6]=1328558413
	set xe[6]=$DC
	set ye[6]=19
	set ze[6]=700
	set ve[7]=1328558414
	set xe[7]=340
	set ye[7]=17
	set ze[7]=640
	set ve[8]=1160786003
	set xe[8]=320
	set ye[8]=$A
	set ze[8]=780
	set ve[9]=1160786004
	set xe[9]=$C8
	set ye[9]=12
	set ze[9]=550
	set ve[10]=1311780913
	set xe[10]=380
	set ye[10]=$B
	set ze[10]=580
	set ve[11]=1328558415
	set xe[11]=280
	set ye[11]=$E
	set ze[11]=800
endfunction
function InitBosses takes nothing returns nothing
	set Ae[1]=1227896898
	set Ae[2]=1227896665
	set Ae[3]=1227896666
	set Ae[4]=1227896880
	set Ae[5]=1227896881
	set Ae[6]=1227896882
	set Ae[7]=1227896883
	set Ae[8]=1227896884
	set Ae[9]=1227896885
	set Ae[10]=1227896886
	set Ae[11]=1227896887
	set Ae[12]=1227896888
	set Ae[13]=1227896889
	set Ae[14]=1227896897
	set Ae[15]=1227896911
	set Ae[16]=1227896899
	set Ae[17]=1227896900
	set Ae[18]=1227896901
	set Ae[19]=1227896902
	set Ae[20]=1227896903
	set Ae[21]=1227896904
	set Ae[22]=1227896905
	set Ae[23]=1227896906
	set Ae[24]=1227896907
	set Ae[25]=1227896908
	set Ae[26]=1227896909
	set Ae[27]=1227896910
	set Ae[28]=1227896912
endfunction
function InitHerbs takes nothing returns nothing
	set YaoCao[1]='I07F'
	set YaoCao[2]='I07G'
	set YaoCao[3]='I07E'
	set YaoCao[4]='I076'
	set YaoCao[5]='I077'
	set YaoCao[6]='I078'
	set YaoCao[7]='I079'
	set YaoCao[8]='I07B'
	set YaoCao[9]='I07A'
	set YaoCao[10]='I07C'
	set YaoCao[11]='I07D'
	set YaoCao[12]='I07H'
endfunction
function InitEquipments takes nothing returns nothing
	//è¡£æœæ¸…å•
	set ZhuangBei[1]='I022' // å¸ƒè¡£
set ZhuangBei[2]='I01T' // å½©è¡£
set ZhuangBei[3]='I01H' // è™çš®è¡£
set ZhuangBei[4]='I01G' // è›‡çš®è£˜
set ZhuangBei[5]='I017' // å¼€é˜³è¡£
set ZhuangBei[6]='I014' // çƒˆç«è¡£
set ZhuangBei[7]='I01O'
	set ZhuangBei[8]='I04E'
	set ZhuangBei[9]='I09Z'
	set ZhuangBei[10]='I00O'
	set ZhuangBei[11]='I00F'
	set ZhuangBei[12]='I00G'
	set ZhuangBei[13]='I0AL'
	set ZhuangBei[14]='I090'
	//é¥°å“æ¸…å•
	//ç™½å­—
	set ShiPin[1]='I023'
	set ShiPin[2]='I023'
	set ShiPin[3]='I01U'
	set ShiPin[4]='I01V'
	set ShiPin[5]='I01W'
	set ShiPin[6]='I01X'
	set ShiPin[7]='I01Y'
	set ShiPin[8]='I01Z'
	set ShiPin[9]='I01I'
	set ShiPin[10]='I01J'
	set ShiPin[11]='I01K'
	set ShiPin[12]='I015'
	set ShiPin[13]='I018'
	set ShiPin[14]='I019'
	set ShiPin[15]='I01A'
	set ShiPin[16]='I01B'
	set ShiPin[17]='I01C'
	set ShiPin[18]='I01D'
	//è“å­—
	set ShiPin[19]='I01M'
	set ShiPin[20]='I011'
	set ShiPin[21]='I012'
	set ShiPin[22]='I01Q'
	set ShiPin[23]='I01R'
	set ShiPin[24]='I01O'
	set ShiPin[25]='I01P'
	set ShiPin[26]='I00Y'
	set ShiPin[27]='I00Z'
	set ShiPin[28]='I00R'
	set ShiPin[29]='I00S'
	set ShiPin[30]='I00T'
	set ShiPin[31]='I00U'
	set ShiPin[32]='I00V'
	set ShiPin[33]='I00W'
	//ç´«å­—
	set ShiPin[34]='I00H'
	set ShiPin[35]='I00I'
	set ShiPin[36]='I00J'
	set ShiPin[37]='I00K'
	set ShiPin[38]='I00L'
	set ShiPin[39]='I00M'
	set ShiPin[40]='I00N'
	//çº¢å­—
	set ShiPin[41]='I08W'
	set ShiPin[42]='I08X'
	set ShiPin[43]='I08Y'
	set ShiPin[44]='I08Z'
	// åœ°å›¾ç­‰çº§å¥–åŠ±ç‰©å“id
	// 3çº§å¥–åŠ±
	set mapLevelReward[1]='I06H'
	set mapLevelReward[2]='I01X'
	set mapLevelReward[3]='I01U'
	// 5çº§å¥–åŠ±
	set mapLevelReward[4]='I02T'
	set mapLevelReward[5]='I01P'
	set mapLevelReward[6]='I01G'
	set mapLevelReward[7]='I01M'
	// 8çº§å¥–åŠ±
	set mapLevelReward[8]='I01A'
	set mapLevelReward[9]='I01C'
	set mapLevelReward[10]='I01B'
	// 10çº§å¥–åŠ±
	set mapLevelReward[11]='I019'
	set mapLevelReward[12]='I00Z'
	set mapLevelReward[13]='I010'
	set mapLevelReward[14]='I00X'
	set mapLevelReward[15]='I00Y'
	// 11çº§å¥–åŠ±
	set mapLevelReward[16]='I06Z'
	set mapLevelReward[17]='I071'
	set mapLevelReward[18]='I02K'
	set mapLevelReward[19]='I070'
	// 12çº§å¥–åŠ±
	set mapLevelReward[20]='I0AM'
	set mapLevelReward[21]='I01D'
	set mapLevelReward[22]='I01J'
	// 14çº§å¥–åŠ±
	set mapLevelReward[23]='I0E9'
	
endfunction
//é—¨æ´¾æ­¦åŠŸ
function InitDenominationSkills takes nothing returns nothing
	set udg_menpainame[1]="å°‘æ—æ´¾"
	set X7[1]='A05G'
	set Z7[1]='A000'
	set Y7[1]='A05K'
	set Q8[1]='A05O'
	set P8[1]='S000'
	set udg_menpainame[2]="å¤å¢“æ´¾"
	set X7[2]='A09E'
	set Z7[2]='A09J'
	set Y7[2]='A09M'
	set Q8[2]='A09T'
	set P8[2]='A09U'
	set udg_menpainame[3]="ä¸å¸®"
	set X7[3]='A0C9'
	set Z7[3]='A0CB'
	set Y7[3]='A0C8'
	set Q8[3]='A0CA'
	set P8[3]='A0DI'
	set udg_menpainame[4]="åå±±æ´¾"
	set X7[4]='A08Y'
	set Z7[4]='A08W'
	set Y7[4]='A08X'
	set Q8[4]='A037'
	set P8[4]='A091'
	set udg_menpainame[5]="å…¨çœŸæ•™"
	set X7[5]='A0CF'
	set Z7[5]='A0DA'
	set Y7[5]='A0CM'
	set Q8[5]='A0CH'
	set P8[5]='A0DE'
	set udg_menpainame[6]="è¡€åˆ€é—¨"
	set X7[6]='A0CI'
	set Z7[6]='A0CJ'
	set Y7[6]='A0CN'
	set Q8[6]='A0CK'
	set P8[6]='A0DH'
	set udg_menpainame[7]="æ’å±±æ´¾"
	set X7[7]='A021'
	set Z7[7]='A01Z'
	set Y7[7]='A0CD'
	set Q8[7]='A023'
	set P8[7]='A024'
	set udg_menpainame[8]="å³¨çœ‰æ´¾"
	set X7[8]='A0C7'
	set Z7[8]='A0C2'
	set Y7[8]='A0C5'
	set Q8[8]='A0C4'
	set P8[8]='A0C6'
	set udg_menpainame[9]="æ­¦å½“æ´¾"
	set X7[9]='A04D'
	set Z7[9]='A08S'
	set Y7[9]='A08R'
	set Q8[9]='A08Q'
	set P8[9]='A08V'
	set udg_menpainame[10]="æ˜Ÿå®¿æ´¾"
	set X7[10]='A0BP'
	set Z7[10]='A0BS'
	set Y7[10]='A0BQ'
	set Q8[10]='A0BT'
	set P8[10]='A0BV'
	set udg_menpainame[11]="è‡ªç”±é—¨æ´¾"
	set X7[11]='AEfk'
	set Z7[11]='AEfk'
	set Y7[11]='AEfk'
	set Q8[11]='AEfk'
	set P8[11]='AEfk'
	set udg_menpainame[12]="çµé¹«å®«"
	set X7[12]='A02B'
	set Z7[12]='A02C'
	set Y7[12]='A02F'
	set Q8[12]='A02G'
	set P8[12]='A02H'
	set udg_menpainame[13]="å§‘è‹æ…•å®¹"
	set X7[13]='A02K'
	set Z7[13]='A0CC'
	set Y7[13]='A02M'
	set Q8[13]='A02V'
	set P8[13]='A02R'
	set udg_menpainame[14]="æ˜æ•™"
	set X7[14]='A030'
	set Z7[14]='A032'
	set Y7[14]='A06R'
	set Q8[14]='A034'
	set P8[14]='A07W'
	set udg_menpainame[15]="è¡¡å±±æ´¾"
	set X7[15]='A04M'
	set Z7[15]='A04N'
	set Y7[15]='A04P'
	set Q8[15]='A026'
	set P8[15]='A04R'
	set udg_menpainame[16]="ç¥é¾™æ•™"
	set X7[16]='A04W'
	set Z7[16]='A04Z'
	set Y7[16]='A051'
	set Q8[16]='A057'
	set P8[16]='A059'
	set udg_menpainame[17]="ç¥é¾™æ•™"
	set X7[17]='A056'
	set Z7[17]='A054'
	set Y7[17]='A04X'
	set Q8[17]='A057'
	set P8[17]='A059'
	set udg_menpainame[18]="æ³°å±±æ´¾"
	set X7[18]='A08A'
	set Z7[18]='A08B'
	set Y7[18]='A08E'
	set Q8[18]='A08G'
	// set P8[18]='A08H' // å¿«æ´»ä¸‰å‰‘å¤ªå¡ï¼Œä¸ç”¨
	set P8[18]='A08G'
	set udg_menpainame[19]="é“æŒå¸®"
	set X7[19]='A06Y'
	set Z7[19]='A06Z'
	set Y7[19]='A07Y'
	set Q8[19]='A070'
	set P8[19]='A0DP'
	set udg_menpainame[20]="å”é—¨"
    set X7[20]='A098'
    set Z7[20]='A09A'
    set Y7[20]='A0B0'
    set Q8[20]='A0B6'
    set P8[20]='A0B1'
    set udg_menpainame[21]="äº”æ¯’æ•™"
    set X7[21]='A0BL'
    set Z7[21]='A0DU'
    set Y7[21]='A0DT'
    set Q8[21]='A0DS'
	set P8[21]='A0DR'
	set udg_menpainame[22]="æ¡ƒèŠ±å²›"
    set X7[22]='A0EE'
    set Z7[22]='A0EG'
    set Y7[22]='A0EI'
    set Q8[22]='A0EK'
    set P8[22]='A0EL'
endfunction
function InitSkillBooks takes nothing returns nothing
	set udg_jianghu[1]='I03J'
	set udg_jianghu[2]='I03H'
	set udg_jianghu[3]='I02V'
	set udg_jianghu[4]='I02U'
	set udg_jianghu[5]='I03G'
	set udg_jianghu[6]='I02Z'
	set udg_jianghu[7]='I03I'
	set udg_jianghu[8]='I02X'
	set udg_jianghu[9]='I02Y'
	set udg_jianghu[10]='I03K'
	set udg_jianghu[11]='I03D'
	set udg_jianghu[12]='I03L'
	set udg_jianghu[13]='I030'
	set udg_jianghu[14]='I031'
	set udg_jianghu[15]='I03E'
	set udg_jianghu[16]='I033'
	set udg_jianghu[17]='I02W'
	set udg_jianghu[18]='I03F'
	set udg_juexue[1]='I039'
	set udg_juexue[2]='I034'
	set udg_juexue[3]='I038'
	set udg_juexue[4]='I037'
	set udg_juexue[5]='I03B'
	set udg_juexue[6]='I032'
	set udg_juexue[7]='I035'
	set udg_juexue[8]='I036'
	set udg_juexue[9]='I03C'
	set udg_juexue[10]='I03A'
	set udg_juenei[1]='I03S'
	set udg_juenei[2]='I03O'
	set udg_juenei[3]='I03T'
	set udg_juenei[4]='I03Q'
	set udg_juenei[5]='I03M'
	set udg_juenei[6]='I03P'
	set udg_juenei[7]='I03U'
	set udg_juenei[8]='I03R'
	set udg_canzhang[1]='I065'
	set udg_canzhang[2]='I061'
	set udg_canzhang[3]='I066'
	set udg_canzhang[4]='I064'
	set udg_canzhang[5]='I067'
	set udg_canzhang[6]='I062'
	set udg_canzhang[7]='I069'
	set udg_canzhang[8]='I060'
	set udg_canzhang[9]='I068'
	set udg_canzhang[10]='I063'
	set udg_canzhang[11]='I0CW'
	set udg_diershi[1]='I09E'
	set udg_diershi[2]='I09F'
	set udg_diershi[3]='I09G'
	set udg_diershi[4]='I09H'
	set udg_diershi[5]='I09I'
	set udg_diershi[6]='I09J'
	set udg_diershi[7]='I09K'
	set udg_diershi[8]='I09L'
	set udg_diershi[9]='I09M'
	set udg_diershi[10]='I09N'
	set udg_qiwu[1]='I0C2'
	set udg_qiwu[2]='I0C3'
	set udg_qiwu[3]='I0C4'
	set udg_qiwu[4]='I0C5'
	set udg_qiwu[5]='I0C6'
	set udg_qiwu[6]='I0C8'
	set udg_qiwu[7]='I0C9'
	set udg_qiwu[8]='I0CA'
	set udg_qiwu[9]='I0CB'
	set udg_qiwu[10]='I0CC'
	set udg_qiwu[11]='I0CD'
	set udg_qiwu[12]='I0CJ'
	set udg_qiwu[13]='I0CT'
	set udg_qiwu[14]='I0CU'
	set udg_qiwu[15]='I0CV'
endfunction
function InitKillingTaskCreatures takes nothing returns nothing
	//é˜³å¯¿å·²å°½ä»»åŠ¡æ€ª
	set udg_yangshou[1]='odoc'
	set udg_yangshou[2]='orai'
	set udg_yangshou[3]='hsor'
	set udg_yangshou[4]='nbdw'
	set udg_yangshou[5]='ndrw'
	set udg_yangshou[6]='ndqs'
	set udg_yangshou[7]='nsqo'
	set udg_yangshou[8]='nhrr'
	set udg_yangshou[9]='nomg'
	set udg_yangshou[10]='nubw'
	set udg_yangshou[11]='nrzb'
	set udg_yangshou[12]='nfpu'
	set udg_yangshou[13]='ngh2'
	set udg_yangshou[14]='nfsp'
	set udg_yangshou[15]='nmgd'
	set udg_yangshou[16]='uktn'
	set udg_yangshou[17]='nsrh'
	set udg_yangshou[18]='hspt'
	set udg_yangshou[19]='n00D'
	set udg_yangshou[20]='Hmkg'
	set udg_yangshou[21]='nfpc'
endfunction
// å•å¤šé€šé—¨æ´¾å­˜æ¡£æ ¡æ­£ä½æ•°
function replenishSaveStr takes string oldSaveStr returns string
	if StringLength(oldSaveStr) < 18 then
		loop
			exitwhen StringLength(oldSaveStr) == 18
			// body
			set oldSaveStr=oldSaveStr + "0"
		endloop
	endif
	if StringLength(oldSaveStr) > 18 then
		set oldSaveStr=SubString(oldSaveStr, 0, 18)
	endif
	return oldSaveStr
endfunction
// è®¡ç®—é€šå…³é—¨æ´¾æ•°é‡
function calMpCount takes integer i returns nothing
 local integer j= 0
 local integer msCount= 0
local integer ssCount= 0
local integer parentId= 1 + GetPlayerId(Player(i))
	// æˆªå–å­˜æ¡£ï¼Œç›¸åŠ 
	loop
		exitwhen j > 17
		// body
		set msCount=msCount + S2I(SubString(manySuccess[i], j, j + 1))
		set j=j + 1
	endloop
	set j=0
	loop
		exitwhen j > 17
		// body
		set ssCount=ssCount + S2I(SubString(singleSuccess[i], j, j + 1))
		set j=j + 1
	endloop
	
	// å•é€šå¥–åŠ±
	if ssCount >= 1 then
		// åŒå€ç§¯åˆ†
		set extraDoubleJf[i]=2
		call SetPlayerTechResearched(Player(i), 'R007', 1)
	endif
	if ssCount >= 5 then
		call SetPlayerTechResearched(Player(i), 'R008', 1)
	endif
	if ssCount >= 8 then
		call SetPlayerTechResearched(Player(i), 'R009', 1)
	endif
	if ssCount >= 11 then
		// ç§¯åˆ†å…‘æ¢å¥‡æ­¦æ¬¡æ•°åŠ 1
		set jfQiWuLimit[i]=4 // è§’æ ‡0å¼€å§‹
call SetPlayerTechResearched(Player(i), 'R00A', 1)
	endif
	if ssCount >= 18 then
		call SetPlayerTechResearched(Player(i), 'R00B', 1)
	endif
	// å¤šé€šå¥–åŠ±
	if msCount >= 2 then
		// 1wé‡‘å¸
		call AdjustPlayerStateBJ(10000, Player(i), PLAYER_STATE_RESOURCE_GOLD)
		call SetPlayerTechResearched(Player(i), 'R00C', 1)
	endif
	if msCount >= 5 then
		// 25æœ¨å¤´
		call AdjustPlayerStateBJ(25, Player(i), PLAYER_STATE_RESOURCE_LUMBER)
		call SetPlayerTechResearched(Player(i), 'R00D', 1)
	endif
	if msCount >= 8 then
		// é¢å¤–100ç§»é€Ÿ
		set extraSpeed[i]=100
		call SetPlayerTechResearched(Player(i), 'R00E', 1)
	endif
	if msCount >= 11 then
		// ç‰¹æ”»åŠ 20
		set special_attack[i + 1]=special_attack[i + 1] + 20
		call SetPlayerTechResearched(Player(i), 'R00F', 1)
	endif
	if msCount >= 18 then
		// æ±Ÿæ¹–å£°æœ›åŠ 300
		set shengwang[i + 1]=shengwang[i + 1] + 300
		call SetPlayerTechResearched(Player(i), 'R00G', 1)
	endif
	// é€šå…³é—¨æ´¾å­˜åˆ°å“ˆå¸Œè¡¨ï¼ŒparentIdä»1å¼€å§‹
	call SaveInteger(YDHT, parentId, StringHash("å¤šé€šé—¨æ´¾æ•°é‡"), msCount)
	call SaveInteger(YDHT, parentId, StringHash("å•é€šé—¨æ´¾æ•°é‡"), ssCount)
endfunction
// åˆå§‹åŒ–æœåŠ¡å™¨å­˜æ¡£
function InitGlobalSave takes nothing returns nothing
 local integer i= 0
 local integer j= 0
 local integer a= 0
	
	// è·å–å…¨å±€å­˜æ¡£
	set admin=DzAPI_Map_GetMapConfig("admin") // æµ‹è¯•ç å¼€å…³
if admin == "" then
		set admin="0"
	endif
	// ç§¯åˆ†å€æ•°å…¨å±€å­˜æ¡£
	set jfBeishu=DzAPI_Map_GetMapConfig("jfBeishu")
	set priKey=DzAPI_Map_GetMapConfig("priKey")
	
	loop
		exitwhen i > 4
		set extraDoubleJf[i]=1 // æ— é¢å¤–åŒå€ç§¯åˆ†
// set extraSpeed[i] = 0 // æ— é¢å¤–ç§»é€Ÿ
set manySuccess[i]=(DzAPI_Map_GetServerValue((Player(i) ), "S" + ( "manySuccess"))) // è·å–å¤šé€šé—¨æ´¾å­˜æ¡£ // INLINED!!
set singleSuccess[i]=(DzAPI_Map_GetServerValue((Player(i) ), "S" + ( "singleSuccess"))) // è·å–å•é€šé—¨æ´¾å­˜æ¡£ // INLINED!!
// å‡ºbugè¡¥æ¡£
set singleSuccess[i]=replenishSaveStr(singleSuccess[i])
		set manySuccess[i]=replenishSaveStr(manySuccess[i])
		set udg_zdl[i]=DzAPI_Map_GetStoredInteger(Player(i) , "zdl") // è·å–æˆ˜æ–—åŠ›å­˜æ¡£
set udg_jf[i]=DzAPI_Map_GetStoredInteger(Player(i) , "jf") // è·å–ç§¯åˆ†
set udg_success[i]=DzAPI_Map_GetStoredInteger(Player(i) , "success") // è·å–é€šå…³æ¬¡æ•°
set max_damage[i]=DzAPI_Map_GetStoredReal(Player(i) , "maxDamage") // è·å–æœ€é«˜ä¼¤å®³
set bonus_wugong[i]=DzAPI_Map_GetStoredReal(Player(i) , "wugong") // è·å–æ­¦åŠŸä¼¤å®³åŠ æˆ
set bonus_baoshang[i]=DzAPI_Map_GetStoredReal(Player(i) , "baoshang") // è·å–çˆ†ä¼¤åŠ æˆ
// ç§¯åˆ†å¤§äºæˆ˜æ–—åŠ›è§†ä¸ºä½œå¼Šï¼Œç§¯åˆ†æ¸…é›¶
if udg_jf[i] > udg_zdl[i] or udg_jf[i] > 326 * udg_success[i] then
		    call DisplayTextToPlayer(Player(i), 0, 0, "ç³»ç»Ÿæ£€æµ‹åˆ°ä½ ä½œå¼Šï¼Œç§¯åˆ†æ¸…é›¶")
		    set udg_jf[i]=0
		    call DzAPI_Map_StoreInteger(Player(i) , "jf" , 0)
		endif
		// ç§¯åˆ†è´­ä¹°æ­¦åŠŸåŠ æˆå’Œçˆ†ä¼¤ä¸Šé™30%ï¼Œè¶…è¿‡è§†ä¸ºä½œå¼Šï¼Œä¸åŠ ä¼¤å®³
		if bonus_wugong[i] > 0.3 then
			set bonus_wugong[i]=0
			call BJDebugMsg("ä¼¤å®³åŠ æˆè¶…è¿‡30%")
		endif
		if bonus_baoshang[i] > 0.3 then
			set bonus_baoshang[i]=0
			call BJDebugMsg("ä¼¤å®³åŠ æˆè¶…è¿‡30%")
		endif
		// ä¼¤å®³åŠ æˆåŠ åˆ°æ­¦åŠŸä¼¤å®³å’Œæš´å‡»ä¸Š
		set udg_shanghaijiacheng[i + 1]=udg_shanghaijiacheng[i + 1] + bonus_wugong[i]
		set udg_baojishanghai[i + 1]=udg_baojishanghai[i + 1] + bonus_baoshang[i]
		// æµ‹è¯•ç‰ˆæœ¬å¼€å±€1000ç§¯åˆ†
		if testVersion then
			set udg_jf[i]=udg_jf[i] + 1000
		endif
		set jf_useMax[i]=0 // æ¯å±€å·²ç”¨ç§¯åˆ†

		// è®¡ç®—é€šå…³é—¨æ´¾åŠå¥–åŠ±
		call calMpCount(i)
		
		set i=i + 1
	endloop
endfunction
// åˆå§‹åŒ–æµ‹è¯•äººå‘˜çš„æƒé™
function InitPriv takes nothing returns nothing
 local integer i= 0
	loop
		exitwhen i > 4
			if GetPlayerName(Player(i)) == "WorldEdit" or GetPlayerName(Player(i)) == "zeikale" or GetPlayerName(Player(i)) == "zeikala" or GetPlayerName(Player(i)) == "éæˆ‘è«å±xq" or GetPlayerName(Player(i)) == "è‹ç©¹è€Œé™" or GetPlayerName(Player(i)) == "æ™“çª—ä¸´é£" or GetPlayerName(Player(i)) == "æ²«Mu" or GetPlayerName(Player(i)) == "è™å§¬" then
				if admin == "0" or testVersion then
					set udg_isTest[i]=true
					set talent_flag[i + 1]=1
					set tiezhang_flag[i + 1]=1
					set tangmen_flag[i + 1]=1
					set mall_addition[i + 1]=1
					set level_award[i + 1]=1
					// set extraDoubleJf[i] = 2 // é¢å¤–åŒå€ç§¯åˆ†
					call DisplayTextToPlayer(Player(i), 0, 0, "|Cff008C00å¼€|r|Cff088f00å¯|r|Cff119300äº†|r|Cff1a9700å¤©|r|Cff239b00èµ‹|r|Cff2b9f00ã€|r|Cff34a300é“|r|Cff3da700æŒ|r|Cff46ab00å¸®|r|Cff4faf00å’Œ|r|Cff57b300å”|r|Cff60b700é—¨|r|Cff69bb00çš„|r|Cff72bf00æƒ|r|Cff7bc300é™|r|Cff83c700ï¼Œ|r|Cff8ccb00å¼€|r|Cff95cf00å¯|r|Cff9ed300åŒ|r|Cffa7d700å€|r|Cffafdb00ç§¯|r|Cffb8df00åˆ†|r|Cffc1e300å’Œ|r|Cffcae700èŒ|r|Cffd3eb00æ–°|r|Cffdbef00ç¤¼|r|Cffe4f300åŒ…|r|Cffedf700æƒ|r|Cfff6fb00é™|r")
				endif
			endif
		set i=i + 1
	endloop
endfunction
// åˆå§‹åŒ–ç©å®¶æ•°é‡
function initPlayerCount takes nothing returns nothing
    local integer i= 1
    loop
        exitwhen i > 12
        // body
         if GetPlayerController(ConvertedPlayer(i)) == MAP_CONTROL_USER and GetPlayerSlotState(ConvertedPlayer(i)) == PLAYER_SLOT_STATE_PLAYING then
            set udg_wanjiashu=udg_wanjiashu + 1
         endif
         set i=i + 1
    endloop
    call BJDebugMsg("|CffFF0000ç©å®¶æ•°é‡|rï¼š" + I2S(udg_wanjiashu))
endfunction
function InitGlobalVariables takes nothing returns nothing
	call InitFamouses() //åˆå§‹åŒ–åé—¨
call InitBosses() //åˆå§‹åŒ–BOSS
call InitHerbs() //åˆå§‹åŒ–è‰è¯
call InitEquipments() //åˆå§‹åŒ–è£…å¤‡
call InitDenominationSkills() //åˆå§‹åŒ–é—¨æ´¾æ­¦åŠŸ
call InitSkillBooks() //åˆå§‹åŒ–æ­¦åŠŸä¹¦
call InitKillingTaskCreatures() //åˆå§‹åŒ–é˜³å¯¿å·²å°½ä»»åŠ¡æ€ª
call InitGlobalSave() // åˆå§‹åŒ–æœåŠ¡å™¨å­˜æ¡£
call InitPriv() // åˆå§‹åŒ–æµ‹è¯•æƒé™
call initPlayerCount() // åˆå§‹åŒ–ç©å®¶æ•°é‡
endfunction

function MenPai_Trigger takes nothing returns nothing
	call EMei_Trigger() //å³¨çœ‰æ­¦åŠŸè§¦å‘
call GaiBang_Trigger() //ä¸å¸®æ­¦åŠŸè§¦å‘
call GuMu_Trigger() //å¤å¢“æ­¦åŠŸè§¦å‘
call HuaShan_Trigger() //åå±±æ­¦åŠŸè§¦å‘
call HengShan_Trigger() //æ’å±±æ­¦åŠŸè§¦å‘
call HengShan2_Trigger() //è¡¡å±±æ­¦åŠŸè§¦å‘
call LingJiuGong_Trigger() //çµé¹«å®«æ­¦åŠŸè§¦å‘
call MuRongJia_Trigger() //æ…•å®¹ä¸–å®¶æ­¦åŠŸè§¦å‘
call QuanZhen_Trigger() //å…¨çœŸæ­¦åŠŸè§¦å‘
call ShaoLin_Trigger() //å°‘æ—æ­¦åŠŸè§¦å‘
call ShenLong_Trigger() //ç¥é¾™æ•™æ­¦åŠŸè§¦å‘
call TieZhang_Trigger() //é“æŒå¸®æ­¦åŠŸè§¦å‘
call tangMenTrigger() //å”é—¨æ­¦åŠŸè§¦å‘
call TaiShan_Trigger() //æ³°å±±æ´¾æ­¦åŠŸè§¦å‘
call VIPMingJiao_Trigger() //æ˜æ•™æ­¦åŠŸè§¦å‘
call WuDang_Trigger() //æ­¦å½“æ­¦åŠŸè§¦å‘
call XueDao_Trigger() //è¡€åˆ€é—¨æ­¦åŠŸè§¦å‘
call XingXiu_Trigger() //æ˜Ÿå®¿æ­¦åŠŸè§¦å‘

	call JiangHuNeiGong_Trigger() //æ±Ÿæ¹–å†…åŠŸè§¦å‘ï¼ˆå«ä¹é˜´ã€ç»å†…ï¼‰
call JiangHuWuGong_Trigger() //æ±Ÿæ¹–æ­¦åŠŸè§¦å‘
call JueShiWuGong_Trigger() //ç»ä¸–æ­¦åŠŸè§¦å‘
endfunction
//åœ°å›¾åˆå§‹åŒ–
function main1 takes nothing returns nothing
 local trigger t
 local real life
 local integer itemID
 local integer i
 local integer cu
 local integer Du
 local version v
 local integer wu
	call MapStartCreateUnitsAndInitEnvironments() // åˆ›å»ºå•ä½å¹¶åˆå§‹åŒ–ç¯å¢ƒ
call ConfigureNeutralVictim()
	set ju=Filter(function bu)
	set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)
	set filterEnumDestructablesInCircleBJ=Filter(function tu)
	set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)
	set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
	set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
	set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)
	set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
	
	set udg_baolv[1]=20
	set udg_baolv[2]=25
	set udg_baolv[3]=25
	set udg_baolv[4]=25
	set udg_baolv[5]=25
	set udg_baolv[6]=33
	set udg_baolv[7]=33
	set udg_baolv[8]=34
	set udg_baolv[9]=25
	set udg_baolv[10]=25
	set udg_baolv[11]=25
	set udg_baolv[12]=25
	set udg_baolv[13]=33
	set udg_baolv[14]=33
	set udg_baolv[15]=34
	set udg_baolv[16]=50
	set udg_baolv[17]=50
	set udg_baolv[18]=50
	set udg_baolv[19]=50
	set udg_baolv[20]=50
	set udg_baolv[21]=50
	set udg_baolv[22]=33
	set udg_baolv[23]=33
	set udg_baolv[24]=34
	set i=1
	loop
		exitwhen i >= 6
		set udg_shuxing[i]=10
		set qiuhun[i]=0
		set zhaoyangguo[i]=0
		set linganran[i]=0
		set touxiao[i]=0
		set bihai[i]=0
		set bibo_kill[i]=0
		set aidacishu[i]=0
		set udg_wuqishu[i]=0
		set udg_yifushu[i]=0
		set i=i + 1
	endloop
	set cu=0
	// FIXME
	loop
	exitwhen cu == 16
	set bj_FORCE_PLAYER[cu]=CreateForce()
	call ForceAddPlayer(bj_FORCE_PLAYER[cu], Player(cu))
	set cu=cu + 1
	endloop
	set bj_FORCE_ALL_PLAYERS=CreateForce()
	call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS, null)
	set bj_cineModePriorSpeed=GetGameSpeed()
	set bj_cineModePriorFogSetting=IsFogEnabled()
	set bj_cineModePriorMaskSetting=IsFogMaskEnabled()
	set cu=0
	// FIXME
	loop
	exitwhen cu >= bj_MAX_QUEUED_TRIGGERS
	set bj_queuedExecTriggers[cu]=null
	set bj_queuedExecUseConds[cu]=false
	set cu=cu + 1
	endloop
	set bj_isSinglePlayer=false
	set Du=0
	set cu=0
	loop
	exitwhen cu >= 12
	if ( GetPlayerController(Player(cu)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(cu)) == PLAYER_SLOT_STATE_PLAYING ) then
	set Du=Du + 1
	endif
	set cu=cu + 1
	endloop
	set bj_isSinglePlayer=( Du == 1 )
	set bj_rescueSound=CreateSoundFromLabel("Rescue", false, false, false, $2710, $2710)
	set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew", false, false, false, $2710, $2710)
	set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate", false, false, false, $2710, $2710)
	set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted", false, false, false, $2710, $2710)
	set bj_questFailedSound=CreateSoundFromLabel("QuestFailed", false, false, false, $2710, $2710)
	set bj_questHintSound=CreateSoundFromLabel("Hint", false, false, false, $2710, $2710)
	set bj_questSecretSound=CreateSoundFromLabel("SecretFound", false, false, false, $2710, $2710)
	set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward", false, false, false, $2710, $2710)
	set bj_questWarningSound=CreateSoundFromLabel("Warning", false, false, false, $2710, $2710)
	set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted", false, false, false, $2710, $2710)
	set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed", false, false, false, $2710, $2710)
	call DelayedSuspendDecayCreate()
	set v=VersionGet()
	if ( v == VERSION_REIGN_OF_CHAOS ) then
	set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0
	else
	set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1
	endif
	call InitQueuedTriggers()
	call YDWEInitRescuableBehaviorBJNull()
	call InitDNCSounds()
	call InitMapRects()
	call InitSummonableCaps()
	set wu=0
	loop
	set bj_stockAllowedPermanent[wu]=false
	set bj_stockAllowedCharged[wu]=false
	set bj_stockAllowedArtifact[wu]=false
	set wu=wu + 1
	exitwhen wu > $A
	endloop
	call SetAllItemTypeSlots($B)
	call SetAllUnitTypeSlots($B)
	set bj_stockUpdateTimer=CreateTimer()
	call TimerStart(bj_stockUpdateTimer, bj_STOCK_RESTOCK_INITIAL_DELAY, false, function au)
	set bj_stockItemPurchased=CreateTrigger()
	call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased, Player(15), EVENT_PLAYER_UNIT_SELL_ITEM, null)
	call TriggerAddAction(bj_stockItemPurchased, function RemovePurchasedItem)
	call DetectGameStarted()
	call ExecuteFunc("Hu")
	call ExecuteFunc("SetCamera")
	call ExecuteFunc("mv")
	call ExecuteFunc("Pw")
	set i=0
	set i=0
	loop
		exitwhen ( i > 16 )
		set udg_jdds[i]=0
		set udg_ldds[i]=0
		set udg_xbds[i]=0
		set udg_bqds[i]=0
		set udg_dzds[i]=0
		set udg_jwjs[i]=0
		set juexuelingwu[i]=1
		set udg_baojishanghai[i]=1.5
		set udg_baojilv[i]=.03
		set shanghaihuifu[i]=100.
		set shaguaihufui[i]=200.
		set shengminghuifu[i]=0
		set falihuifu[i]=0
		set udg_lilianxishu[i]=1.
		set udg_hashero[i]=false
		set udg_baoji[i]=false
		set udg_yiwang[i]=false
		set tide_rising[i]=false
		set R4[i]=DialogCreate()
		set Y4[i]=1
		set udg_xinggeA[i]=0
		set udg_xinggeB[i]=0
		// èµåŠ©ç›¸å…³
		set udg_vip[i]=2
		set udg_changevip[i]=1
		set udg_elevenvip[i]=1
		// æ˜¯å¦æ˜¯æµ‹è¯•äººå‘˜
		set udg_isTest[i]=false
		
		set saveFlag[i]=false // é»˜è®¤æœªä¿å­˜å­˜æ¡£
// åˆå§‹å¥–åŠ±
set bonus_wugong[i]=0
		set bonus_baoshang[i]=0
		// åˆå§‹åŒ–æœ€é«˜ä¼¤å®³
		set max_damage[i]=0
		set wugongshu[i]=11 // 11æ ¼
set udg_zhemei[i]=0
		set jfQiWuLimit[i]=3 // ç§¯åˆ†å¥‡æ­¦é™å®šå…‘æ¢3æ¬¡

		set chief[i]=0 // æŒé—¨ç§°å·
set title0[i]=0 // ç§°å·1 1-30
set title1[i]=0 // ç§°å·2 31-60
set deputy[i]=0 // å‰¯èŒ
set master[i]=0 // å¤§å¸ˆ

		set qimen_status[i]=0 // å¥‡é—¨æœ¯æ•°æ ‡è¯†

		set wuxing[i]=9
		set jingmai[i]=9
		set gengu[i]=9
		set fuyuan[i]=9
		set danpo[i]=9
		set yishu[i]=9
		if i >= 1 and i <= 5 then
			// set special_attack[i] = DzAPI_Map_GetMapLevel(Player(i - 1))
			// ç‰¹æ”»æš‚æ—¶æ”¹æˆ:20 + åœ°å›¾ç­‰çº§/3
			set special_attack[i]=20 + DzAPI_Map_GetMapLevel(Player(i - 1)) / 3
		endif
		set udg_runamen[i]=0
		set D7[i]=0
		set F7[i]=0
		set G7[i]=0
		set K7[i]=DialogCreate()
		set L7[i]=0
		set O7[i]=0
		set P7[i]=0
		set wolfSkinCount[i]=0
		set wolfSkinFlag[i]=0
		set udg_revivetimer[i]=CreateTimer()
		set S7[i]=0
		set udg_MaxDamage[i]=0
		set d8[i]=0
		set e8[i]=0
		set shengwang[i]=0
		set g8[i]=0
		set h8[i]=0
		set i8[i]=0
		set j8[i]=0
		set o8[i]=false
		set v8[i]=DialogCreate()
		set b8[i]=false
		set C8[i]=false
		set c8[i]=false
		set D8[i]=DialogCreate()
		set F8[i]=false
		set XNKL[i]=false
		set daxia[i]=false
		set G8[i]=false
		set H8[i]=false
		set I8[i]=false
		set l8[i]=false
		set J8[i]=0
		set xiuxing[i]=0
		set MM8[i]=0
		set N8[i]=0
		set O8[i]=0
		set Z8[i]=false
		set d9[i]=false
		set e9[i]=false
		set f9[i]=CreateTimer()
		set h9[i]=false
		set i9[i]=0
		set v9[i]=false
		set w9[i]=false
		set x9[i]=false
		set y9[i]=false
		set z9[i]=0
		set A9[i]=0
		set G9[i]=0
		set H9[i]=0
		set I9[i]=0
		set l9[i]=0
		set udg_shanghaijiacheng[i]=.0
		set udg_shanghaixishou[i]=0
		set T9[i]=false
		set LLguaiA[i]=0
		set LLguaiE[i]=0
		set LLguaiB[i]=0
		set LLguaiC[i]=0
		set LLguaiD[i]=0
		set LLguaiF[i]=0
		set LLguaiG[i]=0
		set Z9[i]=CreateTimer()
		set ed[i]=false
		set fd[i]=CreateTimer()
		set jd[i]=0
		set kd[i]=0
		set qd[i]=0
		set rd[i]=0
		set ud[i]=0
		set wugongxiuwei[i]=0
		set xd[i]=0
		set yd[i]=0
		set Ad[i]=false
		set Bd[i]=false
		set Cd[i]=0
		set cd[i]=false
		set Dd[i]=0
		set Ed[i]=0
		set Fd[i]=CreateGroup()
		set Gd[i]=0
		set Id[i]=0
		set ld[i]=0
		set Jd[i]=0
		set Kd[i]=0
		set Ld[i]=0
		set Md[i]=0
		set Nd[i]=0
		set Od[i]=0
		set Pd[i]=0
		set Qd[i]=0
		set Rd[i]=false
		set Sd[i]=0
		set Td[i]=0
		set Ud[i]=0
		set Vd[i]=0
		set Wd[i]=0
		set jiuazi[i]=0
		set shoujiajf[i]=0
		set ge[i]=false
		set he[i]=false
		set je[i]=DialogCreate()
		set te[i]=0
		set ce[i]=0
		set De[i]=false
		set Ee[i]=false
		set i=i + 1
	endloop
	//set udg_menpaineigong=DialogCreate()
	set udg_index=DialogCreate()
	set udg_nan=DialogCreate()
	// åˆå§‹åŒ–æŒ‘æˆ˜æ¨¡å¼å¼¹çª—
	set udg_tiaoZhan=DialogCreate()
	set i7=CreateGroup()
	set udg_shanghaidanweizu=CreateGroup()
	set udg_boshu=1
	set w7=CreateGroup()
	set i=0
	loop
		exitwhen ( i > 5 )
		set A7[i]=CreateTimer()
		set i=i + 1
	endloop
	set ShiFouShuaGuai=true
	set i=0
	loop
		exitwhen ( i > 100 )
		set I7[i]='AEfk'
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 20 )
		set udg_menpainame[i]="æœªåŠ å…¥"
		set X7[i]='AEfk'
		set Y7[i]='AEfk'
		set Z7[i]='AEfk'
		set P8[i]='AEfk'
		set Q8[i]='AEfk'
		set nd[i]=0
		set od[i]=0
		set i=i + 1
	endloop
	set pd[1]=2000
	set pd[2]=2000
	set pd[3]=2000
	set pd[4]=5000
	set pd[5]=5000
	set pd[6]=5000
	set pd[7]=15000
	set pd[8]=15000
	set pd[9]=15000
	set pd[10]=500000
	set i=0
	loop
		exitwhen ( i > $A )
		set m8[i]=false
		set q8[i]='crys'
		set yongdanshu[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > $D )
		set udg_blgg[i]=0
		set udg_blwx[i]=0
		set udg_bljm[i]=0
		set udg_blfy[i]=0
		set udg_bldp[i]=0
		set udg_blys[i]=0
		set i=i + 1
	endloop
	set j9=CreateGroup()
	set k9=CreateGroup()
	set r9=CreateGroup()
	set s9=CreateGroup()
	set i=0
	loop
		exitwhen ( i > 20 )
		set udg_jueneishxs[i]=0
		set udg_jueneishjc[i]=0
		set udg_jueneiminjie[i]=0
		set udg_jueneijxlw[i]=0
		set udg_jueneibaojilv[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 7 )
		set Hd[i]=CreateTimer()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 15 )
		set xe[i]=0
		set ye[i]=0
		set ze[i]=0
		set i=i + 1
	endloop
	set Fe=CreateGroup()
	//åˆšè¿›å…¥åœ°å›¾
	set lh=CreateTrigger()
	call TriggerRegisterTimerEventSingle(lh, .1)
	call TriggerAddAction(lh, function Zw)
		
	call InitGlobalVariables() //åˆå§‹åŒ–å…¨å±€å˜é‡

	call KeyInputSystem() //é”®ç›˜è¾“å…¥ç³»ç»Ÿ
call BlizzardEventSystem() //æš´é›ªæ–°APIç³»ç»Ÿ
call SmeltingWeaponSystem() //å†³æˆ˜æ±Ÿæ¹–1.4ä¹‹å¤§è¾½é‡‘åŒ 
	call CreateDestructables() //åˆ›å»ºå¯ç ´åç‰©
call Cuns() //å­˜å‚¨è£…å¤‡å±æ€§
call CunWuGongS() //å­˜å‚¨æ­¦åŠŸ
call najitest() //çº³å‰çš„æµ‹è¯•ä»£ç 

	set t=null
	set v=null
endfunction
function main2 takes nothing returns nothing
    call mallInit() // å•†åŸé€»è¾‘åˆå§‹åŒ–
call GameLogic_Trigger() // æ¸¸æˆé€»è¾‘è§¦å‘å™¨
call GameDetail_Trigger() // æ¸¸æˆç»†èŠ‚å¤„ç†
// call VIP_Trigger() // VIPç³»ç»Ÿ

	call InitTrig_ZhangMenSkill()
	
	call Equipment_Trigger() //è£…å¤‡å±æ€§è§¦å‘å™¨
call MenPai_Trigger() //é—¨æ´¾è§¦å‘å™¨
call ZiZhi_Trigger() //è‡ªåˆ¶æ­¦å™¨è§¦å‘å™¨
call ZhenFa_Trigger() //é˜µæ³•è§¦å‘å™¨
call TiaoZhan_Trigger() //æŒ‘æˆ˜åœºè§¦å‘å™¨
call QiWu_Trigger() //å¥‡æ­¦è§¦å‘å™¨
call TaoHuaDao_Trigger() //æ¡ƒèŠ±å²›è§¦å‘å™¨
call Instances_Trigger() //å‰¯æœ¬å’Œä»»åŠ¡ç³»ç»Ÿ
call Experiences_Trigger() //å†ç»ƒç³»ç»Ÿ
call ElixirSystem_Trigger() //ä¸¹è¯ç³»ç»Ÿ
call Tasks_Trigger() //ä»»åŠ¡ç³»ç»Ÿ
call checkActivityAddition() // åˆ¤æ–­æ˜¯å¦åœ¨æ´»åŠ¨æœŸé—´

	call cleanItems() // æ¸…é™¤ç‰©å“å‘½ä»¤
call enhanceDefense() // éš¾åº¦ä¸ƒæå‡é˜²å¾¡
call npcHint() // NPCæç¤º
call showHealthPoint() //å±•ç¤ºå•ä½è¡€é‡
call talent() //å¤©èµ‹ç³»ç»Ÿ
call EverySecond() // è®°å½•æ¸¸æˆæ—¶é—´
call initPetSkill() // å® ç‰©æŠ€èƒ½
call initUI() // åˆå§‹åŒ–UI

	call UnitAttack() // æ³¨å†Œå•ä½æ”»å‡»äº‹ä»¶
call UseAbility() // æ³¨å†Œä½¿ç”¨æŠ€èƒ½äº‹ä»¶
call UnitDamage() // æ³¨å†Œä»»æ„å•ä½ä¼¤å®³äº‹ä»¶
call UnitDeath() // æ³¨å†Œä»»æ„å•ä½æ­»äº¡äº‹ä»¶

endfunction
//#include "./denomination/XueDao.j"
//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************
//===========================================================================
// Trigger: japiå˜èº«
//===========================================================================
function Trig_japi______uActions takes nothing returns nothing
    call YDWEUnitTransform(GetTriggerUnit() , 'AEme' , 'hpea')
endfunction
//===========================================================================
function InitTrig_japi______u takes nothing returns nothing
    set gg_trg_japi______u=CreateTrigger()
    call TriggerAddAction(gg_trg_japi______u, function Trig_japi______uActions)
endfunction
//===========================================================================
// Trigger: firstOccur
//===========================================================================
function Trig_firstOccurActions takes nothing returns nothing
    call YDWESetUnitAbilityDataString(GetTriggerUnit() , 'A04B' , 1 , 215 , "")
    call YDWECreateEwsp(GetTriggerUnit() , 'hfoo' , 1 , 300 , 20 , 0.01 , 1)
    call ShowUnit(gg_unit_N007_0055, true)
    call ShowUnit(gg_unit_N012_0095, true)
    call ShowUnit(gg_unit_N00F_0085, true)
    call ShowUnit(gg_unit_N008_0054, true)
    call ShowUnit(gg_unit_N00P_0084, true)
    call ShowUnit(gg_unit_N00U_0092, true)
    call ShowUnit(gg_unit_o02D_0069, true)
    call ShowUnit(gg_unit_o00K_0126, true)
    call ShowUnit(gg_unit_N00B_0086, true)
endfunction
//===========================================================================
function InitTrig_firstOccur takes nothing returns nothing
    set gg_trg_firstOccur=CreateTrigger()
    call TriggerAddAction(gg_trg_firstOccur, function Trig_firstOccurActions)
endfunction
//===========================================================================
// Trigger: æœªå‘½åè§¦å‘å™¨ 007
//===========================================================================
function Trig____________________007Actions takes nothing returns nothing
    call YDWETimerPatternRushSlide(GetTriggerUnit() , 0 , 800 , 1 , 0.03 , 0 , false , false , false , "origin" , "Abilities\\Spells\\Human\\ManaShield\\ManaShieldCaster.mdl" , "hellscream.mdx")
endfunction
//===========================================================================
function InitTrig____________________007 takes nothing returns nothing
    set gg_trg____________________007=CreateTrigger()
    call TriggerAddAction(gg_trg____________________007, function Trig____________________007Actions)
endfunction
//===========================================================================
// Trigger: æœªå‘½åè§¦å‘å™¨ 001
//===========================================================================
function Trig____________________001Actions takes nothing returns nothing
    call SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_FOOD_CAP, 50)
    call SetPlayerStateBJ(Player(1), PLAYER_STATE_RESOURCE_FOOD_CAP, 50)
    call SetPlayerStateBJ(Player(2), PLAYER_STATE_RESOURCE_FOOD_CAP, 50)
    call SetPlayerStateBJ(Player(3), PLAYER_STATE_RESOURCE_FOOD_CAP, 50)
    call SetPlayerStateBJ(Player(4), PLAYER_STATE_RESOURCE_FOOD_CAP, 50)
    call SetPlayerStateBJ(Player(5), PLAYER_STATE_RESOURCE_FOOD_CAP, 50)
    call ShowUnit(gg_unit_n00E_0066, false)
    call ShowUnit(gg_unit_nvl2_0005, false)
    call ShowUnit(gg_unit_n00M_0131, false)
    call ShowUnit(gg_unit_n00N_0132, false)
    call ShowUnit(gg_unit_N00I_0116, true)
    call ShowUnit(gg_unit_N007_0055, true)
    call main1()
    //Function not found: call InitTrig_AM_1_Orig()
endfunction
//===========================================================================
function InitTrig____________________001 takes nothing returns nothing
    set gg_trg____________________001=CreateTrigger()
    call TriggerAddAction(gg_trg____________________001, function Trig____________________001Actions)
endfunction
//===========================================================================
// Trigger: æœªå‘½åè§¦å‘å™¨ 004
//===========================================================================
function Trig____________________004Actions takes nothing returns nothing
    call main2()
    call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 0 , 0 , 300)
    call YDWESetLocalVariableReal("R" , (YDWELogarithm___Log2(((0.01)*1.0)) * 0.3010300)) // INLINED!!
endfunction
//===========================================================================
function InitTrig____________________004 takes nothing returns nothing
    set gg_trg____________________004=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg____________________004, 0.05)
    call TriggerAddAction(gg_trg____________________004, function Trig____________________004Actions)
endfunction
//===========================================================================
// Trigger: æœªå‘½åè§¦å‘å™¨ 005
//===========================================================================
//TESH.scrollpos=0
//TESH.alwaysfold=0
function Trig____________________005Conditions takes nothing returns boolean
    return ( ( YDWEUnitHasItemOfTypeBJNull(GetTriggerUnit() , 'texp') == true ) )
endfunction
function Trig____________________005Actions takes nothing returns nothing
    call YDWENewItemsFormula('I099' , 1 , 'I09A' , 1 , 'I09P' , 1 , 'ches' , 0 , 'ches' , 0 , 'ches' , 0 , 'I09C')
    call SelectHeroSkill(gg_unit_N007_0055, 'AHbz')
endfunction
//===========================================================================
function InitTrig____________________005 takes nothing returns nothing
    //set gg_trg____________________005 = CreateTrigger()
    //call YDWESyStemItemCombineRegistTrigger( gg_trg____________________005 )
    //call TriggerAddCondition(gg_trg____________________005, Condition(function Trig____________________005Conditions))
    //call TriggerAddAction(gg_trg____________________005, function Trig____________________005Actions)
endfunction
//===========================================================================
// Trigger: æœªå‘½åè§¦å‘å™¨ 002
//===========================================================================
//TESH.scrollpos=0
//TESH.alwaysfold=0
function Trig____________________002Actions takes nothing returns nothing
    call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 0 , 0 , 300)
    call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 1 , 0 , 300)
    call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 3 , 0 , 300)
    call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 0 , 300)
    call YDWEJumpTimer(GetTriggerUnit() , 0 , 0.00 , 2 , 0.01 , GetRandomReal(100, 500))
    call YDWEJumpTimer(GetTriggerUnit() , 0 , 0.00 , 2 , 0.01 , GetRandomReal(100, 500))
    call YDWETimerDestroyEffect(15. , AddSpecialEffectLoc("war3mapImported\\kineticfield_fx_stand.mdx", Location(0, 0)))
    call YDWETimerDestroyLightning(2 , GetLastCreatedLightningBJ())
endfunction
//===========================================================================
function InitTrig____________________002 takes nothing returns nothing
    set gg_trg____________________002=CreateTrigger()
    call TriggerAddAction(gg_trg____________________002, function Trig____________________002Actions)
endfunction
//===========================================================================
// Trigger: æœªå‘½åè§¦å‘å™¨ 003
//===========================================================================
function Trig____________________003Actions takes nothing returns nothing
endfunction
//===========================================================================
function InitTrig____________________003 takes nothing returns nothing
    set gg_trg____________________003=CreateTrigger()
    call DisableTrigger(gg_trg____________________003)
    call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________003)
    call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg____________________003 , GetCurrentCameraBoundsMapRectBJ())
    call TriggerAddAction(gg_trg____________________003, function Trig____________________003Actions)
endfunction
//===========================================================================
// Trigger: è¯»å–å­˜æ¡£ç§¯åˆ†
//===========================================================================
function Trig___________________uActions takes nothing returns nothing
    set bj_forLoopBIndex=1
    set bj_forLoopBIndexEnd=6
    loop
        exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
        call YDWE_PreloadSL_Load(ConvertedPlayer(bj_forLoopBIndex) , "JueZhan" , "JiangHu" , 1)
        set udg_MeiJuJiFen[bj_forLoopBIndex]=( udg_MeiJuJiFen[bj_forLoopBIndex] + YDWE_PreloadSL_Get(ConvertedPlayer(bj_forLoopBIndex) , "æ€»ç§¯åˆ†" , 1) )
        set bj_forLoopBIndex=bj_forLoopBIndex + 1
    endloop
endfunction
//===========================================================================
function InitTrig___________________u takes nothing returns nothing
    set gg_trg___________________u=CreateTrigger()
    call DisableTrigger(gg_trg___________________u)
    call TriggerRegisterTimerEventSingle(gg_trg___________________u, 1.00)
    call TriggerAddAction(gg_trg___________________u, function Trig___________________uActions)
endfunction
//===========================================================================
// Trigger: å­˜æ¡£ç§¯åˆ†
//===========================================================================
function Trig_____________uActions takes nothing returns nothing
    set udg_MeiJuJiFen[1]=( udg_MeiJuJiFen[1] + 500 )
    call YDWE_PreloadSL_Set(Player(0) , "æ€»ç§¯åˆ†" , 1 , udg_MeiJuJiFen[1])
    call YDWE_PreloadSL_Save(Player(0) , "JueZhan" , "JiangHu" , 1)
endfunction
//===========================================================================
function InitTrig_____________u takes nothing returns nothing
    set gg_trg_____________u=CreateTrigger()
    call DisableTrigger(gg_trg_____________u)
    call TriggerRegisterPlayerChatEvent(gg_trg_____________u, Player(0), "-Test", true)
    call TriggerAddAction(gg_trg_____________u, function Trig_____________uActions)
endfunction
//===========================================================================
// Trigger: ChangeClothes
//===========================================================================
//TESH.scrollpos=26
//TESH.alwaysfold=0
function Trig_ChangeClothesConditions takes nothing returns boolean
    return ( udg_vip[1 + GetPlayerId(GetTriggerPlayer())] >= 1 ) and ( ( ( GetUnitTypeId(udg_hero[1 + GetPlayerId(GetTriggerPlayer())]) == 'O02H' ) or ( GetUnitTypeId(udg_hero[1 + GetPlayerId(GetTriggerPlayer())]) == 'O023' ) or ( GetUnitTypeId(udg_hero[1 + GetPlayerId(GetTriggerPlayer())]) == 'O02I' ) ) )
endfunction
function Trig_ChangeClothesActions takes nothing returns nothing
    //if udg_HuanZhuangCD[1+GetPlayerId(GetTriggerPlayer())]==false then
        //set udg_HuanZhuangCD[1+GetPlayerId(GetTriggerPlayer())]=true
        //é»‘å˜ç»¿æˆ–ç²‰
        if ( ( GetUnitTypeId(udg_hero[1 + GetPlayerId(GetTriggerPlayer())]) == 'O02H' ) ) then
            if GetRandomInt(1, 2) == 1 then
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A044')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A044')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'Avul')
            else
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A047')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A047')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'Avul')
            endif
            //call BJDebugMsg(GetUnitName(udg_hero[1+GetPlayerId(GetTriggerPlayer())]))
        //ç»¿å˜ç²‰æˆ–é»‘
        elseif ( ( GetUnitTypeId(udg_hero[1 + GetPlayerId(GetTriggerPlayer())]) == 'O02I' ) ) then
            if GetRandomInt(1, 2) == 1 then
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A045')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A045')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'Avul')
            else
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A048')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A048')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'Avul')
            endif
            //call BJDebugMsg(GetUnitName(udg_hero[1+GetPlayerId(GetTriggerPlayer())]))
        //ç²‰å˜é»‘æˆ–ç»¿
        elseif ( ( GetUnitTypeId(udg_hero[1 + GetPlayerId(GetTriggerPlayer())]) == 'O023' ) ) then
            if GetRandomInt(1, 2) == 1 then
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A043')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A043')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'Avul')
            else
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A046')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'A046')
                call UnitRemoveAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], 'Avul')
            endif
            //call BJDebugMsg(GetUnitName(udg_hero[1+GetPlayerId(GetTriggerPlayer())]))
        endif
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=11
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            if ( I7[( GetPlayerId(GetTriggerPlayer()) ) * 20 + bj_forLoopAIndex] != 'AEfk' ) then
                call UnitAddAbility(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], I7[( GetPlayerId(GetTriggerPlayer()) ) * 20 + bj_forLoopAIndex])
                call SetUnitAbilityLevel(udg_hero[1 + GetPlayerId(GetTriggerPlayer())], I7[( GetPlayerId(GetTriggerPlayer()) ) * 20 + bj_forLoopAIndex], LoadInteger(YDHT, GetHandleId(GetTriggerPlayer()), I7[( GetPlayerId(GetTriggerPlayer()) ) * 20 + bj_forLoopAIndex] * 5))
            endif
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        //call YDWEPolledWaitNull(300.)
        //set udg_HuanZhuangCD[1+GetPlayerId(GetTriggerPlayer())]=false
    //else
        //call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "æ¢è£…åŠŸèƒ½CDä¸­")
    //endif
endfunction
//===========================================================================
function InitTrig_ChangeClothes takes nothing returns nothing
    set gg_trg_ChangeClothes=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_ChangeClothes, Player(0), "æ¢è£…", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_ChangeClothes, Player(1), "æ¢è£…", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_ChangeClothes, Player(2), "æ¢è£…", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_ChangeClothes, Player(3), "æ¢è£…", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_ChangeClothes, Player(4), "æ¢è£…", true)
    call TriggerAddCondition(gg_trg_ChangeClothes, Condition(function Trig_ChangeClothesConditions))
    call TriggerAddAction(gg_trg_ChangeClothes, function Trig_ChangeClothesActions)
endfunction
//===========================================================================
// Trigger: QinLongKongHe
//===========================================================================
function Trig_QinLongKongHeConditions takes nothing returns boolean
    return ( ( ( GetSpellAbilityId() == 'A03V' ) and ( GetSpellTargetUnit() != gg_unit_N008_0054 ) ) )
endfunction
function Trig_QinLongKongHeActions takes nothing returns nothing
    if ( ( GetSpellTargetUnit() == GetTriggerUnit() ) ) then
        call YDWETimerPatternRushSlide(GetSpellTargetUnit() , GetUnitFacing(GetTriggerUnit()) , 1200.00 , 1.20 , 0.01 , 0 , false , false , true , "origin" , "Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl" , "Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")
    else
        if ( ( YDWEDistanceBetweenUnits(GetTriggerUnit() , GetSpellTargetUnit()) >= 1000.00 ) ) then
            call YDWETimerPatternRushSlide(GetSpellTargetUnit() , YDWEAngleBetweenUnits(GetSpellTargetUnit() , GetTriggerUnit()) , RMinBJ(1200.00, YDWEDistanceBetweenUnits(GetTriggerUnit() , GetLastCreatedUnit())) , RMinBJ(1.20, ( YDWEDistanceBetweenUnits(GetTriggerUnit() , GetSpellTargetUnit()) / 1000.00 )) , 0.01 , 0 , false , false , true , "origin" , "Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl" , "Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")
        else
            call YDWETimerPatternRushSlide(GetSpellTargetUnit() , YDWEAngleBetweenUnits(GetTriggerUnit() , GetSpellTargetUnit()) , 1200.00 , 1.20 , 0.01 , 0 , false , false , true , "origin" , "Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl" , "Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")
        endif
    endif
    if ( ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A06L') != 0 ) and ( IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) ) ) then
        call SetUnitLifePercentBJ(GetSpellTargetUnit(), 100)
    else
    endif
    if ( ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A0CE') != 0 ) and ( IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false ) ) ) then
        call WanBuff(GetTriggerUnit() , GetSpellTargetUnit() , 11)
    else
    endif
endfunction
//===========================================================================
function InitTrig_QinLongKongHe takes nothing returns nothing
    set gg_trg_QinLongKongHe=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_QinLongKongHe, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_QinLongKongHe, Condition(function Trig_QinLongKongHeConditions))
    call TriggerAddAction(gg_trg_QinLongKongHe, function Trig_QinLongKongHeActions)
endfunction
//===========================================================================
// Trigger: YaoWangShenPian
//===========================================================================
//TESH.scrollpos=2
//TESH.alwaysfold=0
function Trig_YaoWangShenPianConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A03W' ) )
endfunction
function Trig_YaoWangShenPianFunc003001003 takes nothing returns boolean
    return ( ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true ) )
endfunction
function Trig_YaoWangShenPianFunc003Func006T takes nothing returns nothing
    local unit u= LoadUnitHandle(YDHT, GetHandleId(GetExpiredTimer()), 0)
    if ( ( ( GetUnitLifePercent(u) > 1.00 ) and ( UnitHasBuffBJ(u, 'BUsl') == true ) ) ) then
        call SetUnitLifePercentBJ(u, ( GetUnitLifePercent(u) - 0.5 ))
    else
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction
function Trig_YaoWangShenPianFunc003A takes nothing returns nothing
    local timer ydl_timer
    call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetEnumUnit()), bj_UNIT_FACING)
    call UnitAddAbility(GetLastCreatedUnit(), 'A03X')
    call ShowUnitHide(GetLastCreatedUnit())
    call UnitApplyTimedLife(GetLastCreatedUnit(), 'BHwe', 3.00)
    call IssueTargetOrderById(GetLastCreatedUnit(), 852227, GetEnumUnit())
    set ydl_timer=CreateTimer()
    call SaveUnitHandle(YDHT, GetHandleId(ydl_timer), 0, GetEnumUnit())
    call TimerStart(ydl_timer, 1.00, true, function Trig_YaoWangShenPianFunc003Func006T)
    set ydl_timer=null
endfunction
function Trig_YaoWangShenPianActions takes nothing returns nothing
    local real range= 900
    if ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A07A') != 0 ) ) then
        set range=1300
    endif
    call ForGroupBJ(YDWEGetUnitsInRangeOfLocMatchingNull(range , GetUnitLoc(GetTriggerUnit()) , Condition(function Trig_YaoWangShenPianFunc003001003)), function Trig_YaoWangShenPianFunc003A)
    
endfunction
//===========================================================================
function InitTrig_YaoWangShenPian takes nothing returns nothing
    set gg_trg_YaoWangShenPian=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_YaoWangShenPian, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_YaoWangShenPian, Condition(function Trig_YaoWangShenPianConditions))
    call TriggerAddAction(gg_trg_YaoWangShenPian, function Trig_YaoWangShenPianActions)
endfunction
//===========================================================================
// Trigger: KuRongShenGong
//===========================================================================
function Trig_KuRongShenGongConditions takes nothing returns boolean
    return ( ( GetSpellAbilityId() == 'A03Z' ) )
endfunction
function Trig_KuRongShenGongActions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
 set ydl_localvar_step=ydl_localvar_step + 3
 call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
 call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SetUnitLifePercentBJ(GetTriggerUnit(), ( GetUnitLifePercent(GetTriggerUnit()) / 2.00 ))
    call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 150 + 150 * xiuxing[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
    if ( ( GetUnitAbilityLevel(GetKillingUnitBJ(), 'A07P') != 0 ) ) then
        call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, 500 + 500 * xiuxing[1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
    else
    endif
    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call YDWEPolledWaitNull(15.00)
    call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820))
    call FlushChildHashtable(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_KuRongShenGong takes nothing returns nothing
    set gg_trg_KuRongShenGong=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_KuRongShenGong, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_KuRongShenGong, Condition(function Trig_KuRongShenGongConditions))
    call TriggerAddAction(gg_trg_KuRongShenGong, function Trig_KuRongShenGongActions)
endfunction
//===========================================================================
// Trigger: KuRongShenGong_2
//===========================================================================
function Trig_KuRongShenGong_2Conditions takes nothing returns boolean
    return ( ( GetUnitAbilityLevel(GetKillingUnitBJ(), 'A03Z') != 0 ) )
endfunction
function Trig_KuRongShenGong_2Actions takes nothing returns nothing
    local integer ydl_localvar_step= LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76)
 set ydl_localvar_step=ydl_localvar_step + 3
 call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xCFDE6C76, ydl_localvar_step)
 call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()), 0xECE825E7, ydl_localvar_step)
    call SaveInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820, GetConvertedPlayerId(GetTriggerPlayer()))
    set udg_kurongsharen[LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)]=( udg_kurongsharen[LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)] + 1 )
    if ( ( udg_kurongsharen[LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)] >= 300 ) ) then
        set udg_kurongsharen[LoadInteger(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step, 0x25DAB820)]=0
        if ( ( GetUnitState(GetKillingUnitBJ(), UNIT_STATE_LIFE) > 2000.00 ) ) then
            call YDWEGeneralBounsSystemUnitSetBonus(GetTriggerUnit() , 2 , 1 , 10)
            call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnitBJ(), bj_MODIFYMETHOD_ADD, 20)
            call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnitBJ(), bj_MODIFYMETHOD_ADD, 30)
            call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnitBJ(), bj_MODIFYMETHOD_ADD, 10)
            if ( ( GetUnitAbilityLevel(GetKillingUnitBJ(), 'A07W') != 0 ) ) then
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnitBJ(), bj_MODIFYMETHOD_ADD, 30)
            else
            endif
        else
        endif
    else
    endif
    call FlushChildHashtable(YDLOC, GetHandleId(GetTriggeringTrigger()) * ydl_localvar_step)
endfunction
//===========================================================================
function InitTrig_KuRongShenGong_2 takes nothing returns nothing
    set gg_trg_KuRongShenGong_2=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_KuRongShenGong_2, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_KuRongShenGong_2, Condition(function Trig_KuRongShenGong_2Conditions))
    call TriggerAddAction(gg_trg_KuRongShenGong_2, function Trig_KuRongShenGong_2Actions)
endfunction
//===========================================================================
// Trigger: KuRongShenGong_3
//===========================================================================
function Trig_KuRongShenGong_3Conditions takes nothing returns boolean
    return ( ( ( GetUnitAbilityLevel(GetAttacker(), 'A03Z') != 0 ) and ( GetUnitAbilityLevel(GetAttacker(), 'A084') != 0 ) and ( GetRandomReal(0.00, 100.00) <= 15.00 ) ) )
endfunction
function Trig_KuRongShenGong_3Actions takes nothing returns nothing
    call SetUnitLifePercentBJ(GetTriggerUnit(), ( GetUnitLifePercent(GetTriggerUnit()) * 0.90 ))
endfunction
//===========================================================================
function InitTrig_KuRongShenGong_3 takes nothing returns nothing
    set gg_trg_KuRongShenGong_3=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_KuRongShenGong_3, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(gg_trg_KuRongShenGong_3, Condition(function Trig_KuRongShenGong_3Conditions))
    call TriggerAddAction(gg_trg_KuRongShenGong_3, function Trig_KuRongShenGong_3Actions)
endfunction
//===========================================================================
// Trigger: ShuiShangPiao
//===========================================================================
function Trig_ShuiShangPiaoActions takes nothing returns nothing
endfunction
//===========================================================================
function InitTrig_ShuiShangPiao takes nothing returns nothing
    set gg_trg_ShuiShangPiao=CreateTrigger()
    call TriggerAddAction(gg_trg_ShuiShangPiao, function Trig_ShuiShangPiaoActions)
endfunction
//===========================================================================
// Trigger: SH
//===========================================================================
function Trig_SHConditions takes nothing returns boolean
    return ( ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("stoneform") ) or ( GetIssuedOrderIdBJ() == String2OrderIdBJ("hex") ) ) )
endfunction
function Trig_SHActions takes nothing returns nothing
    if ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("stoneform") ) ) then
        call IssueImmediateOrder(GetTriggerUnit(), "stop")
    else
    endif
    if ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("hex") ) ) then
        call IssueImmediateOrder(GetTriggerUnit(), "holdposition")
    else
    endif
endfunction
//===========================================================================
function InitTrig_SH takes nothing returns nothing
    set gg_trg_SH=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_SH, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(gg_trg_SH, Condition(function Trig_SHConditions))
    call TriggerAddAction(gg_trg_SH, function Trig_SHActions)
endfunction
//===========================================================================
// Trigger: AM_1
//===========================================================================
function Trig_AM_1Conditions takes nothing returns boolean
    return ( ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("autoharvestgold") ) or ( GetIssuedOrderIdBJ() == String2OrderIdBJ("mount") ) ) )
endfunction
function Trig_AM_1Actions takes nothing returns nothing
    if ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("mount") ) ) then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851986, GetOrderPointLoc())
    else
    endif
    if ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("autoharvestgold") ) ) then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, GetOrderPointLoc())
    else
    endif
endfunction
//===========================================================================
function InitTrig_AM_1 takes nothing returns nothing
    set gg_trg_AM_1=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_AM_1, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(gg_trg_AM_1, Condition(function Trig_AM_1Conditions))
    call TriggerAddAction(gg_trg_AM_1, function Trig_AM_1Actions)
endfunction
//===========================================================================
// Trigger: AM_2
//===========================================================================
function Trig_AM_2Conditions takes nothing returns boolean
    return ( ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("autoharvestgold") ) or ( GetIssuedOrderIdBJ() == String2OrderIdBJ("mount") ) ) )
endfunction
function Trig_AM_2Actions takes nothing returns nothing
    if ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("mount") ) ) then
        call IssueTargetOrderById(GetTriggerUnit(), 851986, GetOrderTargetUnit())
    else
    endif
    if ( ( GetIssuedOrderIdBJ() == String2OrderIdBJ("autoharvestgold") ) ) then
        call IssueTargetOrderById(GetTriggerUnit(), 851983, GetOrderTargetUnit())
    else
    endif
endfunction
//===========================================================================
function InitTrig_AM_2 takes nothing returns nothing
    set gg_trg_AM_2=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_AM_2, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call TriggerAddCondition(gg_trg_AM_2, Condition(function Trig_AM_2Conditions))
    call TriggerAddAction(gg_trg_AM_2, function Trig_AM_2Actions)
endfunction
//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_japi______u()
    call InitTrig_firstOccur()
    call InitTrig____________________007()
    call InitTrig____________________001()
    call InitTrig____________________004()
    call InitTrig____________________005()
    call InitTrig____________________002()
    call InitTrig____________________003()
    call InitTrig___________________u()
    call InitTrig_____________u()
    call InitTrig_ChangeClothes()
    call InitTrig_QinLongKongHe()
    call InitTrig_YaoWangShenPian()
    call InitTrig_KuRongShenGong()
    call InitTrig_KuRongShenGong_2()
    call InitTrig_KuRongShenGong_3()
    call InitTrig_ShuiShangPiao()
    call InitTrig_SH()
    call InitTrig_AM_1()
    call InitTrig_AM_2()
endfunction
//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg____________________001)
endfunction
//***************************************************************************
//*
//*  Players
//*
//***************************************************************************
function InitCustomPlayerSlots takes nothing returns nothing
    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call ForcePlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_USER)
    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call ForcePlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_USER)
    // Player 2
    call SetPlayerStartLocation(Player(2), 2)
    call ForcePlayerStartLocation(Player(2), 2)
    call SetPlayerColor(Player(2), ConvertPlayerColor(2))
    call SetPlayerRacePreference(Player(2), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(2), false)
    call SetPlayerController(Player(2), MAP_CONTROL_USER)
    // Player 3
    call SetPlayerStartLocation(Player(3), 3)
    call ForcePlayerStartLocation(Player(3), 3)
    call SetPlayerColor(Player(3), ConvertPlayerColor(3))
    call SetPlayerRacePreference(Player(3), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(3), false)
    call SetPlayerController(Player(3), MAP_CONTROL_USER)
    // Player 4
    call SetPlayerStartLocation(Player(4), 4)
    call ForcePlayerStartLocation(Player(4), 4)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_USER)
    // Player 5
    call SetPlayerStartLocation(Player(5), 5)
    call ForcePlayerStartLocation(Player(5), 5)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_ORC)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_COMPUTER)
    // Player 6
    call SetPlayerStartLocation(Player(6), 6)
    call ForcePlayerStartLocation(Player(6), 6)
    call SetPlayerColor(Player(6), ConvertPlayerColor(6))
    call SetPlayerRacePreference(Player(6), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(6), false)
    call SetPlayerController(Player(6), MAP_CONTROL_COMPUTER)
    // Player 7
    call SetPlayerStartLocation(Player(7), 7)
    call ForcePlayerStartLocation(Player(7), 7)
    call SetPlayerColor(Player(7), ConvertPlayerColor(7))
    call SetPlayerRacePreference(Player(7), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(7), false)
    call SetPlayerController(Player(7), MAP_CONTROL_COMPUTER)
    // Player 8
    call SetPlayerStartLocation(Player(8), 8)
    call ForcePlayerStartLocation(Player(8), 8)
    call SetPlayerColor(Player(8), ConvertPlayerColor(8))
    call SetPlayerRacePreference(Player(8), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(8), false)
    call SetPlayerController(Player(8), MAP_CONTROL_COMPUTER)
endfunction
function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_010
    call SetPlayerTeam(Player(0), 0)
    call SetPlayerState(Player(0), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerState(Player(1), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(2), 0)
    call SetPlayerState(Player(2), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(3), 0)
    call SetPlayerState(Player(3), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(4), 0)
    call SetPlayerState(Player(4), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(5), 0)
    call SetPlayerState(Player(5), PLAYER_STATE_ALLIED_VICTORY, 1)
    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
    // Force: TRIGSTR_011
    call SetPlayerTeam(Player(6), 1)
    call SetPlayerState(Player(6), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(7), 1)
    call SetPlayerState(Player(7), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(8), 1)
    call SetPlayerState(Player(8), PLAYER_STATE_ALLIED_VICTORY, 1)
    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(7), true)
    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(7), true)
endfunction
function InitAllyPriorities takes nothing returns nothing
    call SetStartLocPrioCount(0, 4)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(1, 4)
    call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(2, 4)
    call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(3, 4)
    call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(4, 4)
    call SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
endfunction
//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************
//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds(- 15616.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 15872.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 15616.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 15360.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 15616.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 15360.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 15616.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 15872.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
    call NewSoundEnvironment("Default")
    call SetAmbientDaySound("VillageDay")
    call SetAmbientNightSound("VillageNight")
    call SetMapMusic("Music", true, 0)
    call CreateAllUnits()
    call InitBlizzard()

call ExecuteFunc("jasshelper__initstructs9116406")
call ExecuteFunc("FrameLibrary__init")
call ExecuteFunc("UniMissileSystem3D__Init")
call ExecuteFunc("YDTriggerSaveLoadSystem__Init")
call ExecuteFunc("InitializeYD")
call ExecuteFunc("YDWEBitwise__onInit")
call ExecuteFunc("YDWEGeneralBounsSystem___Initialize")
call ExecuteFunc("YDWELogarithm___onInit")
call ExecuteFunc("YDWESync___onInit")
call ExecuteFunc("YDWEPreloadSL___Init")
call ExecuteFunc("YDWEStringFormula___Init")
call ExecuteFunc("YDWETimerPattern___Init")
call ExecuteFunc("YDWETimerSystem___Init")
call ExecuteFunc("init")

    call InitGlobals()
    call InitCustomTriggers()
    call ConditionalTriggerExecute(gg_trg____________________001) // INLINED!!
endfunction
//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************
function config takes nothing returns nothing
    call SetMapName("å†³æˆ˜æ±Ÿæ¹–1.6.36æ­£å¼ç‰ˆ")
    call SetMapDescription("|cFFFF00FFå½“ä½ æ‰“å¼€è¿™ä¸ªæ¸¸æˆçš„æ—¶å€™ï¼Œä½ çš„æ±Ÿæ¹–å·²ç»å¼€å§‹äº†.....|r")
    call SetPlayers(9)
    call SetTeams(9)
    call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
    call DefineStartLocation(0, 1728.0, - 4160.0)
    call DefineStartLocation(1, 1728.0, - 4160.0)
    call DefineStartLocation(2, 1728.0, - 4160.0)
    call DefineStartLocation(3, 1728.0, - 4160.0)
    call DefineStartLocation(4, 1728.0, - 4160.0)
    call DefineStartLocation(5, - 3328.0, - 15616.0)
    call DefineStartLocation(6, 1728.0, - 4160.0)
    call DefineStartLocation(7, 1728.0, - 4160.0)
    call DefineStartLocation(8, 1728.0, - 4160.0)
    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
    call InitAllyPriorities()
endfunction
//===========================================================================
//ÌøÔ¾ÏµÍ³ 
//===========================================================================
     
 
                 
//===========================================================================
//ÏµÍ³-TimerSystem
//===========================================================================
//===========================================================================  
//===========================================================================  
//×Ô¶¨ÒåÊÂ¼ş 
//===========================================================================
//===========================================================================   
//===========================================================================
//ä¿®æ”¹ç”Ÿå‘½
//===========================================================================




//Struct method generated initializers/callers:
function sa__Frame_onDestroy takes nothing returns boolean
local integer this=f__arg_this
            if s__Frame_id[this] != 0 then
                call DzDestroyFrame(s__Frame_id[this])
            endif
            set s__Frame_id[this]=0
   return true
endfunction
function sa__ShopWeapon_onDestroy takes nothing returns boolean
local integer this=f__arg_this
		set s__ShopWeapon_min_xiuxing[this]=0
		set s__ShopWeapon_id[this]=0
   return true
endfunction
function sa__ShopWeapon_PickUpWeapon takes nothing returns boolean
    call s__ShopWeapon_PickUpWeapon(f__arg_this,f__arg_unit1,f__arg_item1)
   return true
endfunction
function sa__ZiZhiWuGong_create takes nothing returns boolean
local integer xishu=f__arg_integer1
local integer range=f__arg_integer2
local integer texiao=f__arg_integer3
local integer dapeishu=f__arg_integer4
local integer scrate=f__arg_integer5
  local integer zz
		set zz=s__ZiZhiWuGong__allocate()
		set s__ZiZhiWuGong_xishu[zz]=xishu
		set s__ZiZhiWuGong_range[zz]=range
		set s__ZiZhiWuGong_texiao[zz]=texiao
		set s__ZiZhiWuGong_dapeishu[zz]=dapeishu
		set s__ZiZhiWuGong_scrate[zz]=scrate
set f__result_integer= zz
   return true
endfunction
function sa__ZiZhiWuGong_onDestroy takes nothing returns boolean
local integer this=f__arg_this
		set s__ZiZhiWuGong_xishu[this]=0
		set s__ZiZhiWuGong_range[this]=0
		set s__ZiZhiWuGong_texiao[this]=0
		set s__ZiZhiWuGong_dapeishu[this]=0
		set s__ZiZhiWuGong_scrate[this]=0
   return true
endfunction
function sa__DaPei_onDestroy takes nothing returns boolean
local integer this=f__arg_this
		set s__DaPei_wugongid[this]=0
		set s__DaPei_dapeixiaoguo[this]=0
		set s__DaPei_shxishu[this]=0
   return true
endfunction
function sa__DaPei_XiaoGuoShuoMing takes nothing returns boolean
local integer this=f__arg_this
  local string s= ""
		set s=s + "+" + GetAbilityName(s__DaPei_wugongid[this]) + "ï¼š"
		if s__DaPei_dapeixiaoguo[this] != 2 then
			set s=s + "ä¼¤å®³+" + I2S(R2I(s__DaPei_r[this] * 100)) + "%"
		else
			if R2I(s__DaPei_r[this]) == 1 then
				set s=s + "å‡ ç‡é€ æˆå†…ä¼¤"
			elseif R2I(s__DaPei_r[this]) == 2 then
				set s=s + "å‡ ç‡é€ æˆèµ°ç«å…¥é­”"
			elseif R2I(s__DaPei_r[this]) == 3 then
				set s=s + "å‡ ç‡é€ æˆæµè¡€"
			elseif R2I(s__DaPei_r[this]) == 4 then
				set s=s + "å‡ ç‡é€ æˆæ··ä¹±"
			elseif R2I(s__DaPei_r[this]) == 5 then
				set s=s + "å‡ ç‡é€ æˆæ˜è¿·"
			elseif R2I(s__DaPei_r[this]) == 6 then
				set s=s + "å‡ ç‡é€ æˆé‡ä¼¤"
			elseif R2I(s__DaPei_r[this]) == 7 then
				set s=s + "å‡ ç‡é€ æˆè¡€æµä¸æ­¢"
			elseif R2I(s__DaPei_r[this]) == 8 then
				set s=s + "å‡ ç‡é€ æˆéº»ç—¹"
			elseif R2I(s__DaPei_r[this]) == 9 then
				set s=s + "å‡ ç‡é€ æˆç ´é˜²"
			elseif R2I(s__DaPei_r[this]) == 10 then
				set s=s + "å‡ ç‡é€ æˆç¥ç»é”™ä¹±"
			elseif R2I(s__DaPei_r[this]) == 11 then
				set s=s + "å‡ ç‡é€ æˆå°ç©´"
			elseif R2I(s__DaPei_r[this]) == 12 then
				set s=s + "å‡ ç‡é€ æˆç©´ä½å…¨å°"
			elseif R2I(s__DaPei_r[this]) == 13 then
				set s=s + "å‡ ç‡é€ æˆä¸­æ¯’"
			endif
		endif
set f__result_string= s
   return true
endfunction
function sa__YDWEStringFormula___Inventory_onDestroy takes nothing returns boolean
local integer this=f__arg_this
            call FlushChildHashtable(YDHT, StringHash(("YDWEStringFormula." + I2S(this)))) // INLINED!!
   return true
endfunction
function sa__YDWETimerPattern___Thread_onDestroy takes nothing returns boolean
local integer this=f__arg_this
            call RemoveSavedInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_obj[this])))))))) // INLINED!!
            call RemoveSavedInteger(YDHT, StringHash(("YDWETimerPattern." )), StringHash(( I2S((GetHandleId(((s__YDWETimerPattern___Thread_t[this])))))))) // INLINED!!
            call GroupClear(s__YDWETimerPattern___Thread_g[this])
            call DestroyGroup(s__YDWETimerPattern___Thread_g[this])
            call PauseTimer(s__YDWETimerPattern___Thread_t[this])
            call DestroyTimer(s__YDWETimerPattern___Thread_t[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_des[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_pos[this])
            call s__YDWETimerPattern___YDVector3_deallocate(s__YDWETimerPattern___Thread_vel[this])
            set s__YDWETimerPattern___Thread_caster[this]=null
            set s__YDWETimerPattern___Thread_target[this]=null
            set s__YDWETimerPattern___Thread_obj[this]=null
            set s__YDWETimerPattern___Thread_g[this]=null
            set s__YDWETimerPattern___Thread_t[this]=null
            set s__YDWETimerPattern___Thread_amount[this]=0
            set s__YDWETimerPattern___Thread_skills[this]=0
            set s__YDWETimerPattern___Thread_order[this]=0
            set s__YDWETimerPattern___Thread_dsfx[this]=""
            set s__YDWETimerPattern___Thread_gsfx[this]=""
            set s__YDWETimerPattern___Thread_wsfx[this]=""
            set s__YDWETimerPattern___Thread_part[this]=""
   return true
endfunction
function sa__YDWEStringFormula___Sorting_onDestroy takes nothing returns boolean
local integer this=f__arg_this
            local integer i= 0
            loop
                exitwhen i == s___YDWEStringFormula___Sorting_stack_size
                set s___YDWEStringFormula___Sorting_stack[s__YDWEStringFormula___Sorting_stack[this]+i]=0
                set s___YDWEStringFormula___Sorting_count[s__YDWEStringFormula___Sorting_count[this]+i]=0
                set i=i + 1
            endloop
            set s__YDWEStringFormula___Sorting_char[this]=""
   return true
endfunction
function sa___prototype4_SetUnitMoveSpeedEx takes nothing returns boolean
    call s__ModSpeed_setSpeed((f__arg_unit1) , ((f__arg_real1)*1.0)) // INLINED!!
    return true
endfunction

function jasshelper__initstructs9116406 takes nothing returns nothing
    set st__Frame_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__Frame_onDestroy,Condition( function sa__Frame_onDestroy))
    set st__ShopWeapon_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__ShopWeapon_onDestroy,Condition( function sa__ShopWeapon_onDestroy))
    set st__ShopWeapon_PickUpWeapon=CreateTrigger()
    call TriggerAddCondition(st__ShopWeapon_PickUpWeapon,Condition( function sa__ShopWeapon_PickUpWeapon))
    set st__ZiZhiWuGong_create=CreateTrigger()
    call TriggerAddCondition(st__ZiZhiWuGong_create,Condition( function sa__ZiZhiWuGong_create))
    set st__ZiZhiWuGong_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__ZiZhiWuGong_onDestroy,Condition( function sa__ZiZhiWuGong_onDestroy))
    set st__DaPei_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__DaPei_onDestroy,Condition( function sa__DaPei_onDestroy))
    set st__DaPei_XiaoGuoShuoMing=CreateTrigger()
    call TriggerAddCondition(st__DaPei_XiaoGuoShuoMing,Condition( function sa__DaPei_XiaoGuoShuoMing))
    set st__YDWEStringFormula___Inventory_onDestroy[3]=CreateTrigger()
    set st__YDWEStringFormula___Inventory_onDestroy[4]=st__YDWEStringFormula___Inventory_onDestroy[3]
    call TriggerAddCondition(st__YDWEStringFormula___Inventory_onDestroy[3],Condition( function sa__YDWEStringFormula___Inventory_onDestroy))
    set st__YDWETimerPattern___Thread_onDestroy[11]=CreateTrigger()
    set st__YDWETimerPattern___Thread_onDestroy[12]=st__YDWETimerPattern___Thread_onDestroy[11]
    set st__YDWETimerPattern___Thread_onDestroy[13]=st__YDWETimerPattern___Thread_onDestroy[11]
    set st__YDWETimerPattern___Thread_onDestroy[14]=st__YDWETimerPattern___Thread_onDestroy[11]
    call TriggerAddCondition(st__YDWETimerPattern___Thread_onDestroy[11],Condition( function sa__YDWETimerPattern___Thread_onDestroy))
    set st__YDWEStringFormula___Sorting_onDestroy=CreateTrigger()
    call TriggerAddCondition(st__YDWEStringFormula___Sorting_onDestroy,Condition( function sa__YDWEStringFormula___Sorting_onDestroy))
    set st___prototype4[1]=CreateTrigger()
    call TriggerAddAction(st___prototype4[1],function sa___prototype4_SetUnitMoveSpeedEx)
    call TriggerAddCondition(st___prototype4[1],Condition(function sa___prototype4_SetUnitMoveSpeedEx))


call ExecuteFunc("s__ModSpeed_Init___onInit")
















    call ExecuteFunc("s__YDWEStringFormula___ItemIdMatrix_onInit")
    call ExecuteFunc("s__YDWEStringFormula___FormulaMatrix_onInit")
endfunction

